(()=>{var e={33:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZodMiniFile=t.ZodMiniLiteral=t.ZodMiniEnum=t.ZodMiniSet=t.ZodMiniMap=t.ZodMiniRecord=t.ZodMiniTuple=t.ZodMiniIntersection=t.ZodMiniDiscriminatedUnion=t.ZodMiniXor=t.ZodMiniUnion=t.ZodMiniObject=t.ZodMiniArray=t.ZodMiniDate=t.ZodMiniVoid=t.ZodMiniNever=t.ZodMiniUnknown=t.ZodMiniAny=t.ZodMiniNull=t.ZodMiniUndefined=t.ZodMiniSymbol=t.ZodMiniBigIntFormat=t.ZodMiniBigInt=t.ZodMiniBoolean=t.ZodMiniNumberFormat=t.ZodMiniNumber=t.ZodMiniCustomStringFormat=t.ZodMiniJWT=t.ZodMiniE164=t.ZodMiniBase64URL=t.ZodMiniBase64=t.ZodMiniMAC=t.ZodMiniCIDRv6=t.ZodMiniCIDRv4=t.ZodMiniIPv6=t.ZodMiniIPv4=t.ZodMiniKSUID=t.ZodMiniXID=t.ZodMiniULID=t.ZodMiniCUID2=t.ZodMiniCUID=t.ZodMiniNanoID=t.ZodMiniEmoji=t.ZodMiniURL=t.ZodMiniUUID=t.ZodMiniGUID=t.ZodMiniEmail=t.ZodMiniStringFormat=t.ZodMiniString=t.ZodMiniType=void 0,t.ZodMiniFunction=t.stringbool=t.meta=t.describe=t.ZodMiniCustom=t.ZodMiniPromise=t.ZodMiniLazy=t.ZodMiniTemplateLiteral=t.ZodMiniReadonly=t.ZodMiniCodec=t.ZodMiniPipe=t.ZodMiniNaN=t.ZodMiniCatch=t.ZodMiniSuccess=t.ZodMiniNonOptional=t.ZodMiniPrefault=t.ZodMiniDefault=t.ZodMiniNullable=t.ZodMiniOptional=t.ZodMiniTransform=void 0,t.string=l,t.email=function(e){return a._email(t.ZodMiniEmail,e)},t.guid=function(e){return a._guid(t.ZodMiniGUID,e)},t.uuid=function(e){return a._uuid(t.ZodMiniUUID,e)},t.uuidv4=function(e){return a._uuidv4(t.ZodMiniUUID,e)},t.uuidv6=function(e){return a._uuidv6(t.ZodMiniUUID,e)},t.uuidv7=function(e){return a._uuidv7(t.ZodMiniUUID,e)},t.url=function(e){return a._url(t.ZodMiniURL,e)},t.httpUrl=function(e){return a._url(t.ZodMiniURL,{protocol:/^https?$/,hostname:a.regexes.domain,...o.util.normalizeParams(e)})},t.emoji=function(e){return a._emoji(t.ZodMiniEmoji,e)},t.nanoid=function(e){return a._nanoid(t.ZodMiniNanoID,e)},t.cuid=function(e){return a._cuid(t.ZodMiniCUID,e)},t.cuid2=function(e){return a._cuid2(t.ZodMiniCUID2,e)},t.ulid=function(e){return a._ulid(t.ZodMiniULID,e)},t.xid=function(e){return a._xid(t.ZodMiniXID,e)},t.ksuid=function(e){return a._ksuid(t.ZodMiniKSUID,e)},t.ipv4=function(e){return a._ipv4(t.ZodMiniIPv4,e)},t.ipv6=function(e){return a._ipv6(t.ZodMiniIPv6,e)},t.cidrv4=function(e){return a._cidrv4(t.ZodMiniCIDRv4,e)},t.cidrv6=function(e){return a._cidrv6(t.ZodMiniCIDRv6,e)},t.mac=function(e){return a._mac(t.ZodMiniMAC,e)},t.base64=function(e){return a._base64(t.ZodMiniBase64,e)},t.base64url=function(e){return a._base64url(t.ZodMiniBase64URL,e)},t.e164=function(e){return a._e164(t.ZodMiniE164,e)},t.jwt=function(e){return a._jwt(t.ZodMiniJWT,e)},t.stringFormat=function(e,n,r={}){return a._stringFormat(t.ZodMiniCustomStringFormat,e,n,r)},t.hostname=function(e){return a._stringFormat(t.ZodMiniCustomStringFormat,"hostname",a.regexes.hostname,e)},t.hex=function(e){return a._stringFormat(t.ZodMiniCustomStringFormat,"hex",a.regexes.hex,e)},t.hash=function(e,n){const r=`${e}_${n?.enc??"hex"}`,i=a.regexes[r];if(!i)throw new Error(`Unrecognized hash format: ${r}`);return a._stringFormat(t.ZodMiniCustomStringFormat,r,i,n)},t.number=u,t.int=function(e){return a._int(t.ZodMiniNumberFormat,e)},t.float32=function(e){return a._float32(t.ZodMiniNumberFormat,e)},t.float64=function(e){return a._float64(t.ZodMiniNumberFormat,e)},t.int32=function(e){return a._int32(t.ZodMiniNumberFormat,e)},t.uint32=function(e){return a._uint32(t.ZodMiniNumberFormat,e)},t.boolean=d,t.bigint=function(e){return a._bigint(t.ZodMiniBigInt,e)},t.int64=function(e){return a._int64(t.ZodMiniBigIntFormat,e)},t.uint64=function(e){return a._uint64(t.ZodMiniBigIntFormat,e)},t.symbol=function(e){return a._symbol(t.ZodMiniSymbol,e)},t.undefined=function(e){return a._undefined(t.ZodMiniUndefined,e)},t.null=p,t.any=function(){return a._any(t.ZodMiniAny)},t.unknown=h,t.never=f,t.void=function(e){return a._void(t.ZodMiniVoid,e)},t.date=function(e){return a._date(t.ZodMiniDate,e)},t.array=m,t.keyof=function(e){const t=e._zod.def.shape;return b(Object.keys(t))},t.object=function(e,n){const r={type:"object",shape:e??{},...o.util.normalizeParams(n)};return new t.ZodMiniObject(r)},t.strictObject=function(e,n){return new t.ZodMiniObject({type:"object",shape:e,catchall:f(),...o.util.normalizeParams(n)})},t.looseObject=function(e,n){return new t.ZodMiniObject({type:"object",shape:e,catchall:h(),...o.util.normalizeParams(n)})},t.extend=function(e,t){return o.util.extend(e,t)},t.safeExtend=function(e,t){return o.util.safeExtend(e,t)},t.merge=function(e,t){return o.util.extend(e,t)},t.pick=function(e,t){return o.util.pick(e,t)},t.omit=function(e,t){return o.util.omit(e,t)},t.partial=function(e,n){return o.util.partial(t.ZodMiniOptional,e,n)},t.required=function(e,n){return o.util.required(t.ZodMiniNonOptional,e,n)},t.catchall=function(e,t){return e.clone({...e._zod.def,catchall:t})},t.union=y,t.xor=function(e,n){return new t.ZodMiniXor({type:"union",options:e,inclusive:!1,...o.util.normalizeParams(n)})},t.discriminatedUnion=function(e,n,r){return new t.ZodMiniDiscriminatedUnion({type:"union",options:n,discriminator:e,...o.util.normalizeParams(r)})},t.intersection=function(e,n){return new t.ZodMiniIntersection({type:"intersection",left:e,right:n})},t.tuple=g,t.record=v,t.partialRecord=function(e,n,r){const i=a.clone(e);return i._zod.values=void 0,new t.ZodMiniRecord({type:"record",keyType:i,valueType:n,...o.util.normalizeParams(r)})},t.looseRecord=function(e,n,r){return new t.ZodMiniRecord({type:"record",keyType:e,valueType:n,mode:"loose",...o.util.normalizeParams(r)})},t.map=function(e,n,r){return new t.ZodMiniMap({type:"map",keyType:e,valueType:n,...o.util.normalizeParams(r)})},t.set=function(e,n){return new t.ZodMiniSet({type:"set",valueType:e,...o.util.normalizeParams(n)})},t.enum=b,t.nativeEnum=function(e,n){return new t.ZodMiniEnum({type:"enum",entries:e,...o.util.normalizeParams(n)})},t.literal=function(e,n){return new t.ZodMiniLiteral({type:"literal",values:Array.isArray(e)?e:[e],...o.util.normalizeParams(n)})},t.file=function(e){return a._file(t.ZodMiniFile,e)},t.transform=function(e){return new t.ZodMiniTransform({type:"transform",transform:e})},t.optional=S,t.nullable=T,t.nullish=function(e){return S(T(e))},t._default=function(e,n){return new t.ZodMiniDefault({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():o.util.shallowClone(n)}})},t.prefault=function(e,n){return new t.ZodMiniPrefault({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():o.util.shallowClone(n)}})},t.nonoptional=function(e,n){return new t.ZodMiniNonOptional({type:"nonoptional",innerType:e,...o.util.normalizeParams(n)})},t.success=function(e){return new t.ZodMiniSuccess({type:"success",innerType:e})},t.catch=function(e,n){return new t.ZodMiniCatch({type:"catch",innerType:e,catchValue:"function"==typeof n?n:()=>n})},t.nan=function(e){return a._nan(t.ZodMiniNaN,e)},t.pipe=function(e,n){return new t.ZodMiniPipe({type:"pipe",in:e,out:n})},t.codec=function(e,n,r){return new t.ZodMiniCodec({type:"pipe",in:e,out:n,transform:r.decode,reverseTransform:r.encode})},t.readonly=function(e){return new t.ZodMiniReadonly({type:"readonly",innerType:e})},t.templateLiteral=function(e,n){return new t.ZodMiniTemplateLiteral({type:"template_literal",parts:e,...o.util.normalizeParams(n)})},t.lazy=_,t.promise=function(e){return new t.ZodMiniPromise({type:"promise",innerType:e})},t.check=function(e,t){const n=new a.$ZodCheck({check:"custom",...o.util.normalizeParams(t)});return n._zod.check=e,n},t.custom=P,t.refine=function(e,n={}){return a._refine(t.ZodMiniCustom,e,n)},t.superRefine=function(e){return a._superRefine(e)},t.instanceof=function(e,t={error:`Input not instance of ${e.name}`}){const n=P(t=>t instanceof e,t);return n._zod.bag.Class=e,n},t.json=function(){const e=_(()=>y([l(),u(),d(),p(),m(e),v(l(),e)]));return e},t._function=E,t.function=E,t._function=E,t.function=E;const a=s(n(76601)),o=n(76601),c=s(n(83168));function l(e){return a._string(t.ZodMiniString,e)}function u(e){return a._number(t.ZodMiniNumber,e)}function d(e){return a._boolean(t.ZodMiniBoolean,e)}function p(e){return a._null(t.ZodMiniNull,e)}function h(){return a._unknown(t.ZodMiniUnknown)}function f(e){return a._never(t.ZodMiniNever,e)}function m(e,n){return new t.ZodMiniArray({type:"array",element:e,...o.util.normalizeParams(n)})}function y(e,n){return new t.ZodMiniUnion({type:"union",options:e,...o.util.normalizeParams(n)})}function g(e,n,r){const i=n instanceof a.$ZodType,s=i?r:n,c=i?n:null;return new t.ZodMiniTuple({type:"tuple",items:e,rest:c,...o.util.normalizeParams(s)})}function v(e,n,r){return new t.ZodMiniRecord({type:"record",keyType:e,valueType:n,...o.util.normalizeParams(r)})}function b(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new t.ZodMiniEnum({type:"enum",entries:r,...o.util.normalizeParams(n)})}function S(e){return new t.ZodMiniOptional({type:"optional",innerType:e})}function T(e){return new t.ZodMiniNullable({type:"nullable",innerType:e})}function _(e){return new t.ZodMiniLazy({type:"lazy",getter:e})}function P(e,n){return a._custom(t.ZodMiniCustom,e??(()=>!0),n)}function E(e){return new t.ZodMiniFunction({type:"function",input:Array.isArray(e?.input)?g(e?.input):e?.input??m(h()),output:e?.output??h()})}t.ZodMiniType=a.$constructor("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");a.$ZodType.init(e,t),e.def=t,e.type=t.type,e.parse=(t,n)=>c.parse(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>c.safeParse(e,t,n),e.parseAsync=async(t,n)=>c.parseAsync(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>c.safeParseAsync(e,t,n),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,n)=>a.clone(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e)}),t.ZodMiniString=a.$constructor("ZodMiniString",(e,n)=>{a.$ZodString.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniStringFormat=a.$constructor("ZodMiniStringFormat",(e,n)=>{a.$ZodStringFormat.init(e,n),t.ZodMiniString.init(e,n)}),t.ZodMiniEmail=a.$constructor("ZodMiniEmail",(e,n)=>{a.$ZodEmail.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniGUID=a.$constructor("ZodMiniGUID",(e,n)=>{a.$ZodGUID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniUUID=a.$constructor("ZodMiniUUID",(e,n)=>{a.$ZodUUID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniURL=a.$constructor("ZodMiniURL",(e,n)=>{a.$ZodURL.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniEmoji=a.$constructor("ZodMiniEmoji",(e,n)=>{a.$ZodEmoji.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniNanoID=a.$constructor("ZodMiniNanoID",(e,n)=>{a.$ZodNanoID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniCUID=a.$constructor("ZodMiniCUID",(e,n)=>{a.$ZodCUID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniCUID2=a.$constructor("ZodMiniCUID2",(e,n)=>{a.$ZodCUID2.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniULID=a.$constructor("ZodMiniULID",(e,n)=>{a.$ZodULID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniXID=a.$constructor("ZodMiniXID",(e,n)=>{a.$ZodXID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniKSUID=a.$constructor("ZodMiniKSUID",(e,n)=>{a.$ZodKSUID.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniIPv4=a.$constructor("ZodMiniIPv4",(e,n)=>{a.$ZodIPv4.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniIPv6=a.$constructor("ZodMiniIPv6",(e,n)=>{a.$ZodIPv6.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniCIDRv4=a.$constructor("ZodMiniCIDRv4",(e,n)=>{a.$ZodCIDRv4.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniCIDRv6=a.$constructor("ZodMiniCIDRv6",(e,n)=>{a.$ZodCIDRv6.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniMAC=a.$constructor("ZodMiniMAC",(e,n)=>{a.$ZodMAC.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniBase64=a.$constructor("ZodMiniBase64",(e,n)=>{a.$ZodBase64.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniBase64URL=a.$constructor("ZodMiniBase64URL",(e,n)=>{a.$ZodBase64URL.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniE164=a.$constructor("ZodMiniE164",(e,n)=>{a.$ZodE164.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniJWT=a.$constructor("ZodMiniJWT",(e,n)=>{a.$ZodJWT.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniCustomStringFormat=a.$constructor("ZodMiniCustomStringFormat",(e,n)=>{a.$ZodCustomStringFormat.init(e,n),t.ZodMiniStringFormat.init(e,n)}),t.ZodMiniNumber=a.$constructor("ZodMiniNumber",(e,n)=>{a.$ZodNumber.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniNumberFormat=a.$constructor("ZodMiniNumberFormat",(e,n)=>{a.$ZodNumberFormat.init(e,n),t.ZodMiniNumber.init(e,n)}),t.ZodMiniBoolean=a.$constructor("ZodMiniBoolean",(e,n)=>{a.$ZodBoolean.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniBigInt=a.$constructor("ZodMiniBigInt",(e,n)=>{a.$ZodBigInt.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniBigIntFormat=a.$constructor("ZodMiniBigIntFormat",(e,n)=>{a.$ZodBigIntFormat.init(e,n),t.ZodMiniBigInt.init(e,n)}),t.ZodMiniSymbol=a.$constructor("ZodMiniSymbol",(e,n)=>{a.$ZodSymbol.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniUndefined=a.$constructor("ZodMiniUndefined",(e,n)=>{a.$ZodUndefined.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniNull=a.$constructor("ZodMiniNull",(e,n)=>{a.$ZodNull.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniAny=a.$constructor("ZodMiniAny",(e,n)=>{a.$ZodAny.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniUnknown=a.$constructor("ZodMiniUnknown",(e,n)=>{a.$ZodUnknown.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniNever=a.$constructor("ZodMiniNever",(e,n)=>{a.$ZodNever.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniVoid=a.$constructor("ZodMiniVoid",(e,n)=>{a.$ZodVoid.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniDate=a.$constructor("ZodMiniDate",(e,n)=>{a.$ZodDate.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniArray=a.$constructor("ZodMiniArray",(e,n)=>{a.$ZodArray.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniObject=a.$constructor("ZodMiniObject",(e,n)=>{a.$ZodObject.init(e,n),t.ZodMiniType.init(e,n),o.util.defineLazy(e,"shape",()=>n.shape)}),t.ZodMiniUnion=a.$constructor("ZodMiniUnion",(e,n)=>{a.$ZodUnion.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniXor=a.$constructor("ZodMiniXor",(e,n)=>{t.ZodMiniUnion.init(e,n),a.$ZodXor.init(e,n)}),t.ZodMiniDiscriminatedUnion=a.$constructor("ZodMiniDiscriminatedUnion",(e,n)=>{a.$ZodDiscriminatedUnion.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniIntersection=a.$constructor("ZodMiniIntersection",(e,n)=>{a.$ZodIntersection.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniTuple=a.$constructor("ZodMiniTuple",(e,n)=>{a.$ZodTuple.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniRecord=a.$constructor("ZodMiniRecord",(e,n)=>{a.$ZodRecord.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniMap=a.$constructor("ZodMiniMap",(e,n)=>{a.$ZodMap.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniSet=a.$constructor("ZodMiniSet",(e,n)=>{a.$ZodSet.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniEnum=a.$constructor("ZodMiniEnum",(e,n)=>{a.$ZodEnum.init(e,n),t.ZodMiniType.init(e,n),e.options=Object.values(n.entries)}),t.ZodMiniLiteral=a.$constructor("ZodMiniLiteral",(e,n)=>{a.$ZodLiteral.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniFile=a.$constructor("ZodMiniFile",(e,n)=>{a.$ZodFile.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniTransform=a.$constructor("ZodMiniTransform",(e,n)=>{a.$ZodTransform.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniOptional=a.$constructor("ZodMiniOptional",(e,n)=>{a.$ZodOptional.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniNullable=a.$constructor("ZodMiniNullable",(e,n)=>{a.$ZodNullable.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniDefault=a.$constructor("ZodMiniDefault",(e,n)=>{a.$ZodDefault.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniPrefault=a.$constructor("ZodMiniPrefault",(e,n)=>{a.$ZodPrefault.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniNonOptional=a.$constructor("ZodMiniNonOptional",(e,n)=>{a.$ZodNonOptional.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniSuccess=a.$constructor("ZodMiniSuccess",(e,n)=>{a.$ZodSuccess.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniCatch=a.$constructor("ZodMiniCatch",(e,n)=>{a.$ZodCatch.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniNaN=a.$constructor("ZodMiniNaN",(e,n)=>{a.$ZodNaN.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniPipe=a.$constructor("ZodMiniPipe",(e,n)=>{a.$ZodPipe.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniCodec=a.$constructor("ZodMiniCodec",(e,n)=>{t.ZodMiniPipe.init(e,n),a.$ZodCodec.init(e,n)}),t.ZodMiniReadonly=a.$constructor("ZodMiniReadonly",(e,n)=>{a.$ZodReadonly.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniTemplateLiteral=a.$constructor("ZodMiniTemplateLiteral",(e,n)=>{a.$ZodTemplateLiteral.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniLazy=a.$constructor("ZodMiniLazy",(e,n)=>{a.$ZodLazy.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniPromise=a.$constructor("ZodMiniPromise",(e,n)=>{a.$ZodPromise.init(e,n),t.ZodMiniType.init(e,n)}),t.ZodMiniCustom=a.$constructor("ZodMiniCustom",(e,n)=>{a.$ZodCustom.init(e,n),t.ZodMiniType.init(e,n)}),t.describe=a.describe,t.meta=a.meta,t.stringbool=(...e)=>a._stringbool({Codec:t.ZodMiniCodec,Boolean:t.ZodMiniBoolean,String:t.ZodMiniString},...e),t.ZodMiniFunction=a.$constructor("ZodMiniFunction",(e,n)=>{a.$ZodFunction.init(e,n),t.ZodMiniType.init(e,n)})},92:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.default)()};const i=r(n(74313));e.exports=t.default},262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyHeaders=t.buildHeaders=void 0;const r=n(15734),i=Symbol("brand.privateNullableHeaders");function*s(e){if(!e)return;if(i in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():(0,r.isReadonlyArray)(e)?t=e:(n=!0,t=Object.entries(e??{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const i=(0,r.isReadonlyArray)(e[1])?e[1]:[e[1]];let s=!1;for(const e of i)void 0!==e&&(n&&!s&&(s=!0,yield[t,null]),yield[t,e])}}t.buildHeaders=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[i,a]of s(r)){const r=i.toLowerCase();e.has(r)||(t.delete(i),e.add(r)),null===a?(t.delete(i),n.add(r)):(t.append(i,a),n.delete(r))}}return{[i]:!0,values:t,nulls:n}},t.isEmptyHeaders=e=>{for(const t of s(e))return!1;return!0}},343:(e,t,n)=>{"use strict";const{isUUID:r}=n(34834),i=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,s=["http","https","ws","wss","urn","urn:uuid"];function a(e){return!0===e.secure||!1!==e.secure&&!!e.scheme&&!(3!==e.scheme.length||"w"!==e.scheme[0]&&"W"!==e.scheme[0]||"s"!==e.scheme[1]&&"S"!==e.scheme[1]||"s"!==e.scheme[2]&&"S"!==e.scheme[2])}function o(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function c(e){const t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}const l={scheme:"http",domainHost:!0,parse:o,serialize:c},u={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=a(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if(e.port!==(a(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}},d={http:l,https:{scheme:"https",domainHost:l.domainHost,parse:o,serialize:c},ws:u,wss:{scheme:"wss",domainHost:u.domainHost,parse:u.parse,serialize:u.serialize},urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;const n=e.path.match(i);if(n){const r=t.scheme||e.scheme||"urn";e.nid=n[1].toLowerCase(),e.nss=n[2];const i=p(`${r}:${t.nid||e.nid}`);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){if(void 0===e.nid)throw new Error("URN without nid cannot be serialized");const n=t.scheme||e.scheme||"urn",r=e.nid.toLowerCase(),i=p(`${n}:${t.nid||r}`);i&&(e=i.serialize(e,t));const s=e,a=e.nss;return s.path=`${r||t.nid}:${a}`,t.skipEscape=!0,s},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,t){const n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&r(n.uuid)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t},skipNormalize:!0}};function p(e){return e&&(d[e]||d[e.toLowerCase()])||void 0}Object.setPrototypeOf(d,null),e.exports={wsIsSecure:a,SCHEMES:d,isValidSchemeName:function(e){return-1!==s.indexOf(e)},getSchemeHandler:p}},365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Items=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{create(e,t,n){const{include:r,...i}=t;return this._client.post(s.path`/conversations/${e}/items`,{query:{include:r},body:i,...n})}retrieve(e,t,n){const{conversation_id:r,...i}=t;return this._client.get(s.path`/conversations/${r}/items/${e}`,{query:i,...n})}list(e,t={},n){return this._client.getAPIList(s.path`/conversations/${e}/items`,i.ConversationCursorPage,{query:t,...n})}delete(e,t,n){const{conversation_id:r}=t;return this._client.delete(s.path`/conversations/${r}/items/${e}`,n)}}t.Items=a},446:(e,t)=>{"use strict";function n(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},t.makeReadableStream=n,t.ReadableStreamFrom=function(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return n({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){await(t.return?.())}})},t.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},t.CancelReadableStream=async function(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}},513:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(t){return e[t]??null}const n={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipo inválido: esperado ${e.expected}, recebido ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"número";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entrada inválida: esperado ${a.stringifyPrimitive(e.values[0])}`:`Opção inválida: esperada uma das ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Muito grande: esperado que ${e.origin??"valor"} tivesse ${n}${e.maximum.toString()} ${r.unit??"elementos"}`:`Muito grande: esperado que ${e.origin??"valor"} fosse ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Muito pequeno: esperado que ${e.origin} tivesse ${n}${e.minimum.toString()} ${r.unit}`:`Muito pequeno: esperado que ${e.origin} fosse ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Texto inválido: deve começar com "${t.prefix}"`:"ends_with"===t.format?`Texto inválido: deve terminar com "${t.suffix}"`:"includes"===t.format?`Texto inválido: deve incluir "${t.includes}"`:"regex"===t.format?`Texto inválido: deve corresponder ao padrão ${t.pattern}`:`${n[t.format]??e.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Chave inválida em ${e.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${e.origin}`;default:return"Campo inválido"}}};e.exports=t.default},563:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementalGraphUpdater=void 0,t.getIncrementalUpdater=function(){return p||(p=new d),p};const o=a(n(91398)),c=n(85296),l=n(5738),u=n(73514);class d{hashCache;workspaceAnalyzer;importAnalyzer;currentGraph=null;workspaceRoot="";constructor(){this.hashCache=(0,c.getFileHashCache)(),this.workspaceAnalyzer=new l.WorkspaceAnalyzer,this.importAnalyzer=new u.ImportAnalyzer}async initialize(e,t){this.workspaceRoot=e,await this.hashCache.initialize(e),this.currentGraph=t||null,t&&t.nodes.length>0&&await this.populateHashCacheFromGraph(t)}async populateHashCacheFromGraph(e){const t=await Promise.resolve().then(()=>a(n(79896))),r=new Set;for(const t of e.nodes)t.filePath&&r.add(t.filePath);let i=0;for(const n of r)if(t.existsSync(n)&&!this.hashCache.hasEntry(n)){const t=e.nodes.filter(e=>e.filePath===n).map(e=>e.id);this.hashCache.updateEntry(n,t),i++}i>0&&(await this.hashCache.saveCache(),console.log(`Added ${i} files to hash cache`))}detectDeletedFilesFromGraph(){if(!this.currentGraph)return[];const e=n(79896),t=[],r=new Set;for(const e of this.currentGraph.nodes)e.filePath&&r.add(e.filePath);for(const n of r)e.existsSync(n)||t.push(n);return t}async hasChanges(){const e=await this.getAllSourceFiles();return(await this.hashCache.detectChanges(e)).changedCount>0}async getPendingChanges(){const e=await this.getAllSourceFiles();return this.hashCache.detectChanges(e)}async performIncrementalUpdate(e,t){const n=Date.now();try{t?.("Detecting changes...",0),this.currentGraph=e.graph,console.log(`Initialized with graph: ${this.currentGraph.nodes.length} nodes, ${this.currentGraph.edges.length} edges`);const r=await this.getAllSourceFiles(),i=await this.hashCache.detectChanges(r),s=this.detectDeletedFilesFromGraph(),a=new Set([...i.deleted,...s]);if(i.deleted=Array.from(a),i.changedCount=i.added.length+i.modified.length+i.deleted.length,console.log(`Change detection results: ${i.added.length} added, ${i.modified.length} modified, ${i.deleted.length} deleted, ${i.unchanged.length} unchanged`),i.added.length>0&&console.log(`Added files: ${i.added.join(", ")}`),i.deleted.length>0&&console.log(`Deleted files: ${i.deleted.join(", ")}`),i.modified.length>0&&console.log(`Modified files: ${i.modified.join(", ")}`),0===i.changedCount)return{success:!0,nodesAdded:0,nodesModified:0,nodesRemoved:0,edgesUpdated:0,processingTimeMs:Date.now()-n,skippedFiles:i.unchanged.length,message:"No changes detected. Graph is up to date."};t?.(`Processing ${i.changedCount} changed files...`,10);let c=0,l=0,u=0,d=0;t?.("Removing deleted nodes...",20),i.deleted.length>0&&console.log(`Detected ${i.deleted.length} deleted files: ${i.deleted.join(", ")}`);for(const e of i.deleted){const t=this.hashCache.removeEntry(e);console.log(`Removing nodes for deleted file ${e}: ${t.join(", ")}`),u+=this.removeNodesForFile(e,t)}t?.("Analyzing new files...",40),i.added.length>0&&console.log(`Detected ${i.added.length} added files: ${i.added.join(", ")}`);for(const e of i.added)try{const t=o.Uri.file(e),n=await this.workspaceAnalyzer.analyzeFile(t);console.log(`Parsed added file ${e}: found ${n.length} nodes`),n.forEach(e=>console.log(`  - ${e.type}: ${e.label} (${e.id})`)),c+=this.addNodes(n),this.hashCache.updateEntry(e,n.map(e=>e.id))}catch(t){console.error(`Failed to analyze new file ${e}:`,t)}t?.("Analyzing modified files...",60);for(const e of i.modified)try{const t=o.Uri.file(e),n=await this.workspaceAnalyzer.analyzeFile(t);console.log(`Parsed ${e}: found ${n.length} nodes`),n.forEach(e=>console.log(`  - ${e.type}: ${e.label} (${e.id})`)),l+=this.updateNodes(e,n),this.hashCache.updateEntry(e,n.map(e=>e.id))}catch(t){console.error(`Failed to analyze modified file ${e}:`,t)}t?.("Rebuilding edges...",80);const p=[...i.added,...i.modified];return d=await this.rebuildEdgesForAffectedFiles(p),t?.("Saving cache...",95),await this.hashCache.saveCache(),t?.("Complete!",100),{success:!0,nodesAdded:c,nodesModified:l,nodesRemoved:u,edgesUpdated:d,processingTimeMs:Date.now()-n,skippedFiles:i.unchanged.length,message:`Updated ${i.changedCount} files (${c} added, ${l} modified, ${u} removed)`}}catch(e){return console.error("Incremental update failed:",e),{success:!1,nodesAdded:0,nodesModified:0,nodesRemoved:0,edgesUpdated:0,processingTimeMs:Date.now()-n,skippedFiles:0,message:`Update failed: ${e instanceof Error?e.message:"Unknown error"}`}}}async getAllSourceFiles(){const e=["**/*.ts","**/*.tsx","**/*.js","**/*.jsx","**/*.java","**/*.py"],t=["**/node_modules/**","**/dist/**","**/build/**","**/.git/**","**/coverage/**","**/*.test.*","**/*.spec.*"],n=[];for(const r of e){const e=await o.workspace.findFiles(new o.RelativePattern(this.workspaceRoot,r),`{${t.join(",")}}`);n.push(...e.map(e=>e.fsPath))}return n}getNodesForFile(e,t){return e.nodes.filter(e=>e.filePath===t)}removeNodesForFile(e,t){if(!this.currentGraph)return 0;const n=this.currentGraph.nodes.filter(t=>t.filePath===e),r=new Set([...t,...n.map(e=>e.id)]),i=this.currentGraph.nodes.length;this.currentGraph.nodes=this.currentGraph.nodes.filter(t=>t.filePath!==e),this.currentGraph.edges=this.currentGraph.edges.filter(e=>!r.has(e.from)&&!r.has(e.to));const s=i-this.currentGraph.nodes.length;return console.log(`Removed ${s} nodes for deleted file: ${e}`),s}addNodes(e){if(!this.currentGraph)return 0;const t=new Set(this.currentGraph.nodes.map(e=>e.id)),n=e.filter(e=>!t.has(e.id));if(0===n.length)return console.log("No new nodes to add (all duplicates)"),0;this.currentGraph.nodes.push(...n),console.log(`Added ${n.length} new nodes to graph`);const r=new Set(n.map(e=>e.id));let i=0;for(const e of n)e.parentId&&(r.has(e.parentId)||this.currentGraph.nodes.some(t=>t.id===e.parentId))&&(this.currentGraph.edges.some(t=>t.from===e.parentId&&t.to===e.id&&"contains"===t.type)||(this.currentGraph.edges.push({from:e.parentId,to:e.id,type:"contains"}),i++));return i>0&&console.log(`Created ${i} parent-child edges for new nodes`),n.length}updateNodes(e,t){if(!this.currentGraph)return 0;const n=this.currentGraph.nodes.filter(t=>t.filePath===e),r=new Set(n.map(e=>e.id));console.log(`Updating file ${e}: removing ${n.length} old nodes, adding ${t.length} new nodes`),console.log(`Old node IDs: ${Array.from(r).join(", ")}`),console.log(`New node IDs: ${t.map(e=>e.id).join(", ")}`),this.currentGraph.nodes=this.currentGraph.nodes.filter(t=>t.filePath!==e),this.currentGraph.nodes.push(...t);const i=this.currentGraph.edges.length;this.currentGraph.edges=this.currentGraph.edges.filter(e=>!r.has(e.from)&&!r.has(e.to)),console.log(`Removed ${i-this.currentGraph.edges.length} old edges`);const s=new Set(t.map(e=>e.id));for(const e of t)e.parentId&&s.has(e.parentId)&&(this.currentGraph.edges.some(t=>t.from===e.parentId&&t.to===e.id&&"contains"===t.type)||(this.currentGraph.edges.push({from:e.parentId,to:e.id,type:"contains"}),console.log(`Added contains edge: ${e.parentId} -> ${e.id}`)));return t.length}async rebuildEdgesForAffectedFiles(e){if(!this.currentGraph)return 0;let t=0;const n=new Set(this.currentGraph.edges.map(e=>`${e.from}->${e.to}`)),r=new Map;for(const e of this.currentGraph.nodes)r.has(e.filePath)||r.set(e.filePath,[]),r.get(e.filePath).push(e);const i=new Map;for(const e of this.currentGraph.nodes)e.parentId||"class"!==e.type&&"component"!==e.type&&"module"!==e.type&&"function"!==e.type||i.set(e.label,e);for(const i of e)try{const e=o.Uri.file(i),s=await this.importAnalyzer.buildDependencyMap(e,this.workspaceRoot),a=(r.get(i)||[]).filter(e=>!e.parentId);for(const e of s){const i=(r.get(e.targetFile)||[]).filter(e=>!e.parentId);for(const e of a)for(const r of i){const i=`${e.id}->${r.id}`;n.has(i)||(this.currentGraph.edges.push({from:e.id,to:r.id,type:"contains",label:"imports"}),n.add(i),t++,console.log(`Created import edge: ${e.label} -> ${r.label}`))}}}catch(e){console.error(`Failed to analyze imports for ${i}:`,e)}const s=Array.from(r.keys());for(const i of s)if(!e.includes(i))try{const s=o.Uri.file(i),a=await this.importAnalyzer.buildDependencyMap(s,this.workspaceRoot);for(const s of a)if(e.includes(s.targetFile)){const e=r.get(i)||[],a=r.get(s.targetFile)||[],o=e.filter(e=>!e.parentId),c=a.filter(e=>!e.parentId);for(const e of o)for(const r of c){const i=`${e.id}->${r.id}`;n.has(i)||(this.currentGraph.edges.push({from:e.id,to:r.id,type:"contains",label:"imports"}),n.add(i),t++,console.log(`Created reverse import edge: ${e.label} -> ${r.label}`))}}}catch(e){}return console.log(`Rebuilt ${t} edges for affected files`),t}rebuildEdges(e,t){if(!this.currentGraph)return 0;const n=new Set(t),r=e.edges.filter(t=>{const r=e.nodes.find(e=>e.filePath===t.from),i=e.nodes.find(e=>e.filePath===t.to);return r&&n.has(r.filePath)||i&&n.has(i.filePath)}),i=new Set(this.currentGraph.edges.map(e=>`${e.from}->${e.to}`));let s=0;for(const e of r){const t=`${e.from}->${e.to}`;i.has(t)||(this.currentGraph.edges.push(e),s++)}return s}getCurrentGraph(){return this.currentGraph}async forceFullRefresh(){this.hashCache.clearCache(),this.currentGraph=null,await this.hashCache.saveCache()}getCacheStats(){return this.hashCache.getStats()}}t.IncrementalGraphUpdater=d;let p=null},659:(e,t,n)=>{var r=n(51873),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[o]=n:delete e[o]),i}},773:(e,t)=>{"use strict";let n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.concatBytes=function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n},t.encodeUTF8=function(e){let t;return(n??(t=new globalThis.TextEncoder,n=t.encode.bind(t)))(e)},t.decodeUTF8=function(e){let t;return(r??(t=new globalThis.TextDecoder,r=t.decode.bind(t)))(e)}},1242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const r=n(82040),i=n(34701);class s extends r.APIResource{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&(0,i.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:r},...t});return n?s:((0,i.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{const t=e.embedding;e.embedding=(0,i.toFloat32Array)(t)}),e)))}}t.Embeddings=s},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(5113)),a=n(5113),o=r.__importStar(n(33694)),c=n(33694),l=r.__importStar(n(17655)),u=n(17655);class d extends i.APIResource{constructor(){super(...arguments),this.transcriptions=new o.Transcriptions(this._client),this.translations=new l.Translations(this._client),this.speech=new s.Speech(this._client)}}t.Audio=d,d.Transcriptions=c.Transcriptions,d.Translations=u.Translations,d.Speech=a.Speech},1294:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskStatusNotificationParamsSchema=t.CreateTaskResultSchema=t.TaskSchema=t.PaginatedResultSchema=t.PaginatedRequestSchema=t.PaginatedRequestParamsSchema=t.ProgressNotificationSchema=t.ProgressNotificationParamsSchema=t.ProgressSchema=t.PingRequestSchema=t.isInitializedNotification=t.InitializedNotificationSchema=t.InitializeResultSchema=t.ServerCapabilitiesSchema=t.isInitializeRequest=t.InitializeRequestSchema=t.InitializeRequestParamsSchema=t.ClientCapabilitiesSchema=t.ServerTasksCapabilitySchema=t.ClientTasksCapabilitySchema=t.ImplementationSchema=t.BaseMetadataSchema=t.IconsSchema=t.IconSchema=t.CancelledNotificationSchema=t.CancelledNotificationParamsSchema=t.EmptyResultSchema=t.JSONRPCMessageSchema=t.isJSONRPCError=t.JSONRPCErrorSchema=t.ErrorCode=t.isJSONRPCResponse=t.JSONRPCResponseSchema=t.isJSONRPCNotification=t.JSONRPCNotificationSchema=t.isJSONRPCRequest=t.JSONRPCRequestSchema=t.RequestIdSchema=t.ResultSchema=t.NotificationSchema=t.RequestSchema=t.RelatedTaskMetadataSchema=t.TaskCreationParamsSchema=t.CursorSchema=t.ProgressTokenSchema=t.JSONRPC_VERSION=t.RELATED_TASK_META_KEY=t.SUPPORTED_PROTOCOL_VERSIONS=t.DEFAULT_NEGOTIATED_PROTOCOL_VERSION=t.LATEST_PROTOCOL_VERSION=void 0,t.ListToolsResultSchema=t.ListToolsRequestSchema=t.ToolSchema=t.ToolExecutionSchema=t.ToolAnnotationsSchema=t.PromptListChangedNotificationSchema=t.GetPromptResultSchema=t.PromptMessageSchema=t.ContentBlockSchema=t.ResourceLinkSchema=t.EmbeddedResourceSchema=t.ToolUseContentSchema=t.AudioContentSchema=t.ImageContentSchema=t.TextContentSchema=t.GetPromptRequestSchema=t.GetPromptRequestParamsSchema=t.ListPromptsResultSchema=t.ListPromptsRequestSchema=t.PromptSchema=t.PromptArgumentSchema=t.ResourceUpdatedNotificationSchema=t.ResourceUpdatedNotificationParamsSchema=t.UnsubscribeRequestSchema=t.UnsubscribeRequestParamsSchema=t.SubscribeRequestSchema=t.SubscribeRequestParamsSchema=t.ResourceListChangedNotificationSchema=t.ReadResourceResultSchema=t.ReadResourceRequestSchema=t.ReadResourceRequestParamsSchema=t.ResourceRequestParamsSchema=t.ListResourceTemplatesResultSchema=t.ListResourceTemplatesRequestSchema=t.ListResourcesResultSchema=t.ListResourcesRequestSchema=t.ResourceTemplateSchema=t.ResourceSchema=t.AnnotationsSchema=t.BlobResourceContentsSchema=t.TextResourceContentsSchema=t.ResourceContentsSchema=t.CancelTaskResultSchema=t.CancelTaskRequestSchema=t.ListTasksResultSchema=t.ListTasksRequestSchema=t.GetTaskPayloadRequestSchema=t.GetTaskResultSchema=t.GetTaskRequestSchema=t.TaskStatusNotificationSchema=void 0,t.RootsListChangedNotificationSchema=t.ListRootsResultSchema=t.ListRootsRequestSchema=t.RootSchema=t.CompleteResultSchema=t.CompleteRequestSchema=t.CompleteRequestParamsSchema=t.PromptReferenceSchema=t.ResourceReferenceSchema=t.ResourceTemplateReferenceSchema=t.ElicitResultSchema=t.ElicitationCompleteNotificationSchema=t.ElicitationCompleteNotificationParamsSchema=t.ElicitRequestSchema=t.ElicitRequestParamsSchema=t.ElicitRequestURLParamsSchema=t.ElicitRequestFormParamsSchema=t.PrimitiveSchemaDefinitionSchema=t.EnumSchemaSchema=t.MultiSelectEnumSchemaSchema=t.TitledMultiSelectEnumSchemaSchema=t.UntitledMultiSelectEnumSchemaSchema=t.SingleSelectEnumSchemaSchema=t.LegacyTitledEnumSchemaSchema=t.TitledSingleSelectEnumSchemaSchema=t.UntitledSingleSelectEnumSchemaSchema=t.NumberSchemaSchema=t.StringSchemaSchema=t.BooleanSchemaSchema=t.CreateMessageResultWithToolsSchema=t.CreateMessageResultSchema=t.CreateMessageRequestSchema=t.CreateMessageRequestParamsSchema=t.SamplingMessageSchema=t.SamplingMessageContentBlockSchema=t.SamplingContentSchema=t.ToolResultContentSchema=t.ToolChoiceSchema=t.ModelPreferencesSchema=t.ModelHintSchema=t.LoggingMessageNotificationSchema=t.LoggingMessageNotificationParamsSchema=t.SetLevelRequestSchema=t.SetLevelRequestParamsSchema=t.LoggingLevelSchema=t.ToolListChangedNotificationSchema=t.CallToolRequestSchema=t.CallToolRequestParamsSchema=t.CompatibilityCallToolResultSchema=t.CallToolResultSchema=void 0,t.UrlElicitationRequiredError=t.McpError=t.ServerResultSchema=t.ServerNotificationSchema=t.ServerRequestSchema=t.ClientResultSchema=t.ClientNotificationSchema=t.ClientRequestSchema=void 0,t.assertCompleteRequestPrompt=function(e){if("ref/prompt"!==e.params.ref.type)throw new TypeError(`Expected CompleteRequestPrompt, but got ${e.params.ref.type}`)},t.assertCompleteRequestResourceTemplate=function(e){if("ref/resource"!==e.params.ref.type)throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${e.params.ref.type}`)};const a=s(n(51963));t.LATEST_PROTOCOL_VERSION="2025-11-25",t.DEFAULT_NEGOTIATED_PROTOCOL_VERSION="2025-03-26",t.SUPPORTED_PROTOCOL_VERSIONS=[t.LATEST_PROTOCOL_VERSION,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],t.RELATED_TASK_META_KEY="io.modelcontextprotocol/related-task",t.JSONRPC_VERSION="2.0";const o=a.custom(e=>null!==e&&("object"==typeof e||"function"==typeof e));t.ProgressTokenSchema=a.union([a.string(),a.number().int()]),t.CursorSchema=a.string(),t.TaskCreationParamsSchema=a.looseObject({ttl:a.union([a.number(),a.null()]).optional(),pollInterval:a.number().optional()}),t.RelatedTaskMetadataSchema=a.looseObject({taskId:a.string()});const c=a.looseObject({progressToken:t.ProgressTokenSchema.optional(),[t.RELATED_TASK_META_KEY]:t.RelatedTaskMetadataSchema.optional()}),l=a.looseObject({task:t.TaskCreationParamsSchema.optional(),_meta:c.optional()});t.RequestSchema=a.object({method:a.string(),params:l.optional()});const u=a.looseObject({_meta:a.object({[t.RELATED_TASK_META_KEY]:a.optional(t.RelatedTaskMetadataSchema)}).passthrough().optional()});var d;t.NotificationSchema=a.object({method:a.string(),params:u.optional()}),t.ResultSchema=a.looseObject({_meta:a.looseObject({[t.RELATED_TASK_META_KEY]:t.RelatedTaskMetadataSchema.optional()}).optional()}),t.RequestIdSchema=a.union([a.string(),a.number().int()]),t.JSONRPCRequestSchema=a.object({jsonrpc:a.literal(t.JSONRPC_VERSION),id:t.RequestIdSchema,...t.RequestSchema.shape}).strict(),t.isJSONRPCRequest=e=>t.JSONRPCRequestSchema.safeParse(e).success,t.JSONRPCNotificationSchema=a.object({jsonrpc:a.literal(t.JSONRPC_VERSION),...t.NotificationSchema.shape}).strict(),t.isJSONRPCNotification=e=>t.JSONRPCNotificationSchema.safeParse(e).success,t.JSONRPCResponseSchema=a.object({jsonrpc:a.literal(t.JSONRPC_VERSION),id:t.RequestIdSchema,result:t.ResultSchema}).strict(),t.isJSONRPCResponse=e=>t.JSONRPCResponseSchema.safeParse(e).success,function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"}(d||(t.ErrorCode=d={})),t.JSONRPCErrorSchema=a.object({jsonrpc:a.literal(t.JSONRPC_VERSION),id:t.RequestIdSchema,error:a.object({code:a.number().int(),message:a.string(),data:a.optional(a.unknown())})}).strict(),t.isJSONRPCError=e=>t.JSONRPCErrorSchema.safeParse(e).success,t.JSONRPCMessageSchema=a.union([t.JSONRPCRequestSchema,t.JSONRPCNotificationSchema,t.JSONRPCResponseSchema,t.JSONRPCErrorSchema]),t.EmptyResultSchema=t.ResultSchema.strict(),t.CancelledNotificationParamsSchema=u.extend({requestId:t.RequestIdSchema,reason:a.string().optional()}),t.CancelledNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/cancelled"),params:t.CancelledNotificationParamsSchema}),t.IconSchema=a.object({src:a.string(),mimeType:a.string().optional(),sizes:a.array(a.string()).optional()}),t.IconsSchema=a.object({icons:a.array(t.IconSchema).optional()}),t.BaseMetadataSchema=a.object({name:a.string(),title:a.string().optional()}),t.ImplementationSchema=t.BaseMetadataSchema.extend({...t.BaseMetadataSchema.shape,...t.IconsSchema.shape,version:a.string(),websiteUrl:a.string().optional()});const p=a.intersection(a.object({applyDefaults:a.boolean().optional()}),a.record(a.string(),a.unknown())),h=a.preprocess(e=>e&&"object"==typeof e&&!Array.isArray(e)&&0===Object.keys(e).length?{form:{}}:e,a.intersection(a.object({form:p.optional(),url:o.optional()}),a.record(a.string(),a.unknown()).optional()));t.ClientTasksCapabilitySchema=a.object({list:a.optional(a.object({}).passthrough()),cancel:a.optional(a.object({}).passthrough()),requests:a.optional(a.object({sampling:a.optional(a.object({createMessage:a.optional(a.object({}).passthrough())}).passthrough()),elicitation:a.optional(a.object({create:a.optional(a.object({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),t.ServerTasksCapabilitySchema=a.object({list:a.optional(a.object({}).passthrough()),cancel:a.optional(a.object({}).passthrough()),requests:a.optional(a.object({tools:a.optional(a.object({call:a.optional(a.object({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),t.ClientCapabilitiesSchema=a.object({experimental:a.record(a.string(),o).optional(),sampling:a.object({context:o.optional(),tools:o.optional()}).optional(),elicitation:h.optional(),roots:a.object({listChanged:a.boolean().optional()}).optional(),tasks:a.optional(t.ClientTasksCapabilitySchema)}),t.InitializeRequestParamsSchema=l.extend({protocolVersion:a.string(),capabilities:t.ClientCapabilitiesSchema,clientInfo:t.ImplementationSchema}),t.InitializeRequestSchema=t.RequestSchema.extend({method:a.literal("initialize"),params:t.InitializeRequestParamsSchema}),t.isInitializeRequest=e=>t.InitializeRequestSchema.safeParse(e).success,t.ServerCapabilitiesSchema=a.object({experimental:a.record(a.string(),o).optional(),logging:o.optional(),completions:o.optional(),prompts:a.optional(a.object({listChanged:a.optional(a.boolean())})),resources:a.object({subscribe:a.boolean().optional(),listChanged:a.boolean().optional()}).optional(),tools:a.object({listChanged:a.boolean().optional()}).optional(),tasks:a.optional(t.ServerTasksCapabilitySchema)}).passthrough(),t.InitializeResultSchema=t.ResultSchema.extend({protocolVersion:a.string(),capabilities:t.ServerCapabilitiesSchema,serverInfo:t.ImplementationSchema,instructions:a.string().optional()}),t.InitializedNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/initialized")}),t.isInitializedNotification=e=>t.InitializedNotificationSchema.safeParse(e).success,t.PingRequestSchema=t.RequestSchema.extend({method:a.literal("ping")}),t.ProgressSchema=a.object({progress:a.number(),total:a.optional(a.number()),message:a.optional(a.string())}),t.ProgressNotificationParamsSchema=a.object({...u.shape,...t.ProgressSchema.shape,progressToken:t.ProgressTokenSchema}),t.ProgressNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/progress"),params:t.ProgressNotificationParamsSchema}),t.PaginatedRequestParamsSchema=l.extend({cursor:t.CursorSchema.optional()}),t.PaginatedRequestSchema=t.RequestSchema.extend({params:t.PaginatedRequestParamsSchema.optional()}),t.PaginatedResultSchema=t.ResultSchema.extend({nextCursor:a.optional(t.CursorSchema)}),t.TaskSchema=a.object({taskId:a.string(),status:a.enum(["working","input_required","completed","failed","cancelled"]),ttl:a.union([a.number(),a.null()]),createdAt:a.string(),lastUpdatedAt:a.string(),pollInterval:a.optional(a.number()),statusMessage:a.optional(a.string())}),t.CreateTaskResultSchema=t.ResultSchema.extend({task:t.TaskSchema}),t.TaskStatusNotificationParamsSchema=u.merge(t.TaskSchema),t.TaskStatusNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/tasks/status"),params:t.TaskStatusNotificationParamsSchema}),t.GetTaskRequestSchema=t.RequestSchema.extend({method:a.literal("tasks/get"),params:l.extend({taskId:a.string()})}),t.GetTaskResultSchema=t.ResultSchema.merge(t.TaskSchema),t.GetTaskPayloadRequestSchema=t.RequestSchema.extend({method:a.literal("tasks/result"),params:l.extend({taskId:a.string()})}),t.ListTasksRequestSchema=t.PaginatedRequestSchema.extend({method:a.literal("tasks/list")}),t.ListTasksResultSchema=t.PaginatedResultSchema.extend({tasks:a.array(t.TaskSchema)}),t.CancelTaskRequestSchema=t.RequestSchema.extend({method:a.literal("tasks/cancel"),params:l.extend({taskId:a.string()})}),t.CancelTaskResultSchema=t.ResultSchema.merge(t.TaskSchema),t.ResourceContentsSchema=a.object({uri:a.string(),mimeType:a.optional(a.string()),_meta:a.record(a.string(),a.unknown()).optional()}),t.TextResourceContentsSchema=t.ResourceContentsSchema.extend({text:a.string()});const f=a.string().refine(e=>{try{return atob(e),!0}catch(e){return!1}},{message:"Invalid Base64 string"});t.BlobResourceContentsSchema=t.ResourceContentsSchema.extend({blob:f}),t.AnnotationsSchema=a.object({audience:a.array(a.enum(["user","assistant"])).optional(),priority:a.number().min(0).max(1).optional(),lastModified:a.iso.datetime({offset:!0}).optional()}),t.ResourceSchema=a.object({...t.BaseMetadataSchema.shape,...t.IconsSchema.shape,uri:a.string(),description:a.optional(a.string()),mimeType:a.optional(a.string()),annotations:t.AnnotationsSchema.optional(),_meta:a.optional(a.looseObject({}))}),t.ResourceTemplateSchema=a.object({...t.BaseMetadataSchema.shape,...t.IconsSchema.shape,uriTemplate:a.string(),description:a.optional(a.string()),mimeType:a.optional(a.string()),annotations:t.AnnotationsSchema.optional(),_meta:a.optional(a.looseObject({}))}),t.ListResourcesRequestSchema=t.PaginatedRequestSchema.extend({method:a.literal("resources/list")}),t.ListResourcesResultSchema=t.PaginatedResultSchema.extend({resources:a.array(t.ResourceSchema)}),t.ListResourceTemplatesRequestSchema=t.PaginatedRequestSchema.extend({method:a.literal("resources/templates/list")}),t.ListResourceTemplatesResultSchema=t.PaginatedResultSchema.extend({resourceTemplates:a.array(t.ResourceTemplateSchema)}),t.ResourceRequestParamsSchema=l.extend({uri:a.string()}),t.ReadResourceRequestParamsSchema=t.ResourceRequestParamsSchema,t.ReadResourceRequestSchema=t.RequestSchema.extend({method:a.literal("resources/read"),params:t.ReadResourceRequestParamsSchema}),t.ReadResourceResultSchema=t.ResultSchema.extend({contents:a.array(a.union([t.TextResourceContentsSchema,t.BlobResourceContentsSchema]))}),t.ResourceListChangedNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/resources/list_changed")}),t.SubscribeRequestParamsSchema=t.ResourceRequestParamsSchema,t.SubscribeRequestSchema=t.RequestSchema.extend({method:a.literal("resources/subscribe"),params:t.SubscribeRequestParamsSchema}),t.UnsubscribeRequestParamsSchema=t.ResourceRequestParamsSchema,t.UnsubscribeRequestSchema=t.RequestSchema.extend({method:a.literal("resources/unsubscribe"),params:t.UnsubscribeRequestParamsSchema}),t.ResourceUpdatedNotificationParamsSchema=u.extend({uri:a.string()}),t.ResourceUpdatedNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/resources/updated"),params:t.ResourceUpdatedNotificationParamsSchema}),t.PromptArgumentSchema=a.object({name:a.string(),description:a.optional(a.string()),required:a.optional(a.boolean())}),t.PromptSchema=a.object({...t.BaseMetadataSchema.shape,...t.IconsSchema.shape,description:a.optional(a.string()),arguments:a.optional(a.array(t.PromptArgumentSchema)),_meta:a.optional(a.looseObject({}))}),t.ListPromptsRequestSchema=t.PaginatedRequestSchema.extend({method:a.literal("prompts/list")}),t.ListPromptsResultSchema=t.PaginatedResultSchema.extend({prompts:a.array(t.PromptSchema)}),t.GetPromptRequestParamsSchema=l.extend({name:a.string(),arguments:a.record(a.string(),a.string()).optional()}),t.GetPromptRequestSchema=t.RequestSchema.extend({method:a.literal("prompts/get"),params:t.GetPromptRequestParamsSchema}),t.TextContentSchema=a.object({type:a.literal("text"),text:a.string(),annotations:t.AnnotationsSchema.optional(),_meta:a.record(a.string(),a.unknown()).optional()}),t.ImageContentSchema=a.object({type:a.literal("image"),data:f,mimeType:a.string(),annotations:t.AnnotationsSchema.optional(),_meta:a.record(a.string(),a.unknown()).optional()}),t.AudioContentSchema=a.object({type:a.literal("audio"),data:f,mimeType:a.string(),annotations:t.AnnotationsSchema.optional(),_meta:a.record(a.string(),a.unknown()).optional()}),t.ToolUseContentSchema=a.object({type:a.literal("tool_use"),name:a.string(),id:a.string(),input:a.object({}).passthrough(),_meta:a.optional(a.object({}).passthrough())}).passthrough(),t.EmbeddedResourceSchema=a.object({type:a.literal("resource"),resource:a.union([t.TextResourceContentsSchema,t.BlobResourceContentsSchema]),annotations:t.AnnotationsSchema.optional(),_meta:a.record(a.string(),a.unknown()).optional()}),t.ResourceLinkSchema=t.ResourceSchema.extend({type:a.literal("resource_link")}),t.ContentBlockSchema=a.union([t.TextContentSchema,t.ImageContentSchema,t.AudioContentSchema,t.ResourceLinkSchema,t.EmbeddedResourceSchema]),t.PromptMessageSchema=a.object({role:a.enum(["user","assistant"]),content:t.ContentBlockSchema}),t.GetPromptResultSchema=t.ResultSchema.extend({description:a.optional(a.string()),messages:a.array(t.PromptMessageSchema)}),t.PromptListChangedNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/prompts/list_changed")}),t.ToolAnnotationsSchema=a.object({title:a.string().optional(),readOnlyHint:a.boolean().optional(),destructiveHint:a.boolean().optional(),idempotentHint:a.boolean().optional(),openWorldHint:a.boolean().optional()}),t.ToolExecutionSchema=a.object({taskSupport:a.enum(["required","optional","forbidden"]).optional()}),t.ToolSchema=a.object({...t.BaseMetadataSchema.shape,...t.IconsSchema.shape,description:a.string().optional(),inputSchema:a.object({type:a.literal("object"),properties:a.record(a.string(),o).optional(),required:a.array(a.string()).optional()}).catchall(a.unknown()),outputSchema:a.object({type:a.literal("object"),properties:a.record(a.string(),o).optional(),required:a.array(a.string()).optional()}).catchall(a.unknown()).optional(),annotations:a.optional(t.ToolAnnotationsSchema),execution:a.optional(t.ToolExecutionSchema),_meta:a.record(a.string(),a.unknown()).optional()}),t.ListToolsRequestSchema=t.PaginatedRequestSchema.extend({method:a.literal("tools/list")}),t.ListToolsResultSchema=t.PaginatedResultSchema.extend({tools:a.array(t.ToolSchema)}),t.CallToolResultSchema=t.ResultSchema.extend({content:a.array(t.ContentBlockSchema).default([]),structuredContent:a.record(a.string(),a.unknown()).optional(),isError:a.optional(a.boolean())}),t.CompatibilityCallToolResultSchema=t.CallToolResultSchema.or(t.ResultSchema.extend({toolResult:a.unknown()})),t.CallToolRequestParamsSchema=l.extend({name:a.string(),arguments:a.optional(a.record(a.string(),a.unknown()))}),t.CallToolRequestSchema=t.RequestSchema.extend({method:a.literal("tools/call"),params:t.CallToolRequestParamsSchema}),t.ToolListChangedNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/tools/list_changed")}),t.LoggingLevelSchema=a.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),t.SetLevelRequestParamsSchema=l.extend({level:t.LoggingLevelSchema}),t.SetLevelRequestSchema=t.RequestSchema.extend({method:a.literal("logging/setLevel"),params:t.SetLevelRequestParamsSchema}),t.LoggingMessageNotificationParamsSchema=u.extend({level:t.LoggingLevelSchema,logger:a.string().optional(),data:a.unknown()}),t.LoggingMessageNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/message"),params:t.LoggingMessageNotificationParamsSchema}),t.ModelHintSchema=a.object({name:a.string().optional()}),t.ModelPreferencesSchema=a.object({hints:a.optional(a.array(t.ModelHintSchema)),costPriority:a.optional(a.number().min(0).max(1)),speedPriority:a.optional(a.number().min(0).max(1)),intelligencePriority:a.optional(a.number().min(0).max(1))}),t.ToolChoiceSchema=a.object({mode:a.optional(a.enum(["auto","required","none"]))}),t.ToolResultContentSchema=a.object({type:a.literal("tool_result"),toolUseId:a.string().describe("The unique identifier for the corresponding tool call."),content:a.array(t.ContentBlockSchema).default([]),structuredContent:a.object({}).passthrough().optional(),isError:a.optional(a.boolean()),_meta:a.optional(a.object({}).passthrough())}).passthrough(),t.SamplingContentSchema=a.discriminatedUnion("type",[t.TextContentSchema,t.ImageContentSchema,t.AudioContentSchema]),t.SamplingMessageContentBlockSchema=a.discriminatedUnion("type",[t.TextContentSchema,t.ImageContentSchema,t.AudioContentSchema,t.ToolUseContentSchema,t.ToolResultContentSchema]),t.SamplingMessageSchema=a.object({role:a.enum(["user","assistant"]),content:a.union([t.SamplingMessageContentBlockSchema,a.array(t.SamplingMessageContentBlockSchema)]),_meta:a.optional(a.object({}).passthrough())}).passthrough(),t.CreateMessageRequestParamsSchema=l.extend({messages:a.array(t.SamplingMessageSchema),modelPreferences:t.ModelPreferencesSchema.optional(),systemPrompt:a.string().optional(),includeContext:a.enum(["none","thisServer","allServers"]).optional(),temperature:a.number().optional(),maxTokens:a.number().int(),stopSequences:a.array(a.string()).optional(),metadata:o.optional(),tools:a.optional(a.array(t.ToolSchema)),toolChoice:a.optional(t.ToolChoiceSchema)}),t.CreateMessageRequestSchema=t.RequestSchema.extend({method:a.literal("sampling/createMessage"),params:t.CreateMessageRequestParamsSchema}),t.CreateMessageResultSchema=t.ResultSchema.extend({model:a.string(),stopReason:a.optional(a.enum(["endTurn","stopSequence","maxTokens"]).or(a.string())),role:a.enum(["user","assistant"]),content:t.SamplingContentSchema}),t.CreateMessageResultWithToolsSchema=t.ResultSchema.extend({model:a.string(),stopReason:a.optional(a.enum(["endTurn","stopSequence","maxTokens","toolUse"]).or(a.string())),role:a.enum(["user","assistant"]),content:a.union([t.SamplingMessageContentBlockSchema,a.array(t.SamplingMessageContentBlockSchema)])}),t.BooleanSchemaSchema=a.object({type:a.literal("boolean"),title:a.string().optional(),description:a.string().optional(),default:a.boolean().optional()}),t.StringSchemaSchema=a.object({type:a.literal("string"),title:a.string().optional(),description:a.string().optional(),minLength:a.number().optional(),maxLength:a.number().optional(),format:a.enum(["email","uri","date","date-time"]).optional(),default:a.string().optional()}),t.NumberSchemaSchema=a.object({type:a.enum(["number","integer"]),title:a.string().optional(),description:a.string().optional(),minimum:a.number().optional(),maximum:a.number().optional(),default:a.number().optional()}),t.UntitledSingleSelectEnumSchemaSchema=a.object({type:a.literal("string"),title:a.string().optional(),description:a.string().optional(),enum:a.array(a.string()),default:a.string().optional()}),t.TitledSingleSelectEnumSchemaSchema=a.object({type:a.literal("string"),title:a.string().optional(),description:a.string().optional(),oneOf:a.array(a.object({const:a.string(),title:a.string()})),default:a.string().optional()}),t.LegacyTitledEnumSchemaSchema=a.object({type:a.literal("string"),title:a.string().optional(),description:a.string().optional(),enum:a.array(a.string()),enumNames:a.array(a.string()).optional(),default:a.string().optional()}),t.SingleSelectEnumSchemaSchema=a.union([t.UntitledSingleSelectEnumSchemaSchema,t.TitledSingleSelectEnumSchemaSchema]),t.UntitledMultiSelectEnumSchemaSchema=a.object({type:a.literal("array"),title:a.string().optional(),description:a.string().optional(),minItems:a.number().optional(),maxItems:a.number().optional(),items:a.object({type:a.literal("string"),enum:a.array(a.string())}),default:a.array(a.string()).optional()}),t.TitledMultiSelectEnumSchemaSchema=a.object({type:a.literal("array"),title:a.string().optional(),description:a.string().optional(),minItems:a.number().optional(),maxItems:a.number().optional(),items:a.object({anyOf:a.array(a.object({const:a.string(),title:a.string()}))}),default:a.array(a.string()).optional()}),t.MultiSelectEnumSchemaSchema=a.union([t.UntitledMultiSelectEnumSchemaSchema,t.TitledMultiSelectEnumSchemaSchema]),t.EnumSchemaSchema=a.union([t.LegacyTitledEnumSchemaSchema,t.SingleSelectEnumSchemaSchema,t.MultiSelectEnumSchemaSchema]),t.PrimitiveSchemaDefinitionSchema=a.union([t.EnumSchemaSchema,t.BooleanSchemaSchema,t.StringSchemaSchema,t.NumberSchemaSchema]),t.ElicitRequestFormParamsSchema=l.extend({mode:a.literal("form").optional(),message:a.string(),requestedSchema:a.object({type:a.literal("object"),properties:a.record(a.string(),t.PrimitiveSchemaDefinitionSchema),required:a.array(a.string()).optional()})}),t.ElicitRequestURLParamsSchema=l.extend({mode:a.literal("url"),message:a.string(),elicitationId:a.string(),url:a.string().url()}),t.ElicitRequestParamsSchema=a.union([t.ElicitRequestFormParamsSchema,t.ElicitRequestURLParamsSchema]),t.ElicitRequestSchema=t.RequestSchema.extend({method:a.literal("elicitation/create"),params:t.ElicitRequestParamsSchema}),t.ElicitationCompleteNotificationParamsSchema=u.extend({elicitationId:a.string()}),t.ElicitationCompleteNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/elicitation/complete"),params:t.ElicitationCompleteNotificationParamsSchema}),t.ElicitResultSchema=t.ResultSchema.extend({action:a.enum(["accept","decline","cancel"]),content:a.preprocess(e=>null===e?void 0:e,a.record(a.string(),a.union([a.string(),a.number(),a.boolean(),a.array(a.string())])).optional())}),t.ResourceTemplateReferenceSchema=a.object({type:a.literal("ref/resource"),uri:a.string()}),t.ResourceReferenceSchema=t.ResourceTemplateReferenceSchema,t.PromptReferenceSchema=a.object({type:a.literal("ref/prompt"),name:a.string()}),t.CompleteRequestParamsSchema=l.extend({ref:a.union([t.PromptReferenceSchema,t.ResourceTemplateReferenceSchema]),argument:a.object({name:a.string(),value:a.string()}),context:a.object({arguments:a.record(a.string(),a.string()).optional()}).optional()}),t.CompleteRequestSchema=t.RequestSchema.extend({method:a.literal("completion/complete"),params:t.CompleteRequestParamsSchema}),t.CompleteResultSchema=t.ResultSchema.extend({completion:a.looseObject({values:a.array(a.string()).max(100),total:a.optional(a.number().int()),hasMore:a.optional(a.boolean())})}),t.RootSchema=a.object({uri:a.string().startsWith("file://"),name:a.string().optional(),_meta:a.record(a.string(),a.unknown()).optional()}),t.ListRootsRequestSchema=t.RequestSchema.extend({method:a.literal("roots/list")}),t.ListRootsResultSchema=t.ResultSchema.extend({roots:a.array(t.RootSchema)}),t.RootsListChangedNotificationSchema=t.NotificationSchema.extend({method:a.literal("notifications/roots/list_changed")}),t.ClientRequestSchema=a.union([t.PingRequestSchema,t.InitializeRequestSchema,t.CompleteRequestSchema,t.SetLevelRequestSchema,t.GetPromptRequestSchema,t.ListPromptsRequestSchema,t.ListResourcesRequestSchema,t.ListResourceTemplatesRequestSchema,t.ReadResourceRequestSchema,t.SubscribeRequestSchema,t.UnsubscribeRequestSchema,t.CallToolRequestSchema,t.ListToolsRequestSchema,t.GetTaskRequestSchema,t.GetTaskPayloadRequestSchema,t.ListTasksRequestSchema]),t.ClientNotificationSchema=a.union([t.CancelledNotificationSchema,t.ProgressNotificationSchema,t.InitializedNotificationSchema,t.RootsListChangedNotificationSchema,t.TaskStatusNotificationSchema]),t.ClientResultSchema=a.union([t.EmptyResultSchema,t.CreateMessageResultSchema,t.CreateMessageResultWithToolsSchema,t.ElicitResultSchema,t.ListRootsResultSchema,t.GetTaskResultSchema,t.ListTasksResultSchema,t.CreateTaskResultSchema]),t.ServerRequestSchema=a.union([t.PingRequestSchema,t.CreateMessageRequestSchema,t.ElicitRequestSchema,t.ListRootsRequestSchema,t.GetTaskRequestSchema,t.GetTaskPayloadRequestSchema,t.ListTasksRequestSchema]),t.ServerNotificationSchema=a.union([t.CancelledNotificationSchema,t.ProgressNotificationSchema,t.LoggingMessageNotificationSchema,t.ResourceUpdatedNotificationSchema,t.ResourceListChangedNotificationSchema,t.ToolListChangedNotificationSchema,t.PromptListChangedNotificationSchema,t.TaskStatusNotificationSchema,t.ElicitationCompleteNotificationSchema]),t.ServerResultSchema=a.union([t.EmptyResultSchema,t.InitializeResultSchema,t.CompleteResultSchema,t.GetPromptResultSchema,t.ListPromptsResultSchema,t.ListResourcesResultSchema,t.ListResourceTemplatesResultSchema,t.ReadResourceResultSchema,t.CallToolResultSchema,t.ListToolsResultSchema,t.GetTaskResultSchema,t.ListTasksResultSchema,t.CreateTaskResultSchema]);class m extends Error{constructor(e,t,n){super(`MCP error ${e}: ${t}`),this.code=e,this.data=n,this.name="McpError"}static fromError(e,t,n){if(e===d.UrlElicitationRequired&&n){const e=n;if(e.elicitations)return new y(e.elicitations,t)}return new m(e,t,n)}}t.McpError=m;class y extends m{constructor(e,t=`URL elicitation${e.length>1?"s":""} required`){super(d.UrlElicitationRequired,t,{elicitations:e})}get elicitations(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.elicitations)&&void 0!==t?t:[]}}t.UrlElicitationRequiredError=y},1343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[].concat(e),n=Object.create(null);for(;t.length;){const e=t.pop();if(e)switch(e.type){case"ArrayPattern":t.push(...e.elements);break;case"AssignmentExpression":case"AssignmentPattern":case"ForInStatement":case"ForOfStatement":t.push(e.left);break;case"ObjectPattern":t.push(...e.properties);break;case"ObjectProperty":t.push(e.value);break;case"RestElement":case"UpdateExpression":t.push(e.argument);break;case"UnaryExpression":"delete"===e.operator&&t.push(e.argument);break;case"Identifier":n[e.name]=e}}return n}},1602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(29709),i=n(2352),s=n(79578);const{VISITOR_KEYS:a}=i;t.default=class{constructor(e,t,n,r){this.queue=null,this.priorityQueue=null,this.parentPath=r,this.scope=e,this.state=n,this.opts=t}shouldVisit(e){const t=this.opts;if(t.enter||t.exit)return!0;if(t[e.type])return!0;const n=a[e.type];if(null==n||!n.length)return!1;for(const t of n)if(e[t])return!0;return!1}create(e,t,n,i){return r.default.get({parentPath:this.parentPath,parent:e,container:t,key:n,listKey:i})}maybeQueue(e,t){this.queue&&(t?this.queue.push(e):this.priorityQueue.push(e))}visitMultiple(e,t,n){if(0===e.length)return!1;const r=[];for(let i=0;i<e.length;i++){const s=e[i];s&&this.shouldVisit(s)&&r.push(this.create(t,e,i,n))}return this.visitQueue(r)}visitSingle(e,t){return!!this.shouldVisit(e[t])&&this.visitQueue([this.create(e,e,t)])}visitQueue(e){this.queue=e,this.priorityQueue=[];const t=new WeakSet;let n=!1,r=0;for(;r<e.length;){const i=e[r];if(r++,s.resync.call(i),0!==i.contexts.length&&i.contexts[i.contexts.length-1]===this||s.pushContext.call(i,this),null===i.key)continue;const{node:a}=i;if(!t.has(a)){if(a&&t.add(a),i.visit()){n=!0;break}if(this.priorityQueue.length&&(n=this.visitQueue(this.priorityQueue),this.priorityQueue=[],this.queue=e,n))break}}for(let t=0;t<r;t++)s.popContext.call(e[t]);return this.queue=null,n}visit(e,t){const n=e[t];return!!n&&(Array.isArray(n)?this.visitMultiple(n,e,t):this.visitSingle(e,t))}}},1708:e=>{"use strict";e.exports=require("node:process")},1733:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},1882:(e,t,n)=>{var r=n(72552),i=n(23805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},2107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!1)};var r=n(85279)},2327:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51980),i=n(66596),s=n(26670),a=n(99048),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:o,data:c,errsCount:l,it:u}=e;if(!l)throw new Error("ajv implementation error");const{allErrors:d,opts:p}=u;if(u.props=!0,"all"!==p.removeAdditional&&(0,a.alwaysValidSchema)(u,n))return;const h=(0,r.allSchemaProperties)(o.properties),f=(0,r.allSchemaProperties)(o.patternProperties);function m(e){t.code(i._`delete ${c}[${e}]`)}function y(r){if("all"===p.removeAdditional||p.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,a.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===p.removeAdditional?(g(r,n,!1),t.if((0,i.not)(n),()=>{e.reset(),m(r)})):(g(r,n),d||t.if((0,i.not)(n),()=>t.break()))}}}function g(t,n,r){const i={keyword:"additionalProperties",dataProp:t,dataPropType:a.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}t.forIn("key",c,n=>{h.length||f.length?t.if(function(n){let s;if(h.length>8){const e=(0,a.schemaRefOrVal)(u,o.properties,"properties");s=(0,r.isOwnProperty)(t,e,n)}else s=h.length?(0,i.or)(...h.map(e=>i._`${n} === ${e}`)):i.nil;return f.length&&(s=(0,i.or)(s,...f.map(t=>i._`${(0,r.usePattern)(e,t)}.test(${n})`))),(0,i.not)(s)}(n),()=>y(n)):y(n)}),e.ok(i._`${l} === ${s.default.errors}`)}};t.default=o},2352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={react:!0,assertNode:!0,createTypeAnnotationBasedOnTypeof:!0,createUnionTypeAnnotation:!0,createFlowUnionType:!0,createTSUnionType:!0,cloneNode:!0,clone:!0,cloneDeep:!0,cloneDeepWithoutLoc:!0,cloneWithoutLoc:!0,addComment:!0,addComments:!0,inheritInnerComments:!0,inheritLeadingComments:!0,inheritsComments:!0,inheritTrailingComments:!0,removeComments:!0,ensureBlock:!0,toBindingIdentifierName:!0,toBlock:!0,toComputedKey:!0,toExpression:!0,toIdentifier:!0,toKeyAlias:!0,toStatement:!0,valueToNode:!0,appendToMemberExpression:!0,inherits:!0,prependToMemberExpression:!0,removeProperties:!0,removePropertiesDeep:!0,removeTypeDuplicates:!0,getAssignmentIdentifiers:!0,getBindingIdentifiers:!0,getOuterBindingIdentifiers:!0,getFunctionName:!0,traverse:!0,traverseFast:!0,shallowEqual:!0,is:!0,isBinding:!0,isBlockScoped:!0,isImmutable:!0,isLet:!0,isNode:!0,isNodesEquivalent:!0,isPlaceholderType:!0,isReferenced:!0,isScope:!0,isSpecifierDefault:!0,isType:!0,isValidES3Identifier:!0,isValidIdentifier:!0,isVar:!0,matchesPattern:!0,validate:!0,buildMatchMemberExpression:!0,__internal__deprecationWarning:!0};Object.defineProperty(t,"__internal__deprecationWarning",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(t,"addComment",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"addComments",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"appendToMemberExpression",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"assertNode",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"buildMatchMemberExpression",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"cloneDeepWithoutLoc",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"cloneNode",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"cloneWithoutLoc",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"createFlowUnionType",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createTSUnionType",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ensureBlock",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"getAssignmentIdentifiers",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"getBindingIdentifiers",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(t,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(t,"inheritInnerComments",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"inheritLeadingComments",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"inheritTrailingComments",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"inherits",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(t,"inheritsComments",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"isBinding",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"isBlockScoped",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"isImmutable",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(t,"isLet",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(t,"isNodesEquivalent",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"isPlaceholderType",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(t,"isReferenced",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(t,"isScope",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(t,"isSpecifierDefault",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"isType",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(t,"isValidES3Identifier",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"isValidIdentifier",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"isVar",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"matchesPattern",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(t,"prependToMemberExpression",{enumerable:!0,get:function(){return F.default}}),t.react=void 0,Object.defineProperty(t,"removeComments",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"removeProperties",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"removePropertiesDeep",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(t,"removeTypeDuplicates",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"toBindingIdentifierName",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"toBlock",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"toComputedKey",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"toExpression",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"toIdentifier",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"toKeyAlias",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"toStatement",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"traverse",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"traverseFast",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(t,"valueToNode",{enumerable:!0,get:function(){return R.default}});var i=n(45682),s=n(85004),a=n(49018),o=n(34568),c=n(72246);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=n(95958),u=n(31009),d=n(46049),p=n(10985);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))});var h=n(48079);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))});var f=n(85279),m=n(2107),y=n(10245),g=n(35299),v=n(62425),b=n(76211),S=n(52598),T=n(7932),_=n(55766),P=n(18125),E=n(15586),x=n(93437),w=n(67980);Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))});var A=n(93422);Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))});var O=n(57931),I=n(82234),C=n(25010),k=n(33017),N=n(26133),L=n(36744),$=n(72402),M=n(99198),R=n(44544),j=n(39793);Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===j[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}}))});var D=n(74001),U=n(89564),F=n(96219),B=n(85333),Z=n(87639),z=n(95237),V=n(1343),q=n(70329),K=n(49420),W=n(5109),G=n(53357);Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===G[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return G[e]}}))});var J=n(58943),H=n(96616),Y=n(93828),X=n(2687),Q=n(29127),ee=n(19722),te=n(63847),ne=n(73908),re=n(7003),ie=n(53571),se=n(37591),ae=n(89246),oe=n(22457),ce=n(94460),le=n(91384),ue=n(60983),de=n(70499),pe=n(94965),he=n(57446),fe=n(3937),me=n(98960);Object.keys(me).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===me[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return me[e]}}))});var ye=n(63762),ge=n(90640);t.react={isReactComponent:i.default,isCompatTag:s.default,buildChildren:a.default},t.toSequenceExpression=ge.default,process.env.BABEL_TYPES_8_BREAKING&&console.warn("BABEL_TYPES_8_BREAKING is not supported anymore. Use the latest Babel 8.0.0 pre-release instead!")},2519:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(t){return e[t]??null}const n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ongeldige invoer: verwacht ${a.stringifyPrimitive(e.values[0])}`:`Ongeldige optie: verwacht één van ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Te groot: verwacht dat ${e.origin??"waarde"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"elementen"}`:`Te groot: verwacht dat ${e.origin??"waarde"} ${n}${e.maximum.toString()} is`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Te klein: verwacht dat ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Te klein: verwacht dat ${e.origin} ${n}${e.minimum.toString()} is`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ongeldige tekst: moet met "${t.prefix}" beginnen`:"ends_with"===t.format?`Ongeldige tekst: moet op "${t.suffix}" eindigen`:"includes"===t.format?`Ongeldige tekst: moet "${t.includes}" bevatten`:"regex"===t.format?`Ongeldige tekst: moet overeenkomen met patroon ${t.pattern}`:`Ongeldig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}}};e.exports=t.default},2523:e=>{e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},2682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(96059)),a=n(96059),o=r.__importStar(n(41946)),c=n(41946),l=n(262),u=n(18868),d=n(54815);class p extends i.APIResource{constructor(){super(...arguments),this.runs=new o.Runs(this._client),this.messages=new s.Messages(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(d.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(d.path`/threads/${e}`,{body:t,...n,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t){return this._client.delete(d.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return u.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}t.Threads=p,p.Runs=c.Runs,p.Messages=a.Messages},2687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n&&"Identifier"===e.type&&"ObjectProperty"===t.type&&"ObjectExpression"===n.type)return!1;const i=r.default.keys[t.type];if(i)for(let n=0;n<i.length;n++){const r=t[i[n]];if(Array.isArray(r)){if(r.includes(e))return!0}else if(r===e)return!0}return!1};var r=n(70329)},2775:e=>{"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,i,s,a,o,c,l,u,d,p){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var h in i(a,o,c,l,u,d,p),a){var f=a[h];if(Array.isArray(f)){if(h in t.arrayKeywords)for(var m=0;m<f.length;m++)n(e,i,s,f[m],o+"/"+h+"/"+m,c,o,h,a,m)}else if(h in t.propsKeywords){if(f&&"object"==typeof f)for(var y in f)n(e,i,s,f[y],o+"/"+h+"/"+r(y),c,o,h,a,y)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&n(e,i,s,f,o+"/"+h,c,o,h,a)}s(a,o,c,l,u,d,p)}}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},2861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowFunctionExpression=function(e,t){e.async&&(this.word("async",!0),this.space()),this._shouldPrintArrowParamsParens(e)?this._params(e,void 0,t):this.print(e.params[0],!0),this._predicate(e,!0),this.space(),this.printInnerComments(),this.token("=>"),this.space(),this.tokenContext|=i.TokenContext.arrowBody,this.print(e.body)},t.FunctionDeclaration=t.FunctionExpression=function(e,t){this._functionHead(e,t),this.space(),this.print(e.body)},t._functionHead=function(e,t){e.async&&(this.word("async"),this.format.preserveFormat||(this._endsWithInnerRaw=!1),this.space()),this.word("function"),e.generator&&(this.format.preserveFormat||(this._endsWithInnerRaw=!1),this.tokenChar(42)),this.space(),e.id&&this.print(e.id),this._params(e,e.id,t),"TSDeclareFunction"!==e.type&&this._predicate(e)},t._methodHead=function(e){const t=e.kind,n=e.key;"get"!==t&&"set"!==t||(this.word(t),this.space()),e.async&&(this.word("async",!0),this.space()),"method"!==t&&"init"!==t||e.generator&&this.tokenChar(42),e.computed?(this.tokenChar(91),this.print(n),this.tokenChar(93)):this.print(n),e.optional&&this.tokenChar(63),this._params(e,e.computed&&"StringLiteral"!==e.key.type?void 0:e.key)},t._param=function(e){this.printJoin(e.decorators),this.print(e),e.optional&&this.tokenChar(63),this.print(e.typeAnnotation)},t._parameters=function(e,t){const n=this.enterDelimited(),r=this.shouldPrintTrailingComma(t),i=e.length;for(let t=0;t<i;t++)this._param(e[t]),(r||t<i-1)&&(this.token(",",void 0,t),this.space());this.token(t),n()},t._params=function(e,t,n){this.print(e.typeParameters);const r=a.call(this,t,n);r&&this.sourceIdentifierName(r.name,r.pos),this.tokenChar(40),this._parameters(e.params,")");const i="ArrowFunctionExpression"===e.type;this.print(e.returnType,i),this._noLineTerminator=i},t._predicate=function(e,t){e.predicate&&(e.returnType||this.tokenChar(58),this.space(),this.print(e.predicate,t))},t._shouldPrintArrowParamsParens=function(e){var t,n;if(1!==e.params.length)return!0;if(e.typeParameters||e.returnType||e.predicate)return!0;const r=e.params[0];if(!s(r)||r.typeAnnotation||r.optional||null!=(t=r.leadingComments)&&t.length||null!=(n=r.trailingComments)&&n.length)return!0;if(this.tokenMap){if(null==e.loc)return!0;if(null!==this.tokenMap.findMatching(e,"("))return!0;const t=this.tokenMap.findMatching(e,"=>");return null==(null==t?void 0:t.loc)||t.loc.start.line!==e.loc.start.line}return!!this.format.retainLines};var r=n(2352),i=n(31373);const{isIdentifier:s}=r;function a(e,t){let n,r=e;if(!r&&t){const e=t.type;"VariableDeclarator"===e?r=t.id:"AssignmentExpression"===e||"AssignmentPattern"===e?r=t.left:"ObjectProperty"===e||"ClassProperty"===e?t.computed&&"StringLiteral"!==t.key.type||(r=t.key):"ClassPrivateProperty"!==e&&"ClassAccessorProperty"!==e||(r=t.key)}if(r){var i,s;if("Identifier"===r.type)n={pos:null==(i=r.loc)?void 0:i.start,name:(null==(s=r.loc)?void 0:s.identifierName)||r.name};else if("PrivateName"===r.type){var a;n={pos:null==(a=r.loc)?void 0:a.start,name:"#"+r.id.name}}else if("StringLiteral"===r.type){var o;n={pos:null==(o=r.loc)?void 0:o.start,name:r.value}}return n}}},3061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parts=void 0;const r=n(82040),i=n(12018),s=n(54815);class a extends r.APIResource{create(e,t,n){return this._client.post(s.path`/uploads/${e}/parts`,(0,i.multipartFormRequestOptions)({body:t,...n},this._client))}}t.Parts=a},3141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnionType=function(e){return e.every(e=>o(e))?i?i(e):a(e):e.every(e=>c(e))&&s?s(e):void 0};var r=n(2352);const{createFlowUnionType:i,createTSUnionType:s,createUnionTypeAnnotation:a,isFlowType:o,isTSType:c}=r},3424:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function t(t){return e[t]??null}const n={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${e.expected}, பெறப்பட்டது ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"எண் அல்லாதது":"எண்";case"object":if(Array.isArray(e))return"அணி";if(null===e)return"வெறுமை";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${a.stringifyPrimitive(e.values[0])}`:`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${a.joinValues(e.values,"|")} இல் ஒன்று`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${e.origin??"மதிப்பு"} ${n}${e.maximum.toString()} ${r.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`:`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${e.origin??"மதிப்பு"} ${n}${e.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${e.origin} ${n}${e.minimum.toString()} ${r.unit} ஆக இருக்க வேண்டும்`:`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${e.origin} ${n}${e.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{const t=e;return"starts_with"===t.format?`தவறான சரம்: "${t.prefix}" இல் தொடங்க வேண்டும்`:"ends_with"===t.format?`தவறான சரம்: "${t.suffix}" இல் முடிவடைய வேண்டும்`:"includes"===t.format?`தவறான சரம்: "${t.includes}" ஐ உள்ளடக்க வேண்டும்`:"regex"===t.format?`தவறான சரம்: ${t.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`:`தவறான ${n[t.format]??e.format}`}case"not_multiple_of":return`தவறான எண்: ${e.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${e.keys.length>1?"கள்":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} இல் தவறான விசை`;case"invalid_union":default:return"தவறான உள்ளீடு";case"invalid_element":return`${e.origin} இல் தவறான மதிப்பு`}}};e.exports=t.default},3517:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(t){return e[t]??null}function r(e){return t[e]??e}const i={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Entrada inválida: se esperaba ${r(e.expected)}, recibido ${r((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":return Array.isArray(e)?"array":null===e?"null":Object.getPrototypeOf(e)!==Object.prototype?e.constructor.name:"object"}return t})(e.input))}`;case"invalid_value":return 1===e.values.length?`Entrada inválida: se esperaba ${a.stringifyPrimitive(e.values[0])}`:`Opción inválida: se esperaba una de ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",i=n(e.origin),s=r(e.origin);return i?`Demasiado grande: se esperaba que ${s??"valor"} tuviera ${t}${e.maximum.toString()} ${i.unit??"elementos"}`:`Demasiado grande: se esperaba que ${s??"valor"} fuera ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",i=n(e.origin),s=r(e.origin);return i?`Demasiado pequeño: se esperaba que ${s} tuviera ${t}${e.minimum.toString()} ${i.unit}`:`Demasiado pequeño: se esperaba que ${s} fuera ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Cadena inválida: debe comenzar con "${t.prefix}"`:"ends_with"===t.format?`Cadena inválida: debe terminar en "${t.suffix}"`:"includes"===t.format?`Cadena inválida: debe incluir "${t.includes}"`:"regex"===t.format?`Cadena inválida: debe coincidir con el patrón ${t.pattern}`:`Inválido ${i[t.format]??e.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${e.divisor}`;case"unrecognized_keys":return`Llave${e.keys.length>1?"s":""} desconocida${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Llave inválida en ${r(e.origin)}`;case"invalid_union":default:return"Entrada inválida";case"invalid_element":return`Valor inválido en ${r(e.origin)}`}}};e.exports=t.default},3650:(e,t,n)=>{var r=n(74335)(Object.keys,Object);e.exports=r},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=n(89935),s=t&&!t.nodeType&&t,a=s&&e&&!e.nodeType&&e,o=a&&a.exports===s?r.Buffer:void 0,c=(o?o.isBuffer:void 0)||i;e.exports=c},3906:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StdioClientTransport=t.DEFAULT_INHERITED_ENV_VARS=void 0,t.getDefaultEnvironment=c;const i=r(n(74993)),s=r(n(1708)),a=n(57075),o=n(29560);function c(){const e={};for(const n of t.DEFAULT_INHERITED_ENV_VARS){const t=s.default.env[n];void 0!==t&&(t.startsWith("()")||(e[n]=t))}return e}t.DEFAULT_INHERITED_ENV_VARS="win32"===s.default.platform?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE","PROGRAMFILES"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"],t.StdioClientTransport=class{constructor(e){this._readBuffer=new o.ReadBuffer,this._stderrStream=null,this._serverParams=e,"pipe"!==e.stderr&&"overlapped"!==e.stderr||(this._stderrStream=new a.PassThrough)}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((e,t)=>{var n,r,a,o,l;this._process=(0,i.default)(this._serverParams.command,null!==(n=this._serverParams.args)&&void 0!==n?n:[],{env:{...c(),...this._serverParams.env},stdio:["pipe","pipe",null!==(r=this._serverParams.stderr)&&void 0!==r?r:"inherit"],shell:!1,windowsHide:"win32"===s.default.platform&&"type"in s.default,cwd:this._serverParams.cwd}),this._process.on("error",e=>{var n;t(e),null===(n=this.onerror)||void 0===n||n.call(this,e)}),this._process.on("spawn",()=>{e()}),this._process.on("close",e=>{var t;this._process=void 0,null===(t=this.onclose)||void 0===t||t.call(this)}),null===(a=this._process.stdin)||void 0===a||a.on("error",e=>{var t;null===(t=this.onerror)||void 0===t||t.call(this,e)}),null===(o=this._process.stdout)||void 0===o||o.on("data",e=>{this._readBuffer.append(e),this.processReadBuffer()}),null===(l=this._process.stdout)||void 0===l||l.on("error",e=>{var t;null===(t=this.onerror)||void 0===t||t.call(this,e)}),this._stderrStream&&this._process.stderr&&this._process.stderr.pipe(this._stderrStream)})}get stderr(){var e,t;return this._stderrStream?this._stderrStream:null!==(t=null===(e=this._process)||void 0===e?void 0:e.stderr)&&void 0!==t?t:null}get pid(){var e,t;return null!==(t=null===(e=this._process)||void 0===e?void 0:e.pid)&&void 0!==t?t:null}processReadBuffer(){for(var e,t;;)try{const t=this._readBuffer.readMessage();if(null===t)break;null===(e=this.onmessage)||void 0===e||e.call(this,t)}catch(e){null===(t=this.onerror)||void 0===t||t.call(this,e)}}async close(){var e;if(this._process){const t=this._process;this._process=void 0;const n=new Promise(e=>{t.once("close",()=>{e()})});try{null===(e=t.stdin)||void 0===e||e.end()}catch(e){}if(await Promise.race([n,new Promise(e=>setTimeout(e,2e3).unref())]),null===t.exitCode){try{t.kill("SIGTERM")}catch(e){}await Promise.race([n,new Promise(e=>setTimeout(e,2e3).unref())])}if(null===t.exitCode)try{t.kill("SIGKILL")}catch(e){}}this._readBuffer.clear()}send(e){return new Promise(t=>{var n;if(!(null===(n=this._process)||void 0===n?void 0:n.stdin))throw new Error("Not connected");const r=(0,o.serializeMessage)(e);this._process.stdin.write(r)?t():this._process.stdin.once("drain",t)})}}},3937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.split(".");return e=>(0,r.default)(e,n,t)};var r=n(94965)},4076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:i,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),c=a?r._`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:r._`${o} !== parseInt(${o})`;e.fail$data(r._`(${i} === 0 || (${o} = ${n}/${i}, ${c}))`)}};t.default=i},4424:function(e){e.exports=function(){"use strict";const e=/^[\w+.-]+:\/\//,t=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,n=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function r(e){return e.startsWith("/")}function i(e){return/^[.?#]/.test(e)}function s(e){const n=t.exec(e);return a(n[1],n[2]||"",n[3],n[4]||"",n[5]||"/",n[6]||"",n[7]||"")}function a(e,t,n,r,i,s,a){return{scheme:e,user:t,host:n,port:r,path:i,query:s,hash:a,type:7}}function o(t){if(function(e){return e.startsWith("//")}(t)){const e=s("http:"+t);return e.scheme="",e.type=6,e}if(r(t)){const e=s("http://foo.com"+t);return e.scheme="",e.host="",e.type=5,e}if(function(e){return e.startsWith("file:")}(t))return function(e){const t=n.exec(e),i=t[2];return a("file:","",t[1]||"","",r(i)?i:"/"+i,t[3]||"",t[4]||"")}(t);if(function(t){return e.test(t)}(t))return s(t);const i=s("http://foo.com/"+t);return i.scheme="",i.host="",i.type=t?t.startsWith("?")?3:t.startsWith("#")?2:4:1,i}function c(e,t){const n=t<=4,r=e.path.split("/");let i=1,s=0,a=!1;for(let e=1;e<r.length;e++){const t=r[e];t?(a=!1,"."!==t&&(".."!==t?(r[i++]=t,s++):s?(a=!0,s--,i--):n&&(r[i++]=t))):a=!0}let o="";for(let e=1;e<i;e++)o+="/"+r[e];(!o||a&&!o.endsWith("/.."))&&(o+="/"),e.path=o}return function(e,t){if(!e&&!t)return"";const n=o(e);let r=n.type;if(t&&7!==r){const e=o(t),i=e.type;switch(r){case 1:n.hash=e.hash;case 2:n.query=e.query;case 3:case 4:!function(e,t){c(t,t.type),"/"===e.path?e.path=t.path:e.path=function(e){if(e.endsWith("/.."))return e;const t=e.lastIndexOf("/");return e.slice(0,t+1)}(t.path)+e.path}(n,e);case 5:n.user=e.user,n.host=e.host,n.port=e.port;case 6:n.scheme=e.scheme}i>r&&(r=i)}c(n,r);const s=n.query+n.hash;switch(r){case 2:case 3:return s;case 4:{const r=n.path.slice(1);return r?i(t||e)&&!i(r)?"./"+r+s:r+s:s||"."}case 5:return n.path+s;default:return n.scheme+"//"+n.user+n.host+n.port+n.path+s}}}()},4509:(e,t,n)=>{var r=n(12651);e.exports=function(e){return r(this,e).has(e)}},4664:(e,t,n)=>{var r=n(79770),i=n(63345),s=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return s.call(e,t)}))}:i;e.exports=o},4901:(e,t,n)=>{var r=n(72552),i=n(30294),s=n(40346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!a[r(e)]}},4946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(93697),i=n(51980),s=n(99048),a=n(2327),o={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:o,data:c,it:l}=e;"all"===l.opts.removeAdditional&&void 0===o.additionalProperties&&a.default.code(new r.KeywordCxt(l,a.default,"additionalProperties"));const u=(0,i.allSchemaProperties)(n);for(const e of u)l.definedProperties.add(e);l.opts.unevaluated&&u.length&&!0!==l.props&&(l.props=s.mergeEvaluated.props(t,(0,s.toHash)(u),l.props));const d=u.filter(e=>!(0,s.alwaysValidSchema)(l,n[e]));if(0===d.length)return;const p=t.name("valid");for(const n of d)h(n)?f(n):(t.if((0,i.propertyInData)(t,c,n,l.opts.ownProperties)),f(n),l.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(p);function h(e){return l.opts.useDefaults&&!l.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},p)}}};t.default=o},5109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("id"in e&&e.id)return{name:e.id.name,originalNode:e.id};let n,s="";if((0,r.isObjectProperty)(t,{value:e})?n=i(t):(0,r.isObjectMethod)(e)||(0,r.isClassMethod)(e)?(n=i(e),"get"===e.kind?s="get ":"set"===e.kind&&(s="set ")):(0,r.isVariableDeclarator)(t,{init:e})?n=t.id:(0,r.isAssignmentExpression)(t,{operator:"=",right:e})&&(n=t.left),!n)return null;const a=(0,r.isLiteral)(n)?function(e){return(0,r.isNullLiteral)(e)?"null":(0,r.isRegExpLiteral)(e)?`/${e.pattern}/${e.flags}`:(0,r.isTemplateLiteral)(e)?e.quasis.map(e=>e.value.raw).join(""):void 0!==e.value?String(e.value):null}(n):(0,r.isIdentifier)(n)?n.name:(0,r.isPrivateName)(n)?n.id.name:null;return null==a?null:{name:s+a,originalNode:n}};var r=n(98960);function i(e){if(!e.computed||(0,r.isLiteral)(e.key))return e.key}},5113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=void 0;const r=n(82040),i=n(262);class s extends r.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:(0,i.buildHeaders)([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}t.Speech=s},5143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60323),i=n(6492),s=n(66596),a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),c=(e,t={keywords:!0})=>{if(Array.isArray(t))return l(e,t,r.fullFormats,a),e;const[n,s]="fast"===t.mode?[r.fastFormats,o]:[r.fullFormats,a];return l(e,t.formats||r.formatNames,n,s),t.keywords&&(0,i.default)(e),e};function l(e,t,n,r){var i,a;null!==(i=(a=e.opts.code).formats)&&void 0!==i||(a.formats=s._`require("ajv-formats/dist/formats").${r}`);for(const r of t)e.addFormat(r,n[r])}c.get=(e,t="full")=>{const n=("fast"===t?r.fastFormats:r.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n},e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},5158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patternLikeCommon=t.importAttributes=t.functionTypeAnnotationCommon=t.functionDeclarationCommon=t.functionCommon=t.classMethodOrPropertyUnionShapeCommon=t.classMethodOrPropertyCommon=t.classMethodOrDeclareMethodCommon=void 0;var r=n(93828),i=n(60983),s=n(61e3),a=n(53973),o=n(93422),c=n(77596);const l=(e=!1)=>({unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{key:{validate:(0,c.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{key:{validate:e?(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"):(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral")}}}]}});t.classMethodOrPropertyUnionShapeCommon=l;const u=(0,c.defineAliasedType)("Standardized");u("ArrayExpression",{fields:{elements:{validate:(0,c.arrayOf)((0,c.assertNodeOrValueType)("null","Expression","SpreadElement")),default:process.env.BABEL_TYPES_8_BREAKING?void 0:[]}},visitor:["elements"],aliases:["Expression"]}),u("AssignmentExpression",{fields:{operator:{validate:process.env.BABEL_TYPES_8_BREAKING?Object.assign(function(){const e=(0,c.assertOneOf)(...o.ASSIGNMENT_OPERATORS),t=(0,c.assertOneOf)("=");return function(n,i,s){((0,r.default)("Pattern",n.left)?t:e)(n,i,s)}}(),{oneOf:o.ASSIGNMENT_OPERATORS}):(0,c.assertValueType)("string")},left:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","MemberExpression","OptionalMemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("LVal","OptionalMemberExpression")},right:{validate:(0,c.assertNodeType)("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),u("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:(0,c.assertOneOf)(...o.BINARY_OPERATORS)},left:{validate:function(){const e=(0,c.assertNodeType)("Expression"),t=(0,c.assertNodeType)("Expression","PrivateName");return Object.assign(function(n,r,i){("in"===n.operator?t:e)(n,r,i)},{oneOfNodeTypes:["Expression","PrivateName"]})}()},right:{validate:(0,c.assertNodeType)("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),u("InterpreterDirective",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}}}),u("Directive",{visitor:["value"],fields:{value:{validate:(0,c.assertNodeType)("DirectiveLiteral")}}}),u("DirectiveLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}}}),u("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:(0,c.arrayOfType)("Directive"),default:[]},body:(0,c.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","Block","Statement"]}),u("BreakStatement",{visitor:["label"],fields:{label:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),u("CallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,c.assertNodeType)("Expression","Super","V8IntrinsicIdentifier")},arguments:(0,c.validateArrayOfType)("Expression","SpreadElement","ArgumentPlaceholder"),typeArguments:{validate:(0,c.assertNodeType)("TypeParameterInstantiation"),optional:!0}},process.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),u("CatchClause",{visitor:["param","body"],fields:{param:{validate:(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")}},aliases:["Scopable","BlockParent"]}),u("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},consequent:{validate:(0,c.assertNodeType)("Expression")},alternate:{validate:(0,c.assertNodeType)("Expression")}},aliases:["Expression","Conditional"]}),u("ContinueStatement",{visitor:["label"],fields:{label:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),u("DebuggerStatement",{aliases:["Statement"]}),u("DoWhileStatement",{builder:["test","body"],visitor:["body","test"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),u("EmptyStatement",{aliases:["Statement"]}),u("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:(0,c.assertNodeType)("Expression")}},aliases:["Statement","ExpressionWrapper"]}),u("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:(0,c.assertNodeType)("Program")},comments:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertEach)((0,c.assertNodeType)("CommentBlock","CommentLine")):Object.assign(()=>{},{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}),optional:!0},tokens:{validate:(0,c.assertEach)(Object.assign(()=>{},{type:"any"})),optional:!0}}}),u("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),u("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:(0,c.assertNodeType)("VariableDeclaration","Expression"),optional:!0},test:{validate:(0,c.assertNodeType)("Expression"),optional:!0},update:{validate:(0,c.assertNodeType)("Expression"),optional:!0},body:{validate:(0,c.assertNodeType)("Statement")}}});const d=()=>({params:(0,c.validateArrayOfType)("FunctionParameter"),generator:{default:!1},async:{default:!1}});t.functionCommon=d;const p=()=>({returnType:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}});t.functionTypeAnnotationCommon=p;const h=()=>Object.assign({},d(),{declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}});t.functionDeclarationCommon=h,u("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","typeParameters","params","predicate","returnType","body"],fields:Object.assign({},h(),p(),{body:{validate:(0,c.assertNodeType)("BlockStatement")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:process.env.BABEL_TYPES_8_BREAKING?function(){const e=(0,c.assertNodeType)("Identifier");return function(t,n,i){(0,r.default)("ExportDefaultDeclaration",t)||e(i,"id",i.id)}}():void 0}),u("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},d(),p(),{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})});const f=()=>({typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}});t.patternLikeCommon=f,u("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","FunctionParameter","PatternLike","LVal","TSEntityName"],fields:Object.assign({},f(),{name:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("string"),Object.assign(function(e,t,n){if(!(0,i.default)(n,!1))throw new TypeError(`"${n}" is not a valid identifier name`)},{type:"string"})):(0,c.assertValueType)("string")}}),validate:process.env.BABEL_TYPES_8_BREAKING?function(e,t,n){const i=/\.(\w+)$/.exec(t.toString());if(!i)return;const[,a]=i,o={computed:!1};if("property"===a){if((0,r.default)("MemberExpression",e,o))return;if((0,r.default)("OptionalMemberExpression",e,o))return}else if("key"===a){if((0,r.default)("Property",e,o))return;if((0,r.default)("Method",e,o))return}else if("exported"===a){if((0,r.default)("ExportSpecifier",e))return}else if("imported"===a){if((0,r.default)("ImportSpecifier",e,{imported:n}))return}else if("meta"===a&&(0,r.default)("MetaProperty",e,{meta:n}))return;if(((0,s.isKeyword)(n.name)||(0,s.isReservedWord)(n.name,!1))&&"this"!==n.name)throw new TypeError(`"${n.name}" is not a valid identifier`)}:void 0}),u("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},consequent:{validate:(0,c.assertNodeType)("Statement")},alternate:{optional:!0,validate:(0,c.assertNodeType)("Statement")}}}),u("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:(0,c.assertNodeType)("Identifier")},body:{validate:(0,c.assertNodeType)("Statement")}}}),u("StringLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),u("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:(0,c.chain)((0,c.assertValueType)("number"),Object.assign(function(e,t,n){(1/n<0||!Number.isFinite(n))&&new Error(`NumericLiterals must be non-negative finite numbers. You can use t.valueToNode(${n}) instead.`)},{type:"number"}))}},aliases:["Expression","Pureish","Literal","Immutable"]}),u("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),u("BooleanLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),u("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:(0,c.assertValueType)("string")},flags:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("string"),Object.assign(function(e,t,n){const r=/[^dgimsuvy]/.exec(n);if(r)throw new TypeError(`"${r[0]}" is not a valid RegExp flag`)},{type:"string"})):(0,c.assertValueType)("string"),default:""}}}),u("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:(0,c.assertOneOf)(...o.LOGICAL_OPERATORS)},left:{validate:(0,c.assertNodeType)("Expression")},right:{validate:(0,c.assertNodeType)("Expression")}}}),u("MemberExpression",{builder:["object","property","computed",...process.env.BABEL_TYPES_8_BREAKING?[]:["optional"]],visitor:["object","property"],aliases:["Expression","LVal","PatternLike"],unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{property:{validate:(0,c.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{property:{validate:(0,c.assertNodeType)("Identifier","PrivateName")}}}]},fields:Object.assign({object:{validate:(0,c.assertNodeType)("Expression","Super")},property:{validate:function(){const e=(0,c.assertNodeType)("Identifier","PrivateName"),t=(0,c.assertNodeType)("Expression"),n=function(n,r,i){(n.computed?t:e)(n,r,i)};return n.oneOfNodeTypes=["Expression","Identifier","PrivateName"],n}()},computed:{default:!1}},process.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,c.assertValueType)("boolean"),optional:!0}})}),u("NewExpression",{inherits:"CallExpression"}),u("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceType:{validate:(0,c.assertOneOf)("script","module"),default:"script"},interpreter:{validate:(0,c.assertNodeType)("InterpreterDirective"),default:null,optional:!0},directives:{validate:(0,c.arrayOfType)("Directive"),default:[]},body:(0,c.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","Block"]}),u("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:(0,c.validateArrayOfType)("ObjectMethod","ObjectProperty","SpreadElement")}}),u("ObjectMethod",Object.assign({builder:["kind","key","params","body","computed","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"]},l(),{fields:Object.assign({},d(),p(),{kind:Object.assign({validate:(0,c.assertOneOf)("method","get","set")},process.env.BABEL_TYPES_8_BREAKING?{}:{default:"method"}),computed:{default:!1},key:{validate:function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),t=(0,c.assertNodeType)("Expression"),n=function(n,r,i){(n.computed?t:e)(n,r,i)};return n.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral"],n}()},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")}}),aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]})),u("ObjectProperty",{builder:["key","value","computed","shorthand",...process.env.BABEL_TYPES_8_BREAKING?[]:["decorators"]],unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{key:{validate:(0,c.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{key:{validate:(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName")}}}]},fields:{computed:{default:!1},key:{validate:function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"),t=(0,c.assertNodeType)("Expression");return Object.assign(function(n,r,i){(n.computed?t:e)(n,r,i)},{oneOfNodeTypes:["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"]})}()},value:{validate:(0,c.assertNodeType)("Expression","PatternLike")},shorthand:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),Object.assign(function(e,t,n){if(n){if(e.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true");if(!(0,r.default)("Identifier",e.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")}},{type:"boolean"})):(0,c.assertValueType)("boolean"),default:!1},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}},visitor:["decorators","key","value"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:process.env.BABEL_TYPES_8_BREAKING?function(){const e=(0,c.assertNodeType)("Identifier","Pattern","TSAsExpression","TSSatisfiesExpression","TSNonNullExpression","TSTypeAssertion"),t=(0,c.assertNodeType)("Expression");return function(n,i,s){((0,r.default)("ObjectPattern",n)?e:t)(s,"value",s.value)}}():void 0}),u("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["FunctionParameter","PatternLike","LVal"],deprecatedAlias:"RestProperty",fields:Object.assign({},f(),{argument:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression","RestElement","AssignmentPattern")}}),validate:process.env.BABEL_TYPES_8_BREAKING?function(e,t){const n=/(\w+)\[(\d+)\]/.exec(t.toString());if(!n)throw new Error("Internal Babel error: malformed key.");const[,r,i]=n;if(e[r].length>+i+1)throw new TypeError(`RestElement must be last element of ${r}`)}:void 0}),u("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,c.assertNodeType)("Expression"),optional:!0}}}),u("SequenceExpression",{visitor:["expressions"],fields:{expressions:(0,c.validateArrayOfType)("Expression")},aliases:["Expression"]}),u("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:(0,c.assertNodeType)("Expression")}}}),u("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:(0,c.assertNodeType)("Expression"),optional:!0},consequent:(0,c.validateArrayOfType)("Statement")}}),u("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:(0,c.assertNodeType)("Expression")},cases:(0,c.validateArrayOfType)("SwitchCase")}}),u("ThisExpression",{aliases:["Expression"]}),u("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),u("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertNodeType)("BlockStatement"),Object.assign(function(e){if(!e.handler&&!e.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")},{oneOfNodeTypes:["BlockStatement"]})):(0,c.assertNodeType)("BlockStatement")},handler:{optional:!0,validate:(0,c.assertNodeType)("CatchClause")},finalizer:{optional:!0,validate:(0,c.assertNodeType)("BlockStatement")}}}),u("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:(0,c.assertNodeType)("Expression")},operator:{validate:(0,c.assertOneOf)(...o.UNARY_OPERATORS)}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),u("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","MemberExpression"):(0,c.assertNodeType)("Expression")},operator:{validate:(0,c.assertOneOf)(...o.UPDATE_OPERATORS)}},visitor:["argument"],aliases:["Expression"]}),u("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},kind:{validate:(0,c.assertOneOf)("var","let","const","using","await using")},declarations:(0,c.validateArrayOfType)("VariableDeclarator")},validate:process.env.BABEL_TYPES_8_BREAKING?(()=>{const e=(0,c.assertNodeType)("Identifier","Placeholder"),t=(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","Placeholder"),n=(0,c.assertNodeType)("Identifier","VoidPattern","Placeholder");return function(i,s,a){const{kind:o,declarations:c}=a,l=(0,r.default)("ForXStatement",i,{left:a});if(l&&1!==c.length)throw new TypeError(`Exactly one VariableDeclarator is required in the VariableDeclaration of a ${i.type}`);for(const r of c)"const"===o||"let"===o||"var"===o?l||r.init?t(r,"id",r.id):e(r,"id",r.id):n(r,"id",r.id)}})():void 0}),u("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","VoidPattern"):(0,c.assertNodeType)("LVal","VoidPattern")},definite:{optional:!0,validate:(0,c.assertValueType)("boolean")},init:{optional:!0,validate:(0,c.assertNodeType)("Expression")}}}),u("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),u("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),u("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{left:{validate:(0,c.assertNodeType)("Identifier","ObjectPattern","ArrayPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:(0,c.assertNodeType)("Expression")},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}})}),u("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{elements:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeOrValueType)("null","PatternLike")))}})}),u("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["typeParameters","params","predicate","returnType","body"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},d(),p(),{expression:{validate:(0,c.assertValueType)("boolean")},body:{validate:(0,c.assertNodeType)("BlockStatement","Expression")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})}),u("ClassBody",{visitor:["body"],fields:{body:(0,c.validateArrayOfType)("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","ClassAccessorProperty","TSDeclareMethod","TSIndexSignature","StaticBlock")}}),u("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["decorators","id","typeParameters","superClass","superTypeParameters","mixins","implements","body"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,c.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,c.assertNodeType)("Expression")},superTypeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,c.arrayOfType)("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},mixins:{validate:(0,c.assertNodeType)("InterfaceExtends"),optional:!0}}}),u("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,c.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,c.assertNodeType)("Expression")},superTypeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,c.arrayOfType)("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},mixins:{validate:(0,c.assertNodeType)("InterfaceExtends"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},abstract:{validate:(0,c.assertValueType)("boolean"),optional:!0}},validate:process.env.BABEL_TYPES_8_BREAKING?function(){const e=(0,c.assertNodeType)("Identifier");return function(t,n,i){(0,r.default)("ExportDefaultDeclaration",t)||e(i,"id",i.id)}}():void 0});const m=t.importAttributes={attributes:{optional:!0,validate:(0,c.arrayOfType)("ImportAttribute")},assertions:{deprecated:!0,optional:!0,validate:(0,c.arrayOfType)("ImportAttribute")}};u("ExportAllDeclaration",{builder:["source"],visitor:["source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({source:{validate:(0,c.assertNodeType)("StringLiteral")},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("type","value"))},m)}),u("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:(0,c.validateType)("TSDeclareFunction","FunctionDeclaration","ClassDeclaration","Expression"),exportKind:(0,c.validateOptional)((0,c.assertOneOf)("value"))}}),u("ExportNamedDeclaration",{builder:["declaration","specifiers","source"],visitor:["declaration","specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({declaration:{optional:!0,validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertNodeType)("Declaration"),Object.assign(function(e,t,n){if(n&&e.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration");if(n&&e.source)throw new TypeError("Cannot export a declaration from a source")},{oneOfNodeTypes:["Declaration"]})):(0,c.assertNodeType)("Declaration")}},m,{specifiers:{default:[],validate:(0,c.arrayOf)(function(){const e=(0,c.assertNodeType)("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),t=(0,c.assertNodeType)("ExportSpecifier");return process.env.BABEL_TYPES_8_BREAKING?Object.assign(function(n,r,i){(n.source?e:t)(n,r,i)},{oneOfNodeTypes:["ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"]}):e}())},source:{validate:(0,c.assertNodeType)("StringLiteral"),optional:!0},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("type","value"))})}),u("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")},exported:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},exportKind:{validate:(0,c.assertOneOf)("type","value"),optional:!0}}}),u("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:function(){if(!process.env.BABEL_TYPES_8_BREAKING)return(0,c.assertNodeType)("VariableDeclaration","LVal");const e=(0,c.assertNodeType)("VariableDeclaration"),t=(0,c.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression");return Object.assign(function(n,i,s){(0,r.default)("VariableDeclaration",s)?e(n,i,s):t(n,i,s)},{oneOfNodeTypes:["VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"]})}()},right:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")},await:{default:!1}}}),u("ImportDeclaration",{builder:["specifiers","source"],visitor:["specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration"],fields:Object.assign({},m,{module:{optional:!0,validate:(0,c.assertValueType)("boolean")},phase:{default:null,validate:(0,c.assertOneOf)("source","defer")},specifiers:(0,c.validateArrayOfType)("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier"),source:{validate:(0,c.assertNodeType)("StringLiteral")},importKind:{validate:(0,c.assertOneOf)("type","typeof","value"),optional:!0}})}),u("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")}}}),u("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")}}}),u("ImportSpecifier",{visitor:["imported","local"],builder:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")},imported:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},importKind:{validate:(0,c.assertOneOf)("type","typeof","value"),optional:!0}}}),u("ImportExpression",{visitor:["source","options"],aliases:["Expression"],fields:{phase:{default:null,validate:(0,c.assertOneOf)("source","defer")},source:{validate:(0,c.assertNodeType)("Expression")},options:{validate:(0,c.assertNodeType)("Expression"),optional:!0}}}),u("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertNodeType)("Identifier"),Object.assign(function(e,t,n){let i;switch(n.name){case"function":i="sent";break;case"new":i="target";break;case"import":i="meta"}if(!(0,r.default)("Identifier",e.property,{name:i}))throw new TypeError("Unrecognised MetaProperty")},{oneOfNodeTypes:["Identifier"]})):(0,c.assertNodeType)("Identifier")},property:{validate:(0,c.assertNodeType)("Identifier")}}});const y=()=>({abstract:{validate:(0,c.assertValueType)("boolean"),optional:!0},accessibility:{validate:(0,c.assertOneOf)("public","private","protected"),optional:!0},static:{default:!1},override:{default:!1},computed:{default:!1},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},key:{validate:(0,c.chain)(function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),t=(0,c.assertNodeType)("Expression");return function(n,r,i){(n.computed?t:e)(n,r,i)}}(),(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression"))}});t.classMethodOrPropertyCommon=y;const g=()=>Object.assign({},d(),y(),{params:(0,c.validateArrayOfType)("FunctionParameter","TSParameterProperty"),kind:{validate:(0,c.assertOneOf)("get","set","method","constructor"),default:"method"},access:{validate:(0,c.chain)((0,c.assertValueType)("string"),(0,c.assertOneOf)("public","private","protected")),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}});t.classMethodOrDeclareMethodCommon=g,u("ClassMethod",Object.assign({aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"]},l(),{fields:Object.assign({},g(),p(),{body:{validate:(0,c.assertNodeType)("BlockStatement")}})})),u("ObjectPattern",{visitor:["decorators","properties","typeAnnotation"],builder:["properties"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{properties:(0,c.validateArrayOfType)("RestElement","ObjectProperty")})}),u("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),u("Super",{aliases:["Expression"]}),u("TaggedTemplateExpression",{visitor:["tag","typeParameters","quasi"],builder:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:(0,c.assertNodeType)("Expression")},quasi:{validate:(0,c.assertNodeType)("TemplateLiteral")},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),u("TemplateElement",{builder:["value","tail"],fields:{value:{validate:(0,c.chain)((0,c.assertShape)({raw:{validate:(0,c.assertValueType)("string")},cooked:{validate:(0,c.assertValueType)("string"),optional:!0}}),function(e){const t=e.value.raw;let n=!1;const r=()=>{throw new Error("Internal @babel/types error.")},{str:i,firstInvalidLoc:s}=(0,a.readStringContents)("template",t,0,0,0,{unterminated(){n=!0},strictNumericEscape:r,invalidEscapeSequence:r,numericSeparatorInEscapeSequence:r,unexpectedNumericSeparator:r,invalidDigit:r,invalidCodePoint:r});if(!n)throw new Error("Invalid raw");e.value.cooked=s?null:i})},tail:{default:!1}}}),u("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:(0,c.validateArrayOfType)("TemplateElement"),expressions:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Expression","TSType")),function(e,t,n){if(e.quasis.length!==n.length+1)throw new TypeError(`Number of ${e.type} quasis should be exactly one more than the number of expressions.\nExpected ${n.length+1} quasis but got ${e.quasis.length}`)})}}}),u("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),Object.assign(function(e,t,n){if(n&&!e.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")},{type:"boolean"})):(0,c.assertValueType)("boolean"),default:!1},argument:{optional:!0,validate:(0,c.assertNodeType)("Expression")}}}),u("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),u("Import",{aliases:["Expression"]}),u("BigIntLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),u("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,c.assertNodeType)("Identifier")}}}),u("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:(0,c.assertNodeType)("Expression")},property:{validate:function(){const e=(0,c.assertNodeType)("Identifier"),t=(0,c.assertNodeType)("Expression");return Object.assign(function(n,r,i){(n.computed?t:e)(n,r,i)},{oneOfNodeTypes:["Expression","Identifier"]})}()},computed:{default:!1},optional:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),(0,c.assertOptionalChainStart)()):(0,c.assertValueType)("boolean")}}}),u("OptionalCallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,c.assertNodeType)("Expression")},arguments:(0,c.validateArrayOfType)("Expression","SpreadElement","ArgumentPlaceholder"),optional:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),(0,c.assertOptionalChainStart)()):(0,c.assertValueType)("boolean")},typeArguments:{validate:(0,c.assertNodeType)("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:(0,c.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),u("ClassProperty",Object.assign({visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"]},l(),{fields:Object.assign({},y(),{value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}})})),u("ClassAccessorProperty",Object.assign({visitor:["decorators","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property","Accessor"]},l(!0),{fields:Object.assign({},y(),{key:{validate:(0,c.chain)(function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"),t=(0,c.assertNodeType)("Expression");return function(n,r,i){(n.computed?t:e)(n,r,i)}}(),(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression","PrivateName"))},value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}})})),u("ClassPrivateProperty",{visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:(0,c.assertNodeType)("PrivateName")},value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},static:{validate:(0,c.assertValueType)("boolean"),default:!1},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}}}),u("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["decorators","key","typeParameters","params","returnType","body"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},g(),p(),{kind:{validate:(0,c.assertOneOf)("get","set","method"),default:"method"},key:{validate:(0,c.assertNodeType)("PrivateName")},body:{validate:(0,c.assertNodeType)("BlockStatement")}})}),u("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:(0,c.assertNodeType)("Identifier")}}}),u("StaticBlock",{visitor:["body"],fields:{body:(0,c.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","FunctionParent"]}),u("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},value:{validate:(0,c.assertNodeType)("StringLiteral")}}})},5542:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function t(t){return e[t]??null}const n={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return e=>{switch(e.code){case"invalid_type":return`無効な入力: ${e.expected}が期待されましたが、${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"数値";case"object":if(Array.isArray(e))return"配列";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}が入力されました`;case"invalid_value":return 1===e.values.length?`無効な入力: ${a.stringifyPrimitive(e.values[0])}が期待されました`:`無効な選択: ${a.joinValues(e.values,"、")}のいずれかである必要があります`;case"too_big":{const n=e.inclusive?"以下である":"より小さい",r=t(e.origin);return r?`大きすぎる値: ${e.origin??"値"}は${e.maximum.toString()}${r.unit??"要素"}${n}必要があります`:`大きすぎる値: ${e.origin??"値"}は${e.maximum.toString()}${n}必要があります`}case"too_small":{const n=e.inclusive?"以上である":"より大きい",r=t(e.origin);return r?`小さすぎる値: ${e.origin}は${e.minimum.toString()}${r.unit}${n}必要があります`:`小さすぎる値: ${e.origin}は${e.minimum.toString()}${n}必要があります`}case"invalid_format":{const t=e;return"starts_with"===t.format?`無効な文字列: "${t.prefix}"で始まる必要があります`:"ends_with"===t.format?`無効な文字列: "${t.suffix}"で終わる必要があります`:"includes"===t.format?`無効な文字列: "${t.includes}"を含む必要があります`:"regex"===t.format?`無効な文字列: パターン${t.pattern}に一致する必要があります`:`無効な${n[t.format]??e.format}`}case"not_multiple_of":return`無効な数値: ${e.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${e.keys.length>1?"群":""}: ${a.joinValues(e.keys,"、")}`;case"invalid_key":return`${e.origin}内の無効なキー`;case"invalid_union":default:return"無効な入力";case"invalid_element":return`${e.origin}内の無効な値`}}};e.exports=t.default},5738:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceAnalyzer=void 0;const o=a(n(91398)),c=n(88221),l=n(96922),u=n(39531),d=n(77623),p=n(64133),h=n(73514),f=a(n(16928));class m{javaAstParser;reactParser;pythonAstParser;graphBuilder;entryPointDetector;importAnalyzer;isAnalyzing=!1;lastAnalysisTime=0;static MIN_ANALYSIS_INTERVAL=2e3;constructor(){this.javaAstParser=new c.JavaAstParser,this.reactParser=new l.ReactParser,this.pythonAstParser=new u.PythonAstParser,this.graphBuilder=new d.GraphBuilder,this.entryPointDetector=new p.EntryPointDetector,this.importAnalyzer=new h.ImportAnalyzer}async analyze(e){const t=Date.now();if(this.isAnalyzing)return console.log("Analysis already in progress, skipping..."),this.createEmptyResult();if(t-this.lastAnalysisTime<m.MIN_ANALYSIS_INTERVAL)return console.log("Analysis requested too soon, skipping..."),this.createEmptyResult();this.isAnalyzing=!0,this.lastAnalysisTime=t;const n=[],r=[],i=[],s=[];try{console.log("Detecting entry points...");const t=await this.entryPointDetector.detectEntryPoints(e);console.log(`Found ${t.length} entry points`),0===t.length&&r.push("No entry points detected. Analyzing all files...");const a=await o.workspace.findFiles("**/*.java","**/node_modules/**"),c=await o.workspace.findFiles("**/*.{tsx,jsx,ts,js}","**/node_modules/**"),l=await o.workspace.findFiles("**/*.py","{**/node_modules/**,**/__pycache__/**,**/venv/**,**/.venv/**,**/env/**}");console.log(`Found ${a.length} Java files, ${c.length} React/JS files, and ${l.length} Python files`);const u=new Map;for(const t of[...a,...c,...l])try{const n=await this.importAnalyzer.buildDependencyMap(t,e.fsPath),r=n.map(e=>e.targetFile);u.set(t.fsPath,r);for(const e of n)s.push({from:t.fsPath,to:e.targetFile,type:"imports",label:e.importedItems.join(", ")})}catch(e){}const d=new Set;a.forEach(e=>d.add(e.fsPath)),c.forEach(e=>d.add(e.fsPath)),l.forEach(e=>d.add(e.fsPath)),console.log(`Parsing ALL ${d.size} files in codebase...`);const p=new Set(t.map(e=>e.filePath));for(const e of d){const t=o.Uri.file(e),r=f.extname(e),a=p.has(e);try{let e;if(".java"===r)e=await this.javaAstParser.parse(t,a);else if([".tsx",".jsx",".ts",".js"].includes(r))e=await this.reactParser.parse(t,a);else{if(".py"!==r)continue;e=await this.pythonAstParser.parse(t,a)}i.push(...e.nodes),s.push(...e.edges)}catch(t){n.push({file:e,message:t instanceof Error?t.message:"Unknown error",type:"parse-error"})}}for(const e of t){const t=i.filter(t=>t.filePath===e.filePath&&!t.parentId&&("class"===t.type||"module"===t.type||"component"===t.type||"interface"===t.type||"function"===t.type));if(0===t.length){const n=i.find(t=>t.filePath===e.filePath);n&&t.push(n)}for(const n of t)n.isEntryPoint=!0,e.isPrimaryEntry?(n.isPrimaryEntry=!0,console.log(`Marked node as PRIMARY entry: ${n.label} (${n.type})`)):console.log(`Marked node as entry point: ${n.label} (${n.type})`)}const h=i.filter(e=>"java"===e.language&&(e.documentation?.description?.includes("@SpringBootApplication")||e.documentation?.description?.includes("[@application]")||e.sourceCode.includes("@SpringBootApplication")));for(const e of h)e.isEntryPoint=!0,e.isPrimaryEntry=!0,console.log(`AST-detected Spring Boot Application: ${e.label}`);const m=i.find(e=>e.isPrimaryEntry),y=i.filter(e=>e.isEntryPoint);if(m){for(const e of y)e.id!==m.id&&(u.get(m.filePath)||[]).includes(e.filePath)&&s.push({from:m.id,to:e.id,type:"contains",label:"renders"});const e=u.get(m.filePath)||[];for(const t of e){const e=i.filter(e=>e.filePath===t&&("component"===e.type||"class"===e.type||"module"===e.type));for(const t of e)s.some(e=>e.from===m.id&&e.to===t.id&&"contains"===e.type)||s.push({from:m.id,to:t.id,type:"contains",label:"imports"})}}for(const[e,t]of u.entries()){const n=i.filter(t=>t.filePath===e&&("component"===t.type||"class"===t.type||"module"===t.type||t.isEntryPoint||"function"===t.type));for(const e of n)for(const n of t){const t=i.filter(e=>e.filePath===n&&("component"===e.type||"class"===e.type||"function"===e.type||"module"===e.type));for(const n of t)s.some(t=>t.from===e.id&&t.to===n.id&&"contains"===t.type)||s.push({from:e.id,to:n.id,type:"contains",label:"uses"})}}console.log(`Created ${s.filter(e=>"contains"===e.type).length} 'contains' edges for hierarchy`);const g=t.find(e=>e.isPrimaryEntry),v=this.graphBuilder.buildFromEntryPoints(i,s,e.fsPath,g?[g.filePath]:t.map(e=>e.filePath)),b={totalNodes:v.nodes.length,totalEdges:v.edges.length,entryPoints:t.length,entryPointFiles:t.map(e=>e.filePath),errors:n.length,warnings:r.length,filesToParse:d.size,totalJavaFiles:a.length,totalReactFiles:c.length,totalPythonFiles:l.length};return console.log("Final analysis result:",b),this.isAnalyzing=!1,{graph:v,errors:n,warnings:r}}catch(e){throw this.isAnalyzing=!1,new Error(`Workspace analysis failed: ${e instanceof Error?e.message:"Unknown error"}`)}}createEmptyResult(){return{graph:{nodes:[],edges:[],metadata:{totalFiles:0,totalNodes:0,languages:[],rootPath:"",analyzedAt:new Date}},errors:[],warnings:["Skipped - analysis already in progress or too soon"]}}collectDependencyTree(e,t,n,r,i){if(r>=i||n.has(e))return;n.add(e);const s=t.get(e)||[];for(const e of s)this.collectDependencyTree(e,t,n,r+1,i)}async analyzeFile(e){const t=f.extname(e.fsPath);return".java"===t?(await this.javaAstParser.parse(e)).nodes:[".tsx",".jsx",".ts",".js"].includes(t)?(await this.reactParser.parse(e)).nodes:".py"===t?(await this.pythonAstParser.parse(e)).nodes:[]}}t.WorkspaceAnalyzer=m},5861:(e,t,n)=>{var r=n(55580),i=n(68223),s=n(32804),a=n(76545),o=n(28303),c=n(72552),l=n(47473),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=l(r),y=l(i),g=l(s),v=l(a),b=l(o),S=c;(r&&S(new r(new ArrayBuffer(1)))!=f||i&&S(new i)!=u||s&&S(s.resolve())!=d||a&&S(new a)!=p||o&&S(new o)!=h)&&(S=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return f;case y:return u;case g:return d;case v:return p;case b:return h}return t}),e.exports=S},6158:(e,t)=>{"use strict";function n(e){const t=e.length;let n,r=0,i=0;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),56320==(64512&n)&&i++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},6183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(92964)),a=n(92964),o=r.__importStar(n(13706)),c=n(13706),l=r.__importStar(n(38238)),u=n(38238),d=r.__importStar(n(2682)),p=n(2682);class h extends i.APIResource{constructor(){super(...arguments),this.realtime=new o.Realtime(this._client),this.chatkit=new l.ChatKit(this._client),this.assistants=new s.Assistants(this._client),this.threads=new d.Threads(this._client)}}t.Beta=h,h.Realtime=c.Realtime,h.ChatKit=u.ChatKit,h.Assistants=a.Assistants,h.Threads=p.Threads},6185:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.CodebaseDocGenerator=void 0;const o=a(n(91398)),c=a(n(79896)),l=a(n(16928)),u=n(99147),d=n(12921);t.CodebaseDocGenerator=class{docsFolder="";workspaceRoot="";nodesFolder="";graphFolder="";litellm;agent;useLLM=!0;useAgent=!0;currentPersona="developer";constructor(){this.litellm=(0,u.getLiteLLMService)(),this.agent=(0,d.getDocumentationAgent)()}isLLMAvailable(){return this.agent.isReady()||this.litellm.isReady()}isAgentAvailable(){return this.agent.isReady()}async promptLLMConfiguration(){return this.litellm.promptForConfiguration()}async loadExistingDocsAndFilter(e){const t=new Map,n=[];for(const r of e){const e=this.sanitizeFileName(r.id),i=l.join(this.nodesFolder,`${e}.json`);try{if(c.existsSync(i)){const e=c.readFileSync(i,"utf8"),n=JSON.parse(e),s=n.aiSummary||n.description,a=this.hashString(r.sourceCode||""),o=n.sourceCode?this.hashString(n.sourceCode):"";if(s&&a===o){t.set(r.id,n);continue}}}catch(e){}n.push(r)}return{nodesToProcess:n,existingDocs:t}}hashString(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t.toString(16)}ensureGitAttributesMergeStrategy(){try{const e=l.join(this.workspaceRoot,".gitattributes"),t='\n# Auto-resolve merge conflicts for generated documentation (.doc_sync)\n# Uses "ours" strategy - keeps current branch\'s version during merges\n# After merge, run "Sync Docs" to regenerate docs for the merged codebase\n.doc_sync/** merge=ours\n.doc_sync/docs.json merge=ours\n.doc_sync/graph/** merge=ours\n.doc_sync/nodes/** merge=ours\n.doc_sync/search.json merge=ours\n.doc_sync/metadata.json merge=ours\n';c.existsSync(e)?c.readFileSync(e,"utf-8").includes(".doc_sync/** merge=ours")||(c.appendFileSync(e,"\n"+t),console.log("Added .doc_sync merge strategy to existing .gitattributes")):(c.writeFileSync(e,t.trim()+"\n"),console.log("Created .gitattributes with .doc_sync merge strategy"))}catch(e){console.warn("Could not update .gitattributes:",e)}}async generateCodebaseDocsWithAST(e,t,n=!1){this.workspaceRoot=t.fsPath,this.docsFolder=l.join(this.workspaceRoot,".doc_sync"),this.nodesFolder=l.join(this.docsFolder,"nodes"),this.graphFolder=l.join(this.docsFolder,"graph"),this.useLLM=!1,this.useAgent=!1,o.window.showInformationMessage("📝 Scanning codebase with AST parsers...");const r=[this.docsFolder,this.nodesFolder,this.graphFolder];for(const e of r)c.existsSync(e)||c.mkdirSync(e,{recursive:!0});this.ensureGitAttributesMergeStrategy();const{nodes:i,edges:s}=e.graph,a=l.basename(this.workspaceRoot);let u=i;const d=new Map;if(!n){const{nodesToProcess:e,existingDocs:t}=await this.loadExistingDocsAndFilter(i);u=e,t.forEach((e,t)=>d.set(t,e)),t.size>0&&o.window.showInformationMessage(`⚡ Skipping ${t.size} cached nodes, processing ${e.length} new/changed nodes`)}let p;if(0===u.length)p=Array.from(d.values());else{const e=this.generateComponentDocsWithASTOnly(u,s,i);p=[...Array.from(d.values()),...e]}const h=this.analyzeArchitecture(i,s),f={projectName:a,generatedAt:(new Date).toISOString(),totalFiles:e.graph.metadata.totalFiles,totalComponents:i.length,languages:e.graph.metadata.languages,entryPoints:e.graph.metadata.entryPoints||[],components:p,architecture:h,generatedWithLLM:!1,generatedWithAgent:!1};return await this.saveDocumentation(f),o.window.showInformationMessage(`✅ AST scan complete! ${p.length} components documented.`),f}generateComponentDocsWithASTOnly(e,t,n){const r=[];for(const i of e){const e=this.generateComponentDoc(i,t,n);r.push(e)}return r}async generateCodebaseDocs(e,t,n=!0,r="developer",i=!1){if(this.workspaceRoot=t.fsPath,this.docsFolder=l.join(this.workspaceRoot,".doc_sync"),this.nodesFolder=l.join(this.docsFolder,"nodes"),this.graphFolder=l.join(this.docsFolder,"graph"),this.litellm=(0,u.getLiteLLMService)(),this.useLLM=n&&this.litellm.isReady(),this.useAgent=n&&this.agent.isReady(),n&&!this.useLLM&&!this.useAgent)throw new Error("AI documentation generation requires a valid API key. Please configure your OpenAI or LiteLLM API key.");const s=r.charAt(0).toUpperCase()+r.slice(1).replace("-"," ");let a;a=this.useAgent?`🧠 Generating ${s} docs using AI Agent`:this.useLLM?`🤖 Generating ${s} docs using LiteLLM`:`📝 Generating ${s} docs`,o.window.showInformationMessage(a),this.currentPersona=r;const d=[this.docsFolder,this.nodesFolder,this.graphFolder];for(const e of d)c.existsSync(e)||c.mkdirSync(e,{recursive:!0});const{nodes:p,edges:h}=e.graph,f=l.basename(this.workspaceRoot),m=new Map;let y,g=p;if(!i){const{nodesToProcess:e,existingDocs:t}=await this.loadExistingDocsAndFilter(p);g=e,t.forEach((e,t)=>m.set(t,e)),t.size>0&&o.window.showInformationMessage(`⚡ Skipping ${t.size} nodes with existing docs, processing ${e.length} new/changed nodes`)}if(0===g.length)y=Array.from(m.values());else if(this.useAgent){const e=await this.generateComponentDocsWithAgent(g,h);y=[...Array.from(m.values()),...e]}else{if(!this.useLLM)throw new Error("AI documentation generation requires a valid API key.");{const e=await this.generateComponentDocsWithLLM(g,h);y=[...Array.from(m.values()),...e]}}const v=this.analyzeArchitecture(p,h),b={projectName:f,generatedAt:(new Date).toISOString(),totalFiles:e.graph.metadata.totalFiles,totalComponents:p.length,languages:e.graph.metadata.languages,entryPoints:e.graph.metadata.entryPoints||[],components:y,architecture:v,generatedWithLLM:this.useLLM||this.useAgent,llmModel:this.useAgent?`Agent (${this.agent.isReady()?"OpenAI":"Fallback"})`:this.useLLM?"LiteLLM":void 0,generatedWithAgent:this.useAgent};return await this.saveDocumentation(b),b}async generateComponentDocsWithLLM(e,t){const n=[],r=e.length;return await o.window.withProgress({location:o.ProgressLocation.Notification,title:"Generating AI Documentation",cancellable:!0},async(i,s)=>{for(let a=0;a<e.length;a+=15){if(s.isCancellationRequested){o.window.showWarningMessage("Documentation generation cancelled");break}const c=e.slice(a,a+15),l=Math.round(a/r*100);i.report({increment:15/r*100,message:`Processing ${a+1}-${Math.min(a+15,r)} of ${r} (${l}%)`});const u=await Promise.all(c.map(async n=>{try{const r=new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),3e3)),i=this.generateComponentDocWithLLM(n,t,e);return await Promise.race([i,r])}catch(r){return this.generateComponentDoc(n,t,e)}}));n.push(...u),a+15<e.length&&await new Promise(e=>setTimeout(e,50))}}),n}async generateComponentDocsWithAgent(e,t){const n=[],r=e.length;return await o.window.withProgress({location:o.ProgressLocation.Notification,title:"🧠 AI Agent Generating Documentation",cancellable:!0},async(i,s)=>{for(let a=0;a<e.length;a+=5){if(s.isCancellationRequested){o.window.showWarningMessage("Documentation generation cancelled");break}const c=e.slice(a,a+5),l=Math.round(a/r*100);i.report({increment:5/r*100,message:`Analyzing ${a+1}-${Math.min(a+5,r)} of ${r} (${l}%)`});const u=await Promise.all(c.map(async n=>{try{const r=new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),8e3)),i=(async()=>{const r=await this.agent.generateDocumentation(n,t,e),i=this.generateComponentDoc(n,t,e);return{...i,summary:r.summary||i.summary,aiSummary:r.summary,description:r.description,technicalDetails:r.technicalDetails||i.technicalDetails,usageExamples:r.usageExamples,keywords:r.keywords,personaSpecific:r.personaSpecific}})();return await Promise.race([i,r])}catch(r){return this.generateComponentDoc(n,t,e)}}));n.push(...u),a+5<e.length&&await new Promise(e=>setTimeout(e,100))}}),n}async generateComponentDocWithLLM(e,t,n){const r=this.generateComponentDoc(e,t,n);if(this.useLLM&&this.litellm.isReady())try{const t=await this.litellm.generatePersonaDocumentation(e,this.currentPersona),n=await this.litellm.generateTechnicalDetails(e);return{...r,summary:t.summary||r.summary,aiSummary:t.summary,description:t.detailedDescription,aiPurpose:n?.purpose,aiKeyFeatures:t.keyPoints||n?.keyFeatures,aiComplexity:t.complexity||n?.complexity,usageExamples:t.sampleCode?[t.sampleCode]:void 0,personaSpecific:{[this.currentPersona]:t.personaInsights},technicalDetails:t.detailedDescription||r.technicalDetails}}catch(t){return console.error(`LLM enhancement failed for ${e.label}:`,t),r}return r}generateComponentDoc(e,t,n){const r=t.filter(t=>t.from===e.filePath).map(e=>{const t=n.find(t=>t.filePath===e.to);return t?t.label:l.basename(e.to)}),i=t.filter(t=>t.to===e.filePath).map(e=>{const t=n.find(t=>t.filePath===e.from);return t?t.label:l.basename(e.from)}),s=this.detectPatterns(e.sourceCode),a=this.generateSummary(e,r,i,s),o=this.generateTechnicalDetails(e);return{id:e.id,name:e.label,type:e.type,language:e.language,filePath:e.filePath,relativePath:l.relative(this.workspaceRoot,e.filePath),startLine:e.startLine,endLine:e.endLine,sourceCode:e.sourceCode,summary:a,technicalDetails:o,dependencies:r,dependents:i,patterns:s,props:e.props,hooks:e.hooks,parameters:e.parameters,returnType:e.returnType}}detectPatterns(e){const t=[];return e?(e.includes("useState")&&t.push("State Management (useState)"),e.includes("useEffect")&&t.push("Side Effects (useEffect)"),e.includes("useContext")&&t.push("Context Consumer"),e.includes("useReducer")&&t.push("Reducer Pattern"),(e.includes("useMemo")||e.includes("useCallback"))&&t.push("Memoization"),e.includes("useRef")&&t.push("Ref Usage"),e.includes("createContext")&&t.push("Context Provider"),(e.includes("fetch(")||e.includes("axios"))&&t.push("HTTP Requests"),e.includes("async ")&&e.includes("await ")&&t.push("Async/Await"),e.includes(".then(")&&t.push("Promise Chains"),e.includes("try")&&e.includes("catch")&&t.push("Error Handling"),e.includes("localStorage")&&t.push("Local Storage"),e.includes("sessionStorage")&&t.push("Session Storage"),(e.includes("dispatch")||e.includes("Redux"))&&t.push("Redux/State Management"),(e.includes("zustand")||e.includes("create("))&&t.push("Zustand Store"),(e.includes("useNavigate")||e.includes("useRouter"))&&t.push("Routing"),(e.includes("useParams")||e.includes("useSearchParams"))&&t.push("URL Parameters"),(e.includes("onSubmit")||e.includes("handleSubmit"))&&t.push("Form Handling"),e.includes("useState")&&e.includes("onChange")&&t.push("Controlled Inputs"),(e.includes("addEventListener")||e.includes("onClick"))&&t.push("Event Handling"),t):t}generateSummary(e,t,n,r){const i=[],s=e.endLine-e.startLine+1,a=s>200?"complex":s>50?"moderate":"simple";switch(e.type){case"component":i.push(`**${e.label}** is a React component that provides UI functionality.`),e.props&&e.props.length>0&&i.push(`\n\n**Props** (${e.props.length}): ${e.props.slice(0,8).join(", ")}${e.props.length>8?"...":""}.`),e.hooks&&e.hooks.length>0&&i.push(`\n\n**React Hooks Used**: ${e.hooks.join(", ")}.`),i.push(`\n\nThis is a ${a} component with ${s} lines of code.`);break;case"class":i.push(`**${e.label}** is a ${e.language} class that encapsulates related functionality and data.`),i.push(`\n\nThis ${a} class contains ${s} lines of code and provides a structured approach to organize related methods and properties.`),e.visibility&&i.push(` It has ${e.visibility} visibility.`);break;case"function":i.push(`**${e.label}** is a ${e.isAsync?"asynchronous ":""}utility function that performs a specific operation.`),e.parameters&&e.parameters.length>0&&i.push(`\n\n**Parameters** (${e.parameters.length}):\n${e.parameters.map(e=>`- \`${e.name}\`: ${e.type||"any"}${e.optional?" (optional)":""}`).join("\n")}`),e.returnType&&i.push(`\n\n**Returns**: \`${e.returnType}\``),i.push(`\n\nThis is a ${a} function with ${s} lines of code.`);break;case"method":i.push(`**${e.label}** is a ${e.isStatic?"static ":""}${e.isAsync?"async ":""}method that performs a specific operation within its class.`),e.parameters&&e.parameters.length>0&&i.push(`\n\n**Parameters**: ${e.parameters.map(e=>`\`${e.name}: ${e.type||"any"}\``).join(", ")}`),e.returnType&&i.push(`\n\n**Returns**: \`${e.returnType}\``);break;default:i.push(`**${e.label}** is a ${e.type} in the codebase located at \`${l.basename(e.filePath)}\`.`),i.push(`\n\nIt contains ${s} lines of ${e.language} code.`)}return t.length>0&&i.push(`\n\n**Dependencies** (${t.length}): This ${e.type} imports or uses: ${t.slice(0,6).join(", ")}${t.length>6?`, and ${t.length-6} more`:""}.`),n.length>0&&i.push(`\n\n**Used By** (${n.length}): This ${e.type} is imported by: ${n.slice(0,6).join(", ")}${n.length>6?`, and ${n.length-6} more`:""}.`),r.length>0&&i.push(`\n\n**Patterns Detected**: ${r.join(", ")}. These patterns indicate well-structured code following established software design principles.`),e.isEntryPoint&&i.push("\n\n⚡ **Entry Point**: This is an entry point of the application."),e.isPrimaryEntry&&i.push(" It is the **primary entry point**."),i.join("")}generateTechnicalDetails(e){const t=[];return t.push(`File: ${l.basename(e.filePath)}`),t.push(`Lines: ${e.startLine}-${e.endLine} (${e.endLine-e.startLine+1} lines)`),t.push(`Language: ${e.language}`),t.push(`Type: ${e.type}`),e.isAsync&&t.push("Async: Yes"),e.isStatic&&t.push("Static: Yes"),e.visibility&&t.push(`Visibility: ${e.visibility}`),e.isEntryPoint&&t.push("Entry Point: Yes"),t.join("\n")}analyzeArchitecture(e,t){const n=new Map,r=new Map,i=new Map,s=e.filter(e=>e.isEntryPoint),a=e.find(e=>e.isPrimaryEntry);e.forEach(e=>{const t=l.dirname(e.filePath),s=l.relative(this.workspaceRoot,t).split(l.sep)[0]||"root";n.set(s,(n.get(s)||0)+1),r.set(e.type,(r.get(e.type)||0)+1),i.set(e.language,(i.get(e.language)||0)+1)});const o=[];Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).forEach(([e,t])=>{let n="";const r=e.toLowerCase();r.includes("component")?n=" (UI Components)":r.includes("service")?n=" (Business Logic)":r.includes("controller")?n=" (API Controllers)":r.includes("model")||r.includes("entity")?n=" (Data Models)":r.includes("util")||r.includes("helper")?n=" (Utilities)":r.includes("hook")?n=" (React Hooks)":r.includes("context")?n=" (React Context)":r.includes("api")||r.includes("client")?n=" (API Layer)":r.includes("test")?n=" (Tests)":r.includes("config")?n=" (Configuration)":r.includes("repository")||r.includes("dao")?n=" (Data Access)":r.includes("dto")&&(n=" (Data Transfer Objects)"),o.push(`📁 **${e}**${n}: ${t} component${t>1?"s":""}`)});const c=new Set;e.forEach(e=>{this.detectPatterns(e.sourceCode).forEach(e=>c.add(e))});const u=Array.from(r.entries()).sort((e,t)=>t[1]-e[1]).map(([e,t])=>`**${t}** ${e}${t>1?"s":""}`).join(", "),d=Array.from(i.entries()).sort((e,t)=>t[1]-e[1]).map(([e,t])=>`${e} (${t})`).join(", "),p=Array.from(c).slice(0,10);let h="## 📊 Project Summary\n\n";h+=`This codebase contains **${e.length} components** organized across **${n.size} directories**.\n\n`,h+="### Component Breakdown\n",h+=`${u}\n\n`,h+="### Languages Used\n",h+=`${d}\n\n`,h+="### Dependency Graph\n",h+=`- **${t.length}** import/dependency relationships\n`,h+=`- Average dependencies per component: **${e.length>0?(t.length/e.length).toFixed(1):0}**\n\n`,a&&(h+="### Entry Point\n",h+=`The main entry point is \`${a.label}\` located at \`${l.relative(this.workspaceRoot,a.filePath)}\`.\n\n`),s.length>1&&(h+="### Additional Entry Points\n",s.filter(e=>!e.isPrimaryEntry).slice(0,5).forEach(e=>{h+=`- \`${e.label}\` - ${l.relative(this.workspaceRoot,e.filePath)}\n`}),h+="\n"),h+="## 🏗️ Architecture Insights\n\n";const f=e.some(e=>e.label.includes("Controller")||e.sourceCode?.includes("@Controller")||e.sourceCode?.includes("@RestController")),m=e.some(e=>e.label.includes("Service")||e.sourceCode?.includes("@Service")),y=e.some(e=>e.label.includes("Repository")||e.sourceCode?.includes("@Repository")),g=e.some(e=>"component"===e.type||e.sourceCode?.includes("React.")),v=e.some(e=>e.sourceCode?.includes("useState")||e.sourceCode?.includes("useEffect"));f&&m&&y?(h+="### Layered Architecture (Spring Boot)\n",h+="This project follows a **layered architecture** pattern typical of Spring Boot applications:\n\n",h+="1. **Controller Layer** - Handles HTTP requests and responses\n",h+="2. **Service Layer** - Contains business logic\n",h+="3. **Repository Layer** - Manages data persistence\n\n"):g&&v&&(h+="### React Component Architecture\n",h+="This project uses **React** with a component-based architecture:\n\n",h+="- **Functional Components** with React Hooks\n",c.has("State Management (useState)")&&(h+="- **Local State Management** using useState\n"),c.has("Side Effects (useEffect)")&&(h+="- **Side Effects** handled with useEffect\n"),c.has("Context Provider")&&(h+="- **Global State** via React Context\n"),h+="\n"),p.length>0&&(h+="### Design Patterns Detected\n",p.forEach(e=>{h+=`- ✅ ${e}\n`}),h+="\n");const b=e.length>0?Math.round(e.reduce((e,t)=>e+(t.endLine-t.startLine),0)/e.length):0;return h+="### Code Metrics\n",h+=`- Average component size: **~${b} lines**\n`,h+=`- Total directories: **${n.size}**\n`,h+=`- Component types: **${r.size}** different types\n\n`,h+="## 💡 Quick Navigation Tips\n\n",h+="1. Click on any component in the **Components** tab to see detailed documentation\n",h+="2. Use the **View in Graph** button to navigate to a component's position\n",h+="3. The graph shows parent-child relationships - expand nodes to see children\n",{overview:h,layers:o.slice(0,15),patterns:Array.from(c).slice(0,20)}}async saveDocumentation(e){const t=this.generateReactFlowGraph(e),n=l.join(this.graphFolder,"graph.json");c.writeFileSync(n,JSON.stringify(t,null,2));const r=l.join(this.docsFolder,"docs.json"),i={version:"2.0",projectName:e.projectName,generatedAt:e.generatedAt,totalFiles:e.totalFiles,totalComponents:e.totalComponents,languages:e.languages,entryPoints:e.entryPoints,architecture:e.architecture,generatedWithAI:e.generatedWithLLM||e.generatedWithAgent,aiModel:e.llmModel,nodes:{}};e.components.forEach(e=>{i.nodes[e.id]={id:e.id,name:e.name,type:e.type,language:e.language,filePath:e.filePath,relativePath:e.relativePath,startLine:e.startLine,endLine:e.endLine,aiSummary:e.aiSummary||e.summary,aiDescription:e.description||"",technicalDetails:e.technicalDetails||"",aiPurpose:e.aiPurpose||"",aiKeyFeatures:e.aiKeyFeatures||[],aiComplexity:e.aiComplexity||"medium",dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns,parameters:e.parameters||[],returnType:e.returnType||"",props:e.props||[],hooks:e.hooks||[],usageExamples:e.usageExamples||[],keywords:e.keywords||[],personaSpecific:e.personaSpecific||{}}}),c.writeFileSync(r,JSON.stringify(i,null,2)),e.components.forEach(e=>{const t=this.sanitizeFileName(e.id)+".json",n=l.join(this.nodesFolder,t),r={id:e.id,name:e.name,type:e.type,language:e.language,filePath:e.filePath,relativePath:e.relativePath,startLine:e.startLine,endLine:e.endLine,summary:e.aiSummary||e.summary,aiSummary:e.aiSummary,aiDescription:e.description,technicalDetails:e.technicalDetails,aiPurpose:e.aiPurpose,aiKeyFeatures:e.aiKeyFeatures,aiComplexity:e.aiComplexity,dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns,props:e.props,hooks:e.hooks,parameters:e.parameters,returnType:e.returnType,usageExamples:e.usageExamples,keywords:e.keywords,personaSpecific:e.personaSpecific,sourceCode:e.sourceCode};c.writeFileSync(n,JSON.stringify(r,null,2))});const s=l.join(this.docsFolder,"metadata.json"),a={projectName:e.projectName,generatedAt:e.generatedAt,totalFiles:e.totalFiles,totalComponents:e.totalComponents,languages:e.languages,entryPoints:e.entryPoints,architecture:e.architecture};c.writeFileSync(s,JSON.stringify(a,null,2));const o=l.join(this.docsFolder,"search.json"),u=this.generateRAGChunks(e);c.writeFileSync(o,JSON.stringify(u,null,2));const d=l.join(this.nodesFolder,"_index.json"),p=e.components.map(e=>({id:e.id,name:e.name,type:e.type,filePath:e.relativePath,fileName:this.sanitizeFileName(e.id)+".json"}));c.writeFileSync(d,JSON.stringify(p,null,2))}generateReactFlowGraph(e){const t=e.components.map(t=>({id:t.id,label:t.name,type:t.type,language:t.language,filePath:t.filePath,relativePath:t.relativePath,startLine:t.startLine,endLine:t.endLine,isEntryPoint:e.entryPoints.includes(t.filePath),isPrimaryEntry:e.entryPoints[0]===t.filePath,dependencyCount:t.dependencies.length,dependentCount:t.dependents.length,patterns:t.patterns,nodeFile:this.sanitizeFileName(t.id)+".json"})),n=new Set,r=[];return e.components.forEach(t=>{t.dependencies.forEach(i=>{const s=e.components.find(e=>e.name===i);if(s){const e=`${t.id}->${s.id}`;n.has(e)||(n.add(e),r.push({from:t.filePath,to:s.filePath,fromId:t.id,toId:s.id,type:"imports",label:i}))}})}),{version:"1.0",generatedAt:e.generatedAt,projectName:e.projectName,nodes:t,edges:r,metadata:{totalNodes:t.length,totalEdges:r.length,languages:e.languages,entryPoints:e.entryPoints}}}sanitizeFileName(e){return e.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").substring(0,100)}generateMarkdownOverview(e){const t=[];return t.push(`# ${e.projectName} - Codebase Documentation`),t.push(""),t.push(`> Generated on: ${new Date(e.generatedAt).toLocaleString()}`),t.push(""),t.push("## Overview"),t.push(""),t.push(e.architecture.overview),t.push(""),t.push("## Statistics"),t.push(""),t.push(`- **Total Files**: ${e.totalFiles}`),t.push(`- **Total Components**: ${e.totalComponents}`),t.push(`- **Languages**: ${e.languages.join(", ")}`),t.push(`- **Entry Points**: ${e.entryPoints.length>0?e.entryPoints.map(e=>l.basename(e)).join(", "):"None detected"}`),t.push(""),t.push("## Architecture Layers"),t.push(""),e.architecture.layers.forEach(e=>{t.push(`- ${e}`)}),t.push(""),t.push("## Patterns Used"),t.push(""),e.architecture.patterns.forEach(e=>{t.push(`- ${e}`)}),t.push(""),t.push("## Components"),t.push(""),t.push("| Name | Type | File | Dependencies |"),t.push("|------|------|------|--------------|"),e.components.slice(0,50).forEach(e=>{t.push(`| ${e.name} | ${e.type} | ${e.relativePath} | ${e.dependencies.length} |`)}),e.components.length>50&&(t.push("| ... | ... | ... | ... |"),t.push(`| *(${e.components.length-50} more components)* | | | |`)),t.join("\n")}generateComponentMarkdown(e){const t=[];return t.push(`# ${e.name}`),t.push(""),t.push(`> **Type**: ${e.type} | **Language**: ${e.language}`),t.push(""),e.aiSummary&&(t.push("## 🤖 AI Summary"),t.push(""),t.push(e.aiSummary),t.push("")),e.description&&(t.push("## Description"),t.push(""),t.push(e.description),t.push("")),t.push("## Summary"),t.push(""),t.push(e.summary),t.push(""),e.parameters&&e.parameters.length>0&&(t.push("## 📥 Parameters"),t.push(""),t.push("| Name | Type | Description |"),t.push("|------|------|-------------|"),e.parameters.forEach(e=>{t.push(`| \`${e.name}\` | \`${e.type}\` | - |`)}),t.push("")),e.returnType&&(t.push("## 📤 Return Type"),t.push(""),t.push("```typescript"),t.push(e.returnType),t.push("```"),t.push("")),e.props&&e.props.length>0&&(t.push("## ⚛️ Props"),t.push(""),e.props.forEach(e=>t.push(`- \`${e}\``)),t.push("")),e.hooks&&e.hooks.length>0&&(t.push("## 🪝 React Hooks Used"),t.push(""),e.hooks.forEach(e=>t.push(`- \`${e}\``)),t.push("")),t.push("## Technical Details"),t.push(""),t.push("```"),t.push(e.technicalDetails),t.push("```"),t.push(""),e.usageExamples&&e.usageExamples.length>0&&(t.push("## 📝 Usage Examples"),t.push(""),e.usageExamples.forEach((e,n)=>{t.push(`### Example ${n+1}`),t.push(""),t.push(e),t.push("")})),e.personaSpecific&&(t.push("## 👥 Persona-Specific Documentation"),t.push(""),e.personaSpecific.developer&&(t.push("### For Developers"),t.push(e.personaSpecific.developer),t.push("")),e.personaSpecific.architect&&(t.push("### For Architects"),t.push(e.personaSpecific.architect),t.push("")),e.personaSpecific["product-manager"]&&(t.push("### For Product Managers"),t.push(e.personaSpecific["product-manager"]),t.push("")),e.personaSpecific["business-analyst"]&&(t.push("### For Business Analysts"),t.push(e.personaSpecific["business-analyst"]),t.push(""))),e.patterns.length>0&&(t.push("## 🔄 Patterns"),t.push(""),e.patterns.forEach(e=>t.push(`- ${e}`)),t.push("")),e.dependencies.length>0&&(t.push("## 📦 Dependencies"),t.push(""),e.dependencies.forEach(e=>t.push(`- ${e}`)),t.push("")),e.dependents.length>0&&(t.push("## 🔗 Used By"),t.push(""),e.dependents.forEach(e=>t.push(`- ${e}`)),t.push("")),e.keywords&&e.keywords.length>0&&(t.push("## 🏷️ Keywords"),t.push(""),t.push(e.keywords.map(e=>`\`${e}\``).join(" ")),t.push("")),t.push("## 💻 Source Code"),t.push(""),t.push(`📍 **File**: \`${e.relativePath}\` (Lines ${e.startLine}-${e.endLine})`),t.push(""),t.push("```"+e.language),t.push(e.sourceCode),t.push("```"),t.join("\n")}generateRAGChunks(e){const t=[];return t.push({id:"overview",content:`Project: ${e.projectName}\n\n${e.architecture.overview}\n\nPatterns used: ${e.architecture.patterns.join(", ")}`,metadata:{type:"overview",project:e.projectName,totalComponents:e.totalComponents}}),e.components.forEach(e=>{t.push({id:e.id,content:`Component: ${e.name}\nType: ${e.type}\nFile: ${e.relativePath}\n\n${e.summary}\n\n${e.technicalDetails}`,metadata:{type:"component",name:e.name,componentType:e.type,language:e.language,filePath:e.filePath,relativePath:e.relativePath,dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns}}),e.sourceCode&&e.sourceCode.length<5e3&&t.push({id:`${e.id}-source`,content:`Source code for ${e.name}:\n\n${e.sourceCode}`,metadata:{type:"source",name:e.name,componentType:e.type,filePath:e.filePath}})}),t}getDocsFolder(){return this.docsFolder}docsExist(e){const t=l.join(e.fsPath,".doc_sync","metadata.json");return c.existsSync(t)}loadExistingDocs(e){const t=l.join(e.fsPath,".doc_sync","metadata.json"),n=l.join(e.fsPath,".doc_sync","graph","graph.json");if(c.existsSync(t)&&c.existsSync(n))try{const e=JSON.parse(c.readFileSync(t,"utf-8")),r=JSON.parse(c.readFileSync(n,"utf-8"));return{projectName:e.projectName,generatedAt:e.generatedAt,totalFiles:e.totalFiles,totalComponents:e.totalComponents,languages:e.languages,entryPoints:e.entryPoints,components:r.nodes||[],architecture:e.architecture}}catch{return null}return null}}},6492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const r=n(20647),i=n(66596),s=i.operators,a={formatMaximum:{okStr:"<=",ok:s.LTE,fail:s.GT},formatMinimum:{okStr:">=",ok:s.GTE,fail:s.LT},formatExclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},formatExclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},o={message:({keyword:e,schemaCode:t})=>i.str`should be ${a[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>i._`{comparison: ${a[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:o,code(e){const{gen:t,data:n,schemaCode:s,keyword:o,it:c}=e,{opts:l,self:u}=c;if(!l.validateFormats)return;const d=new r.KeywordCxt(c,u.RULES.all.format.definition,"format");function p(e){return i._`${e}.compare(${n}, ${s}) ${a[o].fail} 0`}d.$data?function(){const n=t.scopeValue("formats",{ref:u.formats,code:l.code.formats}),r=t.const("fmt",i._`${n}[${d.schemaCode}]`);e.fail$data((0,i.or)(i._`typeof ${r} != "object"`,i._`${r} instanceof RegExp`,i._`typeof ${r}.compare != "function"`,p(r)))}():function(){const n=d.schema,r=u.formats[n];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw new Error(`"${o}": format "${n}" does not define "compare" function`);const s=t.scopeValue("formats",{key:n,ref:r,code:l.code.formats?i._`${l.code.formats}${(0,i.getProperty)(n)}`:void 0});e.fail$data(p(s))}()},dependencies:["format"]},t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},6585:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,s=7*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,o){o=o||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var o=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*s;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===u&&isFinite(e))return o.long?(c=e,(l=Math.abs(c))>=i?a(c,l,i,"day"):l>=r?a(c,l,r,"hour"):l>=n?a(c,l,n,"minute"):l>=t?a(c,l,t,"second"):c+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=r?Math.round(e/r)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(79632).__exportStar(n(58490),t)},7003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){if("object"!=typeof t||"object"!=typeof n||null==t||null==n)return t===n;if(t.type!==n.type)return!1;const i=Object.keys(r.NODE_FIELDS[t.type]||t.type),s=r.VISITOR_KEYS[t.type];for(const r of i){const i=t[r],a=n[r];if(typeof i!=typeof a)return!1;if(null!=i||null!=a){if(null==i||null==a)return!1;if(Array.isArray(i)){if(!Array.isArray(a))return!1;if(i.length!==a.length)return!1;for(let t=0;t<i.length;t++)if(!e(i[t],a[t]))return!1}else if("object"!=typeof i||null!=s&&s.includes(r)){if(!e(i,a))return!1}else for(const e of Object.keys(i))if(i[e]!==a[e])return!1}}return!0};var r=n(39793)},7346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(90978);class i extends Error{constructor(e,t,n,i){super(i||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=i},7932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("innerComments",e,t)};var r=n(73205)},7942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentPlaceholder=function(){this.tokenChar(63)},t.ArrayPattern=t.ArrayExpression=function(e){const t=e.elements,n=t.length;this.tokenChar(91);const r=this.enterDelimited();for(let e=0;e<t.length;e++){const r=t[e];r?(e>0&&this.space(),this.print(r),(e<n-1||this.shouldPrintTrailingComma("]"))&&this.token(",",!1,e)):this.token(",",!1,e)}r(),this.tokenChar(93)},t.BigIntLiteral=function(e){const t=this.getPossibleRaw(e);this.format.minified||void 0===t?this.word(e.value+"n"):this.word(t)},t.BooleanLiteral=function(e){this.word(e.value?"true":"false")},t.Identifier=function(e){var t;this.sourceIdentifierName((null==(t=e.loc)?void 0:t.identifierName)||e.name),this.word(this.tokenMap?this._getRawIdentifier(e):e.name)},t.NullLiteral=function(){this.word("null")},t.NumericLiteral=function(e){const t=this.getPossibleRaw(e),n=this.format.jsescOption,r=e.value,s=r+"";n.numbers?this.number(i(r,n),r):null==t?this.number(s,r):this.format.minified?this.number(t.length<s.length?t:s,r):this.number(t,r)},t.ObjectPattern=t.ObjectExpression=function(e){const t=e.properties;if(this.tokenChar(123),t.length){const e=this.enterDelimited();this.space(),this.printList(t,this.shouldPrintTrailingComma("}"),!0,!0),this.space(),e()}this.sourceWithOffset("end",e.loc,-1),this.tokenChar(125)},t.ObjectMethod=function(e){this.printJoin(e.decorators),this._methodHead(e),this.space(),this.print(e.body)},t.ObjectProperty=function(e){if(this.printJoin(e.decorators),e.computed)this.tokenChar(91),this.print(e.key),this.tokenChar(93);else{if(s(e.value)&&a(e.key)&&e.key.name===e.value.left.name)return void this.print(e.value);if(this.print(e.key),e.shorthand&&a(e.key)&&a(e.value)&&e.key.name===e.value.name)return}this.tokenChar(58),this.space(),this.print(e.value)},t.PipelineBareFunction=function(e){this.print(e.callee)},t.PipelinePrimaryTopicReference=function(){this.tokenChar(35)},t.PipelineTopicExpression=function(e){this.print(e.expression)},t.RecordExpression=function(e){const t=e.properties;let n,r;if("bar"===this.format.recordAndTupleSyntaxType)n="{|",r="|}";else{if("hash"!==this.format.recordAndTupleSyntaxType&&null!=this.format.recordAndTupleSyntaxType)throw new Error(`The "recordAndTupleSyntaxType" generator option must be "bar" or "hash" (${JSON.stringify(this.format.recordAndTupleSyntaxType)} received).`);n="#{",r="}"}this.token(n),t.length&&(this.space(),this.printList(t,this.shouldPrintTrailingComma(r),!0,!0),this.space()),this.token(r)},t.RegExpLiteral=function(e){this.word(`/${e.pattern}/${e.flags}`)},t.SpreadElement=t.RestElement=function(e){this.token("..."),this.print(e.argument)},t.StringLiteral=function(e){const t=this.getPossibleRaw(e);if(!this.format.minified&&void 0!==t)return void this.token(t);const n=i(e.value,this.format.jsescOption);this.token(n)},t.TopicReference=function(){const{topicToken:e}=this.format;if(!l.has(e)){const t=JSON.stringify(e),n=Array.from(l,e=>JSON.stringify(e));throw new Error(`The "topicToken" generator option must be one of ${n.join(", ")} (${t} received instead).`)}this.token(e)},t.TupleExpression=function(e){const t=e.elements,n=t.length;let r,i;if("bar"===this.format.recordAndTupleSyntaxType)r="[|",i="|]";else{if("hash"!==this.format.recordAndTupleSyntaxType)throw new Error(`${this.format.recordAndTupleSyntaxType} is not a valid recordAndTuple syntax type`);r="#[",i="]"}this.token(r);for(let e=0;e<t.length;e++){const r=t[e];r&&(e>0&&this.space(),this.print(r),(e<n-1||this.shouldPrintTrailingComma(i))&&this.token(",",!1,e))}this.token(i)},t.VoidPattern=function(){this.word("void")},t._getRawIdentifier=function(e){if(e===o)return c;o=e;const{name:t}=e,n=this.tokenMap.find(e,e=>e.value===t);return n?(c=this._originalCode.slice(n.start,n.end),c):c=e.name};var r=n(2352),i=n(17159);const{isAssignmentPattern:s,isIdentifier:a}=r;let o=null,c="";const l=new Set(["^^","@@","^","%","#"])},7949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.Chat=void 0;var r=n(76111);Object.defineProperty(t,"Chat",{enumerable:!0,get:function(){return r.Chat}});var i=n(92773);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return i.Completions}})},8359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(66596),i=n(99048),s={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?a(e,r):(0,i.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function a(e,t){const{gen:n,schema:s,data:a,keyword:o,it:c}=e;c.items=!0;const l=n.const("len",r._`${a}.length`);if(!1===s)e.setParams({len:t.length}),e.pass(r._`${l} <= ${t.length}`);else if("object"==typeof s&&!(0,i.alwaysValidSchema)(c,s)){const s=n.var("valid",r._`${l} <= ${t.length}`);n.if((0,r.not)(s),()=>function(s){n.forRange("i",t.length,l,t=>{e.subschema({keyword:o,dataProp:t,dataPropType:i.Type.Num},s),c.allErrors||n.if((0,r.not)(s),()=>n.break())})}(s)),e.ok(s)}}t.validateAdditionalItems=a,t.default=s},8761:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:o()}};const a=s(n(90523));t.parsedType=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};const o=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function n(t){return e[t]??null}const r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return e=>{switch(e.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${e.expected}, riceviĝis ${(0,t.parsedType)(e.input)}`;case"invalid_value":return 1===e.values.length?`Nevalida enigo: atendiĝis ${a.stringifyPrimitive(e.values[0])}`:`Nevalida opcio: atendiĝis unu el ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",r=n(e.origin);return r?`Tro granda: atendiĝis ke ${e.origin??"valoro"} havu ${t}${e.maximum.toString()} ${r.unit??"elementojn"}`:`Tro granda: atendiĝis ke ${e.origin??"valoro"} havu ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",r=n(e.origin);return r?`Tro malgranda: atendiĝis ke ${e.origin} havu ${t}${e.minimum.toString()} ${r.unit}`:`Tro malgranda: atendiĝis ke ${e.origin} estu ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Nevalida karaktraro: devas komenciĝi per "${t.prefix}"`:"ends_with"===t.format?`Nevalida karaktraro: devas finiĝi per "${t.suffix}"`:"includes"===t.format?`Nevalida karaktraro: devas inkluzivi "${t.includes}"`:"regex"===t.format?`Nevalida karaktraro: devas kongrui kun la modelo ${t.pattern}`:`Nevalida ${r[t.format]??e.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${e.divisor}`;case"unrecognized_keys":return`Nekonata${e.keys.length>1?"j":""} ŝlosilo${e.keys.length>1?"j":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${e.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${e.origin}`}}}},9276:(e,t)=>{"use strict";function n(e,t){e.tokenMap&&t.start&&t.end?e.tokenMap.endMatches(t,",")?e.token(","):e.tokenMap.endMatches(t,";")&&e.semicolon():e.semicolon()}function r(e,t,n){var r;let i=0;null!=(r=e.tokenMap)&&r.startMatches(t,n)&&(i=1,e.token(n)),e.printJoin(t.types,void 0,void 0,function(e){this.space(),this.token(n,void 0,e+i),this.space()})}function i(e,t){!0!==t&&e.token(t)}function s(e){a(this,e,()=>{var t;return this.printList(e.members,null==(t=this.shouldPrintTrailingComma("}"))||t,!0,!0)})}function a(e,t,n){e.token("{");const r=e.enterDelimited();n(),r(),e.rightBrace(t)}function o(e,t,n){var r;const i=new Set;for(const e of n)e&&i.add(e);null==(r=e.tokenMap)||r.find(t,t=>!!i.has(t.value)&&(e.token(t.value),e.space(),i.delete(t.value),0===i.size));for(const t of i)e.word(t),e.space()}Object.defineProperty(t,"__esModule",{value:!0}),t.TSAnyKeyword=function(){this.word("any")},t.TSArrayType=function(e){this.print(e.elementType,!0),this.tokenChar(91),this.tokenChar(93)},t.TSSatisfiesExpression=t.TSAsExpression=function(e){const{type:t,expression:n,typeAnnotation:r}=e;this.print(n,!0),this.space(),this.word("TSAsExpression"===t?"as":"satisfies"),this.space(),this.print(r)},t.TSBigIntKeyword=function(){this.word("bigint")},t.TSBooleanKeyword=function(){this.word("boolean")},t.TSCallSignatureDeclaration=function(e){this.tsPrintSignatureDeclarationBase(e),n(this,e)},t.TSInterfaceHeritage=t.TSClassImplements=function(e){this.print(e.expression),this.print(e.typeArguments)},t.TSConditionalType=function(e){this.print(e.checkType),this.space(),this.word("extends"),this.space(),this.print(e.extendsType),this.space(),this.tokenChar(63),this.space(),this.print(e.trueType),this.space(),this.tokenChar(58),this.space(),this.print(e.falseType)},t.TSConstructSignatureDeclaration=function(e){this.word("new"),this.space(),this.tsPrintSignatureDeclarationBase(e),n(this,e)},t.TSConstructorType=function(e){e.abstract&&(this.word("abstract"),this.space()),this.word("new"),this.space(),this.tsPrintFunctionOrConstructorType(e)},t.TSDeclareFunction=function(e,t){e.declare&&(this.word("declare"),this.space()),this._functionHead(e,t),this.semicolon()},t.TSDeclareMethod=function(e){this._classMethodHead(e),this.semicolon()},t.TSEnumBody=s,t.TSEnumDeclaration=function(e){const{declare:t,const:n,id:r}=e;t&&(this.word("declare"),this.space()),n&&(this.word("const"),this.space()),this.word("enum"),this.space(),this.print(r),this.space(),s.call(this,e)},t.TSEnumMember=function(e){const{id:t,initializer:n}=e;this.print(t),n&&(this.space(),this.tokenChar(61),this.space(),this.print(n))},t.TSExportAssignment=function(e){this.word("export"),this.space(),this.tokenChar(61),this.space(),this.print(e.expression),this.semicolon()},t.TSExternalModuleReference=function(e){this.token("require("),this.print(e.expression),this.tokenChar(41)},t.TSFunctionType=function(e){this.tsPrintFunctionOrConstructorType(e)},t.TSImportEqualsDeclaration=function(e){const{id:t,moduleReference:n}=e;e.isExport&&(this.word("export"),this.space()),this.word("import"),this.space(),this.print(t),this.space(),this.tokenChar(61),this.space(),this.print(n),this.semicolon()},t.TSImportType=function(e){const{argument:t,qualifier:n,options:r}=e;this.word("import"),this.tokenChar(40),this.print(t),r&&(this.tokenChar(44),this.print(r)),this.tokenChar(41),n&&(this.tokenChar(46),this.print(n));const i=e.typeParameters;i&&this.print(i)},t.TSIndexSignature=function(e){const{readonly:t,static:r}=e;r&&(this.word("static"),this.space()),t&&(this.word("readonly"),this.space()),this.tokenChar(91),this._parameters(e.parameters,"]"),this.print(e.typeAnnotation),n(this,e)},t.TSIndexedAccessType=function(e){this.print(e.objectType,!0),this.tokenChar(91),this.print(e.indexType),this.tokenChar(93)},t.TSInferType=function(e){this.word("infer"),this.print(e.typeParameter)},t.TSInstantiationExpression=function(e){this.print(e.expression),this.print(e.typeParameters)},t.TSInterfaceBody=function(e){a(this,e,()=>this.printJoin(e.body,!0,!0))},t.TSInterfaceDeclaration=function(e){const{declare:t,id:n,typeParameters:r,extends:i,body:s}=e;t&&(this.word("declare"),this.space()),this.word("interface"),this.space(),this.print(n),this.print(r),null!=i&&i.length&&(this.space(),this.word("extends"),this.space(),this.printList(i)),this.space(),this.print(s)},t.TSIntersectionType=function(e){r(this,e,"&")},t.TSIntrinsicKeyword=function(){this.word("intrinsic")},t.TSLiteralType=function(e){this.print(e.literal)},t.TSMappedType=function(e){const{nameType:t,optional:n,readonly:r,typeAnnotation:s}=e;this.tokenChar(123);const a=this.enterDelimited();this.space(),r&&(i(this,r),this.word("readonly"),this.space()),this.tokenChar(91),this.word(e.typeParameter.name),this.space(),this.word("in"),this.space(),this.print(e.typeParameter.constraint),t&&(this.space(),this.word("as"),this.space(),this.print(t)),this.tokenChar(93),n&&(i(this,n),this.tokenChar(63)),s&&(this.tokenChar(58),this.space(),this.print(s)),this.space(),a(),this.tokenChar(125)},t.TSMethodSignature=function(e){const{kind:t}=e;"set"!==t&&"get"!==t||(this.word(t),this.space()),this.tsPrintPropertyOrMethodName(e),this.tsPrintSignatureDeclarationBase(e),n(this,e)},t.TSModuleBlock=function(e){a(this,e,()=>this.printSequence(e.body,!0))},t.TSModuleDeclaration=function(e){const{declare:t,id:n,kind:r}=e;t&&(this.word("declare"),this.space());{if(e.global||(this.word(null!=r?r:"Identifier"===n.type?"namespace":"module"),this.space()),this.print(n),!e.body)return void this.semicolon();let t=e.body;for(;"TSModuleDeclaration"===t.type;)this.tokenChar(46),this.print(t.id),t=t.body;this.space(),this.print(t)}},t.TSNamedTupleMember=function(e){this.print(e.label),e.optional&&this.tokenChar(63),this.tokenChar(58),this.space(),this.print(e.elementType)},t.TSNamespaceExportDeclaration=function(e){this.word("export"),this.space(),this.word("as"),this.space(),this.word("namespace"),this.space(),this.print(e.id),this.semicolon()},t.TSNeverKeyword=function(){this.word("never")},t.TSNonNullExpression=function(e){this.print(e.expression),this.tokenChar(33)},t.TSNullKeyword=function(){this.word("null")},t.TSNumberKeyword=function(){this.word("number")},t.TSObjectKeyword=function(){this.word("object")},t.TSOptionalType=function(e){this.print(e.typeAnnotation),this.tokenChar(63)},t.TSParameterProperty=function(e){e.accessibility&&(this.word(e.accessibility),this.space()),e.readonly&&(this.word("readonly"),this.space()),this._param(e.parameter)},t.TSParenthesizedType=function(e){this.tokenChar(40),this.print(e.typeAnnotation),this.tokenChar(41)},t.TSPropertySignature=function(e){const{readonly:t}=e;t&&(this.word("readonly"),this.space()),this.tsPrintPropertyOrMethodName(e),this.print(e.typeAnnotation),n(this,e)},t.TSQualifiedName=function(e){this.print(e.left),this.tokenChar(46),this.print(e.right)},t.TSRestType=function(e){this.token("..."),this.print(e.typeAnnotation)},t.TSStringKeyword=function(){this.word("string")},t.TSSymbolKeyword=function(){this.word("symbol")},t.TSTemplateLiteralType=function(e){this._printTemplate(e,e.types)},t.TSThisType=function(){this.word("this")},t.TSTupleType=function(e){this.tokenChar(91),this.printList(e.elementTypes,this.shouldPrintTrailingComma("]")),this.tokenChar(93)},t.TSTypeAliasDeclaration=function(e){const{declare:t,id:n,typeParameters:r,typeAnnotation:i}=e;t&&(this.word("declare"),this.space()),this.word("type"),this.space(),this.print(n),this.print(r),this.space(),this.tokenChar(61),this.space(),this.print(i),this.semicolon()},t.TSTypeAnnotation=function(e,t){this.token("TSFunctionType"!==t.type&&"TSConstructorType"!==t.type||t.typeAnnotation!==e?":":"=>"),this.space(),e.optional&&this.tokenChar(63),this.print(e.typeAnnotation)},t.TSTypeAssertion=function(e){const{typeAnnotation:t,expression:n}=e;this.tokenChar(60),this.print(t),this.tokenChar(62),this.space(),this.print(n)},t.TSTypeLiteral=function(e){a(this,e,()=>this.printJoin(e.members,!0,!0))},t.TSTypeOperator=function(e){this.word(e.operator),this.space(),this.print(e.typeAnnotation)},t.TSTypeParameter=function(e){e.const&&(this.word("const"),this.space()),e.in&&(this.word("in"),this.space()),e.out&&(this.word("out"),this.space()),this.word(e.name),e.constraint&&(this.space(),this.word("extends"),this.space(),this.print(e.constraint)),e.default&&(this.space(),this.tokenChar(61),this.space(),this.print(e.default))},t.TSTypeParameterDeclaration=t.TSTypeParameterInstantiation=function(e,t){this.tokenChar(60);let n="ArrowFunctionExpression"===t.type&&1===e.params.length;this.tokenMap&&null!=e.start&&null!=e.end&&(n&&(n=!!this.tokenMap.find(e,e=>this.tokenMap.matchesOriginal(e,","))),n||(n=this.shouldPrintTrailingComma(">"))),this.printList(e.params,n),this.tokenChar(62)},t.TSTypePredicate=function(e){e.asserts&&(this.word("asserts"),this.space()),this.print(e.parameterName),e.typeAnnotation&&(this.space(),this.word("is"),this.space(),this.print(e.typeAnnotation.typeAnnotation))},t.TSTypeQuery=function(e){this.word("typeof"),this.space(),this.print(e.exprName);const t=e.typeParameters;t&&this.print(t)},t.TSTypeReference=function(e){const t=e.typeParameters;this.print(e.typeName,!!t),this.print(t)},t.TSUndefinedKeyword=function(){this.word("undefined")},t.TSUnionType=function(e){r(this,e,"|")},t.TSUnknownKeyword=function(){this.word("unknown")},t.TSVoidKeyword=function(){this.word("void")},t.tsPrintClassMemberModifiers=function(e){const t="ClassPrivateProperty"===e.type,n="ClassAccessorProperty"===e.type||"ClassProperty"===e.type;o(this,e,[n&&e.declare&&"declare",!t&&e.accessibility]),e.static&&(this.word("static"),this.space()),o(this,e,[!t&&e.abstract&&"abstract",!t&&e.override&&"override",(n||t)&&e.readonly&&"readonly"])},t.tsPrintFunctionOrConstructorType=function(e){const{typeParameters:t}=e,n=e.parameters;this.print(t),this.tokenChar(40),this._parameters(n,")"),this.space();const r=e.typeAnnotation;this.print(r)},t.tsPrintPropertyOrMethodName=function(e){e.computed&&this.tokenChar(91),this.print(e.key),e.computed&&this.tokenChar(93),e.optional&&this.tokenChar(63)},t.tsPrintSignatureDeclarationBase=function(e){const{typeParameters:t}=e,n=e.parameters;this.print(t),this.tokenChar(40),this._parameters(n,")");const r=e.typeAnnotation;this.print(r)}},9325:(e,t,n)=>{var r=n(34840),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},9491:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid4=void 0,t.uuid4=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return t.uuid4=e.randomUUID.bind(e),e.randomUUID();const n=new Uint8Array(1),r=e?()=>e.getRandomValues(n)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^r()&15>>+e/4).toString(16))}},9587:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function t(t){return e[t]??null}const n={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return e=>{switch(e.code){case"invalid_type":return`無效的輸入值：預期為 ${e.expected}，但收到 ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`無效的輸入值：預期為 ${a.stringifyPrimitive(e.values[0])}`:`無效的選項：預期為以下其中之一 ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`數值過大：預期 ${e.origin??"值"} 應為 ${n}${e.maximum.toString()} ${r.unit??"個元素"}`:`數值過大：預期 ${e.origin??"值"} 應為 ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`數值過小：預期 ${e.origin} 應為 ${n}${e.minimum.toString()} ${r.unit}`:`數值過小：預期 ${e.origin} 應為 ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`無效的字串：必須以 "${t.prefix}" 開頭`:"ends_with"===t.format?`無效的字串：必須以 "${t.suffix}" 結尾`:"includes"===t.format?`無效的字串：必須包含 "${t.includes}"`:"regex"===t.format?`無效的字串：必須符合格式 ${t.pattern}`:`無效的 ${n[t.format]??e.format}`}case"not_multiple_of":return`無效的數字：必須為 ${e.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${e.keys.length>1?"們":""}：${a.joinValues(e.keys,"、")}`;case"invalid_key":return`${e.origin} 中有無效的鍵值`;case"invalid_union":default:return"無效的輸入值";case"invalid_element":return`${e.origin} 中有無效的值`}}};e.exports=t.default},10245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var r=n(85279)},10299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluate=function(){const e={confident:!0,deoptPath:null,seen:new Map};let t=c(this,e);return e.confident||(t=void 0),{confident:e.confident,deopt:e.deoptPath,value:t}},t.evaluateTruthy=function(){const e=this.evaluate();if(e.confident)return!!e.value};const n=["Number","String","Math"],r=["isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent",null,null],i=["random"];function s(e){return n.includes(e)}function a(e,t){t.confident&&(t.deoptPath=e,t.confident=!1)}const o=new Map([["undefined",void 0],["Infinity",1/0],["NaN",NaN]]);function c(e,t){const{node:n}=e,{seen:u}=t;if(u.has(n)){const r=u.get(n);return r.resolved?r.value:void a(e,t)}{const d={resolved:!1};u.set(n,d);const p=function(e,t){if(t.confident){if(e.isSequenceExpression()){const n=e.get("expressions");return c(n[n.length-1],t)}if(e.isStringLiteral()||e.isNumericLiteral()||e.isBooleanLiteral())return e.node.value;if(e.isNullLiteral())return null;if(e.isTemplateLiteral())return l(e,e.node.quasis,t);if(e.isTaggedTemplateExpression()&&e.get("tag").isMemberExpression()){const n=e.get("tag.object"),{node:{name:r}}=n,i=e.get("tag.property");if(n.isIdentifier()&&"String"===r&&!e.scope.getBinding(r)&&i.isIdentifier()&&"raw"===i.node.name)return l(e,e.node.quasi.quasis,t,!0)}if(e.isConditionalExpression()){const n=c(e.get("test"),t);if(!t.confident)return;return c(n?e.get("consequent"):e.get("alternate"),t)}if(e.isExpressionWrapper())return c(e.get("expression"),t);if(e.isMemberExpression()&&!e.parentPath.isCallExpression({callee:e.node})){const n=e.get("property"),r=e.get("object");if(r.isLiteral()){const i=r.node.value,s=typeof i;let a=null;if(e.node.computed){if(a=c(n,t),!t.confident)return}else n.isIdentifier()&&(a=n.node.name);if(!("number"!==s&&"string"!==s||null==a||"number"!=typeof a&&"string"!=typeof a))return i[a]}}if(e.isReferencedIdentifier()){const r=e.scope.getBinding(e.node.name);if(r){if(r.constantViolations.length>0||e.node.start<r.path.node.end)return void a(r.path,t);const i=r.path.scope;if("var"===r.kind&&i!==r.scope){let s=!i.path.parentPath.isBlockStatement();for(let o=i.parent;o;o=o.parent){var n;if(o===e.scope){if(s)return void a(r.path,t);break}null!=(n=o.path.parentPath)&&n.isBlockStatement()&&(s=!0)}}if(r.hasValue)return r.value}const i=e.node.name;if(o.has(i))return r?void a(r.path,t):o.get(i);const s=e.resolve();if(s===e)return void a(e,t);const l=c(s,t);return"object"==typeof l&&null!==l&&r.references>1?void a(s,t):l}if(e.isUnaryExpression({prefix:!0})){if("void"===e.node.operator)return;const n=e.get("argument");if("typeof"===e.node.operator&&(n.isFunction()||n.isClass()))return"function";const r=c(n,t);if(!t.confident)return;switch(e.node.operator){case"!":return!r;case"+":return+r;case"-":return-r;case"~":return~r;case"typeof":return typeof r}}if(e.isArrayExpression()){const n=[],r=e.get("elements");for(const e of r){const r=e.evaluate();if(!r.confident)return void a(r.deopt,t);n.push(r.value)}return n}if(e.isObjectExpression()){const n={},r=e.get("properties");for(const e of r){if(e.isObjectMethod()||e.isSpreadElement())return void a(e,t);const r=e.get("key");let i;if(e.node.computed){if(i=r.evaluate(),!i.confident)return void a(i.deopt,t);i=i.value}else i=r.isIdentifier()?r.node.name:r.node.value;let s=e.get("value").evaluate();if(!s.confident)return void a(s.deopt,t);s=s.value,n[i]=s}return n}if(e.isLogicalExpression()){const n=t.confident,r=c(e.get("left"),t),i=t.confident;t.confident=n;const s=c(e.get("right"),t),a=t.confident;switch(e.node.operator){case"||":if(t.confident=i&&(!!r||a),!t.confident)return;return r||s;case"&&":if(t.confident=i&&(!r||a),!t.confident)return;return r&&s;case"??":if(t.confident=i&&(null!=r||a),!t.confident)return;return null!=r?r:s}}if(e.isBinaryExpression()){const n=c(e.get("left"),t);if(!t.confident)return;const r=c(e.get("right"),t);if(!t.confident)return;switch(e.node.operator){case"-":return n-r;case"+":return n+r;case"/":return n/r;case"*":return n*r;case"%":return n%r;case"**":return Math.pow(n,r);case"<":return n<r;case">":return n>r;case"<=":return n<=r;case">=":return n>=r;case"==":return n==r;case"!=":return n!=r;case"===":return n===r;case"!==":return n!==r;case"|":return n|r;case"&":return n&r;case"^":return n^r;case"<<":return n<<r;case">>":return n>>r;case">>>":return n>>>r}}if(e.isCallExpression()){const n=e.get("callee");let a,o;if(n.isIdentifier()&&!e.scope.getBinding(n.node.name)&&(s(n.node.name)||function(e){return r.includes(e)}(n.node.name))&&(o=global[n.node.name]),n.isMemberExpression()){const e=n.get("object"),t=n.get("property");if(e.isIdentifier()&&t.isIdentifier()&&s(e.node.name)&&!function(e){return i.includes(e)}(t.node.name)){a=global[e.node.name];const n=t.node.name;hasOwnProperty.call(a,n)&&(o=a[n])}if(e.isLiteral()&&t.isIdentifier()){const n=typeof e.node.value;"string"!==n&&"number"!==n||(a=e.node.value,o=a[t.node.name])}}if(o){const n=e.get("arguments").map(e=>c(e,t));if(!t.confident)return;return o.apply(a,n)}}a(e,t)}}(e,t);return t.confident&&(d.resolved=!0,d.value=p),p}}function l(e,t,n,r=!1){let i="",s=0;const a=e.isTemplateLiteral()?e.get("expressions"):e.get("quasi.expressions");for(const e of t){if(!n.confident)break;i+=r?e.value.raw:e.value.cooked;const t=a[s++];t&&(i+=String(c(t,n)))}if(n.confident)return i}},10392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},10776:(e,t,n)=>{var r=n(30756),i=n(95950);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,r(a)]}return t}},10781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(42365),i=n(65105),s=n(15215),a=n(26545),o=n(86836),c=[r.default,i.default,(0,s.default)(),a.default,o.metadataVocabulary,o.contentVocabulary];t.default=c},10985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildUndefinedNode=function(){return(0,r.unaryExpression)("void",(0,r.numericLiteral)(0),!0)};var r=n(48079)},11070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:s,data:a,it:o}=e;let c,l;const{minContains:u,maxContains:d}=s;o.opts.next?(c=void 0===u?1:u,l=d):c=1;const p=t.const("len",r._`${a}.length`);if(e.setParams({min:c,max:l}),void 0===l&&0===c)return void(0,i.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==l&&c>l)return(0,i.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(o,n)){let t=r._`${p} >= ${c}`;return void 0!==l&&(t=r._`${t} && ${p} <= ${l}`),void e.pass(t)}o.items=!0;const h=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);m(e,()=>t.if(e,()=>function(e){t.code(r._`${e}++`),void 0===l?t.if(r._`${e} >= ${c}`,()=>t.assign(h,!0).break()):(t.if(r._`${e} > ${l}`,()=>t.assign(h,!1).break()),1===c?t.assign(h,!0):t.if(r._`${e} >= ${c}`,()=>t.assign(h,!0)))}(n)))}function m(n,r){t.forRange("i",0,p,t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},n),r()})}void 0===l&&1===c?m(h,()=>t.if(h,()=>t.break())):0===c?(t.let(h,!0),void 0!==l&&t.if(r._`${a}.length > 0`,f)):(t.let(h,!1),f()),e.result(h,()=>e.reset())}};t.default=s},11076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefs=void 0;const r=n(92626);t.getRefs=e=>{const t=(0,r.getDefaultOptions)(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}}},11464:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},11773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentExpression=function(e,t,n){return!(!S(n)||!d(e.left))||P(e,t)},t.Binary=T,t.BinaryExpression=function(e,t,n){return"in"===e.operator&&Boolean(n&i.TokenContext.forInOrInitHeadAccumulate)},t.ClassExpression=function(e,t,n){return Boolean(n&(i.TokenContext.expressionStatement|i.TokenContext.exportDefault))},t.ArrowFunctionExpression=t.ConditionalExpression=P,t.DoExpression=function(e,t,n){return!e.async&&Boolean(n&i.TokenContext.expressionStatement)},t.FunctionExpression=function(e,t,n){return Boolean(n&(i.TokenContext.expressionStatement|i.TokenContext.exportDefault))},t.FunctionTypeAnnotation=function(e,t,n){const r=t.type;return"UnionTypeAnnotation"===r||"IntersectionTypeAnnotation"===r||"ArrayTypeAnnotation"===r||Boolean(n&i.TokenContext.arrowFlowReturnType)},t.Identifier=function(e,t,n,r){var s;const a=t.type;if(null!=(s=e.extra)&&s.parenthesized&&"AssignmentExpression"===a&&t.left===e){const e=t.right.type;if(("FunctionExpression"===e||"ClassExpression"===e)&&null==t.right.id)return!0}return(!r||r(e)===e.name)&&("let"===e.name?!!((u(t,{object:e,computed:!0})||p(t,{object:e,computed:!0,optional:!1}))&&n&(i.TokenContext.expressionStatement|i.TokenContext.forInitHead|i.TokenContext.forInHead))||Boolean(n&i.TokenContext.forOfHead):"async"===e.name&&c(t,{left:e,await:!1}))},t.LogicalExpression=function(e,t){const n=t.type;if(g(n))return!0;if("LogicalExpression"!==n)return!1;switch(e.operator){case"||":return"??"===t.operator||"&&"===t.operator;case"&&":return"??"===t.operator;case"??":return"??"!==t.operator}},t.NullableTypeAnnotation=function(e,t){return s(t)},t.ObjectExpression=function(e,t,n){return S(n)},t.OptionalIndexedAccessType=function(e,t){return l(t)&&t.objectType===e},t.OptionalCallExpression=t.OptionalMemberExpression=function(e,t){return o(t)&&t.callee===e||u(t)&&t.object===e},t.SequenceExpression=function(e,t){const n=t.type;return!("SequenceExpression"===n||"ParenthesizedExpression"===n||"MemberExpression"===n&&t.property===e||"OptionalMemberExpression"===n&&t.property===e||"TemplateLiteral"===n)&&("ClassDeclaration"===n||("ForOfStatement"===n?t.right===e:"ExportDefaultDeclaration"===n||!f(t)))},t.TSSatisfiesExpression=t.TSAsExpression=function(e,t){return("AssignmentExpression"===t.type||"AssignmentPattern"===t.type)&&t.left===e||("BinaryExpression"===t.type&&("|"===t.operator||"&"===t.operator)&&e===t.left||T(e,t))},t.TSConditionalType=function(e,t){const n=t.type;return"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n||"TSTypeOperator"===n||"TSTypeParameter"===n||(("TSIntersectionType"===n||"TSUnionType"===n)&&t.types[0]===e||"TSConditionalType"===n&&(t.checkType===e||t.extendsType===e))},t.TSConstructorType=t.TSFunctionType=function(e,t){const n=t.type;return"TSIntersectionType"===n||"TSUnionType"===n||"TSTypeOperator"===n||"TSOptionalType"===n||"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSConditionalType"===n&&(t.checkType===e||t.extendsType===e)},t.TSInferType=function(e,t){const n=t.type;return"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n||!(!e.typeParameter.constraint||"TSIntersectionType"!==n&&"TSUnionType"!==n||t.types[0]!==e)},t.TSInstantiationExpression=function(e,t){const n=t.type;return("CallExpression"===n||"OptionalCallExpression"===n||"NewExpression"===n||"TSInstantiationExpression"===n)&&!!t.typeParameters},t.TSIntersectionType=function(e,t){const n=t.type;return"TSTypeOperator"===n||"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n},t.UnaryLike=t.TSTypeAssertion=_,t.TSTypeOperator=function(e,t){const n=t.type;return"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n},t.TSUnionType=function(e,t){const n=t.type;return"TSIntersectionType"===n||"TSTypeOperator"===n||"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n},t.IntersectionTypeAnnotation=t.UnionTypeAnnotation=function(e,t){const n=t.type;return"ArrayTypeAnnotation"===n||"NullableTypeAnnotation"===n||"IntersectionTypeAnnotation"===n||"UnionTypeAnnotation"===n},t.UpdateExpression=function(e,t){return b(e,t)||v(e,t)},t.AwaitExpression=t.YieldExpression=function(e,t){const n=t.type;return"BinaryExpression"===n||"LogicalExpression"===n||"UnaryExpression"===n||"SpreadElement"===n||b(e,t)||"AwaitExpression"===n&&h(e)||"ConditionalExpression"===n&&e===t.test||v(e,t)||g(n)};var r=n(2352),i=n(31373);const{isArrayTypeAnnotation:s,isBinaryExpression:a,isCallExpression:o,isForOfStatement:c,isIndexedAccessType:l,isMemberExpression:u,isObjectPattern:d,isOptionalMemberExpression:p,isYieldExpression:h,isStatement:f}=r,m=new Map([["||",0],["??",0],["|>",0],["&&",1],["|",2],["^",3],["&",4],["==",5],["===",5],["!=",5],["!==",5],["<",6],[">",6],["<=",6],[">=",6],["in",6],["instanceof",6],[">>",7],["<<",7],[">>>",7],["+",8],["-",8],["*",9],["/",9],["%",9],["**",10]]);function y(e,t){return"BinaryExpression"===t||"LogicalExpression"===t?m.get(e.operator):"TSAsExpression"===t||"TSSatisfiesExpression"===t?m.get("in"):void 0}function g(e){return"TSAsExpression"===e||"TSSatisfiesExpression"===e||"TSTypeAssertion"===e}const v=(e,t)=>{const n=t.type;return("ClassDeclaration"===n||"ClassExpression"===n)&&t.superClass===e},b=(e,t)=>{const n=t.type;return("MemberExpression"===n||"OptionalMemberExpression"===n)&&t.object===e||("CallExpression"===n||"OptionalCallExpression"===n||"NewExpression"===n)&&t.callee===e||"TaggedTemplateExpression"===n&&t.tag===e||"TSNonNullExpression"===n};function S(e){return Boolean(e&(i.TokenContext.expressionStatement|i.TokenContext.arrowBody))}function T(e,t){const n=t.type;if("BinaryExpression"===e.type&&"**"===e.operator&&"BinaryExpression"===n&&"**"===t.operator)return t.left===e;if(v(e,t))return!0;if(b(e,t)||"UnaryExpression"===n||"SpreadElement"===n||"AwaitExpression"===n)return!0;const r=y(t,n);if(null!=r){const i=y(e,e.type);if(r===i&&"BinaryExpression"===n&&t.right===e||r>i)return!0}}function _(e,t){return b(e,t)||a(t)&&"**"===t.operator&&t.left===e||v(e,t)}function P(e,t){const n=t.type;return!!("UnaryExpression"===n||"SpreadElement"===n||"BinaryExpression"===n||"LogicalExpression"===n||"ConditionalExpression"===n&&t.test===e||"AwaitExpression"===n||g(n))||_(e,t)}},11808:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},12018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isAsyncIterable=t.checkFileSupport=void 0,t.makeFile=i,t.getName=s;const r=n(446);function i(e,n,r){return(0,t.checkFileSupport)(),new File(e,n??"unknown_file",r)}function s(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}t.checkFileSupport=()=>{if("undefined"==typeof File){const{process:e}=globalThis,t="string"==typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}},t.isAsyncIterable=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],t.maybeMultipartFormRequestOptions=async(e,n)=>c(e.body)?{...e,body:await(0,t.createForm)(e.body,n)}:e,t.multipartFormRequestOptions=async(e,n)=>({...e,body:await(0,t.createForm)(e.body,n)});const a=new WeakMap;t.createForm=async(e,t)=>{if(!await function(e){const t="function"==typeof e?e:e.fetch,n=a.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch{return!0}})();return a.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>l(n,e,t))),n};const o=e=>e instanceof Blob&&"name"in e,c=e=>{if((e=>"object"==typeof e&&null!==e&&(e instanceof Response||(0,t.isAsyncIterable)(e)||o(e)))(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e)for(const t in e)if(c(e[t]))return!0;return!1},l=async(e,n,a)=>{if(void 0!==a){if(null==a)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)e.append(n,String(a));else if(a instanceof Response)e.append(n,i([await a.blob()],s(a)));else if((0,t.isAsyncIterable)(a))e.append(n,i([await new Response((0,r.ReadableStreamFrom)(a)).blob()],s(a)));else if(o(a))e.append(n,a,s(a));else if(Array.isArray(a))await Promise.all(a.map(t=>l(e,n+"[]",t)));else{if("object"!=typeof a)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`);await Promise.all(Object.entries(a).map(([t,r])=>l(e,`${n}[${t}]`,r)))}}}},12058:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function t(t){return e[t]??null}const n={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return e=>{switch(e.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${e.expected} می‌بود، ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"آرایه";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} دریافت شد`;case"invalid_value":return 1===e.values.length?`ورودی نامعتبر: می‌بایست ${a.stringifyPrimitive(e.values[0])} می‌بود`:`گزینه نامعتبر: می‌بایست یکی از ${a.joinValues(e.values,"|")} می‌بود`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`خیلی بزرگ: ${e.origin??"مقدار"} باید ${n}${e.maximum.toString()} ${r.unit??"عنصر"} باشد`:`خیلی بزرگ: ${e.origin??"مقدار"} باید ${n}${e.maximum.toString()} باشد`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`خیلی کوچک: ${e.origin} باید ${n}${e.minimum.toString()} ${r.unit} باشد`:`خیلی کوچک: ${e.origin} باید ${n}${e.minimum.toString()} باشد`}case"invalid_format":{const t=e;return"starts_with"===t.format?`رشته نامعتبر: باید با "${t.prefix}" شروع شود`:"ends_with"===t.format?`رشته نامعتبر: باید با "${t.suffix}" تمام شود`:"includes"===t.format?`رشته نامعتبر: باید شامل "${t.includes}" باشد`:"regex"===t.format?`رشته نامعتبر: باید با الگوی ${t.pattern} مطابقت داشته باشد`:`${n[t.format]??e.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${e.divisor} باشد`;case"unrecognized_keys":return`کلید${e.keys.length>1?"های":""} ناشناس: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${e.origin}`;case"invalid_union":default:return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${e.origin}`}}};e.exports=t.default},12193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformHeaders=t.isRunningInBrowser=void 0;const r=n(35392);t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;const i=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",s=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let a;t.getPlatformHeaders=()=>a??(a=(()=>{const e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":s(Deno.build.os),"X-Stainless-Arch":i(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":s(globalThis.process.platform??"unknown"),"X-Stainless-Arch":i(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})())},12226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaggedTemplateExpression=function(e){this.print(e.tag),this.print(e.typeParameters),this.print(e.quasi)},t.TemplateElement=function(){throw new Error("TemplateElement printing is handled in TemplateLiteral")},t.TemplateLiteral=function(e){this._printTemplate(e,e.expressions)},t._printTemplate=function(e,t){const n=e.quasis;let r="`";for(let i=0;i<n.length-1;i++)if(r+=n[i].value.raw,this.token(r+"${",!0),this.print(t[i]),r="}",this.tokenMap){const t=this.tokenMap.findMatching(e,"}",i);t&&this._catchUpTo(t.loc.start)}r+=n[n.length-1].value.raw,this.token(r+"`",!0)}},12297:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function t(t){return e[t]??null}const n={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return e=>{switch(e.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${e.expected}, otrzymano ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Nieprawidłowe dane wejściowe: oczekiwano ${a.stringifyPrimitive(e.values[0])}`:`Nieprawidłowa opcja: oczekiwano jednej z wartości ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Za duża wartość: oczekiwano, że ${e.origin??"wartość"} będzie mieć ${n}${e.maximum.toString()} ${r.unit??"elementów"}`:`Zbyt duż(y/a/e): oczekiwano, że ${e.origin??"wartość"} będzie wynosić ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Za mała wartość: oczekiwano, że ${e.origin??"wartość"} będzie mieć ${n}${e.minimum.toString()} ${r.unit??"elementów"}`:`Zbyt mał(y/a/e): oczekiwano, że ${e.origin??"wartość"} będzie wynosić ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Nieprawidłowy ciąg znaków: musi zaczynać się od "${t.prefix}"`:"ends_with"===t.format?`Nieprawidłowy ciąg znaków: musi kończyć się na "${t.suffix}"`:"includes"===t.format?`Nieprawidłowy ciąg znaków: musi zawierać "${t.includes}"`:"regex"===t.format?`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${t.pattern}`:`Nieprawidłow(y/a/e) ${n[t.format]??e.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${e.origin}`;case"invalid_union":default:return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${e.origin}`}}};e.exports=t.default},12507:(e,t,n)=>{var r=n(28754),i=n(49698),s=n(63912),a=n(13222);e.exports=function(e){return function(t){t=a(t);var n=i(t)?s(t):void 0,o=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return o[e]()+c}}},12651:(e,t,n)=>{var r=n(74218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},12749:(e,t,n)=>{var r=n(81042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},12921:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentationAgent=void 0,t.getDocumentationAgent=function(){return d||(d=new u),d};const c=a(n(91398)),l=o(n(32012));class u{client=null;isInitialized=!1;model="gpt-4o-mini";constructor(){this.initialize()}initialize(){const e=c.workspace.getConfiguration("codebaseVisualizer"),t=e.get("litellm.apiKey")||process.env.OPENAI_API_KEY||"",n=e.get("litellm.baseUrl")||process.env.OPENAI_API_BASE;if(this.model=e.get("litellm.model")||"gpt-4o-mini",t)try{this.client=new l.default({apiKey:t,baseURL:n||void 0}),this.isInitialized=!0,console.log("DocumentationAgent initialized with model:",this.model)}catch(e){console.error("Failed to initialize DocumentationAgent:",e),this.isInitialized=!1}}reinitialize(){this.initialize()}isReady(){return this.isInitialized&&null!==this.client}async generateDocumentation(e,t,n,r="developer"){if(!this.isReady())throw new Error("Documentation Agent is not initialized. Please configure API key.");let i={node:e,edges:t,allNodes:n,persona:r,currentStep:"analyze_code",errors:[]};try{if(i=await this.analyzeCode(i),i=await this.mapDependencies(i),i=await this.analyzeArchitecture(i),i=await this.generateDocs(i),!i.documentation)throw new Error("Documentation generation failed");return i.documentation}catch(e){throw console.error("Agent workflow error:",e),e}}async callLLM(e,t){if(!this.client)throw new Error("OpenAI client not initialized");const n=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:e},{role:"user",content:t}],temperature:.3,max_tokens:2e3});return n.choices[0]?.message?.content||""}parseJSON(e,t){try{const t=e.match(/\{[\s\S]*\}/);if(t)return JSON.parse(t[0])}catch(e){console.error("Failed to parse JSON from LLM response:",e)}return t}async analyzeCode(e){const{node:t}=e,n=`Analyze this ${t.language} code and provide insights.\n\nCode:\n\`\`\`${t.language}\n${t.sourceCode?.substring(0,3e3)||"// No source code available"}\n\`\`\`\n\nFile: ${t.label}\nType: ${t.type}\n\nRespond with JSON:\n{\n  "purpose": "one sentence describing what this code does",\n  "keyFeatures": ["feature1", "feature2"],\n  "complexity": "low" | "medium" | "high",\n  "patterns": ["pattern names used like 'Observer', 'Factory', 'Hooks', etc."],\n  "codeSmells": ["any issues or improvements needed, or empty array if clean"]\n}`;try{const t=await this.callLLM("You are a code analysis expert. Respond only with valid JSON.",n);e.codeAnalysis=this.parseJSON(t,{purpose:"Unable to analyze code",keyFeatures:[],complexity:"medium",patterns:[],codeSmells:[]})}catch(n){e.errors.push(`Code analysis failed: ${n}`),e.codeAnalysis={purpose:t.documentation?.summary||"Unable to analyze code",keyFeatures:[],complexity:"medium",patterns:[],codeSmells:[]}}return e.currentStep="map_dependencies",e}async mapDependencies(e){const{node:t,edges:n,allNodes:r}=e,i=n.filter(e=>e.from===t.filePath).map(e=>{const t=r.find(t=>t.filePath===e.to);return t?.label||e.to}),s=n.filter(e=>e.to===t.filePath).map(e=>{const t=r.find(t=>t.filePath===e.from);return t?.label||e.from}),a=`Analyze the dependencies for this component.\n\nComponent: ${t.label}\nType: ${t.type}\n\nImports (this component uses):\n${i.join("\n")||"None"}\n\nDependents (these components use this):\n${s.join("\n")||"None"}\n\nRespond with JSON:\n{\n  "imports": [{"name": "ImportName", "purpose": "why it's imported"}],\n  "exports": [{"name": "ExportName", "usedBy": ["Component1", "Component2"]}],\n  "dependencyGraph": "A brief text description of how this fits in the dependency graph"\n}`;try{const n=await this.callLLM("You are a dependency analysis expert. Respond only with valid JSON.",a);e.dependencyMap=this.parseJSON(n,{imports:i.map(e=>({name:e,purpose:"imported"})),exports:[{name:t.label,usedBy:s}],dependencyGraph:`${t.label} imports ${i.length} modules and is used by ${s.length} components.`})}catch(n){e.errors.push(`Dependency mapping failed: ${n}`),e.dependencyMap={imports:i.map(e=>({name:e,purpose:"imported"})),exports:[{name:t.label,usedBy:s}],dependencyGraph:`${t.label} imports ${i.length} modules and is used by ${s.length} components.`}}return e.currentStep="analyze_architecture",e}async analyzeArchitecture(e){const{node:t,codeAnalysis:n,dependencyMap:r}=e,i=`Analyze the architectural role of this component.\n\nComponent: ${t.label}\nType: ${t.type}\nLanguage: ${t.language}\n\nCode Analysis:\n${JSON.stringify(n,null,2)}\n\nDependencies:\n${JSON.stringify(r,null,2)}\n\nRespond with JSON:\n{\n  "role": "The role this component plays (e.g., 'Service Layer', 'UI Component', 'Utility')",\n  "layer": "The architectural layer (e.g., 'Presentation', 'Business Logic', 'Data Access')",\n  "designPatterns": ["patterns used"],\n  "responsibilities": ["key responsibilities"],\n  "collaborators": ["other components it works closely with"]\n}`;try{const r=await this.callLLM("You are a software architecture expert. Respond only with valid JSON.",i);e.architectureInsights=this.parseJSON(r,{role:t.type,layer:"Unknown",designPatterns:n?.patterns||[],responsibilities:n?.keyFeatures||[],collaborators:[]})}catch(r){e.errors.push(`Architecture analysis failed: ${r}`),e.architectureInsights={role:t.type,layer:"Unknown",designPatterns:n?.patterns||[],responsibilities:n?.keyFeatures||[],collaborators:[]}}return e.currentStep="generate_docs",e}async generateDocs(e){const{node:t,codeAnalysis:n,architectureInsights:r,dependencyMap:i,persona:s}=e,a=`Generate comprehensive documentation for this component.\n\nComponent: ${t.label}\nType: ${t.type}\nLanguage: ${t.language}\n\nCode Analysis:\n${JSON.stringify(n,null,2)}\n\nArchitecture Insights:\n${JSON.stringify(r,null,2)}\n\nDependencies:\n${JSON.stringify(i,null,2)}\n\nGenerate documentation for different personas. The current target persona is: ${s}\n\nRespond with JSON:\n{\n  "summary": "A concise 1-2 sentence summary",\n  "description": "A detailed paragraph describing what this component does, why it exists, and how it works",\n  "technicalDetails": "Technical implementation details for developers",\n  "usageExamples": ["Example 1 showing how to use this", "Example 2"],\n  "personaSpecific": {\n    "developer": "Technical details and implementation notes for developers",\n    "architect": "Architectural decisions, patterns, and system integration details",\n    "product-manager": "Business value, features enabled, and user-facing functionality",\n    "business-analyst": "Simple explanation suitable for onboarding, with context about how this fits in the codebase"\n  },\n  "keywords": ["keyword1", "keyword2", "for search indexing"]\n}`;try{const i=await this.callLLM("You are a technical documentation expert. Respond only with valid JSON.",a);e.documentation=this.parseJSON(i,{summary:n?.purpose||t.documentation?.summary||`${t.label} - ${t.type}`,description:`${t.label} is a ${t.type} in ${t.language}.`,technicalDetails:n?.keyFeatures?.join(", ")||"",usageExamples:[],personaSpecific:{developer:n?.purpose||"",architect:r?.role||"","product-manager":`${t.label} provides functionality for the system.`,"business-analyst":`${t.label} is a ${t.type} that ${n?.purpose||"is part of the codebase"}.`},keywords:[t.type,t.language,...n?.patterns||[]]})}catch(i){e.errors.push(`Documentation generation failed: ${i}`),e.documentation={summary:n?.purpose||t.documentation?.summary||`${t.label} - ${t.type}`,description:`${t.label} is a ${t.type} in ${t.language}.`,technicalDetails:n?.keyFeatures?.join(", ")||"",usageExamples:[],personaSpecific:{developer:n?.purpose||"",architect:r?.role||"","product-manager":`${t.label} provides functionality for the system.`,"business-analyst":`${t.label} is a ${t.type}.`},keywords:[t.type,t.language]}}return e.currentStep="complete",e}}t.DocumentationAgent=u;let d=null},12946:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.MCPClientManager=void 0,t.getMCPClientManager=function(){return p||(p=new d),p},t.disposeMCPClientManager=function(){p&&(p.dispose(),p=null)};const o=a(n(91398)),c=n(83207),l=n(3906),u=n(35317);class d{connections=new Map;statusBarItem;outputChannel;constructor(){this.statusBarItem=o.window.createStatusBarItem(o.StatusBarAlignment.Right,100),this.statusBarItem.command="codebaseVisualizer.showMCPStatus",this.outputChannel=o.window.createOutputChannel("MCP Client"),this.updateStatusBar()}getServerConfigs(){return o.workspace.getConfiguration("codebaseVisualizer").get("mcpServers")||[]}async connect(e){const t=this.getServerConfigs().find(t=>t.name===e);return t?this.connections.has(e)?(o.window.showInformationMessage(`Already connected to "${e}"`),!0):this.connectToServer(t):(o.window.showErrorMessage(`MCP Server "${e}" not found in settings`),!1)}async connectAll(){const e=this.getServerConfigs();if(0===e.length)return void o.window.showWarningMessage("No MCP servers configured. Add servers in Settings → Codebase Visualizer → MCP Servers");const t=await Promise.allSettled(e.filter(e=>!1!==e.enabled).map(e=>this.connectToServer(e))),n=t.filter(e=>"fulfilled"===e.status&&e.value).length,r=t.length-n;n>0&&o.window.showInformationMessage(`Connected to ${n} MCP server(s)${r>0?`, ${r} failed`:""}`)}async connectToServer(e){try{this.outputChannel.appendLine(`\n[${(new Date).toISOString()}] Connecting to "${e.name}"...`),this.outputChannel.appendLine(`Command: ${e.command} ${e.args.join(" ")}`);const t=(0,u.spawn)(e.command,e.args,{stdio:["pipe","pipe","pipe"],shell:!0});t.on("error",t=>{this.outputChannel.appendLine(`[${e.name}] Process error: ${t.message}`),o.window.showErrorMessage(`MCP Server "${e.name}" failed: ${t.message}`),this.disconnect(e.name)}),t.stderr?.on("data",t=>{this.outputChannel.appendLine(`[${e.name}] stderr: ${t.toString()}`)}),t.on("exit",t=>{this.outputChannel.appendLine(`[${e.name}] Process exited with code ${t}`),this.connections.has(e.name)&&(this.disconnect(e.name),o.window.showWarningMessage(`MCP Server "${e.name}" disconnected`))});const n=new l.StdioClientTransport({command:e.command,args:e.args}),r=new c.Client({name:"codebase-visualizer",version:"1.0.0"},{capabilities:{}});return await r.connect(n),this.connections.set(e.name,{config:e,client:r,transport:n,process:t,connected:!0}),this.outputChannel.appendLine(`[${e.name}] Connected successfully`),o.window.showInformationMessage(`✅ Connected to MCP Server: ${e.name}`),this.updateStatusBar(),!0}catch(t){return this.outputChannel.appendLine(`[${e.name}] Connection failed: ${t.message}`),o.window.showErrorMessage(`Failed to connect to "${e.name}": ${t.message}`),!1}}async disconnect(e){const t=this.connections.get(e);if(t){try{await t.client.close(),t.process.kill()}catch(e){}this.connections.delete(e),this.updateStatusBar(),this.outputChannel.appendLine(`[${e}] Disconnected`)}}async disconnectAll(){const e=Array.from(this.connections.keys());await Promise.all(e.map(e=>this.disconnect(e))),o.window.showInformationMessage("Disconnected from all MCP servers")}isConnected(){return this.connections.size>0}getConnectedServers(){return Array.from(this.connections.keys())}async searchAll(e){if(0===this.connections.size)return[];const t=[];for(const[n,r]of this.connections)try{const i=await r.client.callTool({name:"search_docs",arguments:{query:e}});if(i.content&&Array.isArray(i.content)){const e=i.content.find(e=>"text"===e.type);if(e&&e.text){const r=JSON.parse(e.text);Array.isArray(r)&&t.push(...r.map(e=>({...e,source:n})))}}}catch(e){this.outputChannel.appendLine(`[${n}] Search error: ${e.message}`)}return t.sort((e,t)=>(t.score||0)-(e.score||0)),t}async getNode(e,t){const n=this.connections.get(e);if(!n)return null;try{const r=await n.client.callTool({name:"get_node",arguments:{nodeId:t}});if(r.content&&Array.isArray(r.content)){const t=r.content.find(e=>"text"===e.type);if(t&&t.text)return{...JSON.parse(t.text),source:e}}}catch(t){this.outputChannel.appendLine(`[${e}] Get node error: ${t.message}`)}return null}async getProjectSummary(e){const t=this.connections.get(e);if(!t)return null;try{const n=await t.client.callTool({name:"get_project_summary",arguments:{}});if(n.content&&Array.isArray(n.content)){const t=n.content.find(e=>"text"===e.type);if(t&&t.text)return{...JSON.parse(t.text),source:e}}}catch(t){this.outputChannel.appendLine(`[${e}] Get summary error: ${t.message}`)}return null}async getAllProjectSummaries(){const e=[];for(const t of this.connections.keys()){const n=await this.getProjectSummary(t);n&&e.push(n)}return e}async listNodes(e,t){const n=this.connections.get(e);if(!n)return[];try{const r=await n.client.callTool({name:"list_nodes",arguments:t?{type:t}:{}});if(r.content&&Array.isArray(r.content)){const t=r.content.find(e=>"text"===e.type);if(t&&t.text)return JSON.parse(t.text).map(t=>({...t,source:e}))}}catch(t){this.outputChannel.appendLine(`[${e}] List nodes error: ${t.message}`)}return[]}updateStatusBar(){const e=this.connections.size;if(0===e)this.statusBarItem.text="$(plug) MCP: None",this.statusBarItem.tooltip="No MCP servers connected\nClick to manage connections",this.statusBarItem.backgroundColor=void 0;else{const t=this.getConnectedServers().join(", ");this.statusBarItem.text=`$(plug) MCP: ${e}`,this.statusBarItem.tooltip=`Connected to: ${t}\nClick to manage connections`,this.statusBarItem.backgroundColor=new o.ThemeColor("statusBarItem.prominentBackground")}this.statusBarItem.show()}async showStatus(){const e=this.getServerConfigs(),t=this.getConnectedServers(),n=[];n.push({label:"$(info) MCP Server Status",kind:o.QuickPickItemKind.Separator});for(const r of e){const e=t.includes(r.name);n.push({label:`${e?"$(check)":"$(circle-outline)"} ${r.name}`,description:e?"Connected":"Disconnected",detail:r.args.join(" ")})}0===e.length&&n.push({label:"$(warning) No servers configured",description:"Add servers in Settings"}),n.push({label:"",kind:o.QuickPickItemKind.Separator}),n.push({label:"$(plug) Connect All",description:"Connect to all configured servers"}),n.push({label:"$(debug-disconnect) Disconnect All",description:"Disconnect from all servers"}),n.push({label:"$(gear) Open Settings",description:"Configure MCP servers"}),n.push({label:"$(output) Show Logs",description:"Open MCP output channel"});const r=await o.window.showQuickPick(n,{placeHolder:"MCP Server Management"});if(r)if(r.label.includes("Connect All"))await this.connectAll();else if(r.label.includes("Disconnect All"))await this.disconnectAll();else if(r.label.includes("Open Settings"))o.commands.executeCommand("workbench.action.openSettings","codebaseVisualizer.mcpServers");else if(r.label.includes("Show Logs"))this.outputChannel.show();else if(r.label.includes("$(check)")||r.label.includes("$(circle-outline)")){const e=r.label.replace(/\$\([^)]+\)\s*/,"");t.includes(e)?(await this.disconnect(e),o.window.showInformationMessage(`Disconnected from "${e}"`)):await this.connect(e)}}dispose(){this.disconnectAll(),this.statusBarItem.dispose(),this.outputChannel.dispose()}}t.MCPClientManager=d;let p=null},12949:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(t){return e[t]??null}const n={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipus invàlid: s'esperava ${e.expected}, s'ha rebut ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Valor invàlid: s'esperava ${a.stringifyPrimitive(e.values[0])}`:`Opció invàlida: s'esperava una de ${a.joinValues(e.values," o ")}`;case"too_big":{const n=e.inclusive?"com a màxim":"menys de",r=t(e.origin);return r?`Massa gran: s'esperava que ${e.origin??"el valor"} contingués ${n} ${e.maximum.toString()} ${r.unit??"elements"}`:`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"com a mínim":"més de",r=t(e.origin);return r?`Massa petit: s'esperava que ${e.origin} contingués ${n} ${e.minimum.toString()} ${r.unit}`:`Massa petit: s'esperava que ${e.origin} fos ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Format invàlid: ha de començar amb "${t.prefix}"`:"ends_with"===t.format?`Format invàlid: ha d'acabar amb "${t.suffix}"`:"includes"===t.format?`Format invàlid: ha d'incloure "${t.includes}"`:"regex"===t.format?`Format invàlid: ha de coincidir amb el patró ${t.pattern}`:`Format invàlid per a ${n[t.format]??e.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${e.origin}`;case"invalid_union":default:return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${e.origin}`}}};e.exports=t.default},13019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const r=(0,s.explode)(t);if(r.enter||r.exit)throw new Error("Should not be used with enter/exit visitors.");!function e(t,s,c,l,u,d,p,h){if(!c)return;const f=h||i.NodePath.get({hub:p,parentPath:t,parent:s,container:l,listKey:d,key:u});a.setScope.call(f);const m=r[c.type];if(m){if(m.enter)for(const e of m.enter)e.call(n,f,n);if(m.exit)for(const e of m.exit)e.call(n,f,n)}if(f.shouldSkip)return;const y=o[c.type];if(null!=y&&y.length)for(const t of y){const n=c[t];if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++)e(f,c,n[r],n,r,t);else e(f,c,n,c,t,null)}}(e.parentPath,e.parent,e.node,e.container,e.key,e.listKey,e.hub,e)};var r=n(2352),i=n(25781),s=n(34950),a=n(79578);const{VISITOR_KEYS:o}=r},13181:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:u()}};const a=s(n(90523));t.parsedType=e=>o(typeof e,e);const o=(e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaičius";case"bigint":return"sveikasis skaičius";case"string":return"eilutė";case"boolean":return"loginė reikšmė";case"undefined":case"void":return"neapibrėžta reikšmė";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return void 0===t?"nežinomas objektas":null===t?"nulinė reikšmė":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulinė reikšmė"}return e},c=e=>e.charAt(0).toUpperCase()+e.slice(1);function l(e){const t=Math.abs(e),n=t%10,r=t%100;return r>=11&&r<=19||0===n?"many":1===n?"one":"few"}const u=()=>{const e={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function n(t,n,r,i){const s=e[t]??null;return null===s?s:{unit:s.unit[n],verb:s.verb[i][r?"inclusive":"notInclusive"]}}const r={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"};return e=>{switch(e.code){case"invalid_type":return`Gautas tipas ${(0,t.parsedType)(e.input)}, o tikėtasi - ${o(e.expected)}`;case"invalid_value":return 1===e.values.length?`Privalo būti ${a.stringifyPrimitive(e.values[0])}`:`Privalo būti vienas iš ${a.joinValues(e.values,"|")} pasirinkimų`;case"too_big":{const t=o(e.origin),r=n(e.origin,l(Number(e.maximum)),e.inclusive??!1,"smaller");if(r?.verb)return`${c(t??e.origin??"reikšmė")} ${r.verb} ${e.maximum.toString()} ${r.unit??"elementų"}`;const i=e.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${c(t??e.origin??"reikšmė")} turi būti ${i} ${e.maximum.toString()} ${r?.unit}`}case"too_small":{const t=o(e.origin),r=n(e.origin,l(Number(e.minimum)),e.inclusive??!1,"bigger");if(r?.verb)return`${c(t??e.origin??"reikšmė")} ${r.verb} ${e.minimum.toString()} ${r.unit??"elementų"}`;const i=e.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${c(t??e.origin??"reikšmė")} turi būti ${i} ${e.minimum.toString()} ${r?.unit}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Eilutė privalo prasidėti "${t.prefix}"`:"ends_with"===t.format?`Eilutė privalo pasibaigti "${t.suffix}"`:"includes"===t.format?`Eilutė privalo įtraukti "${t.includes}"`:"regex"===t.format?`Eilutė privalo atitikti ${t.pattern}`:`Neteisingas ${r[t.format]??e.format}`}case"not_multiple_of":return`Skaičius privalo būti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga įvestis";case"invalid_element":{const t=o(e.origin);return`${c(t??e.origin??"reikšmė")} turi klaidingą įvestį`}}}}},13222:(e,t,n)=>{var r=n(77556);e.exports=function(e){return null==e?"":r(e)}},13706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realtime=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(73850)),a=n(73850),o=r.__importStar(n(22729)),c=n(22729);class l extends i.APIResource{constructor(){super(...arguments),this.sessions=new s.Sessions(this._client),this.transcriptionSessions=new o.TranscriptionSessions(this._client)}}t.Realtime=l,l.Sessions=a.Sessions,l.TranscriptionSessions=c.TranscriptionSessions},14003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sessions=void 0;const r=n(82040),i=n(262),s=n(54815);class a extends r.APIResource{create(e,t){return this._client.post("/chatkit/sessions",{body:e,...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}cancel(e,t){return this._client.post(s.path`/chatkit/sessions/${e}/cancel`,{...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}}t.Sessions=a},14089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){const c=[];let l=!0;for(const u of t)if((0,i.isEmptyStatement)(u)||(l=!1),(0,i.isExpression)(u))c.push(u);else if((0,i.isExpressionStatement)(u))c.push(u.expression);else if((0,i.isVariableDeclaration)(u)){if("var"!==u.kind)return;for(const e of u.declarations){const t=(0,r.default)(e);for(const e of Object.keys(t))n.push({kind:u.kind,id:(0,o.default)(t[e])});e.init&&c.push((0,s.assignmentExpression)("=",e.id,e.init))}l=!0}else if((0,i.isIfStatement)(u)){const t=u.consequent?e([u.consequent],n):(0,a.buildUndefinedNode)(),r=u.alternate?e([u.alternate],n):(0,a.buildUndefinedNode)();if(!t||!r)return;c.push((0,s.conditionalExpression)(u.test,t,r))}else if((0,i.isBlockStatement)(u)){const t=e(u.body,n);if(!t)return;c.push(t)}else{if(!(0,i.isEmptyStatement)(u))return;0===t.indexOf(u)&&(l=!0)}return l&&c.push((0,a.buildUndefinedNode)()),1===c.length?c[0]:(0,s.sequenceExpression)(c)};var r=n(70329),i=n(98960),s=n(48079),a=n(10985),o=n(85279)},14248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},14528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},14792:(e,t,n)=>{var r=n(13222),i=n(55808);e.exports=function(e){return i(r(e).toLowerCase())}},15062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;const r=n(82040),i=n(262),s=n(54815);class a extends r.APIResource{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(s.path`/containers/${r}/files/${e}/content`,{...n,headers:(0,i.buildHeaders)([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}t.Content=a},15215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8592),i=n(98171),s=n(16519),a=n(97879),o=n(11070),c=n(64362),l=n(30340),u=n(2327),d=n(4946),p=n(84368),h=n(61526),f=n(76972),m=n(64994),y=n(83501),g=n(34176),v=n(22149);t.default=function(e=!1){const t=[h.default,f.default,m.default,y.default,g.default,v.default,l.default,u.default,c.default,d.default,p.default];return e?t.push(i.default,a.default):t.push(r.default,s.default),t.push(o.default),t}},15389:(e,t,n)=>{var r=n(93663),i=n(87978),s=n(83488),a=n(56449),o=n(50583);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):o(e)}},15586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("trailingComments",e,t)};var r=n(73205)},15734:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJSON=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.validatePositiveInteger=t.ensurePresent=t.isReadonlyArray=t.isArray=t.isAbsoluteURL=void 0,t.maybeObj=function(e){return"object"!=typeof e?{}:e??{}},t.isEmptyObj=function(e){if(!e)return!0;for(const t in e)return!1;return!0},t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};const r=n(44172),i=/^[a-z][a-z0-9+.-]*:/i;t.isAbsoluteURL=e=>i.test(e),t.isArray=e=>(t.isArray=Array.isArray,(0,t.isArray)(e)),t.isReadonlyArray=t.isArray,t.ensurePresent=e=>{if(null==e)throw new r.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e},t.validatePositiveInteger=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new r.OpenAIError(`${e} must be an integer`);if(t<0)throw new r.OpenAIError(`${e} must be a positive integer`);return t},t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new r.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new r.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e),t.maybeCoerceInteger=e=>{if(null!=e)return(0,t.coerceInteger)(e)},t.maybeCoerceFloat=e=>{if(null!=e)return(0,t.coerceFloat)(e)},t.maybeCoerceBoolean=e=>{if(null!=e)return(0,t.coerceBoolean)(e)},t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}}},16109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getKey=g,t._getPattern=v,t.get=function(e,t=!0){!0===t&&(t=this.context);const n=e.split(".");return 1===n.length?g.call(this,e,t):v.call(this,n,t)},t.getAllNextSiblings=function(){let e=this.key,t=this.getSibling(++e);const n=[];for(;t.node;)n.push(t),t=this.getSibling(++e);return n},t.getAllPrevSiblings=function(){let e=this.key,t=this.getSibling(--e);const n=[];for(;t.node;)n.push(t),t=this.getSibling(--e);return n},t.getAssignmentIdentifiers=function(){return s(this.node)},t.getBindingIdentifierPaths=function(e=!1,t=!1){const n=[this],r=Object.create(null);for(;n.length;){const i=n.shift();if(!i)continue;if(!i.node)continue;const s=a.keys[i.node.type];if(i.isIdentifier())e?(r[i.node.name]=r[i.node.name]||[]).push(i):r[i.node.name]=i;else{if(i.isExportDeclaration()){const e=i.get("declaration");e.isDeclaration()&&n.push(e);continue}if(t){if(i.isFunctionDeclaration()){n.push(i.get("id"));continue}if(i.isFunctionExpression())continue}if(s)for(let e=0;e<s.length;e++){const t=s[e],r=i.get(t);Array.isArray(r)?n.push(...r):r.node&&n.push(r)}}}return r},t.getBindingIdentifiers=function(e){return a(this.node,e)},t.getCompletionRecords=function(e=!1){return y(this,{canHaveBreak:!1,shouldPopulateBreak:!1,inCaseClause:!1,shouldPreserveBreak:e}).map(e=>e.path)},t.getNextSibling=function(){return this.getSibling(this.key+1)},t.getOpposite=function(){return"left"===this.key?this.getSibling("right"):"right"===this.key?this.getSibling("left"):null},t.getOuterBindingIdentifierPaths=function(e=!1){return this.getBindingIdentifierPaths(e,!0)},t.getOuterBindingIdentifiers=function(e){return o(this.node,e)},t.getPrevSibling=function(){return this.getSibling(this.key-1)},t.getSibling=function(e){return r.default.get({parentPath:this.parentPath,parent:this.parent,container:this.container,listKey:this.listKey,key:e}).setContext(this.context)};var r=n(29709),i=n(2352);const{getAssignmentIdentifiers:s,getBindingIdentifiers:a,getOuterBindingIdentifiers:o,numericLiteral:c,unaryExpression:l}=i,u=0,d=1;function p(e,t,n){return e&&t.push(...y(e,n)),t}function h(e){e.forEach(e=>{e.type=d})}function f(e,t){e.forEach(e=>{e.path.isBreakStatement({label:null})&&(t?e.path.replaceWith(l("void",c(0))):e.path.remove())})}function m(e,t){const n=[];if(t.canHaveBreak){let r=[];for(let i=0;i<e.length;i++){const s=e[i],a=Object.assign({},t,{inCaseClause:!1});s.isBlockStatement()&&(t.inCaseClause||t.shouldPopulateBreak)?a.shouldPopulateBreak=!0:a.shouldPopulateBreak=!1;const o=y(s,a);if(o.length>0&&o.every(e=>e.type===d)){r.length>0&&o.every(e=>e.path.isBreakStatement({label:null}))?(h(r),n.push(...r),r.some(e=>e.path.isDeclaration())&&(n.push(...o),t.shouldPreserveBreak||f(o,!0)),t.shouldPreserveBreak||f(o,!1)):(n.push(...o),t.shouldPopulateBreak||t.shouldPreserveBreak||f(o,!0));break}if(i===e.length-1)n.push(...o);else{r=[];for(let e=0;e<o.length;e++){const t=o[e];t.type===d&&n.push(t),t.type===u&&r.push(t)}}}}else if(e.length)for(let r=e.length-1;r>=0;r--){const i=y(e[r],t);if(i.length>1||1===i.length&&!i[0].path.isVariableDeclaration()&&!i[0].path.isEmptyStatement()){n.push(...i);break}}return n}function y(e,t){let n=[];if(e.isIfStatement())n=p(e.get("consequent"),n,t),n=p(e.get("alternate"),n,t);else{if(e.isDoExpression()||e.isFor()||e.isWhile()||e.isLabeledStatement())return p(e.get("body"),n,t);if(e.isProgram()||e.isBlockStatement())return m(e.get("body"),t);if(e.isFunction())return y(e.get("body"),t);if(e.isTryStatement())n=p(e.get("block"),n,t),n=p(e.get("handler"),n,t);else{if(e.isCatchClause())return p(e.get("body"),n,t);if(e.isSwitchStatement())return function(e,t,n){let r=[];for(let i=0;i<e.length;i++){const s=y(e[i],n),a=[],o=[];for(const e of s)e.type===u&&a.push(e),e.type===d&&o.push(e);a.length&&(r=a),t.push(...o)}return t.push(...r),t}(e.get("cases"),n,t);if(e.isSwitchCase())return m(e.get("consequent"),{canHaveBreak:!0,shouldPopulateBreak:!1,inCaseClause:!0,shouldPreserveBreak:t.shouldPreserveBreak});e.isBreakStatement()?n.push(function(e){return{type:d,path:e}}(e)):n.push(function(e){return{type:u,path:e}}(e))}}return n}function g(e,t){const n=this.node,i=n[e];return Array.isArray(i)?i.map((s,a)=>r.default.get({listKey:e,parentPath:this,parent:n,container:i,key:a}).setContext(t)):r.default.get({parentPath:this,parent:n,container:n,key:e}).setContext(t)}function v(e,t){let n=this;for(const r of e)n="."===r?n.parentPath:Array.isArray(n)?n[r]:n.get(r,t);return n}},16260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCatchDef=void 0;const r=n(73524);t.parseCatchDef=(e,t)=>(0,r.parseDef)(e.innerType._def,t)},16519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(66596),i=n(99048),s=n(51980),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return o(e,"additionalItems",t);n.items=!0,(0,i.alwaysValidSchema)(n,t)||e.ok((0,s.validateArray)(e))}};function o(e,t,n=e.schema){const{gen:s,parentSchema:a,data:o,keyword:c,it:l}=e;!function(e){const{opts:r,errSchemaPath:s}=l,a=n.length,o=a===e.minItems&&(a===e.maxItems||!1===e[t]);if(r.strictTuples&&!o){const e=`"${c}" is ${a}-tuple, but minItems or maxItems/${t} are not specified or different at path "${s}"`;(0,i.checkStrictMode)(l,e,r.strictTuples)}}(a),l.opts.unevaluated&&n.length&&!0!==l.items&&(l.items=i.mergeEvaluated.items(s,n.length,l.items));const u=s.name("valid"),d=s.const("len",r._`${o}.length`);n.forEach((t,n)=>{(0,i.alwaysValidSchema)(l,t)||(s.if(r._`${d} > ${n}`,()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},u)),e.ok(u))})}t.validateTuple=o,t.default=a},16640:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.GitWatcher=void 0,t.getGitWatcher=function(){return h||(h=new p),h};const o=a(n(91398)),c=a(n(16928)),l=a(n(79896)),u=n(563),d=n(69617);class p{workspaceRoot="";gitPath="";fileWatcher;gitWatcher;gitExtension;callbacks=[];incrementalUpdater;branchManager;isWatching=!1;debounceTimer;pendingChanges=new Set;branchManagerDisposable;static DEBOUNCE_DELAY=1e3;static WATCH_PATTERNS=["**/*.ts","**/*.tsx","**/*.js","**/*.jsx","**/*.java","**/*.py"];constructor(){this.incrementalUpdater=(0,u.getIncrementalUpdater)(),this.branchManager=(0,d.getBranchManager)()}async initialize(e){return this.workspaceRoot=e,this.gitPath=c.join(e,".git"),l.existsSync(this.gitPath)?(this.gitExtension=o.extensions.getExtension("vscode.git"),await this.branchManager.initialize(e)&&(this.branchManagerDisposable=this.branchManager.onChangeEvent(e=>{this.handleBranchManagerEvent(e)}),console.log("Branch manager integration enabled")),!0):(console.log("Not a git repository, git watching disabled"),!1)}handleBranchManagerEvent(e){const t={type:this.mapChangeEventType(e.type),files:e.files,branch:e.toBranch||this.branchManager.getBranch(),timestamp:e.timestamp};"branch-switch"===e.type&&(console.log(`Branch switch detected: ${e.fromBranch} -> ${e.toBranch}`),e.requiresFullRefresh?console.log("Full refresh required for new branch"):console.log("Using cached graph for branch")),this.notifyCallbacks(t)}mapChangeEventType(e){switch(e){case"branch-switch":return"branch-switch";case"commit":return"commit";default:return"file-change"}}startWatching(){if(this.isWatching)return;const e=new o.RelativePattern(this.workspaceRoot,`{${p.WATCH_PATTERNS.join(",")}}`);if(this.fileWatcher=o.workspace.createFileSystemWatcher(e),this.fileWatcher.onDidCreate(e=>this.handleFileChange(e,"create")),this.fileWatcher.onDidChange(e=>this.handleFileChange(e,"modify")),this.fileWatcher.onDidDelete(e=>this.handleFileChange(e,"delete")),l.existsSync(this.gitPath)){const e=new o.RelativePattern(this.gitPath,"index");this.gitWatcher=o.workspace.createFileSystemWatcher(e),this.gitWatcher.onDidChange(()=>this.handleGitIndexChange())}this.isWatching=!0,console.log("GitWatcher started monitoring changes")}stopWatching(){this.fileWatcher?.dispose(),this.gitWatcher?.dispose(),this.isWatching=!1,console.log("GitWatcher stopped")}handleFileChange(e,t){const n=e.fsPath;this.shouldIgnore(n)||(this.pendingChanges.add(n),this.debouncedNotify("file-change"))}handleGitIndexChange(){this.debouncedNotify("stage")}shouldIgnore(e){return["node_modules","dist","build",".git","coverage",".doc_sync","__pycache__"].some(t=>e.includes(t))}debouncedNotify(e){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{const t=Array.from(this.pendingChanges);this.pendingChanges.clear();const n={type:e,files:t,timestamp:new Date};this.notifyCallbacks(n)},p.DEBOUNCE_DELAY)}notifyCallbacks(e){for(const t of this.callbacks)try{t(e)}catch(e){console.error("Callback error:",e)}}onGitChange(e){return this.callbacks.push(e),new o.Disposable(()=>{const t=this.callbacks.indexOf(e);t>=0&&this.callbacks.splice(t,1)})}async getStagedFiles(){try{if(this.gitExtension?.isActive){const e=this.gitExtension.exports.getAPI(1).repositories[0];if(e)return e.state.indexChanges.map(e=>e.uri.fsPath)}}catch(e){console.error("Failed to get staged files:",e)}return[]}async getModifiedFiles(){try{if(this.gitExtension?.isActive){const e=this.gitExtension.exports.getAPI(1).repositories[0];if(e)return e.state.workingTreeChanges.map(e=>e.uri.fsPath)}}catch(e){console.error("Failed to get modified files:",e)}return[]}async getAllChangedFiles(){const e=await this.getStagedFiles(),t=await this.getModifiedFiles();return[...new Set([...e,...t])]}async triggerManualSync(){const e=await this.getAllChangedFiles();return 0===e.length&&0===(await this.incrementalUpdater.getPendingChanges()).changedCount?{success:!0,changedFiles:0,message:"No changes detected. Graph is up to date."}:(this.notifyCallbacks({type:"file-change",files:e,timestamp:new Date}),{success:!0,changedFiles:e.length,message:`Sync triggered for ${e.length} changed files.`})}isActive(){return this.isWatching}getBranchManager(){return this.branchManager}async getCurrentBranch(){return this.branchManager.getBranch()}getCachedBranches(){return this.branchManager.getCachedBranches()}async saveBranchState(){const e=this.branchManager.getBranch();await this.branchManager.saveBranchState(e)}dispose(){this.stopWatching(),this.branchManagerDisposable?.dispose(),this.branchManager.dispose(),this.debounceTimer&&clearTimeout(this.debounceTimer)}}t.GitWatcher=p;let h=null},16928:e=>{"use strict";e.exports=require("path")},17159:e=>{"use strict";const t={},n=t.hasOwnProperty,r=(e,t)=>{for(const r in e)n.call(e,r)&&t(r,e[r])},i=e=>"\\u"+("0000"+e).slice(-4),s=(e,t)=>{let n=e.toString(16);return t?n:n.toUpperCase()},a=t.toString,o=Array.isArray,c=e=>"bigint"==typeof e,l={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},u=/[\\\b\f\n\r\t]/,d=/[0-9]/,p=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,h=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,f=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,m=(e,t)=>{const n=()=>{E=P,++t.indentLevel,P=t.indent.repeat(t.indentLevel)},y={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"\t",indentLevel:0,__inline1__:!1,__inline2__:!1},g=t&&t.json;var v,b;g&&(y.quotes="double",y.wrap=!0),v=y,t=(b=t)?(r(b,(e,t)=>{v[e]=t}),v):v,"single"!=t.quotes&&"double"!=t.quotes&&"backtick"!=t.quotes&&(t.quotes="single");const S="double"==t.quotes?'"':"backtick"==t.quotes?"`":"'",T=t.compact,_=t.lowercaseHex;let P=t.indent.repeat(t.indentLevel),E="";const x=t.__inline1__,w=t.__inline2__,A=T?"":"\n";let O,I=!0;const C="binary"==t.numbers,k="octal"==t.numbers,N="decimal"==t.numbers,L="hexadecimal"==t.numbers;if(g&&e&&"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof($=e)&&"[object String]"!=a.call($)){if((e=>"[object Map]"==a.call(e))(e))return 0==e.size?"new Map()":(T||(t.__inline1__=!0,t.__inline2__=!1),"new Map("+m(Array.from(e),t)+")");if((e=>"[object Set]"==a.call(e))(e))return 0==e.size?"new Set()":"new Set("+m(Array.from(e),t)+")";if((e=>"function"==typeof Buffer&&Buffer.isBuffer(e))(e))return 0==e.length?"Buffer.from([])":"Buffer.from("+m(Array.from(e),t)+")";if(o(e))return O=[],t.wrap=!0,x&&(t.__inline1__=!1,t.__inline2__=!0),w||n(),((e,t)=>{const n=e.length;let r=-1;for(;++r<n;)t(e[r])})(e,e=>{I=!1,w&&(t.__inline2__=!1),O.push((T||w?"":P)+m(e,t))}),I?"[]":w?"["+O.join(", ")+"]":"["+A+O.join(","+A)+A+(T?"":E)+"]";if((e=>"number"==typeof e||"[object Number]"==a.call(e))(e)||c(e)){if(g)return JSON.stringify(Number(e));let t;if(N)t=String(e);else if(L){let n=e.toString(16);_||(n=n.toUpperCase()),t="0x"+n}else C?t="0b"+e.toString(2):k&&(t="0o"+e.toString(8));return c(e)?t+"n":t}return c(e)?g?JSON.stringify(Number(e)):e+"n":(e=>"[object Object]"==a.call(e))(e)?(O=[],t.wrap=!0,n(),r(e,(e,n)=>{I=!1,O.push((T?"":P)+m(e,t)+":"+(T?"":" ")+m(n,t))}),I?"{}":"{"+A+O.join(","+A)+A+(T?"":E)+"}"):g?JSON.stringify(e)||"null":String(e)}var $;const M=t.escapeEverything?h:f;return O=e.replace(M,(e,n,r,a,o,c)=>{if(n){if(t.minimal)return n;const e=n.charCodeAt(0),r=n.charCodeAt(1);return t.es6?"\\u{"+s(1024*(e-55296)+r-56320+65536,_)+"}":i(s(e,_))+i(s(r,_))}if(r)return i(s(r.charCodeAt(0),_));if("\0"==e&&!g&&!d.test(c.charAt(o+1)))return"\\0";if(a)return a==S||t.escapeEverything?"\\"+a:a;if(u.test(e))return l[e];if(t.minimal&&!p.test(e))return e;const h=s(e.charCodeAt(0),_);return g||h.length>2?i(h):"\\x"+("00"+h).slice(-2)}),"`"==S&&(O=O.replace(/\$\{/g,"\\${")),t.isScriptContext&&(O=O.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,g?"\\u003C!--":"\\x3C!--")),t.wrap&&(O=S+O+S),O};m.version="3.0.2",e.exports=m},17237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEnv=void 0,t.readEnv=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0},17255:(e,t,n)=>{var r=n(47422);e.exports=function(e){return function(t){return r(t,e)}}},17400:(e,t,n)=>{var r=n(99374),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},17472:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.toJsonSchemaCompat=function(e,t){var n,r,i,s;return(0,o.isZ4Schema)(e)?a.toJSONSchema(e,{target:(s=null==t?void 0:t.target,s?"jsonSchema7"===s||"draft-7"===s?"draft-7":"jsonSchema2019-09"===s||"draft-2020-12"===s?"draft-2020-12":"draft-7":"draft-7"),io:null!==(n=null==t?void 0:t.pipeStrategy)&&void 0!==n?n:"input"}):(0,c.zodToJsonSchema)(e,{strictUnions:null===(r=null==t?void 0:t.strictUnions)||void 0===r||r,pipeStrategy:null!==(i=null==t?void 0:t.pipeStrategy)&&void 0!==i?i:"input"})},t.getMethodLiteral=function(e){const t=(0,o.getObjectShape)(e),n=null==t?void 0:t.method;if(!n)throw new Error("Schema is missing a method literal");const r=(0,o.getLiteralValue)(n);if("string"!=typeof r)throw new Error("Schema method literal must be a string");return r},t.parseWithCompat=function(e,t){const n=(0,o.safeParse)(e,t);if(!n.success)throw n.error;return n.data};const a=s(n(97083)),o=n(49029),c=n(39340)},17655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const r=n(82040),i=n(12018);class s extends r.APIResource{create(e,t){return this._client.post("/audio/translations",(0,i.multipartFormRequestOptions)({body:e,...t,__metadata:{model:e.model}},this._client))}}t.Translations=s},17670:(e,t,n)=>{var r=n(12651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},17833:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(40736)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},17878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{getCode(){}getScope(){}addHelper(){throw new Error("Helpers are not supported by the default hub.")}buildError(e,t,n=TypeError){return new n(t)}}},18125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e,t),(0,i.default)(e,t),(0,s.default)(e,t),e};var r=n(15586),i=n(55766),s=n(7932)},18352:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AjvJsonSchemaValidator=void 0;const i=n(20647),s=r(n(5143));t.AjvJsonSchemaValidator=class{constructor(e){this._ajv=null!=e?e:function(){const e=new i.Ajv({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return(0,s.default)(e),e}()}getValidator(e){var t;const n="$id"in e&&"string"==typeof e.$id&&null!==(t=this._ajv.getSchema(e.$id))&&void 0!==t?t:this._ajv.compile(e);return e=>n(e)?{valid:!0,data:e,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(n.errors)}}}},18868:(e,t,n)=>{"use strict";var r,i,s,a,o,c,l,u,d,p,h,f,m,y,g,v,b,S,T,_,P,E,x;Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantStream=void 0;const w=n(79632),A=n(6716),O=n(89526),I=n(50460),C=n(34701);class k extends I.EventStream{constructor(){super(...arguments),r.add(this),s.set(this,[]),a.set(this,{}),o.set(this,{}),c.set(this,void 0),l.set(this,void 0),u.set(this,void 0),d.set(this,void 0),p.set(this,void 0),h.set(this,void 0),f.set(this,void 0),m.set(this,void 0),y.set(this,void 0)}[(s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,y=new WeakMap,r=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new i;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=A.Stream.fromReadableStream(e,this.controller);for await(const e of i)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(i.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",v).call(this))}toReadableStream(){return new A.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r){const s=new i;return s._run(()=>s._runToolAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,t,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.submitToolOutputs(t,a,{...i,signal:this.controller.signal});this._connected();for await(const e of o)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(o.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",v).call(this))}static createThreadAssistantStream(e,t,n){const r=new i;return r._run(()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,t,n,r){const s=new i;return s._run(()=>s._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return w.__classPrivateFieldGet(this,f,"f")}currentRun(){return w.__classPrivateFieldGet(this,m,"f")}currentMessageSnapshot(){return w.__classPrivateFieldGet(this,c,"f")}currentRunStepSnapshot(){return w.__classPrivateFieldGet(this,y,"f")}async finalRunSteps(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,a,"f"))}async finalMessages(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,o,"f"))}async finalRun(){if(await this.done(),!w.__classPrivateFieldGet(this,l,"f"))throw Error("Final run was not received.");return w.__classPrivateFieldGet(this,l,"f")}async _createThreadAssistantStream(e,t,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...t,stream:!0},a=await e.createAndRun(s,{...n,signal:this.controller.signal});this._connected();for await(const e of a)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(a.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",v).call(this))}async _createAssistantStream(e,t,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.create(t,a,{...i,signal:this.controller.signal});this._connected();for await(const e of o)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(o.controller.signal?.aborted)throw new O.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",v).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!(0,C.isObj)(t)||!(0,C.isObj)(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...r);continue}for(const e of r){if(!(0,C.isObj)(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r){return await this._createToolAssistantStream(t,e,n,r)}}t.AssistantStream=k,i=k,g=function(e){if(!this.ended)switch(w.__classPrivateFieldSet(this,f,e,"f"),w.__classPrivateFieldGet(this,r,"m",T).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w.__classPrivateFieldGet(this,r,"m",x).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldGet(this,r,"m",S).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w.__classPrivateFieldGet(this,r,"m",b).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},v=function(){if(this.ended)throw new O.OpenAIError("stream has ended, this shouldn't happen");if(!w.__classPrivateFieldGet(this,l,"f"))throw Error("Final run has not been received");return w.__classPrivateFieldGet(this,l,"f")},b=function(e){const[t,n]=w.__classPrivateFieldGet(this,r,"m",P).call(this,e,w.__classPrivateFieldGet(this,c,"f"));w.__classPrivateFieldSet(this,c,t,"f"),w.__classPrivateFieldGet(this,o,"f")[t.id]=t;for(const e of n){const n=t.content[e.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=w.__classPrivateFieldGet(this,u,"f")){if(w.__classPrivateFieldGet(this,d,"f"))switch(w.__classPrivateFieldGet(this,d,"f").type){case"text":this._emit("textDone",w.__classPrivateFieldGet(this,d,"f").text,w.__classPrivateFieldGet(this,c,"f"));break;case"image_file":this._emit("imageFileDone",w.__classPrivateFieldGet(this,d,"f").image_file,w.__classPrivateFieldGet(this,c,"f"))}w.__classPrivateFieldSet(this,u,n.index,"f")}w.__classPrivateFieldSet(this,d,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==w.__classPrivateFieldGet(this,u,"f")){const t=e.data.content[w.__classPrivateFieldGet(this,u,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,w.__classPrivateFieldGet(this,c,"f"));break;case"text":this._emit("textDone",t.text,w.__classPrivateFieldGet(this,c,"f"))}}w.__classPrivateFieldGet(this,c,"f")&&this._emit("messageDone",e.data),w.__classPrivateFieldSet(this,c,void 0,"f")}},S=function(e){const t=w.__classPrivateFieldGet(this,r,"m",_).call(this,e);switch(w.__classPrivateFieldSet(this,y,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==w.__classPrivateFieldGet(this,p,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(w.__classPrivateFieldGet(this,h,"f")&&this._emit("toolCallDone",w.__classPrivateFieldGet(this,h,"f")),w.__classPrivateFieldSet(this,p,e.index,"f"),w.__classPrivateFieldSet(this,h,t.step_details.tool_calls[e.index],"f"),w.__classPrivateFieldGet(this,h,"f")&&this._emit("toolCallCreated",w.__classPrivateFieldGet(this,h,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldSet(this,y,void 0,"f"),"tool_calls"==e.data.step_details.type&&w.__classPrivateFieldGet(this,h,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,h,"f")),w.__classPrivateFieldSet(this,h,void 0,"f")),this._emit("runStepDone",e.data,t)}},T=function(e){w.__classPrivateFieldGet(this,s,"f").push(e),this._emit("event",e)},_=function(e){switch(e.event){case"thread.run.step.created":return w.__classPrivateFieldGet(this,a,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=w.__classPrivateFieldGet(this,a,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=i.accumulateDelta(t,n.delta);w.__classPrivateFieldGet(this,a,"f")[e.data.id]=r}return w.__classPrivateFieldGet(this,a,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w.__classPrivateFieldGet(this,a,"f")[e.data.id]=e.data}if(w.__classPrivateFieldGet(this,a,"f")[e.data.id])return w.__classPrivateFieldGet(this,a,"f")[e.data.id];throw new Error("No snapshot available")},P=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const e of i.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=w.__classPrivateFieldGet(this,r,"m",E).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},E=function(e,t){return i.accumulateDelta(t,e)},x=function(e){switch(w.__classPrivateFieldSet(this,m,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":w.__classPrivateFieldSet(this,l,e.data,"f"),w.__classPrivateFieldGet(this,h,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,h,"f")),w.__classPrivateFieldSet(this,h,void 0,"f"))}}},19164:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const o=s(n(79325));t.z=o,a(n(79325),t),t.default=o},19219:e=>{e.exports=function(e,t){return e.has(t)}},19289:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.FileLogger=void 0;const o=a(n(79896)),c=a(n(16928));t.FileLogger=class{logFilePath;logStream=null;constructor(e){const t=e.globalStorageUri.fsPath;o.existsSync(t)||o.mkdirSync(t,{recursive:!0});const n=(new Date).toISOString().replace(/[:.]/g,"-");this.logFilePath=c.join(t,`codebase-visualizer-${n}.log`),this.logStream=o.createWriteStream(this.logFilePath,{flags:"a"}),this.log("=".repeat(80)),this.log("Codebase Visualizer Debug Log"),this.log(`Started: ${(new Date).toISOString()}`),this.log(`Log file: ${this.logFilePath}`),this.log("=".repeat(80))}log(e,t){const n=(new Date).toISOString(),r=t?`[${n}] ${e}\n${JSON.stringify(t,null,2)}\n`:`[${n}] ${e}\n`;this.logStream&&this.logStream.write(r),console.log(e,t||"")}error(e,t){const n=(new Date).toISOString(),r=t?`[${n}] ERROR: ${e}\n${t.stack||t.toString()}\n`:`[${n}] ERROR: ${e}\n`;this.logStream&&this.logStream.write(r),console.error(e,t||"")}getLogFilePath(){return this.logFilePath}dispose(){this.logStream&&(this.log("=".repeat(80)),this.log(`Log ended: ${(new Date).toISOString()}`),this.log("=".repeat(80)),this.logStream.end())}}},19479:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.GitHooksManager=void 0,t.getHooksManager=function(){return d||(d=new u),d};const o=a(n(91398)),c=a(n(16928)),l=a(n(79896));class u{workspaceRoot="";gitPath="";hooksPath="";isInitialized=!1;hookMarker="# Codebase-Visualizer-Hook";onHookTriggeredEmitter=new o.EventEmitter;onHookTriggered=this.onHookTriggeredEmitter.event;async initialize(e){if(this.workspaceRoot=e,this.gitPath=c.join(e,".git"),this.hooksPath=c.join(this.gitPath,"hooks"),!l.existsSync(this.gitPath))return console.log("Not a git repository, hooks manager disabled"),!1;if(!l.existsSync(this.hooksPath))try{l.mkdirSync(this.hooksPath,{recursive:!0})}catch(e){return console.error("Failed to create hooks directory:",e),!1}return this.isInitialized=!0,console.log("GitHooksManager initialized"),!0}async installHook(e){if(!this.isInitialized)return console.error("GitHooksManager not initialized"),!1;const t=c.join(this.hooksPath,e),n=this.generateHookScript(e);try{let r="";if(l.existsSync(t)){if(r=l.readFileSync(t,"utf8"),r.includes(this.hookMarker))return console.log(`Hook ${e} already installed`),!0;const i=r.trim()+"\n\n"+n;l.writeFileSync(t,i,{mode:493})}else l.writeFileSync(t,n,{mode:493});return console.log(`Installed ${e} hook`),!0}catch(t){return console.error(`Failed to install ${e} hook:`,t),!1}}async uninstallHook(e){if(!this.isInitialized)return!1;const t=c.join(this.hooksPath,e);try{if(!l.existsSync(t))return!0;let n=l.readFileSync(t,"utf8");const r=this.hookMarker,i=`${this.hookMarker}-end`,s=n.indexOf(r);if(-1===s)return!0;const a=n.indexOf(i);return n=-1!==a?n.slice(0,s)+n.slice(a+i.length):n.slice(0,s),n=n.trim(),"#!/bin/sh"!==n&&"#!/bin/bash"!==n&&n?l.writeFileSync(t,n,{mode:493}):l.unlinkSync(t),console.log(`Uninstalled ${e} hook`),!0}catch(t){return console.error(`Failed to uninstall ${e} hook:`,t),!1}}async installAllHooks(){const e=["post-commit","post-checkout","post-merge"],t=[],n=[];for(const r of e)await this.installHook(r)?t.push(r):n.push(r);return{success:t,failed:n}}async uninstallAllHooks(){const e=["post-commit","post-checkout","post-merge","pre-commit","pre-push"];for(const t of e)await this.uninstallHook(t)}getInstalledHooks(){if(!this.isInitialized)return[];const e=[],t=["pre-commit","post-commit","post-checkout","post-merge","pre-push"];for(const n of t){const t=c.join(this.hooksPath,n);l.existsSync(t)&&l.readFileSync(t,"utf8").includes(this.hookMarker)&&e.push(n)}return e}generateHookScript(e){const t=(new Date).toISOString();let n="";switch(e){case"post-commit":n='\n# Notify extension about the commit\nif [ -n "${VSCODE_GIT_HOOK_NOTIFIER:-}" ]; then\n  echo "codebase-visualizer:post-commit:$(git rev-parse HEAD)" > "$VSCODE_GIT_HOOK_NOTIFIER"\nfi\n';break;case"post-checkout":n='\n# Notify extension about branch/file checkout\n# $1 = previous HEAD, $2 = new HEAD, $3 = flag (1 if branch checkout)\nif [ "$3" = "1" ]; then\n  current_branch=$(git branch --show-current)\n  echo "Branch checkout detected: $current_branch"\n  if [ -n "${VSCODE_GIT_HOOK_NOTIFIER:-}" ]; then\n    echo "codebase-visualizer:post-checkout:$current_branch" > "$VSCODE_GIT_HOOK_NOTIFIER"\n  fi\nfi\n';break;case"post-merge":n='\n# Notify extension about merge\nmerge_head=$(cat .git/MERGE_HEAD 2>/dev/null || echo "none")\nif [ -n "${VSCODE_GIT_HOOK_NOTIFIER:-}" ]; then\n  echo "codebase-visualizer:post-merge:$merge_head" > "$VSCODE_GIT_HOOK_NOTIFIER"\nfi\n';break;case"pre-commit":n='\n# Run before commit - extension can validate files\necho "Codebase Visualizer: Pre-commit hook running..."\n';break;case"pre-push":n='\n# Run before push - extension can perform final checks\necho "Codebase Visualizer: Pre-push hook running..."\n'}return`#!/bin/sh\n${this.hookMarker}\n# Installed by Codebase Visualizer extension on ${t}\n# This hook notifies the extension about git operations\n${n}\n${this.hookMarker}-end\n`}startWatchingHookTriggers(){const e=c.join(this.gitPath,".codebase-visualizer-trigger");process.env.VSCODE_GIT_HOOK_NOTIFIER=e;const t=o.workspace.createFileSystemWatcher(new o.RelativePattern(this.gitPath,".codebase-visualizer-trigger"));return t.onDidChange(async()=>{await this.processTriggerFile(e)}),t.onDidCreate(async()=>{await this.processTriggerFile(e)}),t}async processTriggerFile(e){try{if(!l.existsSync(e))return;const t=l.readFileSync(e,"utf8").trim().match(/^codebase-visualizer:([\w-]+):(.*)$/);if(t){const e=t[1],n=t[2];console.log(`Hook triggered: ${e} with data: ${n}`),this.onHookTriggeredEmitter.fire({type:e})}l.unlinkSync(e)}catch(e){}}dispose(){this.onHookTriggeredEmitter.dispose()}}let d;t.GitHooksManager=u},19501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{list(e,t={},n){return this._client.getAPIList(s.path`/chat/completions/${e}/messages`,i.CursorPage,{query:t,...n})}}t.Messages=a},19722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!(0,r.default)(e.type,"Immutable")||!!(0,i.isIdentifier)(e)&&"undefined"===e.name};var r=n(94460),i=n(98960)},19815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function(e,t){const{placeholderWhitelist:n=e.placeholderWhitelist,placeholderPattern:r=e.placeholderPattern,preserveComments:i=e.preserveComments,syntacticPlaceholders:s=e.syntacticPlaceholders}=t;return{parser:Object.assign({},e.parser,t.parser),placeholderWhitelist:n,placeholderPattern:r,preserveComments:i,syntacticPlaceholders:s}},t.normalizeReplacements=function(e){if(Array.isArray(e))return e.reduce((e,t,n)=>(e["$"+n]=t,e),{});if("object"==typeof e||null==e)return e||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")},t.validate=function(e){if(null!=e&&"object"!=typeof e)throw new Error("Unknown template options.");const t=e||{},{placeholderWhitelist:r,placeholderPattern:i,preserveComments:s,syntacticPlaceholders:a}=t,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(t,n);if(null!=r&&!(r instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(null!=i&&!(i instanceof RegExp)&&!1!==i)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(null!=s&&"boolean"!=typeof s)throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(null!=a&&"boolean"!=typeof a)throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(!0===a&&(null!=r||null!=i))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:o,placeholderWhitelist:r||void 0,placeholderPattern:null==i?void 0:i,preserveComments:null==s?void 0:s,syntacticPlaceholders:null==a?void 0:a}};const n=["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"]},20317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},20645:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(t){return e[t]??null}const n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input tidak sah: dijangka ${a.stringifyPrimitive(e.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Terlalu besar: dijangka ${e.origin??"nilai"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"elemen"}`:`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Terlalu kecil: dijangka ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Terlalu kecil: dijangka ${e.origin} adalah ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`String tidak sah: mesti bermula dengan "${t.prefix}"`:"ends_with"===t.format?`String tidak sah: mesti berakhir dengan "${t.suffix}"`:"includes"===t.format?`String tidak sah: mesti mengandungi "${t.includes}"`:"regex"===t.format?`String tidak sah: mesti sepadan dengan corak ${t.pattern}`:`${n[t.format]??e.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}}};e.exports=t.default},20647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=n(79981),i=n(10781),s=n(35870),a=n(82546),o=["/properties"],c="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=n(93697);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(66596);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=n(53781);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var h=n(7346);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},20681:(e,t,n)=>{var r=n(62006)(n(94469));e.exports=r},20802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertToolsCallTaskCapability=function(e,t,n){var r;if(!e)throw new Error(`${n} does not support task creation (required for ${t})`);if("tools/call"===t&&!(null===(r=e.tools)||void 0===r?void 0:r.call))throw new Error(`${n} does not support task creation for tools/call (required for ${t})`)},t.assertClientRequestTaskCapability=function(e,t,n){var r,i;if(!e)throw new Error(`${n} does not support task creation (required for ${t})`);switch(t){case"sampling/createMessage":if(!(null===(r=e.sampling)||void 0===r?void 0:r.createMessage))throw new Error(`${n} does not support task creation for sampling/createMessage (required for ${t})`);break;case"elicitation/create":if(!(null===(i=e.elicitation)||void 0===i?void 0:i.create))throw new Error(`${n} does not support task creation for elicitation/create (required for ${t})`)}}},21301:(e,t,n)=>{"use strict";var r,i,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAI=void 0;const o=n(79632),c=n(9491),l=n(15734),u=n(34741),d=n(30917),p=n(12193),h=o.__importStar(n(446)),f=o.__importStar(n(67458)),m=o.__importStar(n(41441)),y=n(35392),g=o.__importStar(n(44172)),v=o.__importStar(n(75552)),b=o.__importStar(n(78728)),S=o.__importStar(n(33946)),T=n(81482),_=n(32530),P=n(79045),E=n(1242),x=n(61461),w=n(87370),A=n(99458),O=n(24975),I=n(98284),C=n(88014),k=n(1253),N=n(6183),L=n(76111),$=n(42099),M=n(48997),R=n(74769),j=n(33453),D=n(79777),U=n(28769),F=n(50477),B=n(93017),Z=n(84229),z=n(12193),V=n(262),q=n(17237),K=n(86188),W=n(15734);class G{constructor({baseURL:e=(0,q.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,q.readEnv)("OPENAI_API_KEY"),organization:n=(0,q.readEnv)("OPENAI_ORG_ID")??null,project:a=(0,q.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:c=(0,q.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(r.add(this),s.set(this,void 0),this.completions=new S.Completions(this),this.chat=new S.Chat(this),this.embeddings=new S.Embeddings(this),this.files=new S.Files(this),this.images=new S.Images(this),this.audio=new S.Audio(this),this.moderations=new S.Moderations(this),this.models=new S.Models(this),this.fineTuning=new S.FineTuning(this),this.graders=new S.Graders(this),this.vectorStores=new S.VectorStores(this),this.webhooks=new S.Webhooks(this),this.beta=new S.Beta(this),this.batches=new S.Batches(this),this.uploads=new S.Uploads(this),this.responses=new S.Responses(this),this.realtime=new S.Realtime(this),this.conversations=new S.Conversations(this),this.evals=new S.Evals(this),this.containers=new S.Containers(this),this.videos=new S.Videos(this),void 0===t)throw new g.OpenAIError("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const u={apiKey:t,organization:n,project:a,webhookSecret:c,...l,baseURL:e||"https://api.openai.com/v1"};if(!u.dangerouslyAllowBrowser&&(0,z.isRunningInBrowser)())throw new g.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=u.baseURL,this.timeout=u.timeout??i.DEFAULT_TIMEOUT,this.logger=u.logger??console;const d="warn";this.logLevel=d,this.logLevel=(0,K.parseLogLevel)(u.logLevel,"ClientOptions.logLevel",this)??(0,K.parseLogLevel)((0,q.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??d,this.fetchOptions=u.fetchOptions,this.maxRetries=u.maxRetries??2,this.fetch=u.fetch??h.getDefaultFetch(),o.__classPrivateFieldSet(this,s,f.FallbackEncoder,"f"),this._options=u,this.apiKey="string"==typeof t?t:"Missing Key",this.organization=n,this.project=a,this.webhookSecret=c}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return(0,V.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return m.stringify(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${y.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,c.uuid4)()}`}makeStatusError(e,t,n,r){return g.APIError.generate(e,t,n,r)}async _callApiKey(){const e=this._options.apiKey;if("function"!=typeof e)return!1;let t;try{t=await e()}catch(e){if(e instanceof g.OpenAIError)throw e;throw new g.OpenAIError(`Failed to get token from 'apiKey' function: ${e.message}`,{cause:e})}if("string"!=typeof t||!t)throw new g.OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${t}`);return this.apiKey=t,!0}buildURL(e,t,n){const i=!o.__classPrivateFieldGet(this,r,"m",a).call(this)&&n||this.baseURL,s=(0,l.isAbsoluteURL)(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return(0,W.isEmptyObj)(c)||(t={...c,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>({method:e,path:t,...n})))}request(e,t=null){return new T.APIPromise(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){const r=await e,i=r.maxRetries??this.maxRetries;null==t&&(t=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=await this.buildRequest(r,{retryCount:i-t});await this.prepareRequest(s,{url:a,options:r});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=void 0===n?"":`, retryOf: ${n}`,p=Date.now();if((0,K.loggerFor)(this).debug(`[${c}] sending request`,(0,K.formatRequestDetails)({retryOfRequestLogID:n,method:r.method,url:a,options:r,headers:s.headers})),r.signal?.aborted)throw new g.APIUserAbortError;const f=new AbortController,m=await this.fetchWithTimeout(a,s,o,f).catch(d.castToError),y=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(r.signal?.aborted)throw new g.APIUserAbortError;const i=(0,d.isAbortError)(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return(0,K.loggerFor)(this).info(`[${c}] connection ${i?"timed out":"failed"} - ${e}`),(0,K.loggerFor)(this).debug(`[${c}] connection ${i?"timed out":"failed"} (${e})`,(0,K.formatRequestDetails)({retryOfRequestLogID:n,url:a,durationMs:y-p,message:m.message})),this.retryRequest(r,t,n??c);if((0,K.loggerFor)(this).info(`[${c}] connection ${i?"timed out":"failed"} - error; no more retries left`),(0,K.loggerFor)(this).debug(`[${c}] connection ${i?"timed out":"failed"} (error; no more retries left)`,(0,K.formatRequestDetails)({retryOfRequestLogID:n,url:a,durationMs:y-p,message:m.message})),i)throw new g.APIConnectionTimeoutError;throw new g.APIConnectionError({cause:m})}const v=`[${c}${u}${[...m.headers.entries()].filter(([e])=>"x-request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join("")}] ${s.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${y-p}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await h.CancelReadableStream(m.body),(0,K.loggerFor)(this).info(`${v} - ${e}`),(0,K.loggerFor)(this).debug(`[${c}] response error (${e})`,(0,K.formatRequestDetails)({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:y-p})),this.retryRequest(r,t,n??c,m.headers)}const i=e?"error; no more retries left":"error; not retryable";(0,K.loggerFor)(this).info(`${v} - ${i}`);const s=await m.text().catch(e=>(0,d.castToError)(e).message),a=(0,l.safeJSON)(s),o=a?void 0:s;throw(0,K.loggerFor)(this).debug(`[${c}] response error (${i})`,(0,K.formatRequestDetails)({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:o,durationMs:Date.now()-p})),this.makeStatusError(m.status,a,o,m.headers)}return(0,K.loggerFor)(this).info(v),(0,K.loggerFor)(this).debug(`[${c}] response start`,(0,K.formatRequestDetails)({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:y-p})),{response:m,options:r,controller:f,requestLogID:c,retryOfRequestLogID:n,startTime:p}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new v.PagePromise(this,n,e)}async fetchWithTimeout(e,t,n,r){const{signal:i,method:s,...a}=t||{};i&&i.addEventListener("abort",()=>r.abort());const o=setTimeout(()=>r.abort(),n),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,l={signal:r.signal,...c?{duplex:"half"}:{},method:"GET",...a};s&&(l.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(o)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,n,r){let i;const s=r?.get("retry-after-ms");if(s){const e=parseFloat(s);Number.isNaN(e)||(i=e)}const a=r?.get("retry-after");if(a&&!i){const e=parseFloat(a);i=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}return await(0,u.sleep)(i),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){const n={...e},{method:r,path:i,query:s,defaultBaseURL:a}=n,o=this.buildURL(i,s,a);"timeout"in n&&(0,l.validatePositiveInteger)("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:n});return{req:{method:r,headers:await this.buildHeaders({options:e,method:r,bodyHeaders:c,retryCount:t}),...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:o,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let i={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const s=(0,V.buildHeaders)([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...(0,p.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=(0,V.buildHeaders)([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:h.ReadableStreamFrom(e)}:o.__classPrivateFieldGet(this,s,"f").call(this,{body:e,headers:n})}}t.OpenAI=G,i=G,s=new WeakMap,r=new WeakSet,a=function(){return"https://api.openai.com/v1"!==this.baseURL},G.OpenAI=i,G.DEFAULT_TIMEOUT=6e5,G.OpenAIError=g.OpenAIError,G.APIError=g.APIError,G.APIConnectionError=g.APIConnectionError,G.APIConnectionTimeoutError=g.APIConnectionTimeoutError,G.APIUserAbortError=g.APIUserAbortError,G.NotFoundError=g.NotFoundError,G.ConflictError=g.ConflictError,G.RateLimitError=g.RateLimitError,G.BadRequestError=g.BadRequestError,G.AuthenticationError=g.AuthenticationError,G.InternalServerError=g.InternalServerError,G.PermissionDeniedError=g.PermissionDeniedError,G.UnprocessableEntityError=g.UnprocessableEntityError,G.InvalidWebhookSignatureError=g.InvalidWebhookSignatureError,G.toFile=b.toFile,G.Completions=P.Completions,G.Chat=L.Chat,G.Embeddings=E.Embeddings,G.Files=x.Files,G.Images=w.Images,G.Audio=k.Audio,G.Moderations=O.Moderations,G.Models=A.Models,G.FineTuning=j.FineTuning,G.Graders=D.Graders,G.VectorStores=Z.VectorStores,G.Webhooks=C.Webhooks,G.Beta=N.Beta,G.Batches=_.Batches,G.Uploads=B.Uploads,G.Responses=F.Responses,G.Realtime=U.Realtime,G.Conversations=M.Conversations,G.Evals=R.Evals,G.Containers=$.Containers,G.Videos=I.Videos},21395:(e,t,n)=>{"use strict";const r=n(27521);e.exports=(e="")=>{const t=e.match(r);if(!t)return null;const[n,i]=t[0].replace(/#! ?/,"").split(" "),s=n.split("/").pop();return"env"===s?i:i?`${s} ${i}`:s}},21549:(e,t,n)=>{var r=n(22032),i=n(63862),s=n(66721),a=n(12749),o=n(35749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=o,e.exports=c},21986:(e,t,n)=>{var r=n(51873),i=n(37828),s=n(75288),a=n(25911),o=n(20317),c=n(84247),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=o;case"[object Set]":var f=1&r;if(h||(h=c),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var y=a(h(e),h(t),r,l,d,p);return p.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},22010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s=n(6158),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:a,it:o}=e,c="maxLength"===t?r.operators.GT:r.operators.LT,l=!1===o.opts.unicode?r._`${n}.length`:r._`${(0,i.useFunc)(e.gen,s.default)}(${n})`;e.fail$data(r._`${l} ${c} ${a}`)}};t.default=a},22032:(e,t,n)=>{var r=n(81042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},22037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._replaceWith=U,t.replaceExpressionWithStatements=function(e){u.resync.call(this);const t=[],n=F(e,t);if(n){for(const e of t)this.scope.push({id:e});return this.replaceWith(n)[0].get("expressions")}const r=this.getFunctionParent(),s=null==r?void 0:r.node.async,a=null==r?void 0:r.node.generator,o=p([],m(e));this.replaceWith(g(o,[]));const c=this.get("callee");c.get("body").scope.hoistVariables(e=>this.scope.push({id:e}));const l=c.getCompletionRecords();for(const e of l){if(!e.isExpressionStatement())continue;const t=e.findParent(e=>e.isLoop());if(t){let n=t.getData("expressionReplacementReturnUid");n?n=_(n.name):(n=c.scope.generateDeclaredUidIdentifier("ret"),c.get("body").pushContainer("body",M(v(n))),t.setData("expressionReplacementReturnUid",n)),e.get("expression").replaceWith(h("=",v(n),e.node.expression))}else e.replaceWith(M(e.node.expression))}c.arrowFunctionToExpression();const y=c,b=s&&i.default.hasType(this.get("callee.body").node,"AwaitExpression",d),S=a&&i.default.hasType(this.get("callee.body").node,"YieldExpression",d);return b&&(y.set("async",!0),S||this.replaceWith(f(this.node))),S&&(y.set("generator",!0),this.replaceWith(D(this.node,!0))),y.get("body.body")},t.replaceInline=function(e){if(u.resync.call(this),Array.isArray(e)){if(Array.isArray(this.container)){e=o._verifyNodeList.call(this,e);const t=o._containerInsertAfter.call(this,e);return this.remove(),t}return this.replaceWithMultiple(e)}return this.replaceWith(e)},t.replaceWith=function(e){if(u.resync.call(this),this.removed)throw new Error("You can't replace this node, we've already removed it");let t=e instanceof s.default?e.node:e;if(!t)throw new Error("You passed `path.replaceWith()` a falsy node, use `path.remove()` instead");if(this.node===t)return[this];if(this.isProgram()&&!k(t))throw new Error("You can only replace a Program root node with another Program node");if(Array.isArray(t))throw new Error("Don't use `path.replaceWith()` with an array of nodes, use `path.replaceWithMultiple()`");if("string"==typeof t)throw new Error("Don't use `path.replaceWith()` with a source string, use `path.replaceWithSourceString()`");let n="";if(this.isNodeType("Statement")&&O(t)&&(this.canHaveVariableDeclarationOrExpression()||this.canSwapBetweenExpressionAndStatement(t)||this.parentPath.isExportDefaultDeclaration()||(t=S(t),n="expression")),this.isNodeType("Expression")&&N(t)&&!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(t))return this.replaceExpressionWithStatements([t]);const r=this.node;return r&&(x(t,r),$(r)),U.call(this,t),this.type=t.type,u.setScope.call(this),this.requeue(),[n?this.get(n):this]},t.replaceWithMultiple=function(e){var t;u.resync.call(this);const n=o._verifyNodeList.call(this,e);P(n[0],this.node),E(n[n.length-1],this.node),null==(t=(0,a.getCachedPaths)(this))||t.delete(this.node),this.node=this.container[this.key]=null;const r=this.insertAfter(e);return this.node?this.requeue():this.remove(),r},t.replaceWithSourceString=function(e){let t;u.resync.call(this);try{e=`(${e})`,t=(0,c.parse)(e)}catch(t){const n=t.loc;throw n&&(t.message+=" - make sure this is an expression.\n"+(0,r.codeFrameColumns)(e,{start:{line:n.line,column:n.column+1}}),t.code="BABEL_REPLACE_SOURCE_ERROR"),t}const n=t.program.body[0].expression;return i.default.removeProperties(n),this.replaceWith(n)};var r=n(62882),i=n(25781),s=n(29709),a=n(37411),o=n(58345),c=n(22172),l=n(2352),u=n(79578);const{FUNCTION_TYPES:d,arrowFunctionExpression:p,assignmentExpression:h,awaitExpression:f,blockStatement:m,buildUndefinedNode:y,callExpression:g,cloneNode:v,conditionalExpression:b,expressionStatement:S,getBindingIdentifiers:T,identifier:_,inheritLeadingComments:P,inheritTrailingComments:E,inheritsComments:x,isBlockStatement:w,isEmptyStatement:A,isExpression:O,isExpressionStatement:I,isIfStatement:C,isProgram:k,isStatement:N,isVariableDeclaration:L,removeComments:$,returnStatement:M,sequenceExpression:R,validate:j,yieldExpression:D}=l;function U(e){var t;if(!this.container)throw new ReferenceError("Container is falsy");this.inList?j(this.parent,this.key,[e]):j(this.parent,this.key,e),this.debug(`Replace with ${null==e?void 0:e.type}`),null==(t=(0,a.getCachedPaths)(this))||t.set(e,this).delete(this.node),this.node=e,this.container[this.key]=e}function F(e,t){const n=[];let r=!0;for(const i of e)if(A(i)||(r=!1),O(i))n.push(i);else if(I(i))n.push(i.expression);else if(L(i)){if("var"!==i.kind)return;for(const e of i.declarations){const r=T(e);for(const e of Object.keys(r))t.push(v(r[e]));e.init&&n.push(h("=",e.id,e.init))}r=!0}else if(C(i)){const e=i.consequent?F([i.consequent],t):y(),r=i.alternate?F([i.alternate],t):y();if(!e||!r)return;n.push(b(i.test,e,r))}else if(w(i)){const e=F(i.body,t);if(!e)return;n.push(e)}else{if(!A(i))return;0===e.indexOf(i)&&(r=!0)}return r&&n.push(y()),1===n.length?n[0]:R(n)}},22149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99048),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=i},22172:(e,t)=>{"use strict";function n(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=n}}class i{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function s(e,t){const{line:n,column:i,index:s}=e;return new r(n,i+t,s+t)}const a="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var o={ImportMetaOutsideModule:{message:"import.meta may appear only with 'sourceType: \"module\"'",code:a},ImportOutsideModule:{message:"'import' and 'export' may appear only with 'sourceType: \"module\"'",code:a}};const c={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},l=e=>"UpdateExpression"===e.type?c.UpdateExpression[`${e.prefix}`]:c[e.type];var u={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:t})=>`A string literal cannot be used as an exported binding without \`from\`.\n- Did you mean \`export { '${e}' as '${t}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${"ForInStatement"===e?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${"BreakStatement"===e?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.\n- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverDiscardElement:"'void' must be followed by an expression when not used in a binding position.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${l(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${l(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${l(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:t})=>`Unexpected token${t?` '${t}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script` or in the bare case statement.",UnexpectedVoidPattern:"Unexpected void binding.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:t})=>`The only valid meta property for ${e} is ${e}.${t}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,VoidPatternCatchClauseParam:"A void binding can not be the catch clause parameter. Use `try { ... } catch { ... }` if you want to discard the caught error.",VoidPatternInitializer:"A void binding may not have an initializer.",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",YieldNotInGeneratorFunction:"'yield' is only allowed within generator functions.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},d={ParseExpressionEmptyInput:"Unexpected parseExpression() input: The input is empty or contains only comments.",ParseExpressionExpectsEOF:({unexpected:e})=>`Unexpected parseExpression() input: The input should contain exactly one expression, but the first expression is followed by the unexpected character \`${String.fromCodePoint(e)}\`.`};const p=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var h=Object.assign({PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${l({type:e})}; please wrap it in parentheses.`},{PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'});const f=["message"];function m(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:n})}function y({toMessage:e,code:t,reasonCode:n,syntaxPlugin:i}){const s="MissingPlugin"===n||"MissingOneOfPlugins"===n;{const e={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};e[n]&&(n=e[n])}return function a(o,c){const l=new SyntaxError;return l.code=t,l.reasonCode=n,l.loc=o,l.pos=o.index,l.syntaxPlugin=i,s&&(l.missingPlugin=c.missingPlugin),m(l,"clone",function(e={}){var t;const{line:n,column:i,index:s}=null!=(t=e.loc)?t:o;return a(new r(n,i,s),Object.assign({},c,e.details))}),m(l,"details",c),Object.defineProperty(l,"message",{configurable:!0,get(){const t=`${e(c)} (${o.line}:${o.column})`;return this.message=t,t},set(e){Object.defineProperty(this,"message",{value:e,writable:!0})}}),l}}function g(e,t){if(Array.isArray(e))return t=>g(t,e[0]);const r={};for(const i of Object.keys(e)){const s=e[i],a="string"==typeof s?{message:()=>s}:"function"==typeof s?{message:s}:s,{message:o}=a,c=n(a,f),l="string"==typeof o?()=>o:o;r[i]=y(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:i,toMessage:l},t?{syntaxPlugin:t}:{},c))}return r}const v=Object.assign({},g(o),g(u),g({StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."}),g(d),g`pipelineOperator`(h)),{defineProperty:b}=Object,S=(e,t)=>{e&&b(e,t,{enumerable:!1,value:e[t]})};function T(e){return S(e.loc.start,"index"),S(e.loc.end,"index"),e}class _{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const P={brace:new _("{"),j_oTag:new _("<tag"),j_cTag:new _("</tag"),j_expr:new _("<tag>...</tag>",!0)};P.template=new _("`",!0);const E=!0,x=!0,w=!0,A=!0,O=!0;class I{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null}}const C=new Map;function k(e,t={}){t.keyword=e;const n=F(e,t);return C.set(e,n),n}function N(e,t){return F(e,{beforeExpr:E,binop:t})}let L=-1;const $=[],M=[],R=[],j=[],D=[],U=[];function F(e,t={}){var n,r,i,s;return++L,M.push(e),R.push(null!=(n=t.binop)?n:-1),j.push(null!=(r=t.beforeExpr)&&r),D.push(null!=(i=t.startsExpr)&&i),U.push(null!=(s=t.prefix)&&s),$.push(new I(e,t)),L}function B(e,t={}){var n,r,i,s;return++L,C.set(e,L),M.push(e),R.push(null!=(n=t.binop)?n:-1),j.push(null!=(r=t.beforeExpr)&&r),D.push(null!=(i=t.startsExpr)&&i),U.push(null!=(s=t.prefix)&&s),$.push(new I("name",t)),L}const Z={bracketL:F("[",{beforeExpr:E,startsExpr:x}),bracketHashL:F("#[",{beforeExpr:E,startsExpr:x}),bracketBarL:F("[|",{beforeExpr:E,startsExpr:x}),bracketR:F("]"),bracketBarR:F("|]"),braceL:F("{",{beforeExpr:E,startsExpr:x}),braceBarL:F("{|",{beforeExpr:E,startsExpr:x}),braceHashL:F("#{",{beforeExpr:E,startsExpr:x}),braceR:F("}"),braceBarR:F("|}"),parenL:F("(",{beforeExpr:E,startsExpr:x}),parenR:F(")"),comma:F(",",{beforeExpr:E}),semi:F(";",{beforeExpr:E}),colon:F(":",{beforeExpr:E}),doubleColon:F("::",{beforeExpr:E}),dot:F("."),question:F("?",{beforeExpr:E}),questionDot:F("?."),arrow:F("=>",{beforeExpr:E}),template:F("template"),ellipsis:F("...",{beforeExpr:E}),backQuote:F("`",{startsExpr:x}),dollarBraceL:F("${",{beforeExpr:E,startsExpr:x}),templateTail:F("...`",{startsExpr:x}),templateNonTail:F("...${",{beforeExpr:E,startsExpr:x}),at:F("@"),hash:F("#",{startsExpr:x}),interpreterDirective:F("#!..."),eq:F("=",{beforeExpr:E,isAssign:A}),assign:F("_=",{beforeExpr:E,isAssign:A}),slashAssign:F("_=",{beforeExpr:E,isAssign:A}),xorAssign:F("_=",{beforeExpr:E,isAssign:A}),moduloAssign:F("_=",{beforeExpr:E,isAssign:A}),incDec:F("++/--",{prefix:O,postfix:!0,startsExpr:x}),bang:F("!",{beforeExpr:E,prefix:O,startsExpr:x}),tilde:F("~",{beforeExpr:E,prefix:O,startsExpr:x}),doubleCaret:F("^^",{startsExpr:x}),doubleAt:F("@@",{startsExpr:x}),pipeline:N("|>",0),nullishCoalescing:N("??",1),logicalOR:N("||",1),logicalAND:N("&&",2),bitwiseOR:N("|",3),bitwiseXOR:N("^",4),bitwiseAND:N("&",5),equality:N("==/!=/===/!==",6),lt:N("</>/<=/>=",7),gt:N("</>/<=/>=",7),relational:N("</>/<=/>=",7),bitShift:N("<</>>/>>>",8),bitShiftL:N("<</>>/>>>",8),bitShiftR:N("<</>>/>>>",8),plusMin:F("+/-",{beforeExpr:E,binop:9,prefix:O,startsExpr:x}),modulo:F("%",{binop:10,startsExpr:x}),star:F("*",{binop:10}),slash:N("/",10),exponent:F("**",{beforeExpr:E,binop:11,rightAssociative:!0}),_in:k("in",{beforeExpr:E,binop:7}),_instanceof:k("instanceof",{beforeExpr:E,binop:7}),_break:k("break"),_case:k("case",{beforeExpr:E}),_catch:k("catch"),_continue:k("continue"),_debugger:k("debugger"),_default:k("default",{beforeExpr:E}),_else:k("else",{beforeExpr:E}),_finally:k("finally"),_function:k("function",{startsExpr:x}),_if:k("if"),_return:k("return",{beforeExpr:E}),_switch:k("switch"),_throw:k("throw",{beforeExpr:E,prefix:O,startsExpr:x}),_try:k("try"),_var:k("var"),_const:k("const"),_with:k("with"),_new:k("new",{beforeExpr:E,startsExpr:x}),_this:k("this",{startsExpr:x}),_super:k("super",{startsExpr:x}),_class:k("class",{startsExpr:x}),_extends:k("extends",{beforeExpr:E}),_export:k("export"),_import:k("import",{startsExpr:x}),_null:k("null",{startsExpr:x}),_true:k("true",{startsExpr:x}),_false:k("false",{startsExpr:x}),_typeof:k("typeof",{beforeExpr:E,prefix:O,startsExpr:x}),_void:k("void",{beforeExpr:E,prefix:O,startsExpr:x}),_delete:k("delete",{beforeExpr:E,prefix:O,startsExpr:x}),_do:k("do",{isLoop:w,beforeExpr:E}),_for:k("for",{isLoop:w}),_while:k("while",{isLoop:w}),_as:B("as",{startsExpr:x}),_assert:B("assert",{startsExpr:x}),_async:B("async",{startsExpr:x}),_await:B("await",{startsExpr:x}),_defer:B("defer",{startsExpr:x}),_from:B("from",{startsExpr:x}),_get:B("get",{startsExpr:x}),_let:B("let",{startsExpr:x}),_meta:B("meta",{startsExpr:x}),_of:B("of",{startsExpr:x}),_sent:B("sent",{startsExpr:x}),_set:B("set",{startsExpr:x}),_source:B("source",{startsExpr:x}),_static:B("static",{startsExpr:x}),_using:B("using",{startsExpr:x}),_yield:B("yield",{startsExpr:x}),_asserts:B("asserts",{startsExpr:x}),_checks:B("checks",{startsExpr:x}),_exports:B("exports",{startsExpr:x}),_global:B("global",{startsExpr:x}),_implements:B("implements",{startsExpr:x}),_intrinsic:B("intrinsic",{startsExpr:x}),_infer:B("infer",{startsExpr:x}),_is:B("is",{startsExpr:x}),_mixins:B("mixins",{startsExpr:x}),_proto:B("proto",{startsExpr:x}),_require:B("require",{startsExpr:x}),_satisfies:B("satisfies",{startsExpr:x}),_keyof:B("keyof",{startsExpr:x}),_readonly:B("readonly",{startsExpr:x}),_unique:B("unique",{startsExpr:x}),_abstract:B("abstract",{startsExpr:x}),_declare:B("declare",{startsExpr:x}),_enum:B("enum",{startsExpr:x}),_module:B("module",{startsExpr:x}),_namespace:B("namespace",{startsExpr:x}),_interface:B("interface",{startsExpr:x}),_type:B("type",{startsExpr:x}),_opaque:B("opaque",{startsExpr:x}),name:F("name",{startsExpr:x}),placeholder:F("%%",{startsExpr:x}),string:F("string",{startsExpr:x}),num:F("num",{startsExpr:x}),bigint:F("bigint",{startsExpr:x}),decimal:F("decimal",{startsExpr:x}),regexp:F("regexp",{startsExpr:x}),privateName:F("#name",{startsExpr:x}),eof:F("eof"),jsxName:F("jsxName"),jsxText:F("jsxText",{beforeExpr:E}),jsxTagStart:F("jsxTagStart",{startsExpr:x}),jsxTagEnd:F("jsxTagEnd")};function z(e){return e>=93&&e<=133}function V(e){return e>=58&&e<=133}function q(e){return e>=58&&e<=137}function K(e){return D[e]}function W(e){return e>=129&&e<=131}function G(e){return e>=58&&e<=92}function J(e){return 34===e}function H(e){return M[e]}function Y(e){return R[e]}function X(e){return e>=24&&e<=25}function Q(e){return $[e]}$[8].updateContext=e=>{e.pop()},$[5].updateContext=$[7].updateContext=$[23].updateContext=e=>{e.push(P.brace)},$[22].updateContext=e=>{e[e.length-1]===P.template?e.pop():e.push(P.template)},$[143].updateContext=e=>{e.push(P.j_expr,P.j_oTag)};let ee="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-࢏ࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚ౜ౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ೜-ೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-Ƛ꟱-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",te="·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-᫝᫠-᫫ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･";const ne=new RegExp("["+ee+"]"),re=new RegExp("["+ee+te+"]");ee=te=null;const ie=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,7,25,39,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,5,57,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,24,43,261,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,33,24,3,24,45,74,6,0,67,12,65,1,2,0,15,4,10,7381,42,31,98,114,8702,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,208,30,2,2,2,1,2,6,3,4,10,1,225,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4381,3,5773,3,7472,16,621,2467,541,1507,4938,6,8489],se=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,78,5,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,199,7,137,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,55,9,266,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,233,0,3,0,8,1,6,0,475,6,110,6,6,9,4759,9,787719,239];function ae(e,t){let n=65536;for(let r=0,i=t.length;r<i;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function oe(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&ne.test(String.fromCharCode(e)):ae(e,ie)))}function ce(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&re.test(String.fromCharCode(e)):ae(e,ie)||ae(e,se))))}const le=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),ue=new Set(["implements","interface","let","package","private","protected","public","static","yield"]),de=new Set(["eval","arguments"]);function pe(e,t){return t&&"await"===e||"enum"===e}function he(e,t){return pe(e,t)||ue.has(e)}function fe(e){return de.has(e)}function me(e,t){return he(e,t)||fe(e)}const ye=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);class ge{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}}class ve{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inTopLevel(){return(1&this.currentScope().flags)>0}get inFunction(){return(2&this.currentVarScopeFlags())>0}get allowSuper(){return(16&this.currentThisScopeFlags())>0}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0}get allowNewTarget(){return(512&this.currentThisScopeFlags())>0}get inClass(){return(64&this.currentThisScopeFlags())>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(64&e)>0&&!(2&e)}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(128&t)return!0;if(1731&t)return!1}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0}get inBareCaseStatement(){return(256&this.currentScope().flags)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new ge(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(130&e.flags||!this.parser.inModule&&1&e.flags)}declareName(e,t,n){let r=this.currentScope();if(8&t||16&t){this.checkRedeclarationInScope(r,e,t,n);let i=r.names.get(e)||0;16&t?i|=4:(r.firstLexicalName||(r.firstLexicalName=e),i|=2),r.names.set(e,i),8&t&&this.maybeExportDefined(r,e)}else if(4&t)for(let i=this.scopeStack.length-1;i>=0&&(r=this.scopeStack[i],this.checkRedeclarationInScope(r,e,t,n),r.names.set(e,1|(r.names.get(e)||0)),this.maybeExportDefined(r,e),!(1667&r.flags));--i);this.parser.inModule&&1&r.flags&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&1&e.flags&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,n,r){this.isRedeclaredInScope(e,t,n)&&this.parser.raise(v.VarRedeclaration,r,{identifierName:t})}isRedeclaredInScope(e,t,n){if(!(1&n))return!1;if(8&n)return e.names.has(t);const r=e.names.get(t)||0;return 16&n?(2&r)>0||!this.treatFunctionsAsVarInScope(e)&&(1&r)>0:(2&r)>0&&!(8&e.flags&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(4&r)>0}checkLocalExport(e){const{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(1667&t)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(1731&t&&!(4&t))return t}}}class be extends ge{constructor(...e){super(...e),this.declareFunctions=new Set}}class Se extends ve{createScope(e){return new be(e)}declareName(e,t,n){const r=this.currentScope();if(2048&t)return this.checkRedeclarationInScope(r,e,t,n),this.maybeExportDefined(r,e),void r.declareFunctions.add(e);super.declareName(e,t,n)}isRedeclaredInScope(e,t,n){if(super.isRedeclaredInScope(e,t,n))return!0;if(2048&n&&!e.declareFunctions.has(t)){const n=e.names.get(t);return(4&n)>0||(2&n)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}const Te=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),_e=g`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:t})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${t}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:t})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${t}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:t})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:t,explicitType:n})=>`Enum \`${e}\` has type \`${n}\`, so the initializer of \`${t}\` needs to be a ${n} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:t})=>`Symbol enum members cannot be initialized. Use \`${t},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:t})=>`The enum member initializer for \`${t}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:t,suggestion:n})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${t}\`, consider using \`${n}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:t})=>`Number enum members need to be initialized, e.g. \`${t} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:t})=>`\`declare export ${e}\` is not supported. Use \`${t}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function Pe(e){return"type"===e.importKind||"typeof"===e.importKind}const Ee={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"},xe=/\*?\s*@((?:no)?flow)\b/,we={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},Ae=new RegExp(/\r\n|[\r\n\u2028\u2029]/.source,"g");function Oe(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Ie(e,t,n){for(let r=t;r<n;r++)if(Oe(e.charCodeAt(r)))return!0;return!1}const Ce=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ke=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function Ne(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}const Le=g`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:t})=>`Unexpected token \`${e}\`. Did you mean \`${t}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function $e(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type)}function Me(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return Me(e.object)+"."+Me(e.property);throw new Error("Node had unexpected type: "+e.type)}class Re extends ge{constructor(...e){super(...e),this.tsNames=new Map}}class je extends ve{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new Re(e)}enter(e){1024===e&&this.importsStack.push(new Set),super.enter(e)}exit(){const e=super.exit();return 1024===e&&this.importsStack.pop(),e}hasImport(e,t){const n=this.importsStack.length;if(this.importsStack[n-1].has(e))return!0;if(!t&&n>1)for(let t=0;t<n-1;t++)if(this.importsStack[t].has(e))return!0;return!1}declareName(e,t,n){if(4096&t)return this.hasImport(e,!0)&&this.parser.raise(v.VarRedeclaration,n,{identifierName:e}),void this.importsStack[this.importsStack.length-1].add(e);const r=this.currentScope();let i=r.tsNames.get(e)||0;if(1024&t)return this.maybeExportDefined(r,e),void r.tsNames.set(e,16|i);super.declareName(e,t,n),2&t&&(1&t||(this.checkRedeclarationInScope(r,e,t,n),this.maybeExportDefined(r,e)),i|=1),256&t&&(i|=2),512&t&&(i|=4),128&t&&(i|=8),i&&r.tsNames.set(e,i)}isRedeclaredInScope(e,t,n){const r=e.tsNames.get(t);return(2&r)>0?!(256&n)||!!(512&n)!=(4&r)>0:128&n&&(8&r)>0?!!(2&e.names.get(t))&&!!(1&n):!!(2&n&&(1&r)>0)||super.isRedeclaredInScope(e,t,n)}checkLocalExport(e){const{name:t}=e;if(!this.hasImport(t)){for(let e=this.scopeStack.length-1;e>=0;e--){const n=this.scopeStack[e].tsNames.get(t);if((1&n)>0||(16&n)>0)return}super.checkLocalExport(e)}}}class De{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(2&this.currentFlags())>0}get hasYield(){return(1&this.currentFlags())>0}get hasReturn(){return(4&this.currentFlags())>0}get hasIn(){return(8&this.currentFlags())>0}}function Ue(e,t){return(e?2:0)|(t?1:0)}class Fe{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(e){return e+this.startIndex}offsetToSourcePos(e){return e-this.startIndex}hasPlugin(e){if("string"==typeof e)return this.plugins.has(e);{const[t,n]=e;if(!this.hasPlugin(t))return!1;const r=this.plugins.get(t);for(const e of Object.keys(n))if((null==r?void 0:r[e])!==n[e])return!1;return!0}}getPluginOption(e,t){var n;return null==(n=this.plugins.get(e))?void 0:n[t]}}function Be(e,t){void 0===e.trailingComments?e.trailingComments=t:e.trailingComments.unshift(...t)}function Ze(e,t){void 0===e.innerComments?e.innerComments=t:e.innerComments.unshift(...t)}function ze(e,t,n){let r=null,i=t.length;for(;null===r&&i>0;)r=t[--i];null===r||r.start>n.start?Ze(e,n.comments):Be(r,n.comments)}class Ve extends Fe{addComment(e){this.filename&&(e.loc.filename=this.filename);const{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++}processComment(e){const{commentStack:t}=this.state,n=t.length;if(0===n)return;let r=n-1;const i=t[r];i.start===e.end&&(i.leadingNode=e,r--);const{start:s}=e;for(;r>=0;r--){const n=t[r],i=n.end;if(!(i>s)){i===s&&(n.trailingNode=e);break}n.containingNode=e,this.finalizeComment(n),t.splice(r,1)}}finalizeComment(e){var t;const{comments:n}=e;if(null!==e.leadingNode||null!==e.trailingNode)null!==e.leadingNode&&Be(e.leadingNode,n),null!==e.trailingNode&&function(e,t){void 0===e.leadingComments?e.leadingComments=t:e.leadingComments.unshift(...t)}(e.trailingNode,n);else{const r=e.containingNode,i=e.start;if(44===this.input.charCodeAt(this.offsetToSourcePos(i)-1))switch(r.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":ze(r,r.properties,e);break;case"CallExpression":case"OptionalCallExpression":ze(r,r.arguments,e);break;case"ImportExpression":ze(r,[r.source,null!=(t=r.options)?t:null],e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":ze(r,r.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":ze(r,r.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":ze(r,r.specifiers,e);break;case"TSEnumDeclaration":case"TSEnumBody":ze(r,r.members,e);break;default:Ze(r,n)}else Ze(r,n)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:n}=t;if(0===n)return;const r=t[n-1];r.leadingNode===e&&(r.leadingNode=null)}takeSurroundingComments(e,t,n){const{commentStack:r}=this.state,i=r.length;if(0===i)return;let s=i-1;for(;s>=0;s--){const i=r[s],a=i.end;if(i.start===n)i.leadingNode=e;else if(a===t)i.trailingNode=e;else if(a<t)break}}}class qe{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[P.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(1&this.flags)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:t,startIndex:n,startLine:i,startColumn:s}){this.strict=!1!==e&&(!0===e||"module"===t),this.startIndex=n,this.curLine=i,this.lineStart=-s,this.startLoc=this.endLoc=new r(i,s,n)}get maybeInArrowParameters(){return(2&this.flags)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(4&this.flags)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(8&this.flags)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(16&this.flags)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(32&this.flags)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(64&this.flags)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(128&this.flags)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(256&this.flags)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(512&this.flags)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(1024&this.flags)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(2048&this.flags)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(4096&this.flags)>0}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097}curPosition(){return new r(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){const e=new qe;return e.flags=this.flags,e.startIndex=this.startIndex,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}}var Ke=function(e){return e>=48&&e<=57};const We={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Ge={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function Je(e,t,n,r,i,s){const a=n,o=r,c=i;let l="",u=null,d=n;const{length:p}=t;for(;;){if(n>=p){s.unterminated(a,o,c),l+=t.slice(d,n);break}const h=t.charCodeAt(n);if(He(e,h,t,n)){l+=t.slice(d,n);break}if(92===h){l+=t.slice(d,n);const a=Ye(t,n,r,i,"template"===e,s);null!==a.ch||u?l+=a.ch:u={pos:n,lineStart:r,curLine:i},({pos:n,lineStart:r,curLine:i}=a),d=n}else 8232===h||8233===h?(++i,r=++n):10===h||13===h?"template"===e?(l+=t.slice(d,n)+"\n",++n,13===h&&10===t.charCodeAt(n)&&++n,++i,d=r=n):s.unterminated(a,o,c):++n}return{pos:n,str:l,firstInvalidLoc:u,lineStart:r,curLine:i,containsInvalid:!!u}}function He(e,t,n,r){return"template"===e?96===t||36===t&&123===n.charCodeAt(r+1):t===("double"===e?34:39)}function Ye(e,t,n,r,i,s){const a=!i;t++;const o=e=>({pos:t,ch:e,lineStart:n,curLine:r}),c=e.charCodeAt(t++);switch(c){case 110:return o("\n");case 114:return o("\r");case 120:{let i;return({code:i,pos:t}=Xe(e,t,n,r,2,!1,a,s)),o(null===i?null:String.fromCharCode(i))}case 117:{let i;return({code:i,pos:t}=et(e,t,n,r,a,s)),o(null===i?null:String.fromCodePoint(i))}case 116:return o("\t");case 98:return o("\b");case 118:return o("\v");case 102:return o("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:n=t,++r;case 8232:case 8233:return o("");case 56:case 57:if(i)return o(null);s.strictNumericEscape(t-1,n,r);default:if(c>=48&&c<=55){const a=t-1;let c=/^[0-7]+/.exec(e.slice(a,t+2))[0],l=parseInt(c,8);l>255&&(c=c.slice(0,-1),l=parseInt(c,8)),t+=c.length-1;const u=e.charCodeAt(t);if("0"!==c||56===u||57===u){if(i)return o(null);s.strictNumericEscape(a,n,r)}return o(String.fromCharCode(l))}return o(String.fromCharCode(c))}}function Xe(e,t,n,r,i,s,a,o){const c=t;let l;return({n:l,pos:t}=Qe(e,t,n,r,16,i,s,!1,o,!a)),null===l&&(a?o.invalidEscapeSequence(c,n,r):t=c-1),{code:l,pos:t}}function Qe(e,t,n,r,i,s,a,o,c,l){const u=t,d=16===i?We.hex:We.decBinOct,p=16===i?Ge.hex:10===i?Ge.dec:8===i?Ge.oct:Ge.bin;let h=!1,f=0;for(let u=0,m=null==s?1/0:s;u<m;++u){const s=e.charCodeAt(t);let u;if(95===s&&"bail"!==o){const i=e.charCodeAt(t-1),s=e.charCodeAt(t+1);if(o){if(Number.isNaN(s)||!p(s)||d.has(i)||d.has(s)){if(l)return{n:null,pos:t};c.unexpectedNumericSeparator(t,n,r)}}else{if(l)return{n:null,pos:t};c.numericSeparatorInEscapeSequence(t,n,r)}++t;continue}if(u=s>=97?s-97+10:s>=65?s-65+10:Ke(s)?s-48:1/0,u>=i){if(u<=9&&l)return{n:null,pos:t};if(u<=9&&c.invalidDigit(t,n,r,i))u=0;else{if(!a)break;u=0,h=!0}}++t,f=f*i+u}return t===u||null!=s&&t-u!==s||h?{n:null,pos:t}:{n:f,pos:t}}function et(e,t,n,r,i,s){let a;if(123===e.charCodeAt(t)){if(++t,({code:a,pos:t}=Xe(e,t,n,r,e.indexOf("}",t)-t,!0,i,s)),++t,null!==a&&a>1114111){if(!i)return{code:null,pos:t};s.invalidCodePoint(t,n,r)}}else({code:a,pos:t}=Xe(e,t,n,r,4,!1,i,s));return{code:a,pos:t}}function tt(e,t,n){return new r(n,e-t,e)}const nt=new Set([103,109,115,105,121,117,100,118]);class rt{constructor(e){const t=e.startIndex||0;this.type=e.type,this.value=e.value,this.start=t+e.start,this.end=t+e.end,this.loc=new i(e.startLoc,e.endLoc)}}class it extends Ve{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(e,t,n,r)=>!!(2048&this.optionFlags)&&(this.raise(v.InvalidDigit,tt(e,t,n),{radix:r}),!0),numericSeparatorInEscapeSequence:this.errorBuilder(v.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(v.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(v.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(v.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(e,t,n)=>{this.recordStrictModeErrors(v.StrictNumericEscape,tt(e,t,n))},unterminated:(e,t,n)=>{throw this.raise(v.UnterminatedString,tt(e-1,t,n))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(v.StrictNumericEscape),unterminated:(e,t,n)=>{throw this.raise(v.UnterminatedTemplate,tt(e,t,n))}}),this.state=new qe,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),256&this.optionFlags&&this.pushToken(new rt(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return!!this.match(e)&&(this.next(),!0)}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return Ce.lastIndex=e,Ce.test(this.input)?Ce.lastIndex:e}lookaheadCharCode(){return this.lookaheadCharCodeSince(this.state.pos)}lookaheadCharCodeSince(e){return this.input.charCodeAt(this.nextTokenStartSince(e))}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return ke.lastIndex=e,ke.test(this.input)?ke.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if(55296==(64512&t)&&++e<this.input.length){const n=this.input.charCodeAt(e);56320==(64512&n)&&(t=65536+((1023&t)<<10)+(1023&n))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([e,t])=>this.raise(e,t)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length?this.finishToken(140):this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());const n=this.state.pos,r=this.input.indexOf(e,n+2);if(-1===r)throw this.raise(v.UnterminatedComment,this.state.curPosition());for(this.state.pos=r+e.length,Ae.lastIndex=n+2;Ae.test(this.input)&&Ae.lastIndex<=r;)++this.state.curLine,this.state.lineStart=Ae.lastIndex;if(this.isLookahead)return;const s={type:"CommentBlock",value:this.input.slice(n+2,r),start:this.sourceToOffsetPos(n),end:this.sourceToOffsetPos(r+e.length),loc:new i(t,this.state.curPosition())};return 256&this.optionFlags&&this.pushToken(s),s}skipLineComment(e){const t=this.state.pos;let n;this.isLookahead||(n=this.state.curPosition());let r=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!Oe(r)&&++this.state.pos<this.length;)r=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const s=this.state.pos,a={type:"CommentLine",value:this.input.slice(t+e,s),start:this.sourceToOffsetPos(t),end:this.sourceToOffsetPos(s),loc:new i(n,this.state.curPosition())};return 256&this.optionFlags&&this.pushToken(a),a}skipSpace(){const e=this.state.pos,t=4096&this.optionFlags?[]:null;e:for(;this.state.pos<this.length;){const n=this.input.charCodeAt(this.state.pos);switch(n){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const e=this.skipBlockComment("*/");void 0!==e&&(this.addComment(e),null==t||t.push(e));break}case 47:{const e=this.skipLineComment(2);void 0!==e&&(this.addComment(e),null==t||t.push(e));break}default:break e}break;default:if(Ne(n))++this.state.pos;else if(45===n&&!this.inModule&&8192&this.optionFlags){const n=this.state.pos;if(45!==this.input.charCodeAt(n+1)||62!==this.input.charCodeAt(n+2)||!(0===e||this.state.lineStart>e))break e;{const e=this.skipLineComment(3);void 0!==e&&(this.addComment(e),null==t||t.push(e))}}else{if(60!==n||this.inModule||!(8192&this.optionFlags))break e;{const e=this.state.pos;if(33!==this.input.charCodeAt(e+1)||45!==this.input.charCodeAt(e+2)||45!==this.input.charCodeAt(e+3))break e;{const e=this.skipLineComment(4);void 0!==e&&(this.addComment(e),null==t||t.push(e))}}}}}if((null==t?void 0:t.length)>0){const n=this.state.pos,r={start:this.sourceToOffsetPos(e),end:this.sourceToOffsetPos(n),comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(r)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const n=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(n)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(v.UnexpectedDigitAfterHash,this.state.curPosition());if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"bar"===this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(123===t?v.RecordExpressionHashIncorrectStartSyntaxType:v.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,123===t?this.finishToken(7):this.finishToken(1)}else oe(t)?(++this.state.pos,this.finishToken(139,this.readWord1(t))):92===t?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);e>=48&&e<=57?this.readNumber(!0):46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;const t=this.state.pos;for(this.state.pos+=1;!Oe(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const n=this.input.slice(t+2,this.state.pos);return this.finishToken(28,n),!0}readToken_mult_modulo(e){let t=42===e?55:54,n=1,r=this.input.charCodeAt(this.state.pos+1);42===e&&42===r&&(n++,r=this.input.charCodeAt(this.state.pos+2),t=57),61!==r||this.state.inType||(n++,t=37===e?33:30),this.finishOp(t,n)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t!==e){if(124===e){if(62===t)return void this.finishOp(39,2);if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(v.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(9)}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(v.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(4)}}61!==t?this.finishOp(124===e?43:45,1):this.finishOp(30,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(30,3):this.finishOp(124===e?41:42,2)}readToken_caret(){const e=this.input.charCodeAt(this.state.pos+1);61!==e||this.state.inType?94===e&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),94===this.input.codePointAt(this.state.pos)&&this.unexpected()):this.finishOp(44,1):this.finishOp(32,2)}readToken_atSign(){64===this.input.charCodeAt(this.state.pos+1)&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);t!==e?61===t?this.finishOp(30,2):this.finishOp(53,1):this.finishOp(34,2)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(60===t)return 61===this.input.charCodeAt(e+2)?void this.finishOp(30,3):void this.finishOp(51,2);61!==t?this.finishOp(47,1):this.finishOp(49,2)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(62===t){const t=62===this.input.charCodeAt(e+2)?3:2;return 61===this.input.charCodeAt(e+t)?void this.finishOp(30,t+1):void this.finishOp(52,t)}61!==t?this.finishOp(48,1):this.finishOp(49,2)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(61!==t)return 61===e&&62===t?(this.state.pos+=2,void this.finishToken(19)):void this.finishOp(61===e?29:35,1);this.finishOp(46,61===this.input.charCodeAt(this.state.pos+2)?3:2)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(30,3):this.finishOp(40,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(17)):(this.state.pos+=2,this.finishToken(18))}getTokenFromCode(e){switch(e){case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(10);case 41:return++this.state.pos,void this.finishToken(11);case 59:return++this.state.pos,void this.finishToken(13);case 44:return++this.state.pos,void this.finishToken(12);case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(v.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:return++this.state.pos,void this.finishToken(3);case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(v.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:return++this.state.pos,void this.finishToken(8);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(15,2):(++this.state.pos,this.finishToken(14)));case 63:return void this.readToken_question();case 96:return void this.readTemplateToken();case 48:{const e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e)return void this.readRadixNumber(16);if(111===e||79===e)return void this.readRadixNumber(8);if(98===e||66===e)return void this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(e);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(e);case 124:case 38:return void this.readToken_pipe_amp(e);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(e);case 60:return void this.readToken_lt();case 62:return void this.readToken_gt();case 61:case 33:return void this.readToken_eq_excl(e);case 126:return void this.finishOp(36,1);case 64:return void this.readToken_atSign();case 35:return void this.readToken_numberSign();case 92:return void this.readWord();default:if(oe(e))return void this.readWord(e)}throw this.raise(v.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,t){const n=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,n)}readRegexp(){const e=this.state.startLoc,t=this.state.start+1;let n,r,{pos:i}=this.state;for(;;++i){if(i>=this.length)throw this.raise(v.UnterminatedRegExp,s(e,1));const t=this.input.charCodeAt(i);if(Oe(t))throw this.raise(v.UnterminatedRegExp,s(e,1));if(n)n=!1;else{if(91===t)r=!0;else if(93===t&&r)r=!1;else if(47===t&&!r)break;n=92===t}}const a=this.input.slice(t,i);++i;let o="";const c=()=>s(e,i+2-t);for(;i<this.length;){const e=this.codePointAtPos(i),t=String.fromCharCode(e);if(nt.has(e))118===e?o.includes("u")&&this.raise(v.IncompatibleRegExpUVFlags,c()):117===e&&o.includes("v")&&this.raise(v.IncompatibleRegExpUVFlags,c()),o.includes(t)&&this.raise(v.DuplicateRegExpFlags,c());else{if(!ce(e)&&92!==e)break;this.raise(v.MalformedRegExpFlags,c())}++i,o+=t}this.state.pos=i,this.finishToken(138,{pattern:a,flags:o})}readInt(e,t,n=!1,r=!0){const{n:i,pos:s}=Qe(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,n,r,this.errorHandlers_readInt,!1);return this.state.pos=s,i}readRadixNumber(e){const t=this.state.pos,n=this.state.curPosition();let r=!1;this.state.pos+=2;const i=this.readInt(e);null==i&&this.raise(v.InvalidDigit,s(n,2),{radix:e});const a=this.input.charCodeAt(this.state.pos);if(110===a)++this.state.pos,r=!0;else if(109===a)throw this.raise(v.InvalidDecimal,n);if(oe(this.codePointAtPos(this.state.pos)))throw this.raise(v.NumberIdentifier,this.state.curPosition());if(r){const e=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");return void this.finishToken(136,e)}this.finishToken(135,i)}readNumber(e){const t=this.state.pos,n=this.state.curPosition();let r=!1,i=!1,a=!1,o=!1;e||null!==this.readInt(10)||this.raise(v.InvalidNumber,this.state.curPosition());const c=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(c){const e=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(v.StrictOctalLiteral,n),!this.state.strict){const t=e.indexOf("_");t>0&&this.raise(v.ZeroDigitNumericSeparator,s(n,t))}o=c&&!/[89]/.test(e)}let l=this.input.charCodeAt(this.state.pos);if(46!==l||o||(++this.state.pos,this.readInt(10),r=!0,l=this.input.charCodeAt(this.state.pos)),69!==l&&101!==l||o||(l=this.input.charCodeAt(++this.state.pos),43!==l&&45!==l||++this.state.pos,null===this.readInt(10)&&this.raise(v.InvalidOrMissingExponent,n),r=!0,a=!0,l=this.input.charCodeAt(this.state.pos)),110===l&&((r||c)&&this.raise(v.InvalidBigIntLiteral,n),++this.state.pos,i=!0),109===l){this.expectPlugin("decimal",this.state.curPosition()),(a||c)&&this.raise(v.InvalidDecimal,n),++this.state.pos;var u=!0}if(oe(this.codePointAtPos(this.state.pos)))throw this.raise(v.NumberIdentifier,this.state.curPosition());const d=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(i)return void this.finishToken(136,d);if(u)return void this.finishToken(137,d);const p=o?parseInt(d,8):parseFloat(d);this.finishToken(135,p)}readCodePoint(e){const{code:t,pos:n}=et(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=n,t}readString(e){const{str:t,pos:n,curLine:r,lineStart:i}=Je(34===e?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=n+1,this.state.lineStart=i,this.state.curLine=r,this.finishToken(134,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const e=this.input[this.state.pos],{str:t,firstInvalidLoc:n,pos:i,curLine:s,lineStart:a}=Je("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=i+1,this.state.lineStart=a,this.state.curLine=s,n&&(this.state.firstInvalidTemplateEscapePos=new r(n.curLine,n.pos-n.lineStart,this.sourceToOffsetPos(n.pos))),96===this.input.codePointAt(i)?this.finishToken(24,n?null:e+t+"`"):(this.state.pos++,this.finishToken(25,n?null:e+t+"${"))}recordStrictModeErrors(e,t){const n=t.index;this.state.strict&&!this.state.strictErrors.has(n)?this.raise(e,t):this.state.strictErrors.set(n,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="";const n=this.state.pos;let r=this.state.pos;for(void 0!==e&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const e=this.codePointAtPos(this.state.pos);if(ce(e))this.state.pos+=e<=65535?1:2;else{if(92!==e)break;{this.state.containsEsc=!0,t+=this.input.slice(r,this.state.pos);const e=this.state.curPosition(),i=this.state.pos===n?oe:ce;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(v.MissingUnicodeEscape,this.state.curPosition()),r=this.state.pos-1;continue}++this.state.pos;const s=this.readCodePoint(!0);null!==s&&(i(s)||this.raise(v.EscapedCharNotAnIdentifier,e),t+=String.fromCodePoint(s)),r=this.state.pos}}}return t+this.input.slice(r,this.state.pos)}readWord(e){const t=this.readWord1(e),n=C.get(t);void 0!==n?this.finishToken(n,H(n)):this.finishToken(132,t)}checkKeywordEscapes(){const{type:e}=this.state;G(e)&&this.state.containsEsc&&this.raise(v.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:H(e)})}raise(e,t,n={}){const i=e(t instanceof r?t:t.loc.start,n);if(!(2048&this.optionFlags))throw i;return this.isLookahead||this.state.errors.push(i),i}raiseOverwrite(e,t,n={}){const i=t instanceof r?t:t.loc.start,s=i.index,a=this.state.errors;for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.loc.index===s)return a[t]=e(i,n);if(r.loc.index<s)break}return this.raise(e,t,n)}updateContext(e){}unexpected(e,t){throw this.raise(v.UnexpectedToken,null!=e?e:this.state.startLoc,{expected:t?H(t):null})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(v.MissingPlugin,null!=t?t:this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some(e=>this.hasPlugin(e)))throw this.raise(v.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorBuilder(e){return(t,n,r)=>{this.raise(e,tt(t,n,r))}}}class st{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class at{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new st)}exit(){const e=this.stack.pop(),t=this.current();for(const[n,r]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(n)||t.undefinedPrivateNames.set(n,r):this.parser.raise(v.InvalidPrivateFieldResolution,r,{identifierName:n})}declarePrivateName(e,t,n){const{privateNames:r,loneAccessors:i,undefinedPrivateNames:s}=this.current();let a=r.has(e);if(3&t){const n=a&&i.get(e);n?(a=(3&n)==(3&t)||(4&n)!=(4&t),a||i.delete(e)):a||i.set(e,t)}a&&this.parser.raise(v.PrivateNameRedeclaration,n,{identifierName:e}),r.add(e),s.delete(e)}usePrivateName(e,t){let n;for(n of this.stack)if(n.privateNames.has(e))return;n?n.undefinedPrivateNames.set(e,t):this.parser.raise(v.InvalidPrivateFieldResolution,t,{identifierName:e})}}class ot{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type}isCertainlyParameterDeclaration(){return 3===this.type}}class ct extends ot{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,t){const n=t.index;this.declarationErrors.set(n,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}}class lt{constructor(e){this.parser=void 0,this.stack=[new ot],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const n=t.loc.start,{stack:r}=this;let i=r.length-1,s=r[i];for(;!s.isCertainlyParameterDeclaration();){if(!s.canBeArrowParameterDeclaration())return;s.recordDeclarationError(e,n),s=r[--i]}this.parser.raise(e,n)}recordArrowParameterBindingError(e,t){const{stack:n}=this,r=n[n.length-1],i=t.loc.start;if(r.isCertainlyParameterDeclaration())this.parser.raise(e,i);else{if(!r.canBeArrowParameterDeclaration())return;r.recordDeclarationError(e,i)}}recordAsyncArrowParametersError(e){const{stack:t}=this;let n=t.length-1,r=t[n];for(;r.canBeArrowParameterDeclaration();)2===r.type&&r.recordDeclarationError(v.AwaitBindingIdentifier,e),r=t[--n]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([t,n])=>{this.parser.raise(t,n);let r=e.length-2,i=e[r];for(;i.canBeArrowParameterDeclaration();)i.clearDeclarationError(n.index),i=e[--r]})}}function ut(){return new ot}class dt extends it{addExtra(e,t,n,r=!0){if(!e)return;let{extra:i}=e;null==i&&(i={},e.extra=i),r?i[t]=n:Object.defineProperty(i,t,{enumerable:r,value:n})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){if(this.input.startsWith(t,e)){const n=this.input.charCodeAt(e+t.length);return!(ce(n)||55296==(64512&n))}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return!!this.isContextual(e)&&(this.next(),!0)}expectContextual(e,t){if(!this.eatContextual(e)){if(null!=t)throw this.raise(t,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Ie(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return Ie(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(v.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){const n={node:null};try{const r=e((e=null)=>{throw n.node=e,n});if(this.state.errors.length>t.errors.length){const e=this.state;return this.state=t,this.state.tokensLength=e.tokensLength,{node:r,error:e.errors[t.errors.length],thrown:!1,aborted:!1,failState:e}}return{node:r,error:null,thrown:!1,aborted:!1,failState:null}}catch(e){const r=this.state;if(this.state=t,e instanceof SyntaxError)return{node:null,error:e,thrown:!0,aborted:!1,failState:r};if(e===n)return{node:n.node,error:null,thrown:!1,aborted:!0,failState:r};throw e}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssignLoc:n,doubleProtoLoc:r,privateKeyLoc:i,optionalParametersLoc:s,voidPatternLoc:a}=e;if(!t)return!!(n||r||s||i||a);null!=n&&this.raise(v.InvalidCoverInitializedName,n),null!=r&&this.raise(v.DuplicateProto,r),null!=i&&this.raise(v.UnexpectedPrivateField,i),null!=s&&this.unexpected(s),null!=a&&this.raise(v.InvalidCoverDiscardElement,a)}isLiteralPropertyName(){return q(this.state.type)}isPrivateName(e){return"PrivateName"===e.type}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return("MemberExpression"===e.type||"OptionalMemberExpression"===e.type)&&this.isPrivateName(e.property)}isObjectProperty(e){return"ObjectProperty"===e.type}isObjectMethod(e){return"ObjectMethod"===e.type}initializeScopes(e="module"===this.options.sourceType){const t=this.state.labels;this.state.labels=[];const n=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const r=this.inModule;this.inModule=e;const i=this.scope,s=this.getScopeHandler();this.scope=new s(this,e);const a=this.prodParam;this.prodParam=new De;const o=this.classScope;this.classScope=new at(this);const c=this.expressionScope;return this.expressionScope=new lt(this),()=>{this.state.labels=t,this.exportedIdentifiers=n,this.inModule=r,this.scope=i,this.prodParam=a,this.classScope=o,this.expressionScope=c}}enterInitialScopes(){let e=0;(this.inModule||1&this.optionFlags)&&(e|=2),32&this.optionFlags&&(e|=1);const t=!this.inModule&&"commonjs"===this.options.sourceType;(t||2&this.optionFlags)&&(e|=4),this.prodParam.enter(e);let n=t?514:1;4&this.optionFlags&&(n|=512),this.scope.enter(n)}checkDestructuringPrivate(e){const{privateKeyLoc:t}=e;null!==t&&this.expectPlugin("destructuringPrivate",t)}}class pt{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null,this.voidPatternLoc=null}}class ht{constructor(e,t,n){this.type="",this.start=t,this.end=0,this.loc=new i(n),128&(null==e?void 0:e.optionFlags)&&(this.range=[t,0]),null!=e&&e.filename&&(this.loc.filename=e.filename)}}const ft=ht.prototype;ft.__clone=function(){const e=new ht(void 0,this.start,this.loc.start),t=Object.keys(this);for(let n=0,r=t.length;n<r;n++){const r=t[n];"leadingComments"!==r&&"trailingComments"!==r&&"innerComments"!==r&&(e[r]=this[r])}return e};class mt extends dt{startNode(){const e=this.state.startLoc;return new ht(this,e.index,e)}startNodeAt(e){return new ht(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,n){return e.type=t,e.end=n.index,e.loc.end=n,128&this.optionFlags&&(e.range[1]=n.index),4096&this.optionFlags&&this.processComment(e),e}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,128&this.optionFlags&&(e.range[0]=t.index)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,128&this.optionFlags&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start)}castNodeTo(e,t){return e.type=t,e}cloneIdentifier(e){const{type:t,start:n,end:r,loc:i,range:s,name:a}=e,o=Object.create(ft);return o.type=t,o.start=n,o.end=r,o.loc=i,o.range=s,o.name=a,e.extra&&(o.extra=e.extra),o}cloneStringLiteral(e){const{type:t,start:n,end:r,loc:i,range:s,extra:a}=e,o=Object.create(ft);return o.type=t,o.start=n,o.end=r,o.loc=i,o.range=s,o.extra=a,o.value=e.value,o}}const yt=e=>"ParenthesizedExpression"===e.type?yt(e.expression):e;class gt extends mt{toAssignable(e,t=!1){var n,r;let i;switch(("ParenthesizedExpression"===e.type||null!=(n=e.extra)&&n.parenthesized)&&(i=yt(e),t?"Identifier"===i.type?this.expressionScope.recordArrowParameterBindingError(v.InvalidParenthesizedAssignment,e):"CallExpression"===i.type||"MemberExpression"===i.type||this.isOptionalMemberExpression(i)||this.raise(v.InvalidParenthesizedAssignment,e):this.raise(v.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":break;case"ObjectExpression":this.castNodeTo(e,"ObjectPattern");for(let n=0,r=e.properties.length,i=r-1;n<r;n++){var s;const r=e.properties[n],a=n===i;this.toAssignableObjectExpressionProp(r,a,t),a&&"RestElement"===r.type&&null!=(s=e.extra)&&s.trailingCommaLoc&&this.raise(v.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:n,value:r}=e;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(r,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":this.castNodeTo(e,"ArrayPattern"),this.toAssignableList(e.elements,null==(r=e.extra)?void 0:r.trailingCommaLoc,t);break;case"AssignmentExpression":"="!==e.operator&&this.raise(v.MissingEqInAssignment,e.left.loc.end),this.castNodeTo(e,"AssignmentPattern"),delete e.operator,"VoidPattern"===e.left.type&&this.raise(v.VoidPatternInitializer,e.left),this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(i,t)}}toAssignableObjectExpressionProp(e,t,n){if("ObjectMethod"===e.type)this.raise("get"===e.kind||"set"===e.kind?v.PatternHasAccessor:v.PatternHasMethod,e.key);else if("SpreadElement"===e.type){this.castNodeTo(e,"RestElement");const r=e.argument;this.checkToRestConversion(r,!1),this.toAssignable(r,n),t||this.raise(v.RestTrailingComma,e)}else this.toAssignable(e,n)}toAssignableList(e,t,n){const r=e.length-1;for(let i=0;i<=r;i++){const s=e[i];s&&(this.toAssignableListItem(e,i,n),"RestElement"===s.type&&(i<r?this.raise(v.RestTrailingComma,s):t&&this.raise(v.RestTrailingComma,t)))}}toAssignableListItem(e,t,n){const r=e[t];if("SpreadElement"===r.type){this.castNodeTo(r,"RestElement");const e=r.argument;this.checkToRestConversion(e,!0),this.toAssignable(e,n)}else this.toAssignable(r,n)}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":return!0;case"ObjectExpression":{const t=e.properties.length-1;return e.properties.every((e,n)=>"ObjectMethod"!==e.type&&(n===t||"SpreadElement"!==e.type)&&this.isAssignable(e))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(e=>null===e||this.isAssignable(e));case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const t of e)"ArrayExpression"===(null==t?void 0:t.type)&&this.toReferencedListDeep(t.elements)}parseSpread(e){const t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){const e=this.startNode();this.next();const t=this.parseBindingAtom();return"VoidPattern"===t.type&&this.raise(v.UnexpectedVoidPattern,t),e.argument=t,this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0);case 88:return this.parseVoidPattern(null)}return this.parseIdentifier()}parseBindingList(e,t,n){const r=1&n,i=[];let s=!0;for(;!this.eat(e);)if(s?s=!1:this.expect(12),r&&this.match(12))i.push(null);else{if(this.eat(e))break;if(this.match(21)){let r=this.parseRestBinding();if((this.hasPlugin("flow")||2&n)&&(r=this.parseFunctionParamType(r)),i.push(r),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{const e=[];if(2&n)for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(v.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)e.push(this.parseDecorator());i.push(this.parseBindingElement(n,e))}}return i}parseBindingRestProperty(e){return this.next(),this.hasPlugin("discardBinding")&&this.match(88)?(e.argument=this.parseVoidPattern(null),this.raise(v.UnexpectedVoidPattern,e.argument)):e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const{type:e,startLoc:t}=this.state;if(21===e)return this.parseBindingRestProperty(this.startNode());const n=this.startNode();return 139===e?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),n.key=this.parsePrivateName()):this.parsePropertyName(n),n.method=!1,this.parseObjPropValue(n,t,!1,!1,!0,!1)}parseBindingElement(e,t){const n=this.parseMaybeDefault();return(this.hasPlugin("flow")||2&e)&&this.parseFunctionParamType(n),t.length&&(n.decorators=t,this.resetStartLocationFromNode(n,t[0])),this.parseMaybeDefault(n.loc.start,n)}parseFunctionParamType(e){return e}parseMaybeDefault(e,t){if(null!=e||(e=this.state.startLoc),t=null!=t?t:this.parseBindingAtom(),!this.eat(29))return t;const n=this.startNodeAt(e);return"VoidPattern"===t.type&&this.raise(v.VoidPatternInitializer,t),n.left=t,n.right=this.parseMaybeAssignAllowIn(),this.finishNode(n,"AssignmentPattern")}isValidLVal(e,t,n,r){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties";case"VoidPattern":return!0;case"CallExpression":if(!t&&!this.state.strict&&8192&this.optionFlags)return!0}return!1}isOptionalMemberExpression(e){return"OptionalMemberExpression"===e.type}checkLVal(e,t,n=64,r=!1,i=!1,s=!1,a=!1){var o;const c=e.type;if(this.isObjectMethod(e))return;const l=this.isOptionalMemberExpression(e);if(l||"MemberExpression"===c)return l&&(this.expectPlugin("optionalChainingAssign",e.loc.start),"AssignmentExpression"!==t.type&&this.raise(v.InvalidLhsOptionalChaining,e,{ancestor:t})),void(64!==n&&this.raise(v.InvalidPropertyBindingPattern,e));if("Identifier"===c){this.checkIdentifier(e,n,i);const{name:t}=e;return void(r&&(r.has(t)?this.raise(v.ParamDupe,e):r.add(t)))}"VoidPattern"===c&&"CatchClause"===t.type&&this.raise(v.VoidPatternCatchClauseParam,e);const u=yt(e);a||(a="CallExpression"===u.type&&("Import"===u.callee.type||"Super"===u.callee.type));const d=this.isValidLVal(c,a,!(s||null!=(o=e.extra)&&o.parenthesized)&&"AssignmentExpression"===t.type,n);if(!0===d)return;if(!1===d){const r=64===n?v.InvalidLhs:v.InvalidLhsBinding;return void this.raise(r,e,{ancestor:t})}let p,h;"string"==typeof d?(p=d,h="ParenthesizedExpression"===c):[p,h]=d;const f="ArrayPattern"===c||"ObjectPattern"===c?{type:c}:t,m=e[p];if(Array.isArray(m))for(const e of m)e&&this.checkLVal(e,f,n,r,i,h,!0);else m&&this.checkLVal(m,f,n,r,i,h,a)}checkIdentifier(e,t,n=!1){this.state.strict&&(n?me(e.name,this.inModule):fe(e.name))&&(64===t?this.raise(v.StrictEvalArguments,e,{referenceName:e.name}):this.raise(v.StrictEvalArgumentsBinding,e,{bindingName:e.name})),8192&t&&"let"===e.name&&this.raise(v.LetInLexicalBinding,e),64&t||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(v.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return!!this.match(12)&&(this.raise(this.lookaheadCharCode()===e?v.RestTrailingComma:v.ElementAfterRest,this.state.startLoc),!0)}}const vt=/in(?:stanceof)?|as|satisfies/y;function bt(e){if(!e)throw new Error("Assert fail")}const St=g`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>`Accessibility modifier already seen: '${e}'.`,DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidHeritageClauseType:({token:e})=>`'${e}' list can only include identifiers or qualified-names with optional type arguments.`,InvalidModifierOnAwaitUsingDeclaration:e=>`'${e}' modifier cannot appear on an await using declaration.`,InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifierOnUsingDeclaration:e=>`'${e}' modifier cannot appear on a using declaration.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifier:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`,UsingDeclarationInAmbientContext:e=>`'${e}' declarations are not allowed in ambient contexts.`});function Tt(e){return"private"===e||"public"===e||"protected"===e}function _t(e){return"in"===e||"out"===e}function Pt(e){if("MemberExpression"!==e.type)return!1;const{computed:t,property:n}=e;return(!t||"StringLiteral"===n.type||!("TemplateLiteral"!==n.type||n.expressions.length>0))&&wt(e.object)}function Et(e,t){var n;const{type:r}=e;if(null!=(n=e.extra)&&n.parenthesized)return!1;if(t){if("Literal"===r){const{value:t}=e;if("string"==typeof t||"boolean"==typeof t)return!0}}else if("StringLiteral"===r||"BooleanLiteral"===r)return!0;return!(!xt(e,t)&&!function(e,t){if("UnaryExpression"===e.type){const{operator:n,argument:r}=e;if("-"===n&&xt(r,t))return!0}return!1}(e,t))||"TemplateLiteral"===r&&0===e.expressions.length||!!Pt(e)}function xt(e,t){return t?"Literal"===e.type&&("number"==typeof e.value||"bigint"in e):"NumericLiteral"===e.type||"BigIntLiteral"===e.type}function wt(e){return"Identifier"===e.type||"MemberExpression"===e.type&&!e.computed&&wt(e.object)}const At=g`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),Ot=["minimal","fsharp","hack","smart"],It=["^^","@@","^","%","#"],Ct={estree:e=>class extends e{parse(){const e=T(super.parse());return 256&this.optionFlags&&(e.tokens=e.tokens.map(T)),e}parseRegExpLiteral({pattern:e,flags:t}){let n=null;try{n=new RegExp(e,t)}catch(e){}const r=this.estreeParseLiteral(n);return r.regex={pattern:e,flags:t},r}parseBigIntLiteral(e){let t;try{t=BigInt(e)}catch(e){t=null}const n=this.estreeParseLiteral(t);return n.bigint=String(n.value||e),n}parseDecimalLiteral(e){const t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t}estreeParseLiteral(e){return this.parseLiteral(e,"Literal")}parseStringLiteral(e){return this.estreeParseLiteral(e)}parseNumericLiteral(e){return this.estreeParseLiteral(e)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(e){return this.estreeParseLiteral(e)}estreeParseChainExpression(e,t){const n=this.startNodeAtNode(e);return n.expression=e,this.finishNodeAt(n,"ChainExpression",t)}directiveToStmt(e){const t=e.value;delete e.value,this.castNodeTo(t,"Literal"),t.raw=t.extra.raw,t.value=t.extra.expressionValue;const n=this.castNodeTo(e,"ExpressionStatement");return n.expression=t,n.directive=t.extra.rawValue,delete t.extra,n}fillOptionalPropertiesForTSESLint(e){}cloneEstreeStringLiteral(e){const{start:t,end:n,loc:r,range:i,raw:s,value:a}=e,o=Object.create(e.constructor.prototype);return o.type="Literal",o.start=t,o.end=n,o.loc=r,o.range=i,o.raw=s,o.value=a,o}initFunction(e,t){super.initFunction(e,t),e.expression=!1}checkDeclaration(e){null!=e&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e)}getObjectOrClassMethodParams(e){return e.value.params}isValidDirective(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null!=(t=e.expression.extra)&&t.parenthesized)}parseBlockBody(e,t,n,r,i){super.parseBlockBody(e,t,n,r,i);const s=e.directives.map(e=>this.directiveToStmt(e));e.body=s.concat(e.body),delete e.directives}parsePrivateName(){const e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e}convertPrivateNameToPrivateIdentifier(e){const t=super.getPrivateNameSV(e);return delete e.id,e.name=t,this.castNodeTo(e,"PrivateIdentifier")}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===e.type:super.isPrivateName(e)}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e)}parseLiteral(e,t){const n=super.parseLiteral(e,t);return n.raw=n.extra.raw,delete n.extra,n}parseFunctionBody(e,t,n=!1){super.parseFunctionBody(e,t,n),e.expression="BlockStatement"!==e.body.type}parseMethod(e,t,n,r,i,s,a=!1){let o=this.startNode();o.kind=e.kind,o=super.parseMethod(o,t,n,r,i,s,a),delete o.kind;const{typeParameters:c}=e;c&&(delete e.typeParameters,o.typeParameters=c,this.resetStartLocationFromNode(o,c));const l=this.castNodeTo(o,"FunctionExpression");return e.value=l,"ClassPrivateMethod"===s&&(e.computed=!1),"ObjectMethod"===s?("method"===e.kind&&(e.kind="init"),e.shorthand=!1,this.finishNode(e,"Property")):this.finishNode(e,"MethodDefinition")}nameIsConstructor(e){return"Literal"===e.type?"constructor"===e.value:super.nameIsConstructor(e)}parseClassProperty(...e){const t=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")?(this.castNodeTo(t,"PropertyDefinition"),t):t}parseClassPrivateProperty(...e){const t=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")?(this.castNodeTo(t,"PropertyDefinition"),t.computed=!1,t):t}parseClassAccessorProperty(e){const t=super.parseClassAccessorProperty(e);return this.getPluginOption("estree","classFeatures")?(t.abstract&&this.hasPlugin("typescript")?(delete t.abstract,this.castNodeTo(t,"TSAbstractAccessorProperty")):this.castNodeTo(t,"AccessorProperty"),t):t}parseObjectProperty(e,t,n,r){const i=super.parseObjectProperty(e,t,n,r);return i&&(i.kind="init",this.castNodeTo(i,"Property")),i}finishObjectProperty(e){return e.kind="init",this.finishNode(e,"Property")}isValidLVal(e,t,n,r){return"Property"===e?"value":super.isValidLVal(e,t,n,r)}isAssignable(e,t){return null!=e&&this.isObjectProperty(e)?this.isAssignable(e.value,t):super.isAssignable(e,t)}toAssignable(e,t=!1){if(null!=e&&this.isObjectProperty(e)){const{key:n,value:r}=e;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(r,t)}else super.toAssignable(e,t)}toAssignableObjectExpressionProp(e,t,n){"Property"!==e.type||"get"!==e.kind&&"set"!==e.kind?"Property"===e.type&&e.method?this.raise(v.PatternHasMethod,e.key):super.toAssignableObjectExpressionProp(e,t,n):this.raise(v.PatternHasAccessor,e.key)}finishCallExpression(e,t){const n=super.finishCallExpression(e,t);var r,i;return"Import"===n.callee.type?(this.castNodeTo(n,"ImportExpression"),n.source=n.arguments[0],n.options=null!=(r=n.arguments[1])?r:null,n.attributes=null!=(i=n.arguments[1])?i:null,delete n.arguments,delete n.callee):"OptionalCallExpression"===n.type?this.castNodeTo(n,"CallExpression"):n.optional=!1,n}toReferencedArguments(e){"ImportExpression"!==e.type&&super.toReferencedArguments(e)}parseExport(e,t){const n=this.state.lastTokStartLoc,r=super.parseExport(e,t);switch(r.type){case"ExportAllDeclaration":r.exported=null;break;case"ExportNamedDeclaration":1===r.specifiers.length&&"ExportNamespaceSpecifier"===r.specifiers[0].type&&(this.castNodeTo(r,"ExportAllDeclaration"),r.exported=r.specifiers[0].exported,delete r.specifiers);case"ExportDefaultDeclaration":{var i;const{declaration:e}=r;"ClassDeclaration"===(null==e?void 0:e.type)&&(null==(i=e.decorators)?void 0:i.length)>0&&e.start===r.start&&this.resetStartLocation(r,n)}}return r}stopParseSubscript(e,t){const n=super.stopParseSubscript(e,t);return t.optionalChainMember?this.estreeParseChainExpression(n,e.loc.end):n}parseMember(e,t,n,r,i){const s=super.parseMember(e,t,n,r,i);return"OptionalMemberExpression"===s.type?this.castNodeTo(s,"MemberExpression"):s.optional=!1,s}isOptionalMemberExpression(e){return"ChainExpression"===e.type?"MemberExpression"===e.expression.type:super.isOptionalMemberExpression(e)}hasPropertyAsPrivateName(e){return"ChainExpression"===e.type&&(e=e.expression),super.hasPropertyAsPrivateName(e)}isObjectProperty(e){return"Property"===e.type&&"init"===e.kind&&!e.method}isObjectMethod(e){return"Property"===e.type&&(e.method||"get"===e.kind||"set"===e.kind)}castNodeTo(e,t){const n=super.castNodeTo(e,t);return this.fillOptionalPropertiesForTSESLint(n),n}cloneIdentifier(e){const t=super.cloneIdentifier(e);return this.fillOptionalPropertiesForTSESLint(t),t}cloneStringLiteral(e){return"Literal"===e.type?this.cloneEstreeStringLiteral(e):super.cloneStringLiteral(e)}finishNodeAt(e,t,n){return T(super.finishNodeAt(e,t,n))}finishNode(e,t){const n=super.finishNode(e,t);return this.fillOptionalPropertiesForTSESLint(n),n}resetStartLocation(e,t){super.resetStartLocation(e,t),T(e)}resetEndLocation(e,t=this.state.lastTokEndLoc){super.resetEndLocation(e,t),T(e)}},jsx:e=>class extends e{jsxReadToken(){let e="",t=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Le.UnterminatedJsxContent,this.state.startLoc);const n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:return this.state.pos===this.state.start?void(60===n&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(n)):(e+=this.input.slice(t,this.state.pos),void this.finishToken(142,e));case 38:e+=this.input.slice(t,this.state.pos),e+=this.jsxReadEntity(),t=this.state.pos;break;default:Oe(n)?(e+=this.input.slice(t,this.state.pos),e+=this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){const t=this.input.charCodeAt(this.state.pos);let n;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,n=e?"\n":"\r\n"):n=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,n}jsxReadString(e){let t="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(v.UnterminatedString,this.state.startLoc);const r=this.input.charCodeAt(this.state.pos);if(r===e)break;38===r?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadEntity(),n=this.state.pos):Oe(r)?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}t+=this.input.slice(n,this.state.pos++),this.finishToken(134,t)}jsxReadEntity(){const e=++this.state.pos;if(35===this.codePointAtPos(this.state.pos)){++this.state.pos;let e=10;120===this.codePointAtPos(this.state.pos)&&(e=16,++this.state.pos);const t=this.readInt(e,void 0,!1,"bail");if(null!==t&&59===this.codePointAtPos(this.state.pos))return++this.state.pos,String.fromCodePoint(t)}else{let t=0,n=!1;for(;t++<10&&this.state.pos<this.length&&!(n=59===this.codePointAtPos(this.state.pos));)++this.state.pos;if(n){const t=this.input.slice(e,this.state.pos),n=we[t];if(++this.state.pos,n)return n}}return this.state.pos=e,"&"}jsxReadWord(){let e;const t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(ce(e)||45===e);this.finishToken(141,this.input.slice(t,this.state.pos))}jsxParseIdentifier(){const e=this.startNode();return this.match(141)?e.name=this.state.value:G(this.state.type)?e.name=H(this.state.type):this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsxParseNamespacedName(){const e=this.state.startLoc,t=this.jsxParseIdentifier();if(!this.eat(14))return t;const n=this.startNodeAt(e);return n.namespace=t,n.name=this.jsxParseIdentifier(),this.finishNode(n,"JSXNamespacedName")}jsxParseElementName(){const e=this.state.startLoc;let t=this.jsxParseNamespacedName();if("JSXNamespacedName"===t.type)return t;for(;this.eat(16);){const n=this.startNodeAt(e);n.object=t,n.property=this.jsxParseIdentifier(),t=this.finishNode(n,"JSXMemberExpression")}return t}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.setContext(P.brace),this.next(),e=this.jsxParseExpressionContainer(e,P.j_oTag),"JSXEmptyExpression"===e.expression.type&&this.raise(Le.AttributeIsEmpty,e),e;case 143:case 134:return this.parseExprAtom();default:throw this.raise(Le.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const e=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.setContext(P.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadChild")}jsxParseExpressionContainer(e,t){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{const t=this.parseExpression();e.expression=t}return this.setContext(t),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXExpressionContainer")}jsxParseAttribute(){const e=this.startNode();return this.match(5)?(this.setContext(P.brace),this.next(),this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.setContext(P.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsxParseOpeningElementAt(e){const t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXOpeningFragment"):(t.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(t))}jsxParseOpeningElementAfterName(e){const t=[];for(;!this.match(56)&&!this.match(144);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(56),this.expect(144),this.finishNode(e,"JSXOpeningElement")}jsxParseClosingElementAt(e){const t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXClosingFragment"):(t.name=this.jsxParseElementName(),this.expect(144),this.finishNode(t,"JSXClosingElement"))}jsxParseElementAt(e){const t=this.startNodeAt(e),n=[],r=this.jsxParseOpeningElementAt(e);let i=null;if(!r.selfClosing){e:for(;;)switch(this.state.type){case 143:if(e=this.state.startLoc,this.next(),this.eat(56)){i=this.jsxParseClosingElementAt(e);break e}n.push(this.jsxParseElementAt(e));break;case 142:n.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const e=this.startNode();this.setContext(P.brace),this.next(),this.match(21)?n.push(this.jsxParseSpreadChild(e)):n.push(this.jsxParseExpressionContainer(e,P.j_expr));break}default:this.unexpected()}$e(r)&&!$e(i)&&null!==i?this.raise(Le.MissingClosingTagFragment,i):!$e(r)&&$e(i)?this.raise(Le.MissingClosingTagElement,i,{openingTagName:Me(r.name)}):$e(r)||$e(i)||Me(i.name)!==Me(r.name)&&this.raise(Le.MissingClosingTagElement,i,{openingTagName:Me(r.name)})}if($e(r)?(t.openingFragment=r,t.closingFragment=i):(t.openingElement=r,t.closingElement=i),t.children=n,this.match(47))throw this.raise(Le.UnwrappedAdjacentJSXElements,this.state.startLoc);return $e(r)?this.finishNode(t,"JSXFragment"):this.finishNode(t,"JSXElement")}jsxParseElement(){const e=this.state.startLoc;return this.next(),this.jsxParseElementAt(e)}setContext(e){const{context:t}=this.state;t[t.length-1]=e}parseExprAtom(e){return this.match(143)?this.jsxParseElement():this.match(47)&&33!==this.input.charCodeAt(this.state.pos)?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(e)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(e){const t=this.curContext();if(t!==P.j_expr){if(t===P.j_oTag||t===P.j_cTag){if(oe(e))return void this.jsxReadWord();if(62===e)return++this.state.pos,void this.finishToken(144);if((34===e||39===e)&&t===P.j_oTag)return void this.jsxReadString(e)}if(60===e&&this.state.canStartJSXElement&&33!==this.input.charCodeAt(this.state.pos+1))return++this.state.pos,void this.finishToken(143);super.getTokenFromCode(e)}else this.jsxReadToken()}updateContext(e){const{context:t,type:n}=this.state;if(56===n&&143===e)t.splice(-2,2,P.j_cTag),this.state.canStartJSXElement=!1;else if(143===n)t.push(P.j_oTag);else if(144===n){const n=t[t.length-1];n===P.j_oTag&&56===e||n===P.j_cTag?(t.pop(),this.state.canStartJSXElement=t[t.length-1]===P.j_expr):(this.setContext(P.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=j[n]}},flow:e=>class extends e{constructor(...e){super(...e),this.flowPragma=void 0}getScopeHandler(){return Se}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma}finishToken(e,t){134!==e&&13!==e&&28!==e&&void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(e,t)}addComment(e){if(void 0===this.flowPragma){const t=xe.exec(e.value);if(t)if("flow"===t[1])this.flowPragma="flow";else{if("noflow"!==t[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}}super.addComment(e)}flowParseTypeInitialiser(e){const t=this.state.inType;this.state.inType=!0,this.expect(e||14);const n=this.flowParseType();return this.state.inType=t,n}flowParsePredicate(){const e=this.startNode(),t=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>t.index+1&&this.raise(_e.UnexpectedSpaceBetweenModuloChecks,t),this.eat(10)?(e.value=super.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const e=this.state.inType;this.state.inType=!0,this.expect(14);let t=null,n=null;return this.match(54)?(this.state.inType=e,n=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(54)&&(n=this.flowParsePredicate())),[t,n]}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")}flowParseDeclareFunction(e){this.next();const t=e.id=this.parseIdentifier(),n=this.startNode(),r=this.startNode();this.match(47)?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(10);const i=this.flowParseFunctionTypeParams();return n.params=i.params,n.rest=i.rest,n.this=i._this,this.expect(11),[n.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),r.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(r,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.loc.start),this.finishNode(e,"DeclareFunction")}flowParseDeclare(e,t){if(this.match(80))return this.flowParseDeclareClass(e);if(this.match(68))return this.flowParseDeclareFunction(e);if(this.match(74))return this.flowParseDeclareVariable(e);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(e):(t&&this.raise(_e.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(e));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(e);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(e);if(this.isContextual(129))return this.flowParseDeclareInterface(e);if(this.match(82))return this.flowParseDeclareExportDeclaration(e,t);throw this.unexpected()}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.loc.start),this.semicolon(),this.finishNode(e,"DeclareVariable")}flowParseDeclareModule(e){this.scope.enter(0),this.match(134)?e.id=super.parseExprAtom():e.id=this.parseIdentifier();const t=e.body=this.startNode(),n=t.body=[];for(this.expect(5);!this.match(8);){const e=this.startNode();this.match(83)?(this.next(),this.isContextual(130)||this.match(87)||this.raise(_e.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),n.push(super.parseImport(e))):(this.expectContextual(125,_e.UnsupportedStatementInDeclareModule),n.push(this.flowParseDeclare(e,!0)))}this.scope.exit(),this.expect(8),this.finishNode(t,"BlockStatement");let r=null,i=!1;return n.forEach(e=>{!function(e){return"DeclareExportAllDeclaration"===e.type||"DeclareExportDeclaration"===e.type&&(!e.declaration||"TypeAlias"!==e.declaration.type&&"InterfaceDeclaration"!==e.declaration.type)}(e)?"DeclareModuleExports"===e.type&&(i&&this.raise(_e.DuplicateDeclareModuleExports,e),"ES"===r&&this.raise(_e.AmbiguousDeclareModuleKind,e),r="CommonJS",i=!0):("CommonJS"===r&&this.raise(_e.AmbiguousDeclareModuleKind,e),r="ES")}),e.kind=r||"CommonJS",this.finishNode(e,"DeclareModule")}flowParseDeclareExportDeclaration(e,t){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!t){const e=this.state.value;throw this.raise(_e.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:e,suggestion:Ee[e]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return"ExportNamedDeclaration"===(e=this.parseExport(e,null)).type?(e.default=!1,delete e.exportKind,this.castNodeTo(e,"DeclareExportDeclaration")):this.castNodeTo(e,"DeclareExportAllDeclaration");throw this.unexpected()}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(111),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")}flowParseDeclareTypeAlias(e){this.next();const t=this.flowParseTypeAlias(e);return this.castNodeTo(t,"DeclareTypeAlias"),t}flowParseDeclareOpaqueType(e){this.next();const t=this.flowParseOpaqueType(e,!0);return this.castNodeTo(t,"DeclareOpaqueType"),t}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e,!1),this.finishNode(e,"DeclareInterface")}flowParseInterfaceish(e,t){if(e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(!t&&this.eat(12));if(t){if(e.implements=[],e.mixins=[],this.eatContextual(117))do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(12));if(this.eatContextual(113))do{e.implements.push(this.flowParseInterfaceExtends())}while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1})}flowParseInterfaceExtends(){const e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")}flowParseInterface(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration")}checkNotUnderscore(e){"_"===e&&this.raise(_e.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(e,t,n){Te.has(e)&&this.raise(n?_e.AssignReservedType:_e.UnexpectedReservedType,t,{reservedType:e})}flowParseRestrictedIdentifier(e,t){return this.checkReservedType(this.state.value,this.state.startLoc,t),this.parseIdentifier(e)}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(e,"TypeAlias")}flowParseOpaqueType(e,t){return this.expectContextual(130),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(e,"OpaqueType")}flowParseTypeParameter(e=!1){const t=this.state.startLoc,n=this.startNode(),r=this.flowParseVariance(),i=this.flowParseTypeAnnotatableIdentifier();return n.name=i.name,n.variance=r,n.bound=i.typeAnnotation,this.match(29)?(this.eat(29),n.default=this.flowParseType()):e&&this.raise(_e.MissingTypeParamDefault,t),this.finishNode(n,"TypeParameter")}flowParseTypeParameterDeclaration(){const e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let n=!1;do{const e=this.flowParseTypeParameter(n);t.params.push(e),e.default&&(n=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")}flowInTopLevelContext(e){if(this.curContext()===P.brace)return e();{const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}}flowParseTypeParameterInstantiationInExpression(){if(47===this.reScan_lt())return this.flowParseTypeParameterInstantiation()}flowParseTypeParameterInstantiation(){const e=this.startNode(),t=this.state.inType;return this.state.inType=!0,e.params=[],this.flowInTopLevelContext(()=>{this.expect(47);const t=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)e.params.push(this.flowParseType()),this.match(48)||this.expect(12);this.state.noAnonFunctionType=t}),this.state.inType=t,this.state.inType||this.curContext()!==P.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){if(47!==this.reScan_lt())return null;const e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseInterfaceType(){const e=this.startNode();if(this.expectContextual(129),e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(12));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(e,t,n){return e.static=t,14===this.lookahead().type?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=n,this.finishNode(e,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(e,t){const n=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(n),this.finishNode(e,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:e,allowExact:t,allowSpread:n,allowProto:r,allowInexact:i}){const s=this.state.inType;this.state.inType=!0;const a=this.startNode();let o,c;a.callProperties=[],a.properties=[],a.indexers=[],a.internalSlots=[];let l=!1;for(t&&this.match(6)?(this.expect(6),o=9,c=!0):(this.expect(5),o=8,c=!1),a.exact=c;!this.match(o);){let t=!1,s=null,o=null;const u=this.startNode();if(r&&this.isContextual(118)){const t=this.lookahead();14!==t.type&&17!==t.type&&(this.next(),s=this.state.startLoc,e=!1)}if(e&&this.isContextual(106)){const e=this.lookahead();14!==e.type&&17!==e.type&&(this.next(),t=!0)}const d=this.flowParseVariance();if(this.eat(0))null!=s&&this.unexpected(s),this.eat(0)?(d&&this.unexpected(d.loc.start),a.internalSlots.push(this.flowParseObjectTypeInternalSlot(u,t))):a.indexers.push(this.flowParseObjectTypeIndexer(u,t,d));else if(this.match(10)||this.match(47))null!=s&&this.unexpected(s),d&&this.unexpected(d.loc.start),a.callProperties.push(this.flowParseObjectTypeCallProperty(u,t));else{let e="init";(this.isContextual(99)||this.isContextual(104))&&q(this.lookahead().type)&&(e=this.state.value,this.next());const r=this.flowParseObjectTypeProperty(u,t,s,d,e,n,null!=i?i:!c);null===r?(l=!0,o=this.state.lastTokStartLoc):a.properties.push(r)}this.flowObjectTypeSemicolon(),!o||this.match(8)||this.match(9)||this.raise(_e.UnexpectedExplicitInexactInObject,o)}this.expect(o),n&&(a.inexact=l);const u=this.finishNode(a,"ObjectTypeAnnotation");return this.state.inType=s,u}flowParseObjectTypeProperty(e,t,n,r,i,s,a){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(s?a||this.raise(_e.InexactInsideExact,this.state.lastTokStartLoc):this.raise(_e.InexactInsideNonObject,this.state.lastTokStartLoc),r&&this.raise(_e.InexactVariance,r),null):(s||this.raise(_e.UnexpectedSpreadType,this.state.lastTokStartLoc),null!=n&&this.unexpected(n),r&&this.raise(_e.SpreadVariance,r),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"));{e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=n,e.kind=i;let a=!1;return this.match(47)||this.match(10)?(e.method=!0,null!=n&&this.unexpected(n),r&&this.unexpected(r.loc.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start)),"get"!==i&&"set"!==i||this.flowCheckGetterSetterParams(e),!s&&"constructor"===e.key.name&&e.value.this&&this.raise(_e.ThisParamBannedInConstructor,e.value.this)):("init"!==i&&this.unexpected(),e.method=!1,this.eat(17)&&(a=!0),e.value=this.flowParseTypeInitialiser(),e.variance=r),e.optional=a,this.finishNode(e,"ObjectTypeProperty")}}flowCheckGetterSetterParams(e){const t="get"===e.kind?0:1,n=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise("get"===e.kind?_e.GetterMayNotHaveThisParam:_e.SetterMayNotHaveThisParam,e.value.this),n!==t&&this.raise("get"===e.kind?v.BadGetterArity:v.BadSetterArity,e),"set"===e.kind&&e.value.rest&&this.raise(v.BadSetterRestParameter,e)}flowObjectTypeSemicolon(){this.eat(13)||this.eat(12)||this.match(8)||this.match(9)||this.unexpected()}flowParseQualifiedTypeIdentifier(e,t){null!=e||(e=this.state.startLoc);let n=t||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const t=this.startNodeAt(e);t.qualification=n,t.id=this.flowParseRestrictedIdentifier(!0),n=this.finishNode(t,"QualifiedTypeIdentifier")}return n}flowParseGenericType(e,t){const n=this.startNodeAt(e);return n.typeParameters=null,n.id=this.flowParseQualifiedTypeIdentifier(e,t),this.match(47)&&(n.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(n,"GenericTypeAnnotation")}flowParseTypeofType(){const e=this.startNode();return this.expect(87),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")}flowParseTupleType(){const e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation")}flowParseFunctionTypeParam(e){let t=null,n=!1,r=null;const i=this.startNode(),s=this.lookahead(),a=78===this.state.type;return 14===s.type||17===s.type?(a&&!e&&this.raise(_e.ThisParamMustBeFirst,i),t=this.parseIdentifier(a),this.eat(17)&&(n=!0,a&&this.raise(_e.ThisParamMayNotBeOptional,i)),r=this.flowParseTypeInitialiser()):r=this.flowParseType(),i.name=t,i.optional=n,i.typeAnnotation=r,this.finishNode(i,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(e){const t=this.startNodeAt(e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")}flowParseFunctionTypeParams(e=[]){let t=null,n=null;for(this.match(78)&&(n=this.flowParseFunctionTypeParam(!0),n.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t=this.flowParseFunctionTypeParam(!1)),{params:e,rest:t,_this:n}}flowIdentToTypeAnnotation(e,t,n){switch(n.name){case"any":return this.finishNode(t,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(t,"BooleanTypeAnnotation");case"mixed":return this.finishNode(t,"MixedTypeAnnotation");case"empty":return this.finishNode(t,"EmptyTypeAnnotation");case"number":return this.finishNode(t,"NumberTypeAnnotation");case"string":return this.finishNode(t,"StringTypeAnnotation");case"symbol":return this.finishNode(t,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(n.name),this.flowParseGenericType(e,n)}}flowParsePrimaryType(){const e=this.state.startLoc,t=this.startNode();let n,r,i=!1;const s=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,r=this.flowParseTupleType(),this.state.noAnonFunctionType=s,r;case 47:{const e=this.startNode();return e.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),n=this.flowParseFunctionTypeParams(),e.params=n.params,e.rest=n.rest,e.this=n._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),this.finishNode(e,"FunctionTypeAnnotation")}case 10:{const e=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(z(this.state.type)||this.match(78)){const e=this.lookahead().type;i=17!==e&&14!==e}else i=!0;if(i){if(this.state.noAnonFunctionType=!1,r=this.flowParseType(),this.state.noAnonFunctionType=s,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&19===this.lookahead().type))return this.expect(11),r;this.eat(12)}return n=r?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(r)]):this.flowParseFunctionTypeParams(),e.params=n.params,e.rest=n.rest,e.this=n._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),e.typeParameters=null,this.finishNode(e,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return t.value=this.match(85),this.next(),this.finishNode(t,"BooleanLiteralTypeAnnotation");case 53:if("-"===this.state.value){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",t);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",t);throw this.raise(_e.UnexpectedSubtractionOperand,this.state.startLoc)}throw this.unexpected();case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(t,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(t,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(t,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(t,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(G(this.state.type)){const e=H(this.state.type);return this.next(),super.createIdentifier(t,e)}if(z(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,t,this.parseIdentifier())}throw this.unexpected()}flowParsePostfixType(){const e=this.state.startLoc;let t=this.flowParsePrimaryType(),n=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const r=this.startNodeAt(e),i=this.eat(18);n=n||i,this.expect(0),!i&&this.match(3)?(r.elementType=t,this.next(),t=this.finishNode(r,"ArrayTypeAnnotation")):(r.objectType=t,r.indexType=this.flowParseType(),this.expect(3),n?(r.optional=i,t=this.finishNode(r,"OptionalIndexedAccessType")):t=this.finishNode(r,"IndexedAccessType"))}return t}flowParsePrefixType(){const e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const t=this.startNodeAt(e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.this=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e}flowParseIntersectionType(){const e=this.startNode();this.eat(45);const t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(45);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")}flowParseUnionType(){const e=this.startNode();this.eat(43);const t=this.flowParseIntersectionType();for(e.types=[t];this.eat(43);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")}flowParseType(){const e=this.state.inType;this.state.inType=!0;const t=this.flowParseUnionType();return this.state.inType=e,t}flowParseTypeOrImplicitInstantiation(){if(132===this.state.type&&"_"===this.state.value){const e=this.state.startLoc,t=this.parseIdentifier();return this.flowParseGenericType(e,t)}return this.flowParseType()}flowParseTypeAnnotation(){const e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(e){const t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}flowParseVariance(){let e=null;return this.match(53)?(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")):e}parseFunctionBody(e,t,n=!1){t?this.forwardNoArrowParamsConversionAt(e,()=>super.parseFunctionBody(e,!0,n)):super.parseFunctionBody(e,!1,n)}parseFunctionBodyAndFinish(e,t,n=!1){if(this.match(14)){const t=this.startNode();[t.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=t.typeAnnotation?this.finishNode(t,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(e,t,n)}parseStatementLike(e){if(this.state.strict&&this.isContextual(129)){if(V(this.lookahead().type)){const e=this.startNode();return this.next(),this.flowParseInterface(e)}}else if(this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}const t=super.parseStatementLike(e);return void 0!==this.flowPragma||this.isValidDirective(t)||(this.flowPragma=null),t}parseExpressionStatement(e,t,n){if("Identifier"===t.type)if("declare"===t.name){if(this.match(80)||z(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(e)}else if(z(this.state.type)){if("interface"===t.name)return this.flowParseInterface(e);if("type"===t.name)return this.flowParseTypeAlias(e);if("opaque"===t.name)return this.flowParseOpaqueType(e,!1)}return super.parseExpressionStatement(e,t,n)}shouldParseExportDeclaration(){const{type:e}=this.state;return 126===e||W(e)?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:e}=this.state;return 126===e||W(e)?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}return super.parseExportDefaultExpression()}parseConditional(e,t,n){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(n),e}this.expect(17);const r=this.state.clone(),i=this.state.noArrowAt,s=this.startNodeAt(t);let{consequent:a,failed:o}=this.tryParseConditionalConsequent(),[c,l]=this.getArrowLikeExpressions(a);if(o||l.length>0){const e=[...i];if(l.length>0){this.state=r,this.state.noArrowAt=e;for(let t=0;t<l.length;t++)e.push(l[t].start);({consequent:a,failed:o}=this.tryParseConditionalConsequent()),[c,l]=this.getArrowLikeExpressions(a)}o&&c.length>1&&this.raise(_e.AmbiguousConditionalArrow,r.startLoc),o&&1===c.length&&(this.state=r,e.push(c[0].start),this.state.noArrowAt=e,({consequent:a,failed:o}=this.tryParseConditionalConsequent()))}return this.getArrowLikeExpressions(a,!0),this.state.noArrowAt=i,this.expect(14),s.test=e,s.consequent=a,s.alternate=this.forwardNoArrowParamsConversionAt(s,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(s,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const e=this.parseMaybeAssignAllowIn(),t=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t}}getArrowLikeExpressions(e,t){const n=[e],r=[];for(;0!==n.length;){const e=n.pop();"ArrowFunctionExpression"===e.type&&"BlockStatement"!==e.body.type?(e.typeParameters||!e.returnType?this.finishArrowValidation(e):r.push(e),n.push(e.body)):"ConditionalExpression"===e.type&&(n.push(e.consequent),n.push(e.alternate))}return t?(r.forEach(e=>this.finishArrowValidation(e)),[r,[]]):function(e,t){const n=[],r=[];for(let i=0;i<e.length;i++)(t(e[i])?n:r).push(e[i]);return[n,r]}(r,e=>e.params.every(e=>this.isAssignable(e,!0)))}finishArrowValidation(e){var t;this.toAssignableList(e.params,null==(t=e.extra)?void 0:t.trailingCommaLoc,!1),this.scope.enter(518),super.checkParams(e,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(e,t){let n;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),n=t(),this.state.noArrowParamsConversionAt.pop()):n=t(),n}parseParenItem(e,t){const n=super.parseParenItem(e,t);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(e)),this.match(14)){const e=this.startNodeAt(t);return e.expression=n,e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,"TypeCastExpression")}return n}assertModuleNodeAllowed(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||super.assertModuleNodeAllowed(e)}parseExportDeclaration(e){if(this.isContextual(130)){e.exportKind="type";const t=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(e),null):this.flowParseTypeAlias(t)}if(this.isContextual(131)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseOpaqueType(t,!1)}if(this.isContextual(129)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseInterface(t)}if(this.isContextual(126)){e.exportKind="value";const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDeclaration(e)}eatExportStar(e){return!!super.eatExportStar(e)||!(!this.isContextual(130)||55!==this.lookahead().type)&&(e.exportKind="type",this.next(),this.next(),!0)}maybeParseExportNamespaceSpecifier(e){const{startLoc:t}=this.state,n=super.maybeParseExportNamespaceSpecifier(e);return n&&"type"===e.exportKind&&this.unexpected(t),n}parseClassId(e,t,n){super.parseClassId(e,t,n),this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(e,t,n){const{startLoc:r}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(e,t))return;t.declare=!0}super.parseClassMember(e,t,n),t.declare&&("ClassProperty"!==t.type&&"ClassPrivateProperty"!==t.type&&"PropertyDefinition"!==t.type?this.raise(_e.DeclareClassElement,r):t.value&&this.raise(_e.DeclareClassFieldInitializer,t.value))}isIterator(e){return"iterator"===e||"asyncIterator"===e}readIterator(){const e=super.readWord1(),t="@@"+e;this.isIterator(e)&&this.state.inType||this.raise(v.InvalidIdentifier,this.state.curPosition(),{identifierName:t}),this.finishToken(132,t)}getTokenFromCode(e){const t=this.input.charCodeAt(this.state.pos+1);123===e&&124===t?this.finishOp(6,2):!this.state.inType||62!==e&&60!==e?this.state.inType&&63===e?46===t?this.finishOp(18,2):this.finishOp(17,1):function(e,t,n){return 64===e&&64===t&&oe(n)}(e,t,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e):this.finishOp(62===e?48:47,1)}isAssignable(e,t){return"TypeCastExpression"===e.type?this.isAssignable(e.expression,t):super.isAssignable(e,t)}toAssignable(e,t=!1){t||"AssignmentExpression"!==e.type||"TypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left)),super.toAssignable(e,t)}toAssignableList(e,t,n){for(let t=0;t<e.length;t++){const n=e[t];"TypeCastExpression"===(null==n?void 0:n.type)&&(e[t]=this.typeCastToParameter(n))}super.toAssignableList(e,t,n)}toReferencedList(e,t){for(let r=0;r<e.length;r++){var n;const i=e[r];!i||"TypeCastExpression"!==i.type||null!=(n=i.extra)&&n.parenthesized||!(e.length>1)&&t||this.raise(_e.TypeCastInPattern,i.typeAnnotation)}return e}parseArrayLike(e,t,n){const r=super.parseArrayLike(e,t,n);return null==n||this.state.maybeInArrowParameters||this.toReferencedList(r.elements),r}isValidLVal(e,t,n,r){return"TypeCastExpression"===e||super.isValidLVal(e,t,n,r)}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e)}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e)}pushClassMethod(e,t,n,r,i,s){if(t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,t,n,r,i,s),t.params&&i){const e=t.params;e.length>0&&this.isThisParam(e[0])&&this.raise(_e.ThisParamBannedInConstructor,t)}else if("MethodDefinition"===t.type&&i&&t.value.params){const e=t.value.params;e.length>0&&this.isThisParam(e[0])&&this.raise(_e.ThisParamBannedInConstructor,t)}}pushClassPrivateMethod(e,t,n,r){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,t,n,r)}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.flowParseTypeParameterInstantiationInExpression()),this.isContextual(113)){this.next();const t=e.implements=[];do{const e=this.startNode();e.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,t.push(this.finishNode(e,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);const t=this.getObjectOrClassMethodParams(e);if(t.length>0){const n=t[0];this.isThisParam(n)&&"get"===e.kind?this.raise(_e.GetterMayNotHaveThisParam,n):this.isThisParam(n)&&this.raise(_e.SetterMayNotHaveThisParam,n)}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance()}parseObjPropValue(e,t,n,r,i,s,a){let o;e.variance&&this.unexpected(e.variance.loc.start),delete e.variance,this.match(47)&&!s&&(o=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const c=super.parseObjPropValue(e,t,n,r,i,s,a);return o&&((c.value||c).typeParameters=o),c}parseFunctionParamType(e){return this.eat(17)&&("Identifier"!==e.type&&this.raise(_e.PatternIsOptional,e),this.isThisParam(e)&&this.raise(_e.ThisParamMayNotBeOptional,e),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(_e.ThisParamAnnotationRequired,e),this.match(29)&&this.isThisParam(e)&&this.raise(_e.ThisParamNoDefault,e),this.resetEndLocation(e),e}parseMaybeDefault(e,t){const n=super.parseMaybeDefault(e,t);return"AssignmentPattern"===n.type&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(_e.TypeBeforeInitializer,n.typeAnnotation),n}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(_e.ImportReflectionHasImportType,e.specifiers[0].loc.start)}parseImportSpecifierLocal(e,t,n){t.local=Pe(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,n))}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){if(!e)return!0;const t=this.lookaheadCharCode();return 123===t||42===t}return!e&&this.isContextual(87)}applyImportPhase(e,t,n,r){if(super.applyImportPhase(e,t,n,r),t){if(!n&&this.match(65))return;e.exportKind="type"===n?n:"value"}else"type"===n&&this.match(55)&&this.unexpected(),e.importKind="type"===n||"typeof"===n?n:"value"}parseImportSpecifier(e,t,n,r,i){const s=e.imported;let a=null;"Identifier"===s.type&&("type"===s.name?a="type":"typeof"===s.name&&(a="typeof"));let o=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const t=this.parseIdentifier(!0);null===a||V(this.state.type)?(e.imported=s,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=t,e.importKind=a,e.local=this.cloneIdentifier(t))}else{if(null!==a&&V(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=a;else{if(t)throw this.raise(v.ImportBindingIsString,e,{importName:s.value});e.imported=s,e.importKind=null}this.eatContextual(93)?e.local=this.parseIdentifier():(o=!0,e.local=this.cloneIdentifier(e.imported))}const c=Pe(e);return n&&c&&this.raise(_e.ImportTypeShorthandOnlyInPureImport,e),(n||c)&&this.checkReservedType(e.local.name,e.local.loc.start,!0),!o||n||c||this.checkReservedWord(e.local.name,e.loc.start,!0,!0),this.finishImportSpecifier(e,"ImportSpecifier")}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseFunctionParams(e,t){const n=e.kind;"get"!==n&&"set"!==n&&this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){if(this.match(14)){const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=t}return super.parseAsyncArrowFromCallExpression(e,t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(e,t){var n;let r,i=null;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(i=this.state.clone(),r=this.tryParse(()=>super.parseMaybeAssign(e,t),i),!r.error)return r.node;const{context:n}=this.state,s=n[n.length-1];s!==P.j_oTag&&s!==P.j_expr||n.pop()}if(null!=(n=r)&&n.error||this.match(47)){var s,a;let n;i=i||this.state.clone();const o=this.tryParse(r=>{var i;n=this.flowParseTypeParameterDeclaration();const s=this.forwardNoArrowParamsConversionAt(n,()=>{const r=super.parseMaybeAssign(e,t);return this.resetStartLocationFromNode(r,n),r});null!=(i=s.extra)&&i.parenthesized&&r();const a=this.maybeUnwrapTypeCastExpression(s);return"ArrowFunctionExpression"!==a.type&&r(),a.typeParameters=n,this.resetStartLocationFromNode(a,n),s},i);let c=null;if(o.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(o.node).type){if(!o.error&&!o.aborted)return o.node.async&&this.raise(_e.UnexpectedTypeParameterBeforeAsyncArrowFunction,n),o.node;c=o.node}if(null!=(s=r)&&s.node)return this.state=r.failState,r.node;if(c)return this.state=o.failState,c;if(null!=(a=r)&&a.thrown)throw r.error;if(o.thrown)throw o.error;throw this.raise(_e.UnexpectedTokenAfterTypeParameter,n)}return super.parseMaybeAssign(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse(()=>{const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const n=this.startNode();return[n.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=t,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),n});if(t.thrown)return null;t.error&&(this.state=t.failState),e.returnType=t.node.typeAnnotation?this.finishNode(t.node,"TypeAnnotation"):null}return super.parseArrow(e)}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e)}setArrowFunctionParameters(e,t){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?e.params=t:super.setArrowFunctionParameters(e,t)}checkParams(e,t,n,r=!0){if(!n||!this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))){for(let t=0;t<e.params.length;t++)this.isThisParam(e.params[t])&&t>0&&this.raise(_e.ThisParamMustBeFirst,e.params[t]);super.checkParams(e,t,n,r)}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(e,t,n){if("Identifier"===e.type&&"async"===e.name&&this.state.noArrowAt.includes(t.index)){this.next();const n=this.startNodeAt(t);n.callee=e,n.arguments=super.parseCallExpressionArguments(),e=this.finishNode(n,"CallExpression")}else if("Identifier"===e.type&&"async"===e.name&&this.match(47)){const r=this.state.clone(),i=this.tryParse(e=>this.parseAsyncArrowWithTypeParameters(t)||e(),r);if(!i.error&&!i.aborted)return i.node;const s=this.tryParse(()=>super.parseSubscripts(e,t,n),r);if(s.node&&!s.error)return s.node;if(i.node)return this.state=i.failState,i.node;if(s.node)return this.state=s.failState,s.node;throw i.error||s.error}return super.parseSubscripts(e,t,n)}parseSubscript(e,t,n,r){if(this.match(18)&&this.isLookaheadToken_lt()){if(r.optionalChainMember=!0,n)return r.stop=!0,e;this.next();const i=this.startNodeAt(t);return i.callee=e,i.typeArguments=this.flowParseTypeParameterInstantiationInExpression(),this.expect(10),i.arguments=this.parseCallExpressionArguments(),i.optional=!0,this.finishCallExpression(i,!0)}if(!n&&this.shouldParseTypes()&&(this.match(47)||this.match(51))){const n=this.startNodeAt(t);n.callee=e;const i=this.tryParse(()=>(n.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),n.arguments=super.parseCallExpressionArguments(),r.optionalChainMember&&(n.optional=!1),this.finishCallExpression(n,r.optionalChainMember)));if(i.node)return i.error&&(this.state=i.failState),i.node}return super.parseSubscript(e,t,n,r)}parseNewCallee(e){super.parseNewCallee(e);let t=null;this.shouldParseTypes()&&this.match(47)&&(t=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),e.typeArguments=t}parseAsyncArrowWithTypeParameters(e){const t=this.startNodeAt(e);if(this.parseFunctionParams(t,!1),this.parseArrow(t))return super.parseArrowExpression(t,void 0,!0)}readToken_mult_modulo(e){const t=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===t&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();super.readToken_mult_modulo(e)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);124!==e||125!==t?super.readToken_pipe_amp(e):this.finishOp(9,2)}parseTopLevel(e,t){const n=super.parseTopLevel(e,t);return this.state.hasFlowComment&&this.raise(_e.UnterminatedFlowComment,this.state.curPosition()),n}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(_e.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const e=this.skipFlowComment();return void(e&&(this.state.pos+=e,this.state.hasFlowComment=!0))}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){const{pos:e}=this.state;let t=2;for(;[32,9].includes(this.input.charCodeAt(e+t));)t++;const n=this.input.charCodeAt(t+e),r=this.input.charCodeAt(t+e+1);return 58===n&&58===r?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===n&&58!==r&&t}hasFlowCommentCompletion(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(v.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:t,memberName:n}){this.raise(_e.EnumBooleanMemberNotInitialized,e,{memberName:n,enumName:t})}flowEnumErrorInvalidMemberInitializer(e,t){return this.raise(t.explicitType?"symbol"===t.explicitType?_e.EnumInvalidMemberInitializerSymbolType:_e.EnumInvalidMemberInitializerPrimaryType:_e.EnumInvalidMemberInitializerUnknownType,e,t)}flowEnumErrorNumberMemberNotInitialized(e,t){this.raise(_e.EnumNumberMemberNotInitialized,e,t)}flowEnumErrorStringMemberInconsistentlyInitialized(e,t){this.raise(_e.EnumStringMemberInconsistentlyInitialized,e,t)}flowEnumMemberInit(){const e=this.state.startLoc,t=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{const n=this.parseNumericLiteral(this.state.value);return t()?{type:"number",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}case 134:{const n=this.parseStringLiteral(this.state.value);return t()?{type:"string",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}case 85:case 86:{const n=this.parseBooleanLiteral(this.match(85));return t()?{type:"boolean",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}default:return{type:"invalid",loc:e}}}flowEnumMemberRaw(){const e=this.state.startLoc;return{id:this.parseIdentifier(!0),init:this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:e}}}flowEnumCheckExplicitTypeMismatch(e,t,n){const{explicitType:r}=t;null!==r&&r!==n&&this.flowEnumErrorInvalidMemberInitializer(e,t)}flowEnumMembers({enumName:e,explicitType:t}){const n=new Set,r={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let i=!1;for(;!this.match(8);){if(this.eat(21)){i=!0;break}const s=this.startNode(),{id:a,init:o}=this.flowEnumMemberRaw(),c=a.name;if(""===c)continue;/^[a-z]/.test(c)&&this.raise(_e.EnumInvalidMemberName,a,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:e}),n.has(c)&&this.raise(_e.EnumDuplicateMemberName,a,{memberName:c,enumName:e}),n.add(c);const l={enumName:e,explicitType:t,memberName:c};switch(s.id=a,o.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(o.loc,l,"boolean"),s.init=o.value,r.booleanMembers.push(this.finishNode(s,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(o.loc,l,"number"),s.init=o.value,r.numberMembers.push(this.finishNode(s,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(o.loc,l,"string"),s.init=o.value,r.stringMembers.push(this.finishNode(s,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(o.loc,l);case"none":switch(t){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(o.loc,l);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(o.loc,l);break;default:r.defaultedMembers.push(this.finishNode(s,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:r,hasUnknownMembers:i}}flowEnumStringMembers(e,t,{enumName:n}){if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(const t of e)this.flowEnumErrorStringMemberInconsistentlyInitialized(t,{enumName:n});return t}for(const e of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(e,{enumName:n});return e}flowEnumParseExplicitType({enumName:e}){if(!this.eatContextual(102))return null;if(!z(this.state.type))throw this.raise(_e.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:e});const{value:t}=this.state;return this.next(),"boolean"!==t&&"number"!==t&&"string"!==t&&"symbol"!==t&&this.raise(_e.EnumInvalidExplicitType,this.state.startLoc,{enumName:e,invalidEnumType:t}),t}flowEnumBody(e,t){const n=t.name,r=t.loc.start,i=this.flowEnumParseExplicitType({enumName:n});this.expect(5);const{members:s,hasUnknownMembers:a}=this.flowEnumMembers({enumName:n,explicitType:i});switch(e.hasUnknownMembers=a,i){case"boolean":return e.explicitType=!0,e.members=s.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=s.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(s.stringMembers,s.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=s.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{const t=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;const i=s.booleanMembers.length,a=s.numberMembers.length,o=s.stringMembers.length,c=s.defaultedMembers.length;if(i||a||o||c){if(i||a){if(!a&&!o&&i>=c){for(const e of s.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(e.loc.start,{enumName:n,memberName:e.id.name});return e.members=s.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody")}if(!i&&!o&&a>=c){for(const e of s.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(e.loc.start,{enumName:n,memberName:e.id.name});return e.members=s.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody")}return this.raise(_e.EnumInconsistentMemberValues,r,{enumName:n}),t()}return e.members=this.flowEnumStringMembers(s.stringMembers,s.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(e,"EnumStringBody")}return t()}}}flowParseEnumDeclaration(e){const t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),t),this.finishNode(e,"EnumDeclaration")}jsxParseOpeningElementAfterName(e){return this.shouldParseTypes()&&(this.match(47)||this.match(51))&&(e.typeArguments=this.flowParseTypeParameterInstantiationInExpression()),super.jsxParseOpeningElementAfterName(e)}isLookaheadToken_lt(){const e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){const t=this.input.charCodeAt(e+1);return 60!==t&&61!==t}return!1}reScan_lt_gt(){const{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e}maybeUnwrapTypeCastExpression(e){return"TypeCastExpression"===e.type?e.expression:e}},typescript:e=>class extends e{constructor(...e){super(...e),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:St.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:St.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:St.InvalidModifierOnTypeParameter})}getScopeHandler(){return je}tsIsIdentifier(){return z(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),!this.hasPrecedingLineBreak()&&this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(e,t,n){if(!z(this.state.type)&&58!==this.state.type&&75!==this.state.type)return;const r=this.state.value;if(e.includes(r)){if(n&&this.match(106))return;if(t&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return r}}tsParseModifiers({allowedModifiers:e,disallowedModifiers:t,stopOnStartOfClassStaticBlock:n,errorTemplate:r=St.InvalidModifierOnTypeMember},i){const s=(e,t,n,r)=>{t===n&&i[r]&&this.raise(St.InvalidModifiersOrder,e,{orderedModifiers:[n,r]})},a=(e,t,n,r)=>{(i[n]&&t===r||i[r]&&t===n)&&this.raise(St.IncompatibleModifiers,e,{modifiers:[n,r]})};for(;;){const{startLoc:o}=this.state,c=this.tsParseModifier(e.concat(null!=t?t:[]),n,i.static);if(!c)break;Tt(c)?i.accessibility?this.raise(St.DuplicateAccessibilityModifier,o,{modifier:c}):(s(o,c,c,"override"),s(o,c,c,"static"),s(o,c,c,"readonly"),i.accessibility=c):_t(c)?(i[c]&&this.raise(St.DuplicateModifier,o,{modifier:c}),i[c]=!0,s(o,c,"in","out")):(hasOwnProperty.call(i,c)?this.raise(St.DuplicateModifier,o,{modifier:c}):(s(o,c,"static","readonly"),s(o,c,"static","override"),s(o,c,"override","readonly"),s(o,c,"abstract","override"),a(o,c,"declare","override"),a(o,c,"static","abstract")),i[c]=!0),null!=t&&t.includes(c)&&this.raise(r,o,{modifier:c})}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(e,t){const n=[];for(;!this.tsIsListTerminator(e);)n.push(t());return n}tsParseDelimitedList(e,t,n){return function(e){if(null==e)throw new Error(`Unexpected ${e} value.`);return e}(this.tsParseDelimitedListWorker(e,t,!0,n))}tsParseDelimitedListWorker(e,t,n,r){const i=[];let s=-1;for(;!this.tsIsListTerminator(e);){s=-1;const r=t();if(null==r)return;if(i.push(r),!this.eat(12)){if(this.tsIsListTerminator(e))break;return void(n&&this.expect(12))}s=this.state.lastTokStartLoc.index}return r&&(r.value=s),i}tsParseBracketedList(e,t,n,r,i){r||(n?this.expect(0):this.expect(47));const s=this.tsParseDelimitedList(e,t,i);return n?this.expect(3):this.expect(48),s}tsParseImportType(){const e=this.startNode();return this.expect(83),this.expect(10),this.match(134)?e.argument=this.parseStringLiteral(this.state.value):(this.raise(St.UnsupportedImportTypeArgument,this.state.startLoc),e.argument=super.parseExprAtom()),this.eat(12)?e.options=this.tsParseImportTypeOptions():e.options=null,this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName(3)),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")}tsParseImportTypeOptions(){const e=this.startNode();this.expect(5);const t=this.startNode();return this.isContextual(76)?(t.method=!1,t.key=this.parseIdentifier(!0),t.computed=!1,t.shorthand=!1):this.unexpected(null,76),this.expect(14),t.value=this.tsParseImportTypeWithPropertyValue(),e.properties=[this.finishObjectProperty(t)],this.eat(12),this.expect(8),this.finishNode(e,"ObjectExpression")}tsParseImportTypeWithPropertyValue(){const e=this.startNode(),t=[];for(this.expect(5);!this.match(8);){const e=this.state.type;z(e)||134===e?t.push(super.parsePropertyDefinition(null)):this.unexpected(),this.eat(12)}return e.properties=t,this.next(),this.finishNode(e,"ObjectExpression")}tsParseEntityName(e){let t;if(1&e&&this.match(78))if(2&e)t=this.parseIdentifier(!0);else{const e=this.startNode();this.next(),t=this.finishNode(e,"ThisExpression")}else t=this.parseIdentifier(!!(1&e));for(;this.eat(16);){const n=this.startNodeAtNode(t);n.left=t,n.right=this.parseIdentifier(!!(1&e)),t=this.finishNode(n,"TSQualifiedName")}return t}tsParseTypeReference(){const e=this.startNode();return e.typeName=this.tsParseEntityName(1),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")}tsParseThisTypePredicate(e){this.next();const t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),t.asserts=!1,this.finishNode(t,"TSTypePredicate")}tsParseThisTypeNode(){const e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")}tsParseTypeQuery(){const e=this.startNode();return this.expect(87),this.match(83)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(3),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeQuery")}tsParseTypeParameter(e){const t=this.startNode();return e(t),t.name=this.tsParseTypeParameterName(),t.constraint=this.tsEatThenParseType(81),t.default=this.tsEatThenParseType(29),this.finishNode(t,"TSTypeParameter")}tsTryParseTypeParameters(e){if(this.match(47))return this.tsParseTypeParameters(e)}tsParseTypeParameters(e){const t=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();const n={value:-1};return t.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,e),!1,!0,n),0===t.params.length&&this.raise(St.EmptyTypeParameters,t),-1!==n.value&&this.addExtra(t,"trailingComma",n.value),this.finishNode(t,"TSTypeParameterDeclaration")}tsFillSignature(e,t){const n=19===e;t.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),t.parameters=this.tsParseBindingListForSignature(),(n||this.match(e))&&(t.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(e))}tsParseBindingListForSignature(){const e=super.parseBindingList(11,41,2);for(const t of e){const{type:e}=t;"AssignmentPattern"!==e&&"TSParameterProperty"!==e||this.raise(St.UnsupportedSignatureParameterKind,t,{type:e})}return e}tsParseTypeMemberSemicolon(){this.eat(12)||this.isLineTerminator()||this.expect(13)}tsParseSignatureMember(e,t){return this.tsFillSignature(14,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e)}tsIsUnambiguouslyIndexSignature(){return this.next(),!!z(this.state.type)&&(this.next(),this.match(14))}tsTryParseIndexSignature(e){if(!this.match(0)||!this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this)))return;this.expect(0);const t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(3),e.parameters=[t];const n=this.tsTryParseTypeAnnotation();return n&&(e.typeAnnotation=n),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}tsParsePropertyOrMethodSignature(e,t){if(this.eat(17)&&(e.optional=!0),this.match(10)||this.match(47)){t&&this.raise(St.ReadonlyForMethodSignature,e);const n=e;n.kind&&this.match(47)&&this.raise(St.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,n),this.tsParseTypeMemberSemicolon();const r="parameters",i="typeAnnotation";if("get"===n.kind)n[r].length>0&&(this.raise(v.BadGetterArity,this.state.curPosition()),this.isThisParam(n[r][0])&&this.raise(St.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if("set"===n.kind){if(1!==n[r].length)this.raise(v.BadSetterArity,this.state.curPosition());else{const e=n[r][0];this.isThisParam(e)&&this.raise(St.AccessorCannotDeclareThisParameter,this.state.curPosition()),"Identifier"===e.type&&e.optional&&this.raise(St.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),"RestElement"===e.type&&this.raise(St.SetAccessorCannotHaveRestParameter,this.state.curPosition())}n[i]&&this.raise(St.SetAccessorCannotHaveReturnType,n[i])}else n.kind="method";return this.finishNode(n,"TSMethodSignature")}{const n=e;t&&(n.readonly=!0);const r=this.tsTryParseTypeAnnotation();return r&&(n.typeAnnotation=r),this.tsParseTypeMemberSemicolon(),this.finishNode(n,"TSPropertySignature")}}tsParseTypeMember(){const e=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(77)){const t=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},e);return this.tsTryParseIndexSignature(e)||(super.parsePropertyName(e),e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||!this.tsTokenCanFollowModifier()||(e.kind=e.key.name,super.parsePropertyName(e),this.match(10)||this.match(47)||this.unexpected(null,10)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly))}tsParseTypeLiteral(){const e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!!this.match(0)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(58))))}tsParseMappedType(){const e=this.startNode();this.expect(5),this.match(53)?(e.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(e.readonly=!0),this.expect(0);{const t=this.startNode();t.name=this.tsParseTypeParameterName(),t.constraint=this.tsExpectThenParseType(58),e.typeParameter=this.finishNode(t,"TSTypeParameter")}return e.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType")}tsParseTupleType(){const e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let t=!1;return e.elementTypes.forEach(e=>{const{type:n}=e;!t||"TSRestType"===n||"TSOptionalType"===n||"TSNamedTupleMember"===n&&e.optional||this.raise(St.OptionalTypeBeforeRequired,e),t||(t="TSNamedTupleMember"===n&&e.optional||"TSOptionalType"===n)}),this.finishNode(e,"TSTupleType")}tsParseTupleElementType(){const e=this.state.startLoc,t=this.eat(21),{startLoc:n}=this.state;let r,i,s,a;const o=V(this.state.type)?this.lookaheadCharCode():null;if(58===o)r=!0,s=!1,i=this.parseIdentifier(!0),this.expect(14),a=this.tsParseType();else if(63===o){s=!0;const e=this.state.value,t=this.tsParseNonArrayType();58===this.lookaheadCharCode()?(r=!0,i=this.createIdentifier(this.startNodeAt(n),e),this.expect(17),this.expect(14),a=this.tsParseType()):(r=!1,a=t,this.expect(17))}else a=this.tsParseType(),s=this.eat(17),r=this.eat(14);if(r){let e;i?(e=this.startNodeAt(n),e.optional=s,e.label=i,e.elementType=a,this.eat(17)&&(e.optional=!0,this.raise(St.TupleOptionalAfterType,this.state.lastTokStartLoc))):(e=this.startNodeAt(n),e.optional=s,this.raise(St.InvalidTupleMemberLabel,a),e.label=a,e.elementType=this.tsParseType()),a=this.finishNode(e,"TSNamedTupleMember")}else if(s){const e=this.startNodeAt(n);e.typeAnnotation=a,a=this.finishNode(e,"TSOptionalType")}if(t){const t=this.startNodeAt(e);t.typeAnnotation=a,a=this.finishNode(t,"TSRestType")}return a}tsParseParenthesizedType(){const e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType")}tsParseFunctionOrConstructorType(e,t){const n=this.startNode();return"TSConstructorType"===e&&(n.abstract=!!t,t&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,n)),this.finishNode(n,e)}tsParseLiteralTypeNode(){const e=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:e.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(e,"TSLiteralType")}tsParseTemplateLiteralType(){{const e=this.startNode();return e.literal=super.parseTemplate(!1),this.finishNode(e,"TSLiteralType")}}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const e=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if("-"===this.state.value){const e=this.startNode(),t=this.lookahead();return 135!==t.type&&136!==t.type&&this.unexpected(),e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:e}=this.state;if(z(e)||88===e||84===e){const t=88===e?"TSVoidKeyword":84===e?"TSNullKeyword":function(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}(this.state.value);if(void 0!==t&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,t)}return this.tsParseTypeReference()}}}throw this.unexpected()}tsParseArrayTypeOrHigher(){const{startLoc:e}=this.state;let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const n=this.startNodeAt(e);n.elementType=t,this.expect(3),t=this.finishNode(n,"TSArrayType")}else{const n=this.startNodeAt(e);n.objectType=t,n.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(n,"TSIndexedAccessType")}return t}tsParseTypeOperator(){const e=this.startNode(),t=this.state.value;return this.next(),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===t&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(St.UnexpectedReadonly,e)}}tsParseInferType(){const e=this.startNode();this.expectContextual(115);const t=this.startNode();return t.name=this.tsParseTypeParameterName(),t.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const e=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return e}}tsParseTypeOperatorOrHigher(){var e;return(e=this.state.type)>=121&&e<=123&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(e,t,n){const r=this.startNode(),i=this.eat(n),s=[];do{s.push(t())}while(this.eat(n));return 1!==s.length||i?(r.types=s,this.finishNode(r,e)):s[0]}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return!!this.match(47)||this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(z(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:e}=this.state,t=e.length;try{return this.parseObjectLike(8,!0),e.length===t}catch(e){return!1}}if(this.match(0)){this.next();const{errors:e}=this.state,t=e.length;try{return super.parseBindingList(3,93,1),e.length===t}catch(e){return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(11)||this.match(21))return!0;if(this.tsSkipParameterStart()){if(this.match(14)||this.match(12)||this.match(17)||this.match(29))return!0;if(this.match(11)&&(this.next(),this.match(19)))return!0}return!1}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType(()=>{const t=this.startNode();this.expect(e);const n=this.startNode(),r=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(r&&this.match(78)){let e=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===e.type?(n.parameterName=e,n.asserts=!0,n.typeAnnotation=null,e=this.finishNode(n,"TSTypePredicate")):(this.resetStartLocationFromNode(e,n),e.asserts=!0),t.typeAnnotation=e,this.finishNode(t,"TSTypeAnnotation")}const i=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!i)return r?(n.parameterName=this.parseIdentifier(),n.asserts=r,n.typeAnnotation=null,t.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,t);const s=this.tsParseTypeAnnotation(!1);return n.parameterName=i,n.typeAnnotation=s,n.asserts=r,t.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const e=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),e}tsParseTypePredicateAsserts(){if(109!==this.state.type)return!1;const e=this.state.containsEsc;return this.next(),!(!z(this.state.type)&&!this.match(78)||(e&&this.raise(v.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),0))}tsParseTypeAnnotation(e=!0,t=this.startNode()){return this.tsInType(()=>{e&&this.expect(14),t.typeAnnotation=this.tsParseType()}),this.finishNode(t,"TSTypeAnnotation")}tsParseType(){bt(this.state.inType);const e=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return e;const t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),t.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),t.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(t,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.isLookaheadContextual("new")}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(St.ReservedTypeAssertion,this.state.startLoc);const e=this.startNode();return e.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")}tsParseHeritageClause(e){const t=this.state.startLoc,n=this.tsParseDelimitedList("HeritageClauseElement",()=>{{const e=this.startNode();return e.expression=this.tsParseEntityName(3),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments")}});return n.length||this.raise(St.EmptyHeritageClauseType,t,{token:e}),n}tsParseInterfaceDeclaration(e,t={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),t.declare&&(e.declare=!0),z(this.state.type)?(e.id=this.parseIdentifier(),this.checkIdentifier(e.id,130)):(e.id=null,this.raise(St.MissingInterfaceName,this.state.startLoc)),e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(e.extends=this.tsParseHeritageClause("extends"));const n=this.startNode();return n.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(n,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkIdentifier(e.id,2),e.typeAnnotation=this.tsInType(()=>{if(e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")}tsInTopLevelContext(e){if(this.curContext()===P.brace)return e();{const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}}tsInType(e){const t=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=t}}tsInDisallowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsInAllowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsEatThenParseType(e){if(this.match(e))return this.tsNextThenParseType()}tsExpectThenParseType(e){return this.tsInType(()=>(this.expect(e),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){const e=this.startNode();return e.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(e.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")}tsParseEnumDeclaration(e,t={}){return t.const&&(e.const=!0),t.declare&&(e.declare=!0),this.expectContextual(126),e.id=this.parseIdentifier(),this.checkIdentifier(e.id,e.const?8971:8459),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration")}tsParseEnumBody(){const e=this.startNode();return this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumBody")}tsParseModuleBlock(){const e=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(e,t=!1){if(e.id=this.parseIdentifier(),t||this.checkIdentifier(e.id,1024),this.eat(16)){const t=this.startNode();this.tsParseModuleOrNamespaceDeclaration(t,!0),e.body=t}else this.scope.enter(1024),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(112)?(e.kind="global",e.global=!0,e.id=this.parseIdentifier()):this.match(134)?(e.kind="module",e.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(1024),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(e,t,n){e.isExport=n||!1,e.id=t||this.parseIdentifier(),this.checkIdentifier(e.id,4096),this.expect(29);const r=this.tsParseModuleReference();return"type"===e.importKind&&"TSExternalModuleReference"!==r.type&&this.raise(St.ImportAliasHasImportType,r),e.moduleReference=r,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&40===this.lookaheadCharCode()}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(0)}tsParseExternalModuleReference(){const e=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),e.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExternalModuleReference")}tsLookAhead(e){const t=this.state.clone(),n=e();return this.state=t,n}tsTryParseAndCatch(e){const t=this.tryParse(t=>e()||t());if(!t.aborted&&t.node)return t.error&&(this.state=t.failState),t.node}tsTryParse(e){const t=this.state.clone(),n=e();if(void 0!==n&&!1!==n)return n;this.state=t}tsTryParseDeclare(e){if(this.isLineTerminator())return;const t=this.state.type;return this.tsInAmbientContext(()=>{switch(t){case 68:return e.declare=!0,super.parseFunctionStatement(e,!1,!1);case 80:return e.declare=!0,this.parseClass(e,!0,!1);case 126:return this.tsParseEnumDeclaration(e,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(e);case 100:if(this.state.containsEsc)return;case 75:case 74:return this.match(75)&&this.isLookaheadContextual("enum")?(this.expect(75),this.tsParseEnumDeclaration(e,{const:!0,declare:!0})):(e.declare=!0,this.parseVarStatement(e,this.state.value,!0));case 107:if(this.isUsing())return this.raise(St.InvalidModifierOnUsingDeclaration,this.state.startLoc,"declare"),e.declare=!0,this.parseVarStatement(e,"using",!0);break;case 96:if(this.isAwaitUsing())return this.raise(St.InvalidModifierOnAwaitUsingDeclaration,this.state.startLoc,"declare"),e.declare=!0,this.next(),this.parseVarStatement(e,"await using",!0);break;case 129:{const t=this.tsParseInterfaceDeclaration(e,{declare:!0});if(t)return t}default:if(z(t))return this.tsParseDeclaration(e,this.state.type,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.type,!0,null)}tsParseDeclaration(e,t,n,r){switch(t){case 124:if(this.tsCheckLineTerminator(n)&&(this.match(80)||z(this.state.type)))return this.tsParseAbstractDeclaration(e,r);break;case 127:if(this.tsCheckLineTerminator(n)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(e);if(z(this.state.type))return e.kind="module",this.tsParseModuleOrNamespaceDeclaration(e)}break;case 128:if(this.tsCheckLineTerminator(n)&&z(this.state.type))return e.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(e);break;case 130:if(this.tsCheckLineTerminator(n)&&z(this.state.type))return this.tsParseTypeAliasDeclaration(e)}}tsCheckLineTerminator(e){return e?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(e){if(!this.match(47))return;const t=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const n=this.tsTryParseAndCatch(()=>{const t=this.startNodeAt(e);return t.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(t),t.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),t});return this.state.maybeInArrowParameters=t,n?super.parseArrowExpression(n,null,!0):void 0}tsParseTypeArgumentsInExpression(){if(47===this.reScan_lt())return this.tsParseTypeArguments()}tsParseTypeArguments(){const e=this.startNode();return e.params=this.tsInType(()=>this.tsInTopLevelContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),0===e.params.length?this.raise(St.EmptyTypeArguments,e):this.state.inType||this.curContext()!==P.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return(e=this.state.type)>=124&&e<=130;var e}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier()}parseBindingElement(e,t){const n=t.length?t[0].loc.start:this.state.startLoc,r={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},r);const i=r.accessibility,s=r.override,a=r.readonly;4&e||!(i||a||s)||this.raise(St.UnexpectedParameterModifier,n);const o=this.parseMaybeDefault();2&e&&this.parseFunctionParamType(o);const c=this.parseMaybeDefault(o.loc.start,o);if(i||a||s){const e=this.startNodeAt(n);return t.length&&(e.decorators=t),i&&(e.accessibility=i),a&&(e.readonly=a),s&&(e.override=s),"Identifier"!==c.type&&"AssignmentPattern"!==c.type&&this.raise(St.UnsupportedParameterPropertyKind,e),e.parameter=c,this.finishNode(e,"TSParameterProperty")}return t.length&&(o.decorators=t),c}isSimpleParameter(e){return"TSParameterProperty"===e.type&&super.isSimpleParameter(e.parameter)||super.isSimpleParameter(e)}tsDisallowOptionalPattern(e){for(const t of e.params)"Identifier"!==t.type&&t.optional&&!this.state.isAmbientContext&&this.raise(St.PatternIsOptional,t)}setArrowFunctionParameters(e,t,n){super.setArrowFunctionParameters(e,t,n),this.tsDisallowOptionalPattern(e)}parseFunctionBodyAndFinish(e,t,n=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const r="FunctionDeclaration"===t?"TSDeclareFunction":"ClassMethod"===t||"ClassPrivateMethod"===t?"TSDeclareMethod":void 0;return r&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,r):"TSDeclareFunction"===r&&this.state.isAmbientContext&&(this.raise(St.DeclareFunctionHasImplementation,e),e.declare)?super.parseFunctionBodyAndFinish(e,r,n):(this.tsDisallowOptionalPattern(e),super.parseFunctionBodyAndFinish(e,t,n))}registerFunctionStatementId(e){!e.body&&e.id?this.checkIdentifier(e.id,1024):super.registerFunctionStatementId(e)}tsCheckForInvalidTypeCasts(e){e.forEach(e=>{"TSTypeCastExpression"===(null==e?void 0:e.type)&&this.raise(St.UnexpectedTypeAnnotation,e.typeAnnotation)})}toReferencedList(e,t){return this.tsCheckForInvalidTypeCasts(e),e}parseArrayLike(e,t,n){const r=super.parseArrayLike(e,t,n);return"ArrayExpression"===r.type&&this.tsCheckForInvalidTypeCasts(r.elements),r}parseSubscript(e,t,n,r){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const n=this.startNodeAt(t);return n.expression=e,this.finishNode(n,"TSNonNullExpression")}let i=!1;if(this.match(18)&&60===this.lookaheadCharCode()){if(n)return r.stop=!0,e;r.optionalChainMember=i=!0,this.next()}if(this.match(47)||this.match(51)){let s;const a=this.tsTryParseAndCatch(()=>{if(!n&&this.atPossibleAsyncArrow(e)){const e=this.tsTryParseGenericAsyncArrowFunction(t);if(e)return r.stop=!0,e}const a=this.tsParseTypeArgumentsInExpression();if(!a)return;if(i&&!this.match(10))return void(s=this.state.curPosition());if(X(this.state.type)){const n=super.parseTaggedTemplateExpression(e,t,r);return n.typeParameters=a,n}if(!n&&this.eat(10)){const n=this.startNodeAt(t);return n.callee=e,n.arguments=this.parseCallExpressionArguments(),this.tsCheckForInvalidTypeCasts(n.arguments),n.typeParameters=a,r.optionalChainMember&&(n.optional=i),this.finishCallExpression(n,r.optionalChainMember)}const o=this.state.type;if(48===o||52===o||10!==o&&K(o)&&!this.hasPrecedingLineBreak())return;const c=this.startNodeAt(t);return c.expression=e,c.typeParameters=a,this.finishNode(c,"TSInstantiationExpression")});if(s&&this.unexpected(s,10),a)return"TSInstantiationExpression"===a.type&&((this.match(16)||this.match(18)&&40!==this.lookaheadCharCode())&&this.raise(St.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),this.match(16)||this.match(18)||(a.expression=super.stopParseSubscript(e,r))),a}return super.parseSubscript(e,t,n,r)}parseNewCallee(e){var t;super.parseNewCallee(e);const{callee:n}=e;"TSInstantiationExpression"!==n.type||null!=(t=n.extra)&&t.parenthesized||(e.typeParameters=n.typeParameters,e.callee=n.expression)}parseExprOp(e,t,n){let r;if(Y(58)>n&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(r=this.isContextual(120)))){const i=this.startNodeAt(t);return i.expression=e,i.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(r&&this.raise(v.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(i,r?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(i,t,n)}return super.parseExprOp(e,t,n)}checkReservedWord(e,t,n,r){this.state.isAmbientContext||super.checkReservedWord(e,t,n,r)}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(St.ImportReflectionHasImportType,e.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){const t=this.lookaheadCharCode();return e?123===t||42===t:61!==t}return!e&&this.isContextual(87)}applyImportPhase(e,t,n,r){super.applyImportPhase(e,t,n,r),t?e.exportKind="type"===n?"type":"value":e.importKind="type"===n||"typeof"===n?n:"value"}parseImport(e){if(this.match(134))return e.importKind="value",super.parseImport(e);let t;if(z(this.state.type)&&61===this.lookaheadCharCode())return e.importKind="value",this.tsParseImportEqualsDeclaration(e);if(this.isContextual(130)){const n=this.parseMaybeImportPhase(e,!1);if(61===this.lookaheadCharCode())return this.tsParseImportEqualsDeclaration(e,n);t=super.parseImportSpecifiersAndAfter(e,n)}else t=super.parseImport(e);return"type"===t.importKind&&t.specifiers.length>1&&"ImportDefaultSpecifier"===t.specifiers[0].type&&this.raise(St.TypeImportCannotSpecifyDefaultAndNamed,t),t}parseExport(e,t){if(this.match(83)){const t=e;this.next();let n=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?n=this.parseMaybeImportPhase(t,!1):t.importKind="value",this.tsParseImportEqualsDeclaration(t,n,!0)}if(this.eat(29)){const t=e;return t.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExportAssignment")}if(this.eatContextual(93)){const t=e;return this.expectContextual(128),t.id=this.parseIdentifier(),this.semicolon(),this.finishNode(t,"TSNamespaceExportDeclaration")}return super.parseExport(e,t)}isAbstractClass(){return this.isContextual(124)&&this.isLookaheadContextual("class")}parseExportDefaultExpression(){if(this.isAbstractClass()){const e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0)}if(this.match(129)){const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseExportDefaultExpression()}parseVarStatement(e,t,n=!1){const{isAmbientContext:r}=this.state,i=super.parseVarStatement(e,t,n||r);if(!r)return i;if(!e.declare&&("using"===t||"await using"===t))return this.raiseOverwrite(St.UsingDeclarationInAmbientContext,e,t),i;for(const{id:e,init:n}of i.declarations)n&&("var"===t||"let"===t||e.typeAnnotation?this.raise(St.InitializerNotAllowedInAmbientContext,n):Et(n,this.hasPlugin("estree"))||this.raise(St.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,n));return i}parseStatementContent(e,t){if(!this.state.containsEsc)switch(this.state.type){case 75:if(this.isLookaheadContextual("enum")){const e=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(e,{const:!0})}break;case 124:case 125:if(this.nextTokenIsIdentifierAndNotTSRelationalOperatorOnSameLine()){const e=this.state.type,n=this.startNode();this.next();const r=125===e?this.tsTryParseDeclare(n):this.tsParseAbstractDeclaration(n,t);return r?(125===e&&(r.declare=!0),r):(n.expression=this.createIdentifier(this.startNodeAt(n.loc.start),125===e?"declare":"abstract"),this.semicolon(!1),this.finishNode(n,"ExpressionStatement"))}break;case 126:return this.tsParseEnumDeclaration(this.startNode());case 112:if(123===this.lookaheadCharCode()){const e=this.startNode();return this.tsParseAmbientExternalModuleDeclaration(e)}break;case 129:{const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e;break}case 127:if(this.nextTokenIsIdentifierOrStringLiteralOnSameLine()){const e=this.startNode();return this.next(),this.tsParseDeclaration(e,127,!1,t)}break;case 128:if(this.nextTokenIsIdentifierOnSameLine()){const e=this.startNode();return this.next(),this.tsParseDeclaration(e,128,!1,t)}break;case 130:if(this.nextTokenIsIdentifierOnSameLine()){const e=this.startNode();return this.next(),this.tsParseTypeAliasDeclaration(e)}}return super.parseStatementContent(e,t)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(e,t){return t.some(t=>Tt(t)?e.accessibility===t:!!e[t])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&123===this.lookaheadCharCode()}parseClassMember(e,t,n){const r=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:r,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:St.InvalidModifierOnTypeParameterPositions},t);const i=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(t,r)&&this.raise(St.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(e,t)):this.parseClassMemberWithIsStatic(e,t,n,!!t.static)};t.declare?this.tsInAmbientContext(i):i()}parseClassMemberWithIsStatic(e,t,n,r){const i=this.tsTryParseIndexSignature(t);if(i)return e.body.push(i),t.abstract&&this.raise(St.IndexSignatureHasAbstract,t),t.accessibility&&this.raise(St.IndexSignatureHasAccessibility,t,{modifier:t.accessibility}),t.declare&&this.raise(St.IndexSignatureHasDeclare,t),void(t.override&&this.raise(St.IndexSignatureHasOverride,t));!this.state.inAbstractClass&&t.abstract&&this.raise(St.NonAbstractClassHasAbstractMethod,t),t.override&&(n.hadSuperClass||this.raise(St.OverrideNotInSubClass,t)),super.parseClassMemberWithIsStatic(e,t,n,r)}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(St.ClassMethodHasReadonly,e),e.declare&&this.match(10)&&this.raise(St.ClassMethodHasDeclare,e)}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration()}parseConditional(e,t,n){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(n),e}return super.parseConditional(e,t,n)}parseParenItem(e,t){const n=super.parseParenItem(e,t);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(e)),this.match(14)){const n=this.startNodeAt(t);return n.expression=e,n.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(n,"TSTypeCastExpression")}return e}parseExportDeclaration(e){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(e));const t=this.state.startLoc,n=this.eatContextual(125);if(n&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(St.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const r=z(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(e);return r?(("TSInterfaceDeclaration"===r.type||"TSTypeAliasDeclaration"===r.type||n)&&(e.exportKind="type"),n&&"TSImportEqualsDeclaration"!==r.type&&(this.resetStartLocation(r,t),r.declare=!0),r):null}parseClassId(e,t,n,r){if((!t||n)&&this.isContextual(113))return;super.parseClassId(e,t,n,e.declare?1024:8331);const i=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);i&&(e.typeParameters=i)}parseClassPropertyAnnotation(e){e.optional||(this.eat(35)?e.definite=!0:this.eat(17)&&(e.optional=!0));const t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t)}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&(!e.readonly||e.typeAnnotation)&&this.match(29)&&this.raise(St.DeclareClassFieldHasInitializer,this.state.startLoc),e.abstract&&this.match(29)){const{key:t}=e;this.raise(St.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:"Identifier"!==t.type||e.computed?`[${this.input.slice(this.offsetToSourcePos(t.start),this.offsetToSourcePos(t.end))}]`:t.name})}return super.parseClassProperty(e)}parseClassPrivateProperty(e){return e.abstract&&this.raise(St.PrivateElementHasAbstract,e),e.accessibility&&this.raise(St.PrivateElementHasAccessibility,e,{modifier:e.accessibility}),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e)}parseClassAccessorProperty(e){return this.parseClassPropertyAnnotation(e),e.optional&&this.raise(St.AccessorCannotBeOptional,e),super.parseClassAccessorProperty(e)}pushClassMethod(e,t,n,r,i,s){const a=this.tsTryParseTypeParameters(this.tsParseConstModifier);a&&i&&this.raise(St.ConstructorHasTypeParameters,a);const{declare:o=!1,kind:c}=t;!o||"get"!==c&&"set"!==c||this.raise(St.DeclareAccessor,t,{kind:c}),a&&(t.typeParameters=a),super.pushClassMethod(e,t,n,r,i,s)}pushClassPrivateMethod(e,t,n,r){const i=this.tsTryParseTypeParameters(this.tsParseConstModifier);i&&(t.typeParameters=i),super.pushClassPrivateMethod(e,t,n,r)}declareClassPrivateMethodInScope(e,t){"TSDeclareMethod"!==e.type&&("MethodDefinition"===e.type&&null==e.value.body||super.declareClassPrivateMethodInScope(e,t))}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(e.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(e,t,n,r,i,s,a){const o=this.tsTryParseTypeParameters(this.tsParseConstModifier);return o&&(e.typeParameters=o),super.parseObjPropValue(e,t,n,r,i,s,a)}parseFunctionParams(e,t){const n=this.tsTryParseTypeParameters(this.tsParseConstModifier);n&&(e.typeParameters=n),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),"Identifier"===e.id.type&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(e.definite=!0);const n=this.tsTryParseTypeAnnotation();n&&(e.id.typeAnnotation=n,this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,t)}parseMaybeAssign(e,t){var n,r,i,s,a;let o,c,l,u;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(o=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(e,t),o),!c.error)return c.node;const{context:n}=this.state,r=n[n.length-1];r!==P.j_oTag&&r!==P.j_expr||n.pop()}if(!(null!=(n=c)&&n.error||this.match(47)))return super.parseMaybeAssign(e,t);o&&o!==this.state||(o=this.state.clone());const d=this.tryParse(n=>{var r,i;u=this.tsParseTypeParameters(this.tsParseConstModifier);const s=super.parseMaybeAssign(e,t);return("ArrowFunctionExpression"!==s.type||null!=(r=s.extra)&&r.parenthesized)&&n(),0!==(null==(i=u)?void 0:i.params.length)&&this.resetStartLocationFromNode(s,u),s.typeParameters=u,s},o);if(!d.error&&!d.aborted)return u&&this.reportReservedArrowTypeParam(u),d.node;if(!c&&(bt(!this.hasPlugin("jsx")),l=this.tryParse(()=>super.parseMaybeAssign(e,t),o),!l.error))return l.node;if(null!=(r=c)&&r.node)return this.state=c.failState,c.node;if(d.node)return this.state=d.failState,u&&this.reportReservedArrowTypeParam(u),d.node;if(null!=(i=l)&&i.node)return this.state=l.failState,l.node;throw(null==(s=c)?void 0:s.error)||d.error||(null==(a=l)?void 0:a.error)}reportReservedArrowTypeParam(e){var t;1!==e.params.length||e.params[0].constraint||null!=(t=e.extra)&&t.trailingComma||!this.getPluginOption("typescript","disallowAmbiguousJSXLike")||this.raise(St.ReservedArrowTypeParam,e)}parseMaybeUnary(e,t){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse(e=>{const t=this.tsParseTypeOrTypePredicateAnnotation(14);return!this.canInsertSemicolon()&&this.match(19)||e(),t});if(t.aborted)return;t.thrown||(t.error&&(this.state=t.failState),e.returnType=t.node)}return super.parseArrow(e)}parseFunctionParamType(e){this.eat(17)&&(e.optional=!0);const t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t),this.resetEndLocation(e),e}isAssignable(e,t){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,t);case"TSParameterProperty":return!0;default:return super.isAssignable(e,t)}}toAssignable(e,t=!1){switch(e.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(e,t);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":t?this.expressionScope.recordArrowParameterBindingError(St.UnexpectedTypeCastInParameter,e):this.raise(St.UnexpectedTypeCastInParameter,e),this.toAssignable(e.expression,t);break;case"AssignmentExpression":t||"TSTypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left));default:super.toAssignable(e,t)}}toAssignableParenthesizedExpression(e,t){switch(e.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;default:super.toAssignable(e,t)}}checkToRestConversion(e,t){switch(e.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(e.expression,!1);break;default:super.checkToRestConversion(e,t)}}isValidLVal(e,t,n,r){switch(e){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(64!==r||!n)&&["expression",!0];default:return super.isValidLVal(e,t,n,r)}}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(e,t){if(this.match(47)||this.match(51)){const n=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const r=super.parseMaybeDecoratorArguments(e,t);return r.typeParameters=n,r}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(e,t)}checkCommaAfterRest(e){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?(this.next(),!1):super.checkCommaAfterRest(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(e,t){const n=super.parseMaybeDefault(e,t);return"AssignmentPattern"===n.type&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(St.TypeAnnotationAfterAssign,n.typeAnnotation),n}getTokenFromCode(e){if(this.state.inType){if(62===e)return void this.finishOp(48,1);if(60===e)return void this.finishOp(47,1)}super.getTokenFromCode(e)}reScan_lt_gt(){const{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e}toAssignableListItem(e,t,n){const r=e[t];"TSTypeCastExpression"===r.type&&(e[t]=this.typeCastToParameter(r)),super.toAssignableListItem(e,t,n)}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}shouldParseArrow(e){return this.match(14)?e.every(e=>this.isAssignable(e,!0)):super.shouldParseArrow(e)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(e){if(this.match(47)||this.match(51)){const t=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());t&&(e.typeParameters=t)}return super.jsxParseOpeningElementAfterName(e)}getGetterSetterExpectedParamCount(e){const t=super.getGetterSetterExpectedParamCount(e),n=this.getObjectOrClassMethodParams(e)[0];return n&&this.isThisParam(n)?t+1:t}parseCatchClauseParam(){const e=super.parseCatchClauseParam(),t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t,this.resetEndLocation(e)),e}tsInAmbientContext(e){const{isAmbientContext:t,strict:n}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return e()}finally{this.state.isAmbientContext=t,this.state.strict=n}}parseClass(e,t,n){const r=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,t,n)}finally{this.state.inAbstractClass=r}}tsParseAbstractDeclaration(e,t){if(this.match(80))return e.abstract=!0,this.maybeTakeDecorators(t,this.parseClass(e,!0,!1));if(this.isContextual(129))return this.hasFollowingLineBreak()?null:(e.abstract=!0,this.raise(St.NonClassMethodPropertyHasAbstractModifier,e),this.tsParseInterfaceDeclaration(e));throw this.unexpected(null,80)}parseMethod(e,t,n,r,i,s,a){const o=super.parseMethod(e,t,n,r,i,s,a);if((o.abstract||"TSAbstractMethodDefinition"===o.type)&&(this.hasPlugin("estree")?o.value:o).body){const{key:e}=o;this.raise(St.AbstractMethodHasImplementation,o,{methodName:"Identifier"!==e.type||o.computed?`[${this.input.slice(this.offsetToSourcePos(e.start),this.offsetToSourcePos(e.end))}]`:e.name})}return o}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(e,t,n,r){return!t&&r?(this.parseTypeOnlyImportExportSpecifier(e,!1,n),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,t,n,r))}parseImportSpecifier(e,t,n,r,i){return!t&&r?(this.parseTypeOnlyImportExportSpecifier(e,!0,n),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,t,n,r,n?4098:4096))}parseTypeOnlyImportExportSpecifier(e,t,n){const r=t?"imported":"local",i=t?"local":"exported";let s,a=e[r],o=!1,c=!0;const l=a.loc.start;if(this.isContextual(93)){const e=this.parseIdentifier();if(this.isContextual(93)){const n=this.parseIdentifier();V(this.state.type)?(o=!0,a=e,s=t?this.parseIdentifier():this.parseModuleExportName(),c=!1):(s=n,c=!1)}else V(this.state.type)?(c=!1,s=t?this.parseIdentifier():this.parseModuleExportName()):(o=!0,a=e)}else V(this.state.type)&&(o=!0,t?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());o&&n&&this.raise(t?St.TypeModifierIsUsedInTypeImports:St.TypeModifierIsUsedInTypeExports,l),e[r]=a,e[i]=s,e[t?"importKind":"exportKind"]=o?"type":"value",c&&this.eatContextual(93)&&(e[i]=t?this.parseIdentifier():this.parseModuleExportName()),e[i]||(e[i]=this.cloneIdentifier(e[r])),t&&this.checkIdentifier(e[i],o?4098:4096)}fillOptionalPropertiesForTSESLint(e){switch(e.type){case"ExpressionStatement":return void(null!=e.directive||(e.directive=void 0));case"RestElement":e.value=void 0;case"Identifier":case"ArrayPattern":case"AssignmentPattern":case"ObjectPattern":return null!=e.decorators||(e.decorators=[]),null!=e.optional||(e.optional=!1),void(null!=e.typeAnnotation||(e.typeAnnotation=void 0));case"TSParameterProperty":return null!=e.accessibility||(e.accessibility=void 0),null!=e.decorators||(e.decorators=[]),null!=e.override||(e.override=!1),null!=e.readonly||(e.readonly=!1),void(null!=e.static||(e.static=!1));case"TSEmptyBodyFunctionExpression":e.body=null;case"TSDeclareFunction":case"FunctionDeclaration":case"FunctionExpression":case"ClassMethod":case"ClassPrivateMethod":return null!=e.declare||(e.declare=!1),null!=e.returnType||(e.returnType=void 0),void(null!=e.typeParameters||(e.typeParameters=void 0));case"Property":return void(null!=e.optional||(e.optional=!1));case"TSMethodSignature":case"TSPropertySignature":null!=e.optional||(e.optional=!1);case"TSIndexSignature":return null!=e.accessibility||(e.accessibility=void 0),null!=e.readonly||(e.readonly=!1),void(null!=e.static||(e.static=!1));case"TSAbstractPropertyDefinition":case"PropertyDefinition":case"TSAbstractAccessorProperty":case"AccessorProperty":null!=e.declare||(e.declare=!1),null!=e.definite||(e.definite=!1),null!=e.readonly||(e.readonly=!1),null!=e.typeAnnotation||(e.typeAnnotation=void 0);case"TSAbstractMethodDefinition":case"MethodDefinition":return null!=e.accessibility||(e.accessibility=void 0),null!=e.decorators||(e.decorators=[]),null!=e.override||(e.override=!1),void(null!=e.optional||(e.optional=!1));case"ClassExpression":null!=e.id||(e.id=null);case"ClassDeclaration":return null!=e.abstract||(e.abstract=!1),null!=e.declare||(e.declare=!1),null!=e.decorators||(e.decorators=[]),null!=e.implements||(e.implements=[]),null!=e.superTypeArguments||(e.superTypeArguments=void 0),void(null!=e.typeParameters||(e.typeParameters=void 0));case"TSTypeAliasDeclaration":case"VariableDeclaration":return void(null!=e.declare||(e.declare=!1));case"VariableDeclarator":return void(null!=e.definite||(e.definite=!1));case"TSEnumDeclaration":return null!=e.const||(e.const=!1),void(null!=e.declare||(e.declare=!1));case"TSEnumMember":return void(null!=e.computed||(e.computed=!1));case"TSImportType":return null!=e.qualifier||(e.qualifier=null),void(null!=e.options||(e.options=null));case"TSInterfaceDeclaration":return null!=e.declare||(e.declare=!1),void(null!=e.extends||(e.extends=[]));case"TSMappedType":return null!=e.optional||(e.optional=!1),void(null!=e.readonly||(e.readonly=void 0));case"TSModuleDeclaration":return null!=e.declare||(e.declare=!1),void(null!=e.global||(e.global="global"===e.kind));case"TSTypeParameter":return null!=e.const||(e.const=!1),null!=e.in||(e.in=!1),void(null!=e.out||(e.out=!1))}}chStartsBindingIdentifierAndNotRelationalOperator(e,t){if(oe(e)){if(vt.lastIndex=t,vt.test(this.input)){const e=this.codePointAtPos(vt.lastIndex);if(!ce(e)&&92!==e)return!1}return!0}return 92===e}nextTokenIsIdentifierAndNotTSRelationalOperatorOnSameLine(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifierAndNotRelationalOperator(t,e)}nextTokenIsIdentifierOrStringLiteralOnSameLine(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifier(t,e)||34===t||39===t}},v8intrinsic:e=>class extends e{parseV8Intrinsic(){if(this.match(54)){const e=this.state.startLoc,t=this.startNode();if(this.next(),z(this.state.type)){const e=this.parseIdentifierName(),n=this.createIdentifier(t,e);if(this.castNodeTo(n,"V8IntrinsicIdentifier"),this.match(10))return n}this.unexpected(e)}}parseExprAtom(e){return this.parseV8Intrinsic()||super.parseExprAtom(e)}},placeholders:e=>class extends e{parsePlaceholder(e){if(this.match(133)){const t=this.startNode();return this.next(),this.assertNoSpace(),t.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(t,e)}}finishPlaceholder(e,t){let n=e;return n.expectedNode&&n.type||(n=this.finishNode(n,"Placeholder")),n.expectedNode=t,n}getTokenFromCode(e){37===e&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(133,2):super.getTokenFromCode(e)}parseExprAtom(e){return this.parsePlaceholder("Expression")||super.parseExprAtom(e)}parseIdentifier(e){return this.parsePlaceholder("Identifier")||super.parseIdentifier(e)}checkReservedWord(e,t,n,r){void 0!==e&&super.checkReservedWord(e,t,n,r)}cloneIdentifier(e){const t=super.cloneIdentifier(e);return"Placeholder"===t.type&&(t.expectedNode=e.expectedNode),t}cloneStringLiteral(e){return"Placeholder"===e.type?this.cloneIdentifier(e):super.cloneStringLiteral(e)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(e,t,n,r){return"Placeholder"===e||super.isValidLVal(e,t,n,r)}toAssignable(e,t){e&&"Placeholder"===e.type&&"Expression"===e.expectedNode?e.expectedNode="Pattern":super.toAssignable(e,t)}chStartsBindingIdentifier(e,t){if(super.chStartsBindingIdentifier(e,t))return!0;const n=this.nextTokenStart();return 37===this.input.charCodeAt(n)&&37===this.input.charCodeAt(n+1)}verifyBreakContinue(e,t){e.label&&"Placeholder"===e.label.type||super.verifyBreakContinue(e,t)}parseExpressionStatement(e,t){var n;if("Placeholder"!==t.type||null!=(n=t.extra)&&n.parenthesized)return super.parseExpressionStatement(e,t);if(this.match(14)){const n=e;return n.label=this.finishPlaceholder(t,"Identifier"),this.next(),n.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(n,"LabeledStatement")}this.semicolon();const r=e;return r.name=t.name,this.finishPlaceholder(r,"Statement")}parseBlock(e,t,n){return this.parsePlaceholder("BlockStatement")||super.parseBlock(e,t,n)}parseFunctionId(e){return this.parsePlaceholder("Identifier")||super.parseFunctionId(e)}parseClass(e,t,n){const r=t?"ClassDeclaration":"ClassExpression";this.next();const i=this.state.strict,s=this.parsePlaceholder("Identifier");if(s){if(!(this.match(81)||this.match(133)||this.match(5))){if(n||!t)return e.id=null,e.body=this.finishPlaceholder(s,"ClassBody"),this.finishNode(e,r);throw this.raise(At.ClassNameIsRequired,this.state.startLoc)}e.id=s}else this.parseClassId(e,t,n);return super.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!e.superClass,i),this.finishNode(e,r)}parseExport(e,t){const n=this.parsePlaceholder("Identifier");if(!n)return super.parseExport(e,t);const r=e;if(!this.isContextual(98)&&!this.match(12))return r.specifiers=[],r.source=null,r.declaration=this.finishPlaceholder(n,"Declaration"),this.finishNode(r,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const i=this.startNode();return i.exported=n,r.specifiers=[this.finishNode(i,"ExportDefaultSpecifier")],super.parseExport(r,t)}isExportDefaultSpecifier(){if(this.match(65)){const e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(H(133),this.nextTokenStartSince(e+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(e,t){var n;return!(null==(n=e.specifiers)||!n.length)||super.maybeParseExportDefaultSpecifier(e,t)}checkExport(e){const{specifiers:t}=e;null!=t&&t.length&&(e.specifiers=t.filter(e=>"Placeholder"===e.exported.type)),super.checkExport(e),e.specifiers=t}parseImport(e){const t=this.parsePlaceholder("Identifier");if(!t)return super.parseImport(e);if(e.specifiers=[],!this.isContextual(98)&&!this.match(12))return e.source=this.finishPlaceholder(t,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");const n=this.startNodeAtNode(t);return n.local=t,e.specifiers.push(this.finishNode(n,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)),this.expectContextual(98),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(At.UnexpectedSpace,this.state.lastTokEndLoc)}}},kt=Object.keys(Ct);class Nt extends gt{checkProto(e,t,n,r){if("SpreadElement"===e.type||this.isObjectMethod(e)||e.computed||e.shorthand)return n;const i=e.key;return"__proto__"===("Identifier"===i.type?i.name:i.value)?t?(this.raise(v.RecordNoProto,i),!0):(n&&(r?null===r.doubleProtoLoc&&(r.doubleProtoLoc=i.loc.start):this.raise(v.DuplicateProto,i)),!0):n}shouldExitDescending(e,t){return"ArrowFunctionExpression"===e.type&&this.offsetToSourcePos(e.start)===t}getExpression(){if(this.enterInitialScopes(),this.nextToken(),this.match(140))throw this.raise(v.ParseExpressionEmptyInput,this.state.startLoc);const e=this.parseExpression();if(!this.match(140))throw this.raise(v.ParseExpressionExpectsEOF,this.state.startLoc,{unexpected:this.input.codePointAt(this.state.start)});return this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,256&this.optionFlags&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(e){const t=this.state.startLoc,n=this.parseMaybeAssign(e);if(this.match(12)){const r=this.startNodeAt(t);for(r.expressions=[n];this.eat(12);)r.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(r.expressions),this.finishNode(r,"SequenceExpression")}return n}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd(()=>this.parseMaybeAssign(e,t))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd(()=>this.parseMaybeAssign(e,t))}setOptionalParametersError(e){e.optionalParametersLoc=this.state.startLoc}parseMaybeAssign(e,t){const n=this.state.startLoc,r=this.isContextual(108);if(r&&this.prodParam.hasYield){this.next();let e=this.parseYield(n);return t&&(e=t.call(this,e,n)),e}let i;e?i=!1:(e=new pt,i=!0);const{type:s}=this.state;(10===s||z(s))&&(this.state.potentialArrowAt=this.state.start);let a=this.parseMaybeConditional(e);if(t&&(a=t.call(this,a,n)),(o=this.state.type)>=29&&o<=33){const t=this.startNodeAt(n),r=this.state.value;if(t.operator=r,this.match(29)){this.toAssignable(a,!0),t.left=a;const r=n.index;null!=e.doubleProtoLoc&&e.doubleProtoLoc.index>=r&&(e.doubleProtoLoc=null),null!=e.shorthandAssignLoc&&e.shorthandAssignLoc.index>=r&&(e.shorthandAssignLoc=null),null!=e.privateKeyLoc&&e.privateKeyLoc.index>=r&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null),null!=e.voidPatternLoc&&e.voidPatternLoc.index>=r&&(e.voidPatternLoc=null)}else t.left=a;return this.next(),t.right=this.parseMaybeAssign(),this.checkLVal(a,this.finishNode(t,"AssignmentExpression"),void 0,void 0,void 0,void 0,"||="===r||"&&="===r||"??="===r),t}var o;if(i&&this.checkExpressionErrors(e,!0),r){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?K(e):K(e)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(v.YieldNotInGeneratorFunction,n),this.parseYield(n)}return a}parseMaybeConditional(e){const t=this.state.startLoc,n=this.state.potentialArrowAt,r=this.parseExprOps(e);return this.shouldExitDescending(r,n)?r:this.parseConditional(r,t,e)}parseConditional(e,t,n){if(this.eat(17)){const n=this.startNodeAt(t);return n.test=e,n.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),n.alternate=this.parseMaybeAssign(),this.finishNode(n,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.startLoc,n=this.state.potentialArrowAt,r=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(r,n)?r:this.parseExprOp(r,t,-1)}parseExprOp(e,t,n){if(this.isPrivateName(e)){const t=this.getPrivateNameSV(e);(n>=Y(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(v.PrivateInExpectedIn,e,{identifierName:t}),this.classScope.usePrivateName(t,e.loc.start)}const r=this.state.type;if((i=r)>=39&&i<=59&&(this.prodParam.hasIn||!this.match(58))){let i=Y(r);if(i>n){if(39===r){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const s=this.startNodeAt(t);s.left=e,s.operator=this.state.value;const a=41===r||42===r,o=40===r;if(o&&(i=Y(42)),this.next(),39===r&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&96===this.state.type&&this.prodParam.hasAwait)throw this.raise(v.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);s.right=this.parseExprOpRightExpr(r,i);const c=this.finishNode(s,a||o?"LogicalExpression":"BinaryExpression"),l=this.state.type;if(o&&(41===l||42===l)||a&&40===l)throw this.raise(v.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(c,t,n)}}var i;return e}parseExprOpRightExpr(e,t){const n=this.state.startLoc;if(39===e){switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}if("smart"===this.getPluginOption("pipelineOperator","proposal"))return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(v.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),n)})}return this.parseExprOpBaseRightExpr(e,t)}parseExprOpBaseRightExpr(e,t){const n=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),n,57===e?t-1:t)}parseHackPipeBody(){var e;const{startLoc:t}=this.state,n=this.parseMaybeAssign();return!p.has(n.type)||null!=(e=n.extra)&&e.parenthesized||this.raise(v.PipeUnparenthesizedBody,t,{type:n.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(v.PipeTopicUnused,t),n}checkExponentialAfterUnary(e){this.match(57)&&this.raise(v.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,t){const n=this.state.startLoc,r=this.isContextual(96);if(r&&this.recordAwaitIfAllowed()){this.next();const e=this.parseAwait(n);return t||this.checkExponentialAfterUnary(e),e}const i=this.match(34),s=this.startNode();if(a=this.state.type,U[a]){s.operator=this.state.value,s.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const n=this.match(89);if(this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&n){const e=s.argument;"Identifier"===e.type?this.raise(v.StrictDelete,s):this.hasPropertyAsPrivateName(e)&&this.raise(v.DeletePrivateField,s)}if(!i)return t||this.checkExponentialAfterUnary(s),this.finishNode(s,"UnaryExpression")}var a;const o=this.parseUpdate(s,i,e);if(r){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?K(e):K(e)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(v.AwaitNotInAsyncContext,n),this.parseAwait(n)}return o}parseUpdate(e,t,n){if(t){const t=e;return this.checkLVal(t.argument,this.finishNode(t,"UpdateExpression")),e}const r=this.state.startLoc;let i=this.parseExprSubscripts(n);if(this.checkExpressionErrors(n,!1))return i;for(;J(this.state.type)&&!this.canInsertSemicolon();){const e=this.startNodeAt(r);e.operator=this.state.value,e.prefix=!1,e.argument=i,this.next(),this.checkLVal(i,i=this.finishNode(e,"UpdateExpression"))}return i}parseExprSubscripts(e){const t=this.state.startLoc,n=this.state.potentialArrowAt,r=this.parseExprAtom(e);return this.shouldExitDescending(r,n)?r:this.parseSubscripts(r,t)}parseSubscripts(e,t,n){const r={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do{e=this.parseSubscript(e,t,n,r),r.maybeAsyncArrow=!1}while(!r.stop);return e}parseSubscript(e,t,n,r){const{type:i}=this.state;if(!n&&15===i)return this.parseBind(e,t,n,r);if(X(i))return this.parseTaggedTemplateExpression(e,t,r);let s=!1;if(18===i){if(n&&(this.raise(v.OptionalChainingNoNew,this.state.startLoc),40===this.lookaheadCharCode()))return this.stopParseSubscript(e,r);r.optionalChainMember=s=!0,this.next()}if(!n&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,r,s);{const n=this.eat(0);return n||s||this.eat(16)?this.parseMember(e,t,r,n,s):this.stopParseSubscript(e,r)}}stopParseSubscript(e,t){return t.stop=!0,e}parseMember(e,t,n,r,i){const s=this.startNodeAt(t);return s.object=e,s.computed=r,r?(s.property=this.parseExpression(),this.expect(3)):this.match(139)?("Super"===e.type&&this.raise(v.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),s.property=this.parsePrivateName()):s.property=this.parseIdentifier(!0),n.optionalChainMember?(s.optional=i,this.finishNode(s,"OptionalMemberExpression")):this.finishNode(s,"MemberExpression")}parseBind(e,t,n,r){const i=this.startNodeAt(t);return i.object=e,this.next(),i.callee=this.parseNoCallExpr(),r.stop=!0,this.parseSubscripts(this.finishNode(i,"BindExpression"),t,n)}parseCoverCallAndAsyncArrowHead(e,t,n,r){const i=this.state.maybeInArrowParameters;let s=null;this.state.maybeInArrowParameters=!0,this.next();const a=this.startNodeAt(t);a.callee=e;const{maybeAsyncArrow:o,optionalChainMember:c}=n;o&&(this.expressionScope.enter(new ct(2)),s=new pt),c&&(a.optional=r),a.arguments=r?this.parseCallExpressionArguments():this.parseCallExpressionArguments("Super"!==e.type,a,s);let l=this.finishCallExpression(a,c);return o&&this.shouldParseAsyncArrow()&&!r?(n.stop=!0,this.checkDestructuringPrivate(s),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),l=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),l)):(o&&(this.checkExpressionErrors(s,!0),this.expressionScope.exit()),this.toReferencedArguments(l)),this.state.maybeInArrowParameters=i,l}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,n){const r=this.startNodeAt(t);return r.tag=e,r.quasi=this.parseTemplate(!0),n.optionalChainMember&&this.raise(v.OptionalChainingNoTemplate,t),this.finishNode(r,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.offsetToSourcePos(e.start)===this.state.potentialArrowAt}finishCallExpression(e,t){if("Import"===e.callee.type)if(0===e.arguments.length||e.arguments.length>2)this.raise(v.ImportCallArity,e);else for(const t of e.arguments)"SpreadElement"===t.type&&this.raise(v.ImportCallSpreadArgument,t);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,n){const r=[];let i=!0;const s=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(11);){if(i)i=!1;else if(this.expect(12),this.match(11)){t&&this.addTrailingCommaExtraToNode(t),this.next();break}r.push(this.parseExprListItem(11,!1,n,e))}return this.state.inFSharpPipelineDirectBody=s,r}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var n;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,null==(n=t.extra)?void 0:n.trailingCommaLoc),t.innerComments&&Ze(e,t.innerComments),t.callee.trailingComments&&Ze(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let t,n=null;const{type:r}=this.state;switch(r){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaPropertyOrPhaseCall(t):this.match(10)?512&this.optionFlags?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(v.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const e=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(e)}case 0:return this.parseArrayLike(3,!1,e);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:n=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(n,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const e=t.callee=this.parseNoCallExpr();if("MemberExpression"===e.type)return this.finishNode(t,"BindExpression");throw this.raise(v.UnsupportedBind,e)}case 139:return this.raise(v.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const e=this.getPluginOption("pipelineOperator","proposal");if(e)return this.parseTopicReference(e);throw this.unexpected()}case 47:{const e=this.input.codePointAt(this.nextTokenStart());if(oe(e)||62===e)throw this.expectOnePlugin(["jsx","flow","typescript"]);throw this.unexpected()}default:if(137===r)return this.parseDecimalLiteral(this.state.value);if(2===r||1===r)return this.parseArrayLike(2===this.state.type?4:3,!0);if(6===r||7===r)return this.parseObjectLike(6===this.state.type?9:8,!1,!0);if(z(r)){if(this.isContextual(127)&&123===this.lookaheadInLineCharCode())return this.parseModuleExpression();const e=this.state.potentialArrowAt===this.state.start,t=this.state.containsEsc,n=this.parseIdentifier();if(!t&&"async"===n.name&&!this.canInsertSemicolon()){const{type:e}=this.state;if(68===e)return this.resetPreviousNodeTrailingComments(n),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(n));if(z(e))return 61===this.lookaheadCharCode()?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(n)):n;if(90===e)return this.resetPreviousNodeTrailingComments(n),this.parseDo(this.startNodeAtNode(n),!0)}return e&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(n),[n],!1)):n}throw this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=s(this.state.endLoc,-1),this.parseTopicReference(n);throw this.unexpected()}parseTopicReference(e){const t=this.startNode(),n=this.state.startLoc,r=this.state.type;return this.next(),this.finishTopicReference(t,n,e,r)}finishTopicReference(e,t,n,r){if(this.testTopicReferenceConfiguration(n,t,r))return"hack"===n?(this.topicReferenceIsAllowedInCurrentContext()||this.raise(v.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,"TopicReference")):(this.topicReferenceIsAllowedInCurrentContext()||this.raise(v.PrimaryTopicNotAllowed,t),this.registerTopicReference(),this.finishNode(e,"PipelinePrimaryTopicReference"));throw this.raise(v.PipeTopicUnconfiguredToken,t,{token:H(r)})}testTopicReferenceConfiguration(e,t,n){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:H(n)}]);case"smart":return 27===n;default:throw this.raise(v.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(Ue(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(v.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const n=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=n,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper?16&this.optionFlags||this.raise(v.SuperNotAllowed,e):this.scope.allowSuper||16&this.optionFlags||this.raise(v.UnexpectedSuper,e),this.match(10)||this.match(0)||this.match(16)||this.raise(v.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(s(this.state.startLoc,1)),n=this.state.value;return this.next(),e.id=this.createIdentifier(t,n),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,n){e.meta=t;const r=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==n||r)&&this.raise(v.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:n}),this.finishNode(e,"MetaProperty")}parseImportMetaPropertyOrPhaseCall(e){if(this.next(),this.isContextual(105)||this.isContextual(97)){const t=this.isContextual(105);return this.expectPlugin(t?"sourcePhaseImports":"deferredImportEvaluation"),this.next(),e.phase=t?"source":"defer",this.parseImportCall(e)}{const t=this.createIdentifierAt(this.startNodeAtNode(e),"import",this.state.lastTokStartLoc);return this.isContextual(101)&&(this.inModule||this.raise(v.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0),this.parseMetaProperty(e,t,"meta")}}parseLiteralAtNode(e,t,n){return this.addExtra(n,"rawValue",e),this.addExtra(n,"raw",this.input.slice(this.offsetToSourcePos(n.start),this.state.end)),n.value=e,this.next(),this.finishNode(n,t)}parseLiteral(e,t){const n=this.startNode();return this.parseLiteralAtNode(e,t,n)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.startNode();return this.addExtra(t,"raw",this.input.slice(this.offsetToSourcePos(t.start),this.state.end)),t.pattern=e.pattern,t.flags=e.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.startLoc;let n;this.next(),this.expressionScope.enter(new ct(1));const r=this.state.maybeInArrowParameters,i=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const s=this.state.startLoc,a=[],o=new pt;let c,l,u=!0;for(;!this.match(11);){if(u)u=!1;else if(this.expect(12,null===o.optionalParametersLoc?null:o.optionalParametersLoc),this.match(11)){l=this.state.startLoc;break}if(this.match(21)){const e=this.state.startLoc;if(c=this.state.startLoc,a.push(this.parseParenItem(this.parseRestBinding(),e)),!this.checkCommaAfterRest(41))break}else a.push(this.parseMaybeAssignAllowInOrVoidPattern(11,o,this.parseParenItem))}const d=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=r,this.state.inFSharpPipelineDirectBody=i;let p=this.startNodeAt(t);return e&&this.shouldParseArrow(a)&&(p=this.parseArrow(p))?(this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(p,a,!1),p):(this.expressionScope.exit(),a.length||this.unexpected(this.state.lastTokStartLoc),l&&this.unexpected(l),c&&this.unexpected(c),this.checkExpressionErrors(o,!0),this.toReferencedListDeep(a,!0),a.length>1?(n=this.startNodeAt(s),n.expressions=a,this.finishNode(n,"SequenceExpression"),this.resetEndLocation(n,d)):n=a[0],this.wrapParenthesis(t,n))}wrapParenthesis(e,t){if(!(1024&this.optionFlags))return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;const n=this.startNodeAt(e);return n.expression=t,this.finishNode(n,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const n=this.parseMetaProperty(e,t,"target");return this.scope.allowNewTarget||this.raise(v.UnexpectedNewTarget,n),n}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){const t=this.match(83),n=this.parseNoCallExpr();e.callee=n,!t||"Import"!==n.type&&"ImportExpression"!==n.type||this.raise(v.ImportCallNotNewExpression,n)}parseTemplateElement(e){const{start:t,startLoc:n,end:r,value:i}=this.state,a=t+1,o=this.startNodeAt(s(n,1));null===i&&(e||this.raise(v.InvalidEscapeSequenceTemplate,s(this.state.firstInvalidTemplateEscapePos,1)));const c=this.match(24),l=c?-1:-2,u=r+l;o.value={raw:this.input.slice(a,u).replace(/\r\n?/g,"\n"),cooked:null===i?null:i.slice(1,l)},o.tail=c,this.next();const d=this.finishNode(o,"TemplateElement");return this.resetEndLocation(d,s(this.state.lastTokEndLoc,l)),d}parseTemplate(e){const t=this.startNode();let n=this.parseTemplateElement(e);const r=[n],i=[];for(;!n.tail;)i.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),r.push(n=this.parseTemplateElement(e));return t.expressions=i,t.quasis=r,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,n,r){n&&this.expectPlugin("recordAndTuple");const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let s=!1,a=!0;const o=this.startNode();for(o.properties=[],this.next();!this.match(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(o);break}let i;t?i=this.parseBindingProperty():(i=this.parsePropertyDefinition(r),s=this.checkProto(i,n,s,r)),n&&!this.isObjectProperty(i)&&"SpreadElement"!==i.type&&this.raise(v.InvalidRecordProperty,i),i.shorthand&&this.addExtra(i,"shorthand",!0),o.properties.push(i)}this.next(),this.state.inFSharpPipelineDirectBody=i;let c="ObjectExpression";return t?c="ObjectPattern":n&&(c="RecordExpression"),this.finishNode(o,c)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(v.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());const n=this.startNode();let r,i=!1,s=!1;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(n.decorators=t,t=[]),n.method=!1,e&&(r=this.state.startLoc);let a=this.eat(55);this.parsePropertyNamePrefixOperator(n);const o=this.state.containsEsc;if(this.parsePropertyName(n,e),!a&&!o&&this.maybeAsyncOrAccessorProp(n)){const{key:e}=n,t=e.name;"async"!==t||this.hasPrecedingLineBreak()||(i=!0,this.resetPreviousNodeTrailingComments(e),a=this.eat(55),this.parsePropertyName(n)),"get"!==t&&"set"!==t||(s=!0,this.resetPreviousNodeTrailingComments(e),n.kind=t,this.match(55)&&(a=!0,this.raise(v.AccessorIsGenerator,this.state.curPosition(),{kind:t}),this.next()),this.parsePropertyName(n))}return this.parseObjPropValue(n,r,a,i,!1,s,e)}getGetterSetterExpectedParamCount(e){return"get"===e.kind?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const n=this.getGetterSetterExpectedParamCount(e),r=this.getObjectOrClassMethodParams(e);r.length!==n&&this.raise("get"===e.kind?v.BadGetterArity:v.BadSetterArity,e),"set"===e.kind&&"RestElement"===(null==(t=r[r.length-1])?void 0:t.type)&&this.raise(v.BadSetterRestParameter,e)}parseObjectMethod(e,t,n,r,i){if(i){const n=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(n),n}if(n||t||this.match(10))return r&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,n,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,n,r){if(e.shorthand=!1,this.eat(14))return e.value=n?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowInOrVoidPattern(8,r),this.finishObjectProperty(e);if(!e.computed&&"Identifier"===e.key.type){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),n)e.value=this.parseMaybeDefault(t,this.cloneIdentifier(e.key));else if(this.match(29)){const n=this.state.startLoc;null!=r?null===r.shorthandAssignLoc&&(r.shorthandAssignLoc=n):this.raise(v.InvalidCoverInitializedName,n),e.value=this.parseMaybeDefault(t,this.cloneIdentifier(e.key))}else e.value=this.cloneIdentifier(e.key);return e.shorthand=!0,this.finishObjectProperty(e)}}finishObjectProperty(e){return this.finishNode(e,"ObjectProperty")}parseObjPropValue(e,t,n,r,i,s,a){const o=this.parseObjectMethod(e,n,r,i,s)||this.parseObjectProperty(e,t,i,a);return o||this.unexpected(),o}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:n,value:r}=this.state;let i;if(V(n))i=this.parseIdentifier(!0);else switch(n){case 135:i=this.parseNumericLiteral(r);break;case 134:i=this.parseStringLiteral(r);break;case 136:i=this.parseBigIntLiteral(r);break;case 139:{const e=this.state.startLoc;null!=t?null===t.privateKeyLoc&&(t.privateKeyLoc=e):this.raise(v.UnexpectedPrivateField,e),i=this.parsePrivateName();break}default:if(137===n){i=this.parseDecimalLiteral(r);break}this.unexpected()}e.key=i,139!==n&&(e.computed=!1)}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t}parseMethod(e,t,n,r,i,s,a=!1){this.initFunction(e,n),e.generator=t,this.scope.enter(530|(a?576:0)|(i?32:0)),this.prodParam.enter(Ue(n,e.generator)),this.parseFunctionParams(e,r);const o=this.parseFunctionBodyAndFinish(e,s,!0);return this.prodParam.exit(),this.scope.exit(),o}parseArrayLike(e,t,n){t&&this.expectPlugin("recordAndTuple");const r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const i=this.startNode();return this.next(),i.elements=this.parseExprList(e,!t,n,i),this.state.inFSharpPipelineDirectBody=r,this.finishNode(i,t?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,n,r){this.scope.enter(518);let i=Ue(n,!1);!this.match(5)&&this.prodParam.hasIn&&(i|=8),this.prodParam.enter(i),this.initFunction(e,n);const s=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,r)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=s,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,n){this.toAssignableList(t,n,!1),e.params=t}parseFunctionBodyAndFinish(e,t,n=!1){return this.parseFunctionBody(e,!1,n),this.finishNode(e,t)}parseFunctionBody(e,t,n=!1){const r=t&&!this.match(5);if(this.expressionScope.enter(ut()),r)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const r=this.state.strict,i=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,i=>{const s=!this.isSimpleParamList(e.params);i&&s&&this.raise(v.IllegalLanguageModeDirective,"method"!==e.kind&&"constructor"!==e.kind||!e.key?e:e.key.loc.end);const a=!r&&this.state.strict;this.checkParams(e,!(this.state.strict||t||n||s),t,a),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,a)}),this.prodParam.exit(),this.state.labels=i}this.expressionScope.exit()}isSimpleParameter(e){return"Identifier"===e.type}isSimpleParamList(e){for(let t=0,n=e.length;t<n;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,n,r=!0){const i=!t&&new Set,s={type:"FormalParameters"};for(const t of e.params)this.checkLVal(t,s,5,i,r)}parseExprList(e,t,n,r){const i=[];let s=!0;for(;!this.eat(e);){if(s)s=!1;else if(this.expect(12),this.match(e)){r&&this.addTrailingCommaExtraToNode(r),this.next();break}i.push(this.parseExprListItem(e,t,n))}return i}parseExprListItem(e,t,n,r){let i;if(this.match(12))t||this.raise(v.UnexpectedToken,this.state.curPosition(),{unexpected:","}),i=null;else if(this.match(21)){const e=this.state.startLoc;i=this.parseParenItem(this.parseSpread(n),e)}else if(this.match(17)){this.expectPlugin("partialApplication"),r||this.raise(v.UnexpectedArgumentPlaceholder,this.state.startLoc);const e=this.startNode();this.next(),i=this.finishNode(e,"ArgumentPlaceholder")}else i=this.parseMaybeAssignAllowInOrVoidPattern(e,n,this.parseParenItem);return i}parseIdentifier(e){const t=this.startNode(),n=this.parseIdentifierName(e);return this.createIdentifier(t,n)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}createIdentifierAt(e,t,n){return e.name=t,e.loc.identifierName=t,this.finishNodeAt(e,"Identifier",n)}parseIdentifierName(e){let t;const{startLoc:n,type:r}=this.state;V(r)?t=this.state.value:this.unexpected();const i=r<=92;return e?i&&this.replaceToken(132):this.checkReservedWord(t,n,i,!1),this.next(),t}checkReservedWord(e,t,n,r){if(!(e.length>10)&&function(e){return ye.has(e)}(e))if(n&&function(e){return le.has(e)}(e))this.raise(v.UnexpectedKeyword,t,{keyword:e});else if((this.state.strict?r?me:he:pe)(e,this.inModule))this.raise(v.UnexpectedReservedWord,t,{reservedWord:e});else if("yield"===e){if(this.prodParam.hasYield)return void this.raise(v.YieldBindingIdentifier,t)}else if("await"===e){if(this.prodParam.hasAwait)return void this.raise(v.AwaitBindingIdentifier,t);if(this.scope.inStaticBlock)return void this.raise(v.AwaitBindingIdentifierInStaticBlock,t);this.expressionScope.recordAsyncArrowParametersError(t)}else if("arguments"===e&&this.scope.inClassAndNotInNonArrowFunction)return void this.raise(v.ArgumentsInClass,t)}recordAwaitIfAllowed(){const e=this.prodParam.hasAwait;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e}parseAwait(e){const t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(v.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(v.ObsoleteAwaitStar,t),this.scope.inFunction||1&this.optionFlags||(this.isAmbiguousPrefixOrIdentifier()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousPrefixOrIdentifier(){if(this.hasPrecedingLineBreak())return!0;const{type:e}=this.state;return 53===e||10===e||0===e||X(e)||102===e&&!this.state.containsEsc||138===e||56===e||this.hasPlugin("v8intrinsic")&&54===e}parseYield(e){const t=this.startNodeAt(e);this.expressionScope.recordParameterInitializerError(v.YieldInParameter,t);let n=!1,r=null;if(!this.hasPrecedingLineBreak())switch(n=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!n)break;default:r=this.parseMaybeAssign()}return t.delegate=n,t.argument=r,this.finishNode(t,"YieldExpression")}parseImportCall(e){if(this.next(),e.source=this.parseMaybeAssignAllowIn(),e.options=null,this.eat(12))if(this.match(11))this.addTrailingCommaExtraToNode(e.source);else if(e.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&(this.addTrailingCommaExtraToNode(e.options),!this.match(11))){do{this.parseMaybeAssignAllowIn()}while(this.eat(12)&&!this.match(11));this.raise(v.ImportCallArity,e)}return this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&"SequenceExpression"===e.type&&this.raise(v.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){const n=this.startNodeAt(t);return n.callee=e,this.finishNode(n,"PipelineBareFunction")}{const n=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),n.expression=e,this.finishNode(n,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(v.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(v.PipelineTopicUnused,e)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(!this.hasPlugin(["pipelineOperator",{proposal:"smart"}]))return e();{const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const r=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=n,r}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const t=this.startNodeAt(this.state.endLoc);this.next();const n=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module")}finally{n()}return this.finishNode(e,"ModuleExpression")}parseVoidPattern(e){this.expectPlugin("discardBinding");const t=this.startNode();return null!=e&&(e.voidPatternLoc=this.state.startLoc),this.next(),this.finishNode(t,"VoidPattern")}parseMaybeAssignAllowInOrVoidPattern(e,t,n){if(null!=t&&this.match(88)){const n=this.lookaheadCharCode();if(44===n||n===(3===e?93:8===e?125:41)||61===n)return this.parseMaybeDefault(this.state.startLoc,this.parseVoidPattern(t))}return this.parseMaybeAssignAllowIn(t,n)}parsePropertyNamePrefixOperator(e){}}const Lt={kind:1},$t={kind:2},Mt=/[\uD800-\uDFFF]/u,Rt=/in(?:stanceof)?/y;class jt extends Nt{parseTopLevel(e,t){return e.program=this.parseProgram(t,140,"module"===this.options.sourceType?"module":"script"),e.comments=this.comments,256&this.optionFlags&&(e.tokens=function(e,t,n){for(let r=0;r<e.length;r++){const i=e[r],{type:a}=i;if("number"==typeof a){if(139===a){const{loc:t,start:n,value:a,end:o}=i,c=n+1,l=s(t.start,1);e.splice(r,1,new rt({type:Q(27),value:"#",start:n,end:c,startLoc:t.start,endLoc:l}),new rt({type:Q(132),value:a,start:c,end:o,startLoc:l,endLoc:t.end})),r++;continue}if(X(a)){const{loc:o,start:c,value:l,end:u}=i,d=c+1,p=s(o.start,1);let h,f,m,y,g;h=96===t.charCodeAt(c-n)?new rt({type:Q(22),value:"`",start:c,end:d,startLoc:o.start,endLoc:p}):new rt({type:Q(8),value:"}",start:c,end:d,startLoc:o.start,endLoc:p}),24===a?(m=u-1,y=s(o.end,-1),f=null===l?null:l.slice(1,-1),g=new rt({type:Q(22),value:"`",start:m,end:u,startLoc:y,endLoc:o.end})):(m=u-2,y=s(o.end,-2),f=null===l?null:l.slice(1,-2),g=new rt({type:Q(23),value:"${",start:m,end:u,startLoc:y,endLoc:o.end})),e.splice(r,1,h,new rt({type:Q(20),value:f,start:d,end:m,startLoc:p,endLoc:y}),g),r+=2;continue}i.type=Q(a)}}return e}(this.tokens,this.input,this.startIndex)),this.finishNode(e,"File")}parseProgram(e,t,n){if(e.sourceType=n,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule){if(!(64&this.optionFlags)&&this.scope.undefinedExports.size>0)for(const[e,t]of Array.from(this.scope.undefinedExports))this.raise(v.ModuleExportUndefined,t,{localName:e});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait)}let r;return r=140===t?this.finishNode(e,"Program"):this.finishNodeAt(e,"Program",s(this.state.startLoc,-1)),r}stmtToDirective(e){const t=this.castNodeTo(e,"Directive"),n=this.castNodeTo(e.expression,"DirectiveLiteral"),r=n.value,i=this.input.slice(this.offsetToSourcePos(n.start),this.offsetToSourcePos(n.end)),s=n.value=i.slice(1,-1);return this.addExtra(n,"raw",i),this.addExtra(n,"rawValue",s),this.addExtra(n,"expressionValue",r),t.value=n,delete e.expression,t}parseInterpreterDirective(){if(!this.match(28))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return!!this.isContextual(100)&&this.hasFollowingBindingAtom()}isUsing(){return!!this.isContextual(107)&&this.nextTokenIsIdentifierOnSameLine()}isForUsing(){if(!this.isContextual(107))return!1;const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);if(this.isUnparsedContextual(e,"of")){const t=this.lookaheadCharCodeSince(e+2);if(61!==t&&58!==t&&59!==t)return!1}return!(!this.chStartsBindingIdentifier(t,e)&&!this.isUnparsedContextual(e,"void"))}nextTokenIsIdentifierOnSameLine(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifier(t,e)}isAwaitUsing(){if(!this.isContextual(96))return!1;let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);const t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return!0}return!1}chStartsBindingIdentifier(e,t){if(oe(e)){if(Rt.lastIndex=t,Rt.test(this.input)){const e=this.codePointAtPos(Rt.lastIndex);if(!ce(e)&&92!==e)return!1}return!0}return 92===e}chStartsBindingPattern(e){return 91===e||123===e}hasFollowingBindingAtom(){const e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e)}hasInLineFollowingBindingIdentifierOrBrace(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return 123===t||this.chStartsBindingIdentifier(t,e)}allowsUsing(){return(this.scope.inModule||!this.scope.inTopLevel)&&!this.scope.inBareCaseStatement}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t)}parseStatementContent(e,t){const n=this.state.type,r=this.startNode(),i=!!(2&e),s=!!(4&e),a=1&e;switch(n){case 60:return this.parseBreakContinueStatement(r,!0);case 63:return this.parseBreakContinueStatement(r,!1);case 64:return this.parseDebuggerStatement(r);case 90:return this.parseDoWhileStatement(r);case 91:return this.parseForStatement(r);case 68:if(46===this.lookaheadCharCode())break;return s||this.raise(this.state.strict?v.StrictFunction:this.options.annexB?v.SloppyFunctionAnnexB:v.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(r,!1,!i&&s);case 80:return i||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,r),!0);case 69:return this.parseIfStatement(r);case 70:return this.parseReturnStatement(r);case 71:return this.parseSwitchStatement(r);case 72:return this.parseThrowStatement(r);case 73:return this.parseTryStatement(r);case 96:if(this.isAwaitUsing())return this.allowsUsing()?i?this.recordAwaitIfAllowed()||this.raise(v.AwaitUsingNotInAsyncContext,r):this.raise(v.UnexpectedLexicalDeclaration,r):this.raise(v.UnexpectedUsingDeclaration,r),this.next(),this.parseVarStatement(r,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.allowsUsing()?i||this.raise(v.UnexpectedLexicalDeclaration,this.state.startLoc):this.raise(v.UnexpectedUsingDeclaration,this.state.startLoc),this.parseVarStatement(r,"using");case 100:{if(this.state.containsEsc)break;const e=this.nextTokenStart(),t=this.codePointAtPos(e);if(91!==t){if(!i&&this.hasFollowingLineBreak())break;if(!this.chStartsBindingIdentifier(t,e)&&123!==t)break}}case 75:i||this.raise(v.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const e=this.state.value;return this.parseVarStatement(r,e)}case 92:return this.parseWhileStatement(r);case 76:return this.parseWithStatement(r);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(r);case 83:{const e=this.lookaheadCharCode();if(40===e||46===e)break}case 82:{let e;return 8&this.optionFlags||a||this.raise(v.UnexpectedImportExport,this.state.startLoc),this.next(),e=83===n?this.parseImport(r):this.parseExport(r,t),this.assertModuleNodeAllowed(e),e}default:if(this.isAsyncFunction())return i||this.raise(v.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(r,!0,!i&&s)}const o=this.state.value,c=this.parseExpression();return z(n)&&"Identifier"===c.type&&this.eat(14)?this.parseLabeledStatement(r,o,c,e):this.parseExpressionStatement(r,c,t)}assertModuleNodeAllowed(e){8&this.optionFlags||this.inModule||this.raise(v.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return!!this.hasPlugin("decorators-legacy")||this.hasPlugin("decorators")&&!1!==this.getPluginOption("decorators","decoratorsBeforeExport")}maybeTakeDecorators(e,t,n){var r;return e&&(null!=(r=t.decorators)&&r.length?("boolean"!=typeof this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(v.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),n&&this.resetStartLocationFromNode(n,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){const t=[];do{t.push(this.parseDecorator())}while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(v.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(v.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){const t=this.state.startLoc;let n;if(this.match(10)){const t=this.state.startLoc;this.next(),n=this.parseExpression(),this.expect(11),n=this.wrapParenthesis(t,n);const r=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(n,t),!1===this.getPluginOption("decorators","allowCallParenthesized")&&e.expression!==n&&this.raise(v.DecoratorArgumentsOutsideParentheses,r)}else{for(n=this.parseIdentifier(!1);this.eat(16);){const e=this.startNodeAt(t);e.object=n,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),e.property=this.parsePrivateName()):e.property=this.parseIdentifier(!0),e.computed=!1,n=this.finishNode(e,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(n,t)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e,t){if(this.eat(10)){const n=this.startNodeAt(t);return n.callee=e,n.arguments=this.parseCallExpressionArguments(),this.toReferencedList(n.arguments),this.finishNode(n,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let n;for(n=0;n<this.state.labels.length;++n){const r=this.state.labels[n];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(t||1===r.kind))break;if(e.label&&t)break}}if(n===this.state.labels.length){const n=t?"BreakStatement":"ContinueStatement";this.raise(v.IllegalBreakContinue,e,{type:n})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push(Lt),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(Lt);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return null!==t&&this.unexpected(t),this.parseFor(e,null);const n=this.isContextual(100);{const r=this.isAwaitUsing(),i=r||this.isForUsing(),s=n&&this.hasFollowingBindingAtom()||i;if(this.match(74)||this.match(75)||s){const n=this.startNode();let s;r?(s="await using",this.recordAwaitIfAllowed()||this.raise(v.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):s=this.state.value,this.next(),this.parseVar(n,!0,s);const a=this.finishNode(n,"VariableDeclaration"),o=this.match(58);return o&&i&&this.raise(v.ForInUsing,a),(o||this.isContextual(102))&&1===a.declarations.length?this.parseForIn(e,a,t):(null!==t&&this.unexpected(t),this.parseFor(e,a))}}const r=this.isContextual(95),i=new pt,s=this.parseExpression(!0,i),a=this.isContextual(102);if(a&&(n&&this.raise(v.ForOfLet,s),null===t&&r&&"Identifier"===s.type&&this.raise(v.ForOfAsync,s)),a||this.match(58)){this.checkDestructuringPrivate(i),this.toAssignable(s,!0);const n=a?"ForOfStatement":"ForInStatement";return this.checkLVal(s,{type:n}),this.parseForIn(e,s,t)}return this.checkExpressionErrors(i,!0),null!==t&&this.unexpected(t),this.parseFor(e,s)}parseFunctionStatement(e,t,n){return this.next(),this.parseFunction(e,1|(n?2:0)|(t?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return this.prodParam.hasReturn||this.raise(v.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];let n;this.expect(5),this.state.labels.push($t),this.scope.enter(256);for(let e;!this.match(8);)if(this.match(61)||this.match(65)){const r=this.match(61);n&&this.finishNode(n,"SwitchCase"),t.push(n=this.startNode()),n.consequent=[],this.next(),r?n.test=this.parseExpression():(e&&this.raise(v.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),e=!0,n.test=null),this.expect(14)}else n?n.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(v.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&"Identifier"===e.type?8:0),this.checkLVal(e,{type:"CatchClause"},9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,e.handler||e.finalizer||this.raise(v.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,n=!1){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(Lt),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(v.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,n,r){for(const e of this.state.labels)e.name===t&&this.raise(v.LabelRedeclaration,n,{labelName:t});const i=(s=this.state.type)>=90&&s<=92?1:this.match(71)?2:null;var s;for(let t=this.state.labels.length-1;t>=0;t--){const n=this.state.labels[t];if(n.statementStart!==e.start)break;n.statementStart=this.sourceToOffsetPos(this.state.start),n.kind=i}return this.state.labels.push({name:t,kind:i,statementStart:this.sourceToOffsetPos(this.state.start)}),e.body=8&r?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t,n){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,n){const r=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(r,e,!1,8,n),t&&this.scope.exit(),this.finishNode(r,"BlockStatement")}isValidDirective(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized}parseBlockBody(e,t,n,r,i){const s=e.body=[],a=e.directives=[];this.parseBlockOrModuleBlockBody(s,t?a:void 0,n,r,i)}parseBlockOrModuleBlockBody(e,t,n,r,i){const s=this.state.strict;let a=!1,o=!1;for(;!this.match(r);){const r=n?this.parseModuleItem():this.parseStatementListItem();if(t&&!o){if(this.isValidDirective(r)){const e=this.stmtToDirective(r);t.push(e),a||"use strict"!==e.value.value||(a=!0,this.setStrict(!0));continue}o=!0,this.state.strictErrors.clear()}e.push(r)}null==i||i.call(this,a),s||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,n){const r=this.match(58);return this.next(),r?null!==n&&this.unexpected(n):e.await=null!==n,"VariableDeclaration"!==t.type||null==t.declarations[0].init||r&&this.options.annexB&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type||this.raise(v.ForInOfLoopInitializer,t,{type:r?"ForInStatement":"ForOfStatement"}),"AssignmentPattern"===t.type&&this.raise(v.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")}parseVar(e,t,n,r=!1){const i=e.declarations=[];for(e.kind=n;;){const e=this.startNode();if(this.parseVarId(e,n),e.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,null!==e.init||r||("Identifier"===e.id.type||t&&(this.match(58)||this.isContextual(102))?"const"!==n&&"using"!==n&&"await using"!==n||this.match(58)||this.isContextual(102)||this.raise(v.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:n}):this.raise(v.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"})),i.push(this.finishNode(e,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){const n=this.parseBindingAtom();"using"===t||"await using"===t?"ArrayPattern"!==n.type&&"ObjectPattern"!==n.type||this.raise(v.UsingDeclarationHasBindingPattern,n.loc.start):"VoidPattern"===n.type&&this.raise(v.UnexpectedVoidPattern,n.loc.start),this.checkLVal(n,{type:"VariableDeclarator"},"var"===t?5:8201),e.id=n}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,t=0){const n=2&t,r=!!(1&t),i=r&&!(4&t),s=!!(8&t);this.initFunction(e,s),this.match(55)&&(n&&this.raise(v.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),r&&(e.id=this.parseFunctionId(i));const a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(514),this.prodParam.enter(Ue(s,e.generator)),r||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,r?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),r&&!n&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=a,e}parseFunctionId(e){return e||z(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(new ot(3)),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,t,n){this.next();const r=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,n),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,r),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return"Identifier"===e.type&&"constructor"===e.name||"StringLiteral"===e.type&&"constructor"===e.value}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,t){this.classScope.enter();const n={hadConstructor:!1,hadSuperClass:e};let r=[];const i=this.startNode();if(i.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(r.length>0)throw this.raise(v.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){r.push(this.parseDecorator());continue}const e=this.startNode();r.length&&(e.decorators=r,this.resetStartLocationFromNode(e,r[0]),r=[]),this.parseClassMember(i,e,n),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&this.raise(v.DecoratorConstructor,e)}}),this.state.strict=t,this.next(),r.length)throw this.raise(v.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(i,"ClassBody")}parseClassMemberFromModifier(e,t){const n=this.parseIdentifier(!0);if(this.isClassMethod()){const r=t;return r.kind="method",r.computed=!1,r.key=n,r.static=!1,this.pushClassMethod(e,r,!1,!1,!1,!1),!0}if(this.isClassProperty()){const r=t;return r.computed=!1,r.key=n,r.static=!1,e.body.push(this.parseClassProperty(r)),!0}return this.resetPreviousNodeTrailingComments(n),!1}parseClassMember(e,t,n){const r=this.isContextual(106);if(r){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5))return void this.parseClassStaticBlock(e,t)}this.parseClassMemberWithIsStatic(e,t,n,r)}parseClassMemberWithIsStatic(e,t,n,r){const i=t,s=t,a=t,o=t,c=t,l=i,u=i;if(t.static=r,this.parsePropertyNamePrefixOperator(t),this.eat(55)){l.kind="method";const t=this.match(139);return this.parseClassElementName(l),this.parsePostMemberNameModifiers(l),t?void this.pushClassPrivateMethod(e,s,!0,!1):(this.isNonstaticConstructor(i)&&this.raise(v.ConstructorIsGenerator,i.key),void this.pushClassMethod(e,i,!0,!1,!1,!1))}const d=!this.state.containsEsc&&z(this.state.type),p=this.parseClassElementName(t),h=d?p.name:null,f=this.isPrivateName(p),m=this.state.startLoc;if(this.parsePostMemberNameModifiers(u),this.isClassMethod()){if(l.kind="method",f)return void this.pushClassPrivateMethod(e,s,!1,!1);const r=this.isNonstaticConstructor(i);let a=!1;r&&(i.kind="constructor",n.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(v.DuplicateConstructor,p),r&&this.hasPlugin("typescript")&&t.override&&this.raise(v.OverrideOnConstructor,p),n.hadConstructor=!0,a=n.hadSuperClass),this.pushClassMethod(e,i,!1,!1,r,a)}else if(this.isClassProperty())f?this.pushClassPrivateProperty(e,o):this.pushClassProperty(e,a);else if("async"!==h||this.isLineTerminator())if("get"!==h&&"set"!==h||this.match(55)&&this.isLineTerminator())if("accessor"!==h||this.isLineTerminator())this.isLineTerminator()?f?this.pushClassPrivateProperty(e,o):this.pushClassProperty(e,a):this.unexpected();else{this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(p);const t=this.match(139);this.parseClassElementName(a),this.pushClassAccessorProperty(e,c,t)}else{this.resetPreviousNodeTrailingComments(p),l.kind=h;const t=this.match(139);this.parseClassElementName(i),t?this.pushClassPrivateMethod(e,s,!1,!1):(this.isNonstaticConstructor(i)&&this.raise(v.ConstructorIsAccessor,i.key),this.pushClassMethod(e,i,!1,!1,!1,!1)),this.checkGetterSetterParams(i)}else{this.resetPreviousNodeTrailingComments(p);const t=this.eat(55);u.optional&&this.unexpected(m),l.kind="method";const n=this.match(139);this.parseClassElementName(l),this.parsePostMemberNameModifiers(u),n?this.pushClassPrivateMethod(e,s,t,!0):(this.isNonstaticConstructor(i)&&this.raise(v.ConstructorIsAsync,i.key),this.pushClassMethod(e,i,t,!0,!1,!1))}}parseClassElementName(e){const{type:t,value:n}=this.state;if(132!==t&&134!==t||!e.static||"prototype"!==n||this.raise(v.StaticPrototype,this.state.startLoc),139===t){"constructor"===n&&this.raise(v.ConstructorClassPrivateField,this.state.startLoc);const t=this.parsePrivateName();return e.key=t,t}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,t){var n;this.scope.enter(720);const r=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const i=t.body=[];this.parseBlockOrModuleBlockBody(i,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=r,e.body.push(this.finishNode(t,"StaticBlock")),null!=(n=t.decorators)&&n.length&&this.raise(v.DecoratorStaticBlock,t)}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(v.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const n=this.parseClassPrivateProperty(t);e.body.push(n),this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassAccessorProperty(e,t,n){n||t.computed||!this.nameIsConstructor(t.key)||this.raise(v.ConstructorClassField,t.key);const r=this.parseClassAccessorProperty(t);e.body.push(r),n&&this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),0,r.key.loc.start)}pushClassMethod(e,t,n,r,i,s){e.body.push(this.parseMethod(t,n,r,i,s,"ClassMethod",!0))}pushClassPrivateMethod(e,t,n,r){const i=this.parseMethod(t,n,r,!1,!1,"ClassPrivateMethod",!0);e.body.push(i);const s="get"===i.kind?i.static?6:2:"set"===i.kind?i.static?5:1:0;this.declareClassPrivateMethodInScope(i,s)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(592),this.expressionScope.enter(ut()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,n,r=8331){if(z(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,r);else{if(!n&&t)throw this.raise(v.MissingClassName,this.state.startLoc);e.id=null}}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,t){const n=this.parseMaybeImportPhase(e,!0),r=this.maybeParseExportDefaultSpecifier(e,n),i=!r||this.eat(12),s=i&&this.eatExportStar(e),a=s&&this.maybeParseExportNamespaceSpecifier(e),o=i&&(!a||this.eat(12)),c=r||s;if(s&&!a){if(r&&this.unexpected(),t)throw this.raise(v.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.sawUnambiguousESM=!0,this.finishNode(e,"ExportAllDeclaration")}const l=this.maybeParseExportNamedSpecifiers(e);let u;if(r&&i&&!s&&!l&&this.unexpected(null,5),a&&o&&this.unexpected(null,98),c||l){if(u=!1,t)throw this.raise(v.UnsupportedDecoratorExport,e);this.parseExportFrom(e,c)}else u=this.maybeParseExportDeclaration(e);if(c||l||u){var d;const n=e;if(this.checkExport(n,!0,!1,!!n.source),"ClassDeclaration"===(null==(d=n.declaration)?void 0:d.type))this.maybeTakeDecorators(t,n.declaration,n);else if(t)throw this.raise(v.UnsupportedDecoratorExport,e);return this.sawUnambiguousESM=!0,this.finishNode(n,"ExportNamedDeclaration")}if(this.eat(65)){const n=e,r=this.parseExportDefaultExpression();if(n.declaration=r,"ClassDeclaration"===r.type)this.maybeTakeDecorators(t,r,n);else if(t)throw this.raise(v.UnsupportedDecoratorExport,e);return this.checkExport(n,!0,!0),this.sawUnambiguousESM=!0,this.finishNode(n,"ExportDefaultDeclaration")}throw this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",null==t?void 0:t.loc.start);const n=t||this.parseIdentifier(!0),r=this.startNodeAtNode(n);return r.exported=n,e.specifiers=[this.finishNode(r,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var t;null!=(t=e).specifiers||(t.specifiers=[]);const n=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),n.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(n,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){const t=e;t.specifiers||(t.specifiers=[]);const n="type"===t.exportKind;return t.specifiers.push(...this.parseExportSpecifiers(n)),t.source=null,this.hasPlugin("importAssertions")?t.assertions=[]:t.attributes=[],t.declaration=null,!0}return!1}maybeParseExportDeclaration(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")?e.assertions=[]:e.attributes=[],e.declaration=this.parseExportDeclaration(e),!0)}isAsyncFunction(){if(!this.isContextual(95))return!1;const e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(v.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet()||this.isUsing()||this.isAwaitUsing())throw this.raise(v.UnsupportedDefaultExport,this.state.startLoc);const t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:e}=this.state;if(z(e)){if(95===e&&!this.state.containsEsc||100===e)return!1;if((130===e||129===e)&&!this.state.containsEsc){const e=this.nextTokenStart(),t=this.input.charCodeAt(e);if(123===t||this.chStartsBindingIdentifier(t,e)&&!this.input.startsWith("from",e))return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const t=this.nextTokenStart(),n=this.isUnparsedContextual(t,"from");if(44===this.input.charCodeAt(t)||z(this.state.type)&&n)return!0;if(this.match(65)&&n){const e=this.input.charCodeAt(this.nextTokenStartSince(t+4));return 34===e||39===e}return!1}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;return 26===e&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(v.DecoratorBeforeExport,this.state.startLoc),!0):this.isUsing()||this.isAwaitUsing()?(this.raise(v.UsingDeclarationExport,this.state.startLoc),!0):74===e||75===e||68===e||80===e||this.isLet()||this.isAsyncFunction()}checkExport(e,t,n,r){var i;if(t)if(n){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var s;const t=e.declaration;"Identifier"!==t.type||"from"!==t.name||t.end-t.start!==4||null!=(s=t.extra)&&s.parenthesized||this.raise(v.ExportDefaultFromAsIdentifier,t)}}else if(null!=(i=e.specifiers)&&i.length)for(const t of e.specifiers){const{exported:e}=t,n="Identifier"===e.type?e.name:e.value;if(this.checkDuplicateExports(t,n),!r&&t.local){const{local:e}=t;"Identifier"!==e.type?this.raise(v.ExportBindingIsString,t,{localName:e.value,exportName:n}):(this.checkReservedWord(e.name,e.loc.start,!0,!1),this.scope.checkLocalExport(e))}}else if(e.declaration){const t=e.declaration;if("FunctionDeclaration"===t.type||"ClassDeclaration"===t.type){const{id:n}=t;if(!n)throw new Error("Assertion failure");this.checkDuplicateExports(e,n.name)}else if("VariableDeclaration"===t.type)for(const e of t.declarations)this.checkDeclaration(e.id)}}checkDeclaration(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(const t of e.properties)this.checkDeclaration(t);else if("ArrayPattern"===e.type)for(const t of e.elements)t&&this.checkDeclaration(t);else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&("default"===t?this.raise(v.DuplicateDefaultExport,e):this.raise(v.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let n=!0;for(this.expect(5);!this.eat(8);){if(n)n=!1;else if(this.expect(12),this.eat(8))break;const r=this.isContextual(130),i=this.match(134),s=this.startNode();s.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(s,i,e,r))}return t}parseExportSpecifier(e,t,n,r){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=this.cloneStringLiteral(e.local):e.exported||(e.exported=this.cloneIdentifier(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){const e=this.parseStringLiteral(this.state.value),t=Mt.exec(e.value);return t&&this.raise(v.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return null!=e.assertions&&e.assertions.some(({key:e,value:t})=>"json"===t.value&&("Identifier"===e.type?"type"===e.name:"type"===e.value))}checkImportReflection(e){const{specifiers:t}=e,n=1===t.length?t[0].type:null;if("source"===e.phase)"ImportDefaultSpecifier"!==n&&this.raise(v.SourcePhaseImportRequiresDefault,t[0].loc.start);else if("defer"===e.phase)"ImportNamespaceSpecifier"!==n&&this.raise(v.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var r;"ImportDefaultSpecifier"!==n&&this.raise(v.ImportReflectionNotBinding,t[0].loc.start),(null==(r=e.assertions)?void 0:r.length)>0&&this.raise(v.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&"ExportAllDeclaration"!==e.type){const{specifiers:t}=e;if(null!=t){const e=t.find(e=>{let t;if("ExportSpecifier"===e.type?t=e.local:"ImportSpecifier"===e.type&&(t=e.imported),void 0!==t)return"Identifier"===t.type?"default"!==t.name:"default"!==t.value});void 0!==e&&this.raise(v.ImportJSONBindingNotDefault,e.loc.start)}}}isPotentialImportPhase(e){return!e&&(this.isContextual(105)||this.isContextual(97)||this.isContextual(127))}applyImportPhase(e,t,n,r){t||("module"===n?(this.expectPlugin("importReflection",r),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),"source"===n?(this.expectPlugin("sourcePhaseImports",r),e.phase="source"):"defer"===n?(this.expectPlugin("deferredImportEvaluation",r),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;const n=this.startNode(),r=this.parseIdentifierName(!0),{type:i}=this.state;return(V(i)?98!==i||102===this.lookaheadCharCode():12!==i)?(this.applyImportPhase(e,t,r,n.loc.start),null):(this.applyImportPhase(e,t,null),this.createIdentifier(n,r))}isPrecedingIdImportPhase(e){const{type:t}=this.state;return z(t)?98!==t||102===this.lookaheadCharCode():12!==t}parseImport(e){return this.match(134)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];const n=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),r=n&&this.maybeParseStarImportSpecifier(e);return n&&!r&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){return null!=e.specifiers||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,t,n){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,n))}finishImportSpecifier(e,t,n=8201){return this.checkLVal(e.local,{type:t},n),this.finishNode(e,t)}parseImportAttributes(){this.expect(5);const e=[],t=new Set;do{if(this.match(8))break;const n=this.startNode(),r=this.state.value;if(t.has(r)&&this.raise(v.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:r}),t.add(r),this.match(134)?n.key=this.parseStringLiteral(r):n.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(v.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){const e=[],t=new Set;do{const n=this.startNode();if(n.key=this.parseIdentifier(!0),"type"!==n.key.name&&this.raise(v.ModuleAttributeDifferentFromType,n.key),t.has(n.key.name)&&this.raise(v.ModuleAttributesWithDuplicateKeys,n.key,{key:n.key.name}),t.add(n.key.name),this.expect(14),!this.match(134))throw this.raise(v.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let t;var n=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&40===this.lookaheadCharCode())return;this.next(),this.hasPlugin("moduleAttributes")?(t=this.parseModuleAttributes(),this.addExtra(e,"deprecatedWithLegacySyntax",!0)):t=this.parseImportAttributes(),n=!0}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(this.hasPlugin("deprecatedImportAssert")||this.hasPlugin("importAssertions")||this.raise(v.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(e,"deprecatedAssertSyntax",!0),this.next(),t=this.parseImportAttributes()):t=[];!n&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t}maybeParseDefaultImportSpecifier(e,t){if(t){const n=this.startNodeAtNode(t);return n.local=t,e.specifiers.push(this.finishImportSpecifier(n,"ImportDefaultSpecifier")),!0}return!!V(this.state.type)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0)}maybeParseStarImportSpecifier(e){if(this.match(55)){const t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(v.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const n=this.startNode(),r=this.match(134),i=this.isContextual(130);n.imported=this.parseModuleExportName();const s=this.parseImportSpecifier(n,r,"type"===e.importKind||"typeof"===e.importKind,i,void 0);e.specifiers.push(s)}}parseImportSpecifier(e,t,n,r,i){if(this.eatContextual(93))e.local=this.parseIdentifier();else{const{imported:n}=e;if(t)throw this.raise(v.ImportBindingIsString,e,{importName:n.value});this.checkReservedWord(n.name,e.loc.start,!0,!0),e.local||(e.local=this.cloneIdentifier(n))}return this.finishImportSpecifier(e,"ImportSpecifier",i)}isThisParam(e){return"Identifier"===e.type&&"this"===e.name}}class Dt extends jt{constructor(e,t,n){const r=function(e){const t={sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,allowYieldOutsideFunction:!1,plugins:[],strictMode:void 0,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};if(null==e)return t;if(null!=e.annexB&&!1!==e.annexB)throw new Error("The `annexB` option can only be set to `false`.");for(const n of Object.keys(t))null!=e[n]&&(t[n]=e[n]);if(1===t.startLine)null==e.startIndex&&t.startColumn>0?t.startIndex=t.startColumn:null==e.startColumn&&t.startIndex>0&&(t.startColumn=t.startIndex);else if((null==e.startColumn||null==e.startIndex)&&null!=e.startIndex)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");if("commonjs"===t.sourceType){if(null!=e.allowAwaitOutsideFunction)throw new Error("The `allowAwaitOutsideFunction` option cannot be used with `sourceType: 'commonjs'`.");if(null!=e.allowReturnOutsideFunction)throw new Error("`sourceType: 'commonjs'` implies `allowReturnOutsideFunction: true`, please remove the `allowReturnOutsideFunction` option or use `sourceType: 'script'`.");if(null!=e.allowNewTargetOutsideFunction)throw new Error("`sourceType: 'commonjs'` implies `allowNewTargetOutsideFunction: true`, please remove the `allowNewTargetOutsideFunction` option or use `sourceType: 'script'`.")}return t}(e);super(r,t),this.options=r,this.initializeScopes(),this.plugins=n,this.filename=r.sourceFilename,this.startIndex=r.startIndex;let i=0;r.allowAwaitOutsideFunction&&(i|=1),r.allowReturnOutsideFunction&&(i|=2),r.allowImportExportEverywhere&&(i|=8),r.allowSuperOutsideMethod&&(i|=16),r.allowUndeclaredExports&&(i|=64),r.allowNewTargetOutsideFunction&&(i|=4),r.allowYieldOutsideFunction&&(i|=32),r.ranges&&(i|=128),r.tokens&&(i|=256),r.createImportExpressions&&(i|=512),r.createParenthesizedExpressions&&(i|=1024),r.errorRecovery&&(i|=2048),r.attachComment&&(i|=4096),r.annexB&&(i|=8192),this.optionFlags=i}getScopeHandler(){return ve}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();this.nextToken(),e.errors=null;const n=this.parseTopLevel(e,t);return n.errors=this.state.errors,n.comments.length=this.state.commentsLen,n}}const Ut=function(e){const t={};for(const n of Object.keys(e))t[n]=Q(e[n]);return t}(Z);function Ft(e,t){let n=Dt;const r=new Map;if(null!=e&&e.plugins){for(const t of e.plugins){let e,n;"string"==typeof t?e=t:[e,n]=t,r.has(e)||r.set(e,n||{})}!function(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=e.get("decorators").decoratorsBeforeExport;if(null!=t&&"boolean"!=typeof t)throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const n=e.get("decorators").allowCallParenthesized;if(null!=n&&"boolean"!=typeof n)throw new Error("'allowCallParenthesized' must be a boolean.")}if(e.has("flow")&&e.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var t;const r=e.get("pipelineOperator").proposal;if(!Ot.includes(r)){const e=Ot.map(e=>`"${e}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${e}.`)}if("hack"===r){if(e.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const t=e.get("pipelineOperator").topicToken;if(!It.includes(t)){const e=It.map(e=>`"${e}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${e}.`)}var n;if("#"===t&&"hash"===(null==(n=e.get("recordAndTuple"))?void 0:n.syntaxType))throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}else if("smart"===r&&"hash"===(null==(t=e.get("recordAndTuple"))?void 0:t.syntaxType))throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}if(e.has("moduleAttributes")){if(e.has("deprecatedImportAssert")||e.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if("may-2020"!==e.get("moduleAttributes").version)throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(e.has("importAssertions")&&e.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(!e.has("deprecatedImportAssert")&&e.has("importAttributes")&&e.get("importAttributes").deprecatedAssertSyntax&&e.set("deprecatedImportAssert",{}),e.has("recordAndTuple")){const t=e.get("recordAndTuple").syntaxType;if(null!=t){const e=["hash","bar"];if(!e.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+e.map(e=>`'${e}'`).join(", "))}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){const e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}if(e.has("optionalChainingAssign")&&"2023-07"!==e.get("optionalChainingAssign").version)throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.");if(e.has("discardBinding")&&"void"!==e.get("discardBinding").syntaxType)throw new Error("The 'discardBinding' plugin requires a 'syntaxType' option. Currently the only supported value is 'void'.")}(r),n=function(e){const t=[];for(const n of kt)e.has(n)&&t.push(n);const n=t.join("|");let r=Bt.get(n);if(!r){r=Dt;for(const e of t)r=Ct[e](r);Bt.set(n,r)}return r}(r)}return new n(e,t,r)}const Bt=new Map;t.parse=function(e,t){var n;if("unambiguous"!==(null==(n=t)?void 0:n.sourceType))return Ft(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";const n=Ft(t,e),r=n.parse();if(n.sawUnambiguousESM)return r;if(n.ambiguousScriptDifferentAst)try{return t.sourceType="script",Ft(t,e).parse()}catch(e){}else r.program.sourceType="script";return r}catch(n){try{return t.sourceType="script",Ft(t,e).parse()}catch(e){}throw n}},t.parseExpression=function(e,t){const n=Ft(t,e);return n.options.strictMode&&(n.state.strict=!0),n.getExpression()},t.tokTypes=Ut},22225:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+s+"]",o="\\d+",c="["+n+"]",l="["+r+"]",u="[^"+t+s+o+n+r+i+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+i+"]",f="(?:"+l+"|"+u+")",m="(?:"+h+"|"+u+")",y="(?:['’](?:d|ll|m|re|s|t|ve))?",g="(?:['’](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",S=b+v+"(?:\\u200d(?:"+["[^"+t+"]",d,p].join("|")+")"+b+v+")*",T="(?:"+[c,d,p].join("|")+")"+S,_=RegExp([h+"?"+l+"+"+y+"(?="+[a,h,"$"].join("|")+")",m+"+"+g+"(?="+[a,h+f,"$"].join("|")+")",h+"?"+f+"+"+y,h+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,T].join("|"),"g");e.exports=function(e){return e.match(_)||[]}},22264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseNode=function(e,t,n,i,a,o,c){const l=s[e.type];if(!l)return!1;const u=new r.default(n,t,i,a);if(c)return(null==o||!o[a.parentKey])&&u.visitQueue([a]);for(const t of l)if((null==o||!o[t])&&u.visit(e,t))return!0;return!1};var r=n(1602),i=(n(29709),n(2352));n(79578);const{VISITOR_KEYS:s}=i},22268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const r=n(82040);class i extends r.APIResource{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}t.Graders=i},22457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isImportDefaultSpecifier)(e)||(0,r.isIdentifier)(e.imported||e.exported,{name:"default"})};var r=n(98960)},22729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionSessions=void 0;const r=n(82040),i=n(262);class s extends r.APIResource{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.TranscriptionSessions=s},22793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTupleDef=void 0;const r=n(73524);t.parseTupleDef=function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>(0,r.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:(0,r.parseDef)(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>(0,r.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}},23286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anyTypeAnnotation=function(){return{type:"AnyTypeAnnotation"}},t.argumentPlaceholder=function(){return{type:"ArgumentPlaceholder"}},t.arrayExpression=function(e=[]){const t={type:"ArrayExpression",elements:e},n=o.ArrayExpression;return a(n.elements,t,"elements",e,1),t},t.arrayPattern=function(e){const t={type:"ArrayPattern",elements:e},n=o.ArrayPattern;return a(n.elements,t,"elements",e,1),t},t.arrayTypeAnnotation=function(e){const t={type:"ArrayTypeAnnotation",elementType:e},n=o.ArrayTypeAnnotation;return a(n.elementType,t,"elementType",e,1),t},t.arrowFunctionExpression=function(e,t,n=!1){const r={type:"ArrowFunctionExpression",params:e,body:t,async:n,expression:null},i=o.ArrowFunctionExpression;return a(i.params,r,"params",e,1),a(i.body,r,"body",t,1),a(i.async,r,"async",n),r},t.assignmentExpression=function(e,t,n){const r={type:"AssignmentExpression",operator:e,left:t,right:n},i=o.AssignmentExpression;return a(i.operator,r,"operator",e),a(i.left,r,"left",t,1),a(i.right,r,"right",n,1),r},t.assignmentPattern=function(e,t){const n={type:"AssignmentPattern",left:e,right:t},r=o.AssignmentPattern;return a(r.left,n,"left",e,1),a(r.right,n,"right",t,1),n},t.awaitExpression=function(e){const t={type:"AwaitExpression",argument:e},n=o.AwaitExpression;return a(n.argument,t,"argument",e,1),t},t.bigIntLiteral=function(e){"bigint"==typeof e&&(e=e.toString());const t={type:"BigIntLiteral",value:e},n=o.BigIntLiteral;return a(n.value,t,"value",e),t},t.binaryExpression=function(e,t,n){const r={type:"BinaryExpression",operator:e,left:t,right:n},i=o.BinaryExpression;return a(i.operator,r,"operator",e),a(i.left,r,"left",t,1),a(i.right,r,"right",n,1),r},t.bindExpression=function(e,t){const n={type:"BindExpression",object:e,callee:t},r=o.BindExpression;return a(r.object,n,"object",e,1),a(r.callee,n,"callee",t,1),n},t.blockStatement=function(e,t=[]){const n={type:"BlockStatement",body:e,directives:t},r=o.BlockStatement;return a(r.body,n,"body",e,1),a(r.directives,n,"directives",t,1),n},t.booleanLiteral=function(e){const t={type:"BooleanLiteral",value:e},n=o.BooleanLiteral;return a(n.value,t,"value",e),t},t.booleanLiteralTypeAnnotation=function(e){const t={type:"BooleanLiteralTypeAnnotation",value:e},n=o.BooleanLiteralTypeAnnotation;return a(n.value,t,"value",e),t},t.booleanTypeAnnotation=function(){return{type:"BooleanTypeAnnotation"}},t.breakStatement=function(e=null){const t={type:"BreakStatement",label:e},n=o.BreakStatement;return a(n.label,t,"label",e,1),t},t.callExpression=function(e,t){const n={type:"CallExpression",callee:e,arguments:t},r=o.CallExpression;return a(r.callee,n,"callee",e,1),a(r.arguments,n,"arguments",t,1),n},t.catchClause=function(e=null,t){const n={type:"CatchClause",param:e,body:t},r=o.CatchClause;return a(r.param,n,"param",e,1),a(r.body,n,"body",t,1),n},t.classAccessorProperty=function(e,t=null,n=null,r=null,i=!1,s=!1){const c={type:"ClassAccessorProperty",key:e,value:t,typeAnnotation:n,decorators:r,computed:i,static:s},l=o.ClassAccessorProperty;return a(l.key,c,"key",e,1),a(l.value,c,"value",t,1),a(l.typeAnnotation,c,"typeAnnotation",n,1),a(l.decorators,c,"decorators",r,1),a(l.computed,c,"computed",i),a(l.static,c,"static",s),c},t.classBody=function(e){const t={type:"ClassBody",body:e},n=o.ClassBody;return a(n.body,t,"body",e,1),t},t.classDeclaration=function(e=null,t=null,n,r=null){const i={type:"ClassDeclaration",id:e,superClass:t,body:n,decorators:r},s=o.ClassDeclaration;return a(s.id,i,"id",e,1),a(s.superClass,i,"superClass",t,1),a(s.body,i,"body",n,1),a(s.decorators,i,"decorators",r,1),i},t.classExpression=function(e=null,t=null,n,r=null){const i={type:"ClassExpression",id:e,superClass:t,body:n,decorators:r},s=o.ClassExpression;return a(s.id,i,"id",e,1),a(s.superClass,i,"superClass",t,1),a(s.body,i,"body",n,1),a(s.decorators,i,"decorators",r,1),i},t.classImplements=function(e,t=null){const n={type:"ClassImplements",id:e,typeParameters:t},r=o.ClassImplements;return a(r.id,n,"id",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.classMethod=function(e="method",t,n,r,i=!1,s=!1,c=!1,l=!1){const u={type:"ClassMethod",kind:e,key:t,params:n,body:r,computed:i,static:s,generator:c,async:l},d=o.ClassMethod;return a(d.kind,u,"kind",e),a(d.key,u,"key",t,1),a(d.params,u,"params",n,1),a(d.body,u,"body",r,1),a(d.computed,u,"computed",i),a(d.static,u,"static",s),a(d.generator,u,"generator",c),a(d.async,u,"async",l),u},t.classPrivateMethod=function(e="method",t,n,r,i=!1){const s={type:"ClassPrivateMethod",kind:e,key:t,params:n,body:r,static:i},c=o.ClassPrivateMethod;return a(c.kind,s,"kind",e),a(c.key,s,"key",t,1),a(c.params,s,"params",n,1),a(c.body,s,"body",r,1),a(c.static,s,"static",i),s},t.classPrivateProperty=function(e,t=null,n=null,r=!1){const i={type:"ClassPrivateProperty",key:e,value:t,decorators:n,static:r},s=o.ClassPrivateProperty;return a(s.key,i,"key",e,1),a(s.value,i,"value",t,1),a(s.decorators,i,"decorators",n,1),a(s.static,i,"static",r),i},t.classProperty=function(e,t=null,n=null,r=null,i=!1,s=!1){const c={type:"ClassProperty",key:e,value:t,typeAnnotation:n,decorators:r,computed:i,static:s},l=o.ClassProperty;return a(l.key,c,"key",e,1),a(l.value,c,"value",t,1),a(l.typeAnnotation,c,"typeAnnotation",n,1),a(l.decorators,c,"decorators",r,1),a(l.computed,c,"computed",i),a(l.static,c,"static",s),c},t.conditionalExpression=function(e,t,n){const r={type:"ConditionalExpression",test:e,consequent:t,alternate:n},i=o.ConditionalExpression;return a(i.test,r,"test",e,1),a(i.consequent,r,"consequent",t,1),a(i.alternate,r,"alternate",n,1),r},t.continueStatement=function(e=null){const t={type:"ContinueStatement",label:e},n=o.ContinueStatement;return a(n.label,t,"label",e,1),t},t.debuggerStatement=function(){return{type:"DebuggerStatement"}},t.decimalLiteral=function(e){const t={type:"DecimalLiteral",value:e},n=o.DecimalLiteral;return a(n.value,t,"value",e),t},t.declareClass=function(e,t=null,n=null,r){const i={type:"DeclareClass",id:e,typeParameters:t,extends:n,body:r},s=o.DeclareClass;return a(s.id,i,"id",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.extends,i,"extends",n,1),a(s.body,i,"body",r,1),i},t.declareExportAllDeclaration=function(e,t=null){const n={type:"DeclareExportAllDeclaration",source:e,attributes:t},r=o.DeclareExportAllDeclaration;return a(r.source,n,"source",e,1),a(r.attributes,n,"attributes",t,1),n},t.declareExportDeclaration=function(e=null,t=null,n=null,r=null){const i={type:"DeclareExportDeclaration",declaration:e,specifiers:t,source:n,attributes:r},s=o.DeclareExportDeclaration;return a(s.declaration,i,"declaration",e,1),a(s.specifiers,i,"specifiers",t,1),a(s.source,i,"source",n,1),a(s.attributes,i,"attributes",r,1),i},t.declareFunction=function(e){const t={type:"DeclareFunction",id:e},n=o.DeclareFunction;return a(n.id,t,"id",e,1),t},t.declareInterface=function(e,t=null,n=null,r){const i={type:"DeclareInterface",id:e,typeParameters:t,extends:n,body:r},s=o.DeclareInterface;return a(s.id,i,"id",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.extends,i,"extends",n,1),a(s.body,i,"body",r,1),i},t.declareModule=function(e,t,n=null){const r={type:"DeclareModule",id:e,body:t,kind:n},i=o.DeclareModule;return a(i.id,r,"id",e,1),a(i.body,r,"body",t,1),a(i.kind,r,"kind",n),r},t.declareModuleExports=function(e){const t={type:"DeclareModuleExports",typeAnnotation:e},n=o.DeclareModuleExports;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.declareOpaqueType=function(e,t=null,n=null){const r={type:"DeclareOpaqueType",id:e,typeParameters:t,supertype:n},i=o.DeclareOpaqueType;return a(i.id,r,"id",e,1),a(i.typeParameters,r,"typeParameters",t,1),a(i.supertype,r,"supertype",n,1),r},t.declareTypeAlias=function(e,t=null,n){const r={type:"DeclareTypeAlias",id:e,typeParameters:t,right:n},i=o.DeclareTypeAlias;return a(i.id,r,"id",e,1),a(i.typeParameters,r,"typeParameters",t,1),a(i.right,r,"right",n,1),r},t.declareVariable=function(e){const t={type:"DeclareVariable",id:e},n=o.DeclareVariable;return a(n.id,t,"id",e,1),t},t.declaredPredicate=function(e){const t={type:"DeclaredPredicate",value:e},n=o.DeclaredPredicate;return a(n.value,t,"value",e,1),t},t.decorator=function(e){const t={type:"Decorator",expression:e},n=o.Decorator;return a(n.expression,t,"expression",e,1),t},t.directive=function(e){const t={type:"Directive",value:e},n=o.Directive;return a(n.value,t,"value",e,1),t},t.directiveLiteral=function(e){const t={type:"DirectiveLiteral",value:e},n=o.DirectiveLiteral;return a(n.value,t,"value",e),t},t.doExpression=function(e,t=!1){const n={type:"DoExpression",body:e,async:t},r=o.DoExpression;return a(r.body,n,"body",e,1),a(r.async,n,"async",t),n},t.doWhileStatement=function(e,t){const n={type:"DoWhileStatement",test:e,body:t},r=o.DoWhileStatement;return a(r.test,n,"test",e,1),a(r.body,n,"body",t,1),n},t.emptyStatement=function(){return{type:"EmptyStatement"}},t.emptyTypeAnnotation=function(){return{type:"EmptyTypeAnnotation"}},t.enumBooleanBody=function(e){const t={type:"EnumBooleanBody",members:e,explicitType:null,hasUnknownMembers:null},n=o.EnumBooleanBody;return a(n.members,t,"members",e,1),t},t.enumBooleanMember=function(e){const t={type:"EnumBooleanMember",id:e,init:null},n=o.EnumBooleanMember;return a(n.id,t,"id",e,1),t},t.enumDeclaration=function(e,t){const n={type:"EnumDeclaration",id:e,body:t},r=o.EnumDeclaration;return a(r.id,n,"id",e,1),a(r.body,n,"body",t,1),n},t.enumDefaultedMember=function(e){const t={type:"EnumDefaultedMember",id:e},n=o.EnumDefaultedMember;return a(n.id,t,"id",e,1),t},t.enumNumberBody=function(e){const t={type:"EnumNumberBody",members:e,explicitType:null,hasUnknownMembers:null},n=o.EnumNumberBody;return a(n.members,t,"members",e,1),t},t.enumNumberMember=function(e,t){const n={type:"EnumNumberMember",id:e,init:t},r=o.EnumNumberMember;return a(r.id,n,"id",e,1),a(r.init,n,"init",t,1),n},t.enumStringBody=function(e){const t={type:"EnumStringBody",members:e,explicitType:null,hasUnknownMembers:null},n=o.EnumStringBody;return a(n.members,t,"members",e,1),t},t.enumStringMember=function(e,t){const n={type:"EnumStringMember",id:e,init:t},r=o.EnumStringMember;return a(r.id,n,"id",e,1),a(r.init,n,"init",t,1),n},t.enumSymbolBody=function(e){const t={type:"EnumSymbolBody",members:e,hasUnknownMembers:null},n=o.EnumSymbolBody;return a(n.members,t,"members",e,1),t},t.existsTypeAnnotation=function(){return{type:"ExistsTypeAnnotation"}},t.exportAllDeclaration=function(e){const t={type:"ExportAllDeclaration",source:e},n=o.ExportAllDeclaration;return a(n.source,t,"source",e,1),t},t.exportDefaultDeclaration=function(e){const t={type:"ExportDefaultDeclaration",declaration:e},n=o.ExportDefaultDeclaration;return a(n.declaration,t,"declaration",e,1),t},t.exportDefaultSpecifier=function(e){const t={type:"ExportDefaultSpecifier",exported:e},n=o.ExportDefaultSpecifier;return a(n.exported,t,"exported",e,1),t},t.exportNamedDeclaration=function(e=null,t=[],n=null){const r={type:"ExportNamedDeclaration",declaration:e,specifiers:t,source:n},i=o.ExportNamedDeclaration;return a(i.declaration,r,"declaration",e,1),a(i.specifiers,r,"specifiers",t,1),a(i.source,r,"source",n,1),r},t.exportNamespaceSpecifier=function(e){const t={type:"ExportNamespaceSpecifier",exported:e},n=o.ExportNamespaceSpecifier;return a(n.exported,t,"exported",e,1),t},t.exportSpecifier=function(e,t){const n={type:"ExportSpecifier",local:e,exported:t},r=o.ExportSpecifier;return a(r.local,n,"local",e,1),a(r.exported,n,"exported",t,1),n},t.expressionStatement=function(e){const t={type:"ExpressionStatement",expression:e},n=o.ExpressionStatement;return a(n.expression,t,"expression",e,1),t},t.file=function(e,t=null,n=null){const r={type:"File",program:e,comments:t,tokens:n},i=o.File;return a(i.program,r,"program",e,1),a(i.comments,r,"comments",t,1),a(i.tokens,r,"tokens",n),r},t.forInStatement=function(e,t,n){const r={type:"ForInStatement",left:e,right:t,body:n},i=o.ForInStatement;return a(i.left,r,"left",e,1),a(i.right,r,"right",t,1),a(i.body,r,"body",n,1),r},t.forOfStatement=function(e,t,n,r=!1){const i={type:"ForOfStatement",left:e,right:t,body:n,await:r},s=o.ForOfStatement;return a(s.left,i,"left",e,1),a(s.right,i,"right",t,1),a(s.body,i,"body",n,1),a(s.await,i,"await",r),i},t.forStatement=function(e=null,t=null,n=null,r){const i={type:"ForStatement",init:e,test:t,update:n,body:r},s=o.ForStatement;return a(s.init,i,"init",e,1),a(s.test,i,"test",t,1),a(s.update,i,"update",n,1),a(s.body,i,"body",r,1),i},t.functionDeclaration=function(e=null,t,n,r=!1,i=!1){const s={type:"FunctionDeclaration",id:e,params:t,body:n,generator:r,async:i},c=o.FunctionDeclaration;return a(c.id,s,"id",e,1),a(c.params,s,"params",t,1),a(c.body,s,"body",n,1),a(c.generator,s,"generator",r),a(c.async,s,"async",i),s},t.functionExpression=function(e=null,t,n,r=!1,i=!1){const s={type:"FunctionExpression",id:e,params:t,body:n,generator:r,async:i},c=o.FunctionExpression;return a(c.id,s,"id",e,1),a(c.params,s,"params",t,1),a(c.body,s,"body",n,1),a(c.generator,s,"generator",r),a(c.async,s,"async",i),s},t.functionTypeAnnotation=function(e=null,t,n=null,r){const i={type:"FunctionTypeAnnotation",typeParameters:e,params:t,rest:n,returnType:r},s=o.FunctionTypeAnnotation;return a(s.typeParameters,i,"typeParameters",e,1),a(s.params,i,"params",t,1),a(s.rest,i,"rest",n,1),a(s.returnType,i,"returnType",r,1),i},t.functionTypeParam=function(e=null,t){const n={type:"FunctionTypeParam",name:e,typeAnnotation:t},r=o.FunctionTypeParam;return a(r.name,n,"name",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.genericTypeAnnotation=function(e,t=null){const n={type:"GenericTypeAnnotation",id:e,typeParameters:t},r=o.GenericTypeAnnotation;return a(r.id,n,"id",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.identifier=function(e){const t={type:"Identifier",name:e},n=o.Identifier;return a(n.name,t,"name",e),t},t.ifStatement=function(e,t,n=null){const r={type:"IfStatement",test:e,consequent:t,alternate:n},i=o.IfStatement;return a(i.test,r,"test",e,1),a(i.consequent,r,"consequent",t,1),a(i.alternate,r,"alternate",n,1),r},t.import=function(){return{type:"Import"}},t.importAttribute=function(e,t){const n={type:"ImportAttribute",key:e,value:t},r=o.ImportAttribute;return a(r.key,n,"key",e,1),a(r.value,n,"value",t,1),n},t.importDeclaration=function(e,t){const n={type:"ImportDeclaration",specifiers:e,source:t},r=o.ImportDeclaration;return a(r.specifiers,n,"specifiers",e,1),a(r.source,n,"source",t,1),n},t.importDefaultSpecifier=function(e){const t={type:"ImportDefaultSpecifier",local:e},n=o.ImportDefaultSpecifier;return a(n.local,t,"local",e,1),t},t.importExpression=function(e,t=null){const n={type:"ImportExpression",source:e,options:t},r=o.ImportExpression;return a(r.source,n,"source",e,1),a(r.options,n,"options",t,1),n},t.importNamespaceSpecifier=function(e){const t={type:"ImportNamespaceSpecifier",local:e},n=o.ImportNamespaceSpecifier;return a(n.local,t,"local",e,1),t},t.importSpecifier=function(e,t){const n={type:"ImportSpecifier",local:e,imported:t},r=o.ImportSpecifier;return a(r.local,n,"local",e,1),a(r.imported,n,"imported",t,1),n},t.indexedAccessType=function(e,t){const n={type:"IndexedAccessType",objectType:e,indexType:t},r=o.IndexedAccessType;return a(r.objectType,n,"objectType",e,1),a(r.indexType,n,"indexType",t,1),n},t.inferredPredicate=function(){return{type:"InferredPredicate"}},t.interfaceDeclaration=function(e,t=null,n=null,r){const i={type:"InterfaceDeclaration",id:e,typeParameters:t,extends:n,body:r},s=o.InterfaceDeclaration;return a(s.id,i,"id",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.extends,i,"extends",n,1),a(s.body,i,"body",r,1),i},t.interfaceExtends=function(e,t=null){const n={type:"InterfaceExtends",id:e,typeParameters:t},r=o.InterfaceExtends;return a(r.id,n,"id",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.interfaceTypeAnnotation=function(e=null,t){const n={type:"InterfaceTypeAnnotation",extends:e,body:t},r=o.InterfaceTypeAnnotation;return a(r.extends,n,"extends",e,1),a(r.body,n,"body",t,1),n},t.interpreterDirective=function(e){const t={type:"InterpreterDirective",value:e},n=o.InterpreterDirective;return a(n.value,t,"value",e),t},t.intersectionTypeAnnotation=function(e){const t={type:"IntersectionTypeAnnotation",types:e},n=o.IntersectionTypeAnnotation;return a(n.types,t,"types",e,1),t},t.jSXAttribute=t.jsxAttribute=function(e,t=null){const n={type:"JSXAttribute",name:e,value:t},r=o.JSXAttribute;return a(r.name,n,"name",e,1),a(r.value,n,"value",t,1),n},t.jSXClosingElement=t.jsxClosingElement=function(e){const t={type:"JSXClosingElement",name:e},n=o.JSXClosingElement;return a(n.name,t,"name",e,1),t},t.jSXClosingFragment=t.jsxClosingFragment=function(){return{type:"JSXClosingFragment"}},t.jSXElement=t.jsxElement=function(e,t=null,n,r=null){const i={type:"JSXElement",openingElement:e,closingElement:t,children:n,selfClosing:r},s=o.JSXElement;return a(s.openingElement,i,"openingElement",e,1),a(s.closingElement,i,"closingElement",t,1),a(s.children,i,"children",n,1),a(s.selfClosing,i,"selfClosing",r),i},t.jSXEmptyExpression=t.jsxEmptyExpression=function(){return{type:"JSXEmptyExpression"}},t.jSXExpressionContainer=t.jsxExpressionContainer=function(e){const t={type:"JSXExpressionContainer",expression:e},n=o.JSXExpressionContainer;return a(n.expression,t,"expression",e,1),t},t.jSXFragment=t.jsxFragment=function(e,t,n){const r={type:"JSXFragment",openingFragment:e,closingFragment:t,children:n},i=o.JSXFragment;return a(i.openingFragment,r,"openingFragment",e,1),a(i.closingFragment,r,"closingFragment",t,1),a(i.children,r,"children",n,1),r},t.jSXIdentifier=t.jsxIdentifier=function(e){const t={type:"JSXIdentifier",name:e},n=o.JSXIdentifier;return a(n.name,t,"name",e),t},t.jSXMemberExpression=t.jsxMemberExpression=function(e,t){const n={type:"JSXMemberExpression",object:e,property:t},r=o.JSXMemberExpression;return a(r.object,n,"object",e,1),a(r.property,n,"property",t,1),n},t.jSXNamespacedName=t.jsxNamespacedName=function(e,t){const n={type:"JSXNamespacedName",namespace:e,name:t},r=o.JSXNamespacedName;return a(r.namespace,n,"namespace",e,1),a(r.name,n,"name",t,1),n},t.jSXOpeningElement=t.jsxOpeningElement=function(e,t,n=!1){const r={type:"JSXOpeningElement",name:e,attributes:t,selfClosing:n},i=o.JSXOpeningElement;return a(i.name,r,"name",e,1),a(i.attributes,r,"attributes",t,1),a(i.selfClosing,r,"selfClosing",n),r},t.jSXOpeningFragment=t.jsxOpeningFragment=function(){return{type:"JSXOpeningFragment"}},t.jSXSpreadAttribute=t.jsxSpreadAttribute=function(e){const t={type:"JSXSpreadAttribute",argument:e},n=o.JSXSpreadAttribute;return a(n.argument,t,"argument",e,1),t},t.jSXSpreadChild=t.jsxSpreadChild=function(e){const t={type:"JSXSpreadChild",expression:e},n=o.JSXSpreadChild;return a(n.expression,t,"expression",e,1),t},t.jSXText=t.jsxText=function(e){const t={type:"JSXText",value:e},n=o.JSXText;return a(n.value,t,"value",e),t},t.labeledStatement=function(e,t){const n={type:"LabeledStatement",label:e,body:t},r=o.LabeledStatement;return a(r.label,n,"label",e,1),a(r.body,n,"body",t,1),n},t.logicalExpression=function(e,t,n){const r={type:"LogicalExpression",operator:e,left:t,right:n},i=o.LogicalExpression;return a(i.operator,r,"operator",e),a(i.left,r,"left",t,1),a(i.right,r,"right",n,1),r},t.memberExpression=function(e,t,n=!1,r=null){const i={type:"MemberExpression",object:e,property:t,computed:n,optional:r},s=o.MemberExpression;return a(s.object,i,"object",e,1),a(s.property,i,"property",t,1),a(s.computed,i,"computed",n),a(s.optional,i,"optional",r),i},t.metaProperty=function(e,t){const n={type:"MetaProperty",meta:e,property:t},r=o.MetaProperty;return a(r.meta,n,"meta",e,1),a(r.property,n,"property",t,1),n},t.mixedTypeAnnotation=function(){return{type:"MixedTypeAnnotation"}},t.moduleExpression=function(e){const t={type:"ModuleExpression",body:e},n=o.ModuleExpression;return a(n.body,t,"body",e,1),t},t.newExpression=function(e,t){const n={type:"NewExpression",callee:e,arguments:t},r=o.NewExpression;return a(r.callee,n,"callee",e,1),a(r.arguments,n,"arguments",t,1),n},t.noop=function(){return{type:"Noop"}},t.nullLiteral=function(){return{type:"NullLiteral"}},t.nullLiteralTypeAnnotation=function(){return{type:"NullLiteralTypeAnnotation"}},t.nullableTypeAnnotation=function(e){const t={type:"NullableTypeAnnotation",typeAnnotation:e},n=o.NullableTypeAnnotation;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.numberLiteral=function(e){return(0,i.default)("NumberLiteral","NumericLiteral","The node type "),c(e)},t.numberLiteralTypeAnnotation=function(e){const t={type:"NumberLiteralTypeAnnotation",value:e},n=o.NumberLiteralTypeAnnotation;return a(n.value,t,"value",e),t},t.numberTypeAnnotation=function(){return{type:"NumberTypeAnnotation"}},t.numericLiteral=c,t.objectExpression=function(e){const t={type:"ObjectExpression",properties:e},n=o.ObjectExpression;return a(n.properties,t,"properties",e,1),t},t.objectMethod=function(e="method",t,n,r,i=!1,s=!1,c=!1){const l={type:"ObjectMethod",kind:e,key:t,params:n,body:r,computed:i,generator:s,async:c},u=o.ObjectMethod;return a(u.kind,l,"kind",e),a(u.key,l,"key",t,1),a(u.params,l,"params",n,1),a(u.body,l,"body",r,1),a(u.computed,l,"computed",i),a(u.generator,l,"generator",s),a(u.async,l,"async",c),l},t.objectPattern=function(e){const t={type:"ObjectPattern",properties:e},n=o.ObjectPattern;return a(n.properties,t,"properties",e,1),t},t.objectProperty=function(e,t,n=!1,r=!1,i=null){const s={type:"ObjectProperty",key:e,value:t,computed:n,shorthand:r,decorators:i},c=o.ObjectProperty;return a(c.key,s,"key",e,1),a(c.value,s,"value",t,1),a(c.computed,s,"computed",n),a(c.shorthand,s,"shorthand",r),a(c.decorators,s,"decorators",i,1),s},t.objectTypeAnnotation=function(e,t=[],n=[],r=[],i=!1){const s={type:"ObjectTypeAnnotation",properties:e,indexers:t,callProperties:n,internalSlots:r,exact:i},c=o.ObjectTypeAnnotation;return a(c.properties,s,"properties",e,1),a(c.indexers,s,"indexers",t,1),a(c.callProperties,s,"callProperties",n,1),a(c.internalSlots,s,"internalSlots",r,1),a(c.exact,s,"exact",i),s},t.objectTypeCallProperty=function(e){const t={type:"ObjectTypeCallProperty",value:e,static:null},n=o.ObjectTypeCallProperty;return a(n.value,t,"value",e,1),t},t.objectTypeIndexer=function(e=null,t,n,r=null){const i={type:"ObjectTypeIndexer",id:e,key:t,value:n,variance:r,static:null},s=o.ObjectTypeIndexer;return a(s.id,i,"id",e,1),a(s.key,i,"key",t,1),a(s.value,i,"value",n,1),a(s.variance,i,"variance",r,1),i},t.objectTypeInternalSlot=function(e,t,n,r,i){const s={type:"ObjectTypeInternalSlot",id:e,value:t,optional:n,static:r,method:i},c=o.ObjectTypeInternalSlot;return a(c.id,s,"id",e,1),a(c.value,s,"value",t,1),a(c.optional,s,"optional",n),a(c.static,s,"static",r),a(c.method,s,"method",i),s},t.objectTypeProperty=function(e,t,n=null){const r={type:"ObjectTypeProperty",key:e,value:t,variance:n,kind:null,method:null,optional:null,proto:null,static:null},i=o.ObjectTypeProperty;return a(i.key,r,"key",e,1),a(i.value,r,"value",t,1),a(i.variance,r,"variance",n,1),r},t.objectTypeSpreadProperty=function(e){const t={type:"ObjectTypeSpreadProperty",argument:e},n=o.ObjectTypeSpreadProperty;return a(n.argument,t,"argument",e,1),t},t.opaqueType=function(e,t=null,n=null,r){const i={type:"OpaqueType",id:e,typeParameters:t,supertype:n,impltype:r},s=o.OpaqueType;return a(s.id,i,"id",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.supertype,i,"supertype",n,1),a(s.impltype,i,"impltype",r,1),i},t.optionalCallExpression=function(e,t,n){const r={type:"OptionalCallExpression",callee:e,arguments:t,optional:n},i=o.OptionalCallExpression;return a(i.callee,r,"callee",e,1),a(i.arguments,r,"arguments",t,1),a(i.optional,r,"optional",n),r},t.optionalIndexedAccessType=function(e,t){const n={type:"OptionalIndexedAccessType",objectType:e,indexType:t,optional:null},r=o.OptionalIndexedAccessType;return a(r.objectType,n,"objectType",e,1),a(r.indexType,n,"indexType",t,1),n},t.optionalMemberExpression=function(e,t,n=!1,r){const i={type:"OptionalMemberExpression",object:e,property:t,computed:n,optional:r},s=o.OptionalMemberExpression;return a(s.object,i,"object",e,1),a(s.property,i,"property",t,1),a(s.computed,i,"computed",n),a(s.optional,i,"optional",r),i},t.parenthesizedExpression=function(e){const t={type:"ParenthesizedExpression",expression:e},n=o.ParenthesizedExpression;return a(n.expression,t,"expression",e,1),t},t.pipelineBareFunction=function(e){const t={type:"PipelineBareFunction",callee:e},n=o.PipelineBareFunction;return a(n.callee,t,"callee",e,1),t},t.pipelinePrimaryTopicReference=function(){return{type:"PipelinePrimaryTopicReference"}},t.pipelineTopicExpression=function(e){const t={type:"PipelineTopicExpression",expression:e},n=o.PipelineTopicExpression;return a(n.expression,t,"expression",e,1),t},t.placeholder=function(e,t){const n={type:"Placeholder",expectedNode:e,name:t},r=o.Placeholder;return a(r.expectedNode,n,"expectedNode",e),a(r.name,n,"name",t,1),n},t.privateName=function(e){const t={type:"PrivateName",id:e},n=o.PrivateName;return a(n.id,t,"id",e,1),t},t.program=function(e,t=[],n="script",r=null){const i={type:"Program",body:e,directives:t,sourceType:n,interpreter:r},s=o.Program;return a(s.body,i,"body",e,1),a(s.directives,i,"directives",t,1),a(s.sourceType,i,"sourceType",n),a(s.interpreter,i,"interpreter",r,1),i},t.qualifiedTypeIdentifier=function(e,t){const n={type:"QualifiedTypeIdentifier",id:e,qualification:t},r=o.QualifiedTypeIdentifier;return a(r.id,n,"id",e,1),a(r.qualification,n,"qualification",t,1),n},t.recordExpression=function(e){const t={type:"RecordExpression",properties:e},n=o.RecordExpression;return a(n.properties,t,"properties",e,1),t},t.regExpLiteral=l,t.regexLiteral=function(e,t=""){return(0,i.default)("RegexLiteral","RegExpLiteral","The node type "),l(e,t)},t.restElement=u,t.restProperty=function(e){return(0,i.default)("RestProperty","RestElement","The node type "),u(e)},t.returnStatement=function(e=null){const t={type:"ReturnStatement",argument:e},n=o.ReturnStatement;return a(n.argument,t,"argument",e,1),t},t.sequenceExpression=function(e){const t={type:"SequenceExpression",expressions:e},n=o.SequenceExpression;return a(n.expressions,t,"expressions",e,1),t},t.spreadElement=d,t.spreadProperty=function(e){return(0,i.default)("SpreadProperty","SpreadElement","The node type "),d(e)},t.staticBlock=function(e){const t={type:"StaticBlock",body:e},n=o.StaticBlock;return a(n.body,t,"body",e,1),t},t.stringLiteral=function(e){const t={type:"StringLiteral",value:e},n=o.StringLiteral;return a(n.value,t,"value",e),t},t.stringLiteralTypeAnnotation=function(e){const t={type:"StringLiteralTypeAnnotation",value:e},n=o.StringLiteralTypeAnnotation;return a(n.value,t,"value",e),t},t.stringTypeAnnotation=function(){return{type:"StringTypeAnnotation"}},t.super=function(){return{type:"Super"}},t.switchCase=function(e=null,t){const n={type:"SwitchCase",test:e,consequent:t},r=o.SwitchCase;return a(r.test,n,"test",e,1),a(r.consequent,n,"consequent",t,1),n},t.switchStatement=function(e,t){const n={type:"SwitchStatement",discriminant:e,cases:t},r=o.SwitchStatement;return a(r.discriminant,n,"discriminant",e,1),a(r.cases,n,"cases",t,1),n},t.symbolTypeAnnotation=function(){return{type:"SymbolTypeAnnotation"}},t.taggedTemplateExpression=function(e,t){const n={type:"TaggedTemplateExpression",tag:e,quasi:t},r=o.TaggedTemplateExpression;return a(r.tag,n,"tag",e,1),a(r.quasi,n,"quasi",t,1),n},t.templateElement=function(e,t=!1){const n={type:"TemplateElement",value:e,tail:t},r=o.TemplateElement;return a(r.value,n,"value",e),a(r.tail,n,"tail",t),n},t.templateLiteral=function(e,t){const n={type:"TemplateLiteral",quasis:e,expressions:t},r=o.TemplateLiteral;return a(r.quasis,n,"quasis",e,1),a(r.expressions,n,"expressions",t,1),n},t.thisExpression=function(){return{type:"ThisExpression"}},t.thisTypeAnnotation=function(){return{type:"ThisTypeAnnotation"}},t.throwStatement=function(e){const t={type:"ThrowStatement",argument:e},n=o.ThrowStatement;return a(n.argument,t,"argument",e,1),t},t.topicReference=function(){return{type:"TopicReference"}},t.tryStatement=function(e,t=null,n=null){const r={type:"TryStatement",block:e,handler:t,finalizer:n},i=o.TryStatement;return a(i.block,r,"block",e,1),a(i.handler,r,"handler",t,1),a(i.finalizer,r,"finalizer",n,1),r},t.tSAnyKeyword=t.tsAnyKeyword=function(){return{type:"TSAnyKeyword"}},t.tSArrayType=t.tsArrayType=function(e){const t={type:"TSArrayType",elementType:e},n=o.TSArrayType;return a(n.elementType,t,"elementType",e,1),t},t.tSAsExpression=t.tsAsExpression=function(e,t){const n={type:"TSAsExpression",expression:e,typeAnnotation:t},r=o.TSAsExpression;return a(r.expression,n,"expression",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSBigIntKeyword=t.tsBigIntKeyword=function(){return{type:"TSBigIntKeyword"}},t.tSBooleanKeyword=t.tsBooleanKeyword=function(){return{type:"TSBooleanKeyword"}},t.tSCallSignatureDeclaration=t.tsCallSignatureDeclaration=function(e=null,t,n=null){const r={type:"TSCallSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n},i=o.TSCallSignatureDeclaration;return a(i.typeParameters,r,"typeParameters",e,1),a(i.parameters,r,"parameters",t,1),a(i.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSConditionalType=t.tsConditionalType=function(e,t,n,r){const i={type:"TSConditionalType",checkType:e,extendsType:t,trueType:n,falseType:r},s=o.TSConditionalType;return a(s.checkType,i,"checkType",e,1),a(s.extendsType,i,"extendsType",t,1),a(s.trueType,i,"trueType",n,1),a(s.falseType,i,"falseType",r,1),i},t.tSConstructSignatureDeclaration=t.tsConstructSignatureDeclaration=function(e=null,t,n=null){const r={type:"TSConstructSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n},i=o.TSConstructSignatureDeclaration;return a(i.typeParameters,r,"typeParameters",e,1),a(i.parameters,r,"parameters",t,1),a(i.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSConstructorType=t.tsConstructorType=function(e=null,t,n=null){const r={type:"TSConstructorType",typeParameters:e,parameters:t,typeAnnotation:n},i=o.TSConstructorType;return a(i.typeParameters,r,"typeParameters",e,1),a(i.parameters,r,"parameters",t,1),a(i.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSDeclareFunction=t.tsDeclareFunction=function(e=null,t=null,n,r=null){const i={type:"TSDeclareFunction",id:e,typeParameters:t,params:n,returnType:r},s=o.TSDeclareFunction;return a(s.id,i,"id",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.params,i,"params",n,1),a(s.returnType,i,"returnType",r,1),i},t.tSDeclareMethod=t.tsDeclareMethod=function(e=null,t,n=null,r,i=null){const s={type:"TSDeclareMethod",decorators:e,key:t,typeParameters:n,params:r,returnType:i},c=o.TSDeclareMethod;return a(c.decorators,s,"decorators",e,1),a(c.key,s,"key",t,1),a(c.typeParameters,s,"typeParameters",n,1),a(c.params,s,"params",r,1),a(c.returnType,s,"returnType",i,1),s},t.tSEnumBody=t.tsEnumBody=function(e){const t={type:"TSEnumBody",members:e},n=o.TSEnumBody;return a(n.members,t,"members",e,1),t},t.tSEnumDeclaration=t.tsEnumDeclaration=function(e,t){const n={type:"TSEnumDeclaration",id:e,members:t},r=o.TSEnumDeclaration;return a(r.id,n,"id",e,1),a(r.members,n,"members",t,1),n},t.tSEnumMember=t.tsEnumMember=function(e,t=null){const n={type:"TSEnumMember",id:e,initializer:t},r=o.TSEnumMember;return a(r.id,n,"id",e,1),a(r.initializer,n,"initializer",t,1),n},t.tSExportAssignment=t.tsExportAssignment=function(e){const t={type:"TSExportAssignment",expression:e},n=o.TSExportAssignment;return a(n.expression,t,"expression",e,1),t},t.tSExpressionWithTypeArguments=t.tsExpressionWithTypeArguments=function(e,t=null){const n={type:"TSExpressionWithTypeArguments",expression:e,typeParameters:t},r=o.TSExpressionWithTypeArguments;return a(r.expression,n,"expression",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSExternalModuleReference=t.tsExternalModuleReference=function(e){const t={type:"TSExternalModuleReference",expression:e},n=o.TSExternalModuleReference;return a(n.expression,t,"expression",e,1),t},t.tSFunctionType=t.tsFunctionType=function(e=null,t,n=null){const r={type:"TSFunctionType",typeParameters:e,parameters:t,typeAnnotation:n},i=o.TSFunctionType;return a(i.typeParameters,r,"typeParameters",e,1),a(i.parameters,r,"parameters",t,1),a(i.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSImportEqualsDeclaration=t.tsImportEqualsDeclaration=function(e,t){const n={type:"TSImportEqualsDeclaration",id:e,moduleReference:t,isExport:null},r=o.TSImportEqualsDeclaration;return a(r.id,n,"id",e,1),a(r.moduleReference,n,"moduleReference",t,1),n},t.tSImportType=t.tsImportType=function(e,t=null,n=null){const r={type:"TSImportType",argument:e,qualifier:t,typeParameters:n},i=o.TSImportType;return a(i.argument,r,"argument",e,1),a(i.qualifier,r,"qualifier",t,1),a(i.typeParameters,r,"typeParameters",n,1),r},t.tSIndexSignature=t.tsIndexSignature=function(e,t=null){const n={type:"TSIndexSignature",parameters:e,typeAnnotation:t},r=o.TSIndexSignature;return a(r.parameters,n,"parameters",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSIndexedAccessType=t.tsIndexedAccessType=function(e,t){const n={type:"TSIndexedAccessType",objectType:e,indexType:t},r=o.TSIndexedAccessType;return a(r.objectType,n,"objectType",e,1),a(r.indexType,n,"indexType",t,1),n},t.tSInferType=t.tsInferType=function(e){const t={type:"TSInferType",typeParameter:e},n=o.TSInferType;return a(n.typeParameter,t,"typeParameter",e,1),t},t.tSInstantiationExpression=t.tsInstantiationExpression=function(e,t=null){const n={type:"TSInstantiationExpression",expression:e,typeParameters:t},r=o.TSInstantiationExpression;return a(r.expression,n,"expression",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSInterfaceBody=t.tsInterfaceBody=function(e){const t={type:"TSInterfaceBody",body:e},n=o.TSInterfaceBody;return a(n.body,t,"body",e,1),t},t.tSInterfaceDeclaration=t.tsInterfaceDeclaration=function(e,t=null,n=null,r){const i={type:"TSInterfaceDeclaration",id:e,typeParameters:t,extends:n,body:r},s=o.TSInterfaceDeclaration;return a(s.id,i,"id",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.extends,i,"extends",n,1),a(s.body,i,"body",r,1),i},t.tSIntersectionType=t.tsIntersectionType=function(e){const t={type:"TSIntersectionType",types:e},n=o.TSIntersectionType;return a(n.types,t,"types",e,1),t},t.tSIntrinsicKeyword=t.tsIntrinsicKeyword=function(){return{type:"TSIntrinsicKeyword"}},t.tSLiteralType=t.tsLiteralType=function(e){const t={type:"TSLiteralType",literal:e},n=o.TSLiteralType;return a(n.literal,t,"literal",e,1),t},t.tSMappedType=t.tsMappedType=function(e,t=null,n=null){const r={type:"TSMappedType",typeParameter:e,typeAnnotation:t,nameType:n},i=o.TSMappedType;return a(i.typeParameter,r,"typeParameter",e,1),a(i.typeAnnotation,r,"typeAnnotation",t,1),a(i.nameType,r,"nameType",n,1),r},t.tSMethodSignature=t.tsMethodSignature=function(e,t=null,n,r=null){const i={type:"TSMethodSignature",key:e,typeParameters:t,parameters:n,typeAnnotation:r,kind:null},s=o.TSMethodSignature;return a(s.key,i,"key",e,1),a(s.typeParameters,i,"typeParameters",t,1),a(s.parameters,i,"parameters",n,1),a(s.typeAnnotation,i,"typeAnnotation",r,1),i},t.tSModuleBlock=t.tsModuleBlock=function(e){const t={type:"TSModuleBlock",body:e},n=o.TSModuleBlock;return a(n.body,t,"body",e,1),t},t.tSModuleDeclaration=t.tsModuleDeclaration=function(e,t){const n={type:"TSModuleDeclaration",id:e,body:t,kind:null},r=o.TSModuleDeclaration;return a(r.id,n,"id",e,1),a(r.body,n,"body",t,1),n},t.tSNamedTupleMember=t.tsNamedTupleMember=function(e,t,n=!1){const r={type:"TSNamedTupleMember",label:e,elementType:t,optional:n},i=o.TSNamedTupleMember;return a(i.label,r,"label",e,1),a(i.elementType,r,"elementType",t,1),a(i.optional,r,"optional",n),r},t.tSNamespaceExportDeclaration=t.tsNamespaceExportDeclaration=function(e){const t={type:"TSNamespaceExportDeclaration",id:e},n=o.TSNamespaceExportDeclaration;return a(n.id,t,"id",e,1),t},t.tSNeverKeyword=t.tsNeverKeyword=function(){return{type:"TSNeverKeyword"}},t.tSNonNullExpression=t.tsNonNullExpression=function(e){const t={type:"TSNonNullExpression",expression:e},n=o.TSNonNullExpression;return a(n.expression,t,"expression",e,1),t},t.tSNullKeyword=t.tsNullKeyword=function(){return{type:"TSNullKeyword"}},t.tSNumberKeyword=t.tsNumberKeyword=function(){return{type:"TSNumberKeyword"}},t.tSObjectKeyword=t.tsObjectKeyword=function(){return{type:"TSObjectKeyword"}},t.tSOptionalType=t.tsOptionalType=function(e){const t={type:"TSOptionalType",typeAnnotation:e},n=o.TSOptionalType;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSParameterProperty=t.tsParameterProperty=function(e){const t={type:"TSParameterProperty",parameter:e},n=o.TSParameterProperty;return a(n.parameter,t,"parameter",e,1),t},t.tSParenthesizedType=t.tsParenthesizedType=function(e){const t={type:"TSParenthesizedType",typeAnnotation:e},n=o.TSParenthesizedType;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSPropertySignature=t.tsPropertySignature=function(e,t=null){const n={type:"TSPropertySignature",key:e,typeAnnotation:t},r=o.TSPropertySignature;return a(r.key,n,"key",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSQualifiedName=t.tsQualifiedName=function(e,t){const n={type:"TSQualifiedName",left:e,right:t},r=o.TSQualifiedName;return a(r.left,n,"left",e,1),a(r.right,n,"right",t,1),n},t.tSRestType=t.tsRestType=function(e){const t={type:"TSRestType",typeAnnotation:e},n=o.TSRestType;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSSatisfiesExpression=t.tsSatisfiesExpression=function(e,t){const n={type:"TSSatisfiesExpression",expression:e,typeAnnotation:t},r=o.TSSatisfiesExpression;return a(r.expression,n,"expression",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSStringKeyword=t.tsStringKeyword=function(){return{type:"TSStringKeyword"}},t.tSSymbolKeyword=t.tsSymbolKeyword=function(){return{type:"TSSymbolKeyword"}},t.tSTemplateLiteralType=t.tsTemplateLiteralType=function(e,t){const n={type:"TSTemplateLiteralType",quasis:e,types:t},r=o.TSTemplateLiteralType;return a(r.quasis,n,"quasis",e,1),a(r.types,n,"types",t,1),n},t.tSThisType=t.tsThisType=function(){return{type:"TSThisType"}},t.tSTupleType=t.tsTupleType=function(e){const t={type:"TSTupleType",elementTypes:e},n=o.TSTupleType;return a(n.elementTypes,t,"elementTypes",e,1),t},t.tSTypeAliasDeclaration=t.tsTypeAliasDeclaration=function(e,t=null,n){const r={type:"TSTypeAliasDeclaration",id:e,typeParameters:t,typeAnnotation:n},i=o.TSTypeAliasDeclaration;return a(i.id,r,"id",e,1),a(i.typeParameters,r,"typeParameters",t,1),a(i.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSTypeAnnotation=t.tsTypeAnnotation=function(e){const t={type:"TSTypeAnnotation",typeAnnotation:e},n=o.TSTypeAnnotation;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSTypeAssertion=t.tsTypeAssertion=function(e,t){const n={type:"TSTypeAssertion",typeAnnotation:e,expression:t},r=o.TSTypeAssertion;return a(r.typeAnnotation,n,"typeAnnotation",e,1),a(r.expression,n,"expression",t,1),n},t.tSTypeLiteral=t.tsTypeLiteral=function(e){const t={type:"TSTypeLiteral",members:e},n=o.TSTypeLiteral;return a(n.members,t,"members",e,1),t},t.tSTypeOperator=t.tsTypeOperator=function(e,t="keyof"){const n={type:"TSTypeOperator",typeAnnotation:e,operator:t},r=o.TSTypeOperator;return a(r.typeAnnotation,n,"typeAnnotation",e,1),a(r.operator,n,"operator",t),n},t.tSTypeParameter=t.tsTypeParameter=function(e=null,t=null,n){const r={type:"TSTypeParameter",constraint:e,default:t,name:n},i=o.TSTypeParameter;return a(i.constraint,r,"constraint",e,1),a(i.default,r,"default",t,1),a(i.name,r,"name",n),r},t.tSTypeParameterDeclaration=t.tsTypeParameterDeclaration=function(e){const t={type:"TSTypeParameterDeclaration",params:e},n=o.TSTypeParameterDeclaration;return a(n.params,t,"params",e,1),t},t.tSTypeParameterInstantiation=t.tsTypeParameterInstantiation=function(e){const t={type:"TSTypeParameterInstantiation",params:e},n=o.TSTypeParameterInstantiation;return a(n.params,t,"params",e,1),t},t.tSTypePredicate=t.tsTypePredicate=function(e,t=null,n=null){const r={type:"TSTypePredicate",parameterName:e,typeAnnotation:t,asserts:n},i=o.TSTypePredicate;return a(i.parameterName,r,"parameterName",e,1),a(i.typeAnnotation,r,"typeAnnotation",t,1),a(i.asserts,r,"asserts",n),r},t.tSTypeQuery=t.tsTypeQuery=function(e,t=null){const n={type:"TSTypeQuery",exprName:e,typeParameters:t},r=o.TSTypeQuery;return a(r.exprName,n,"exprName",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSTypeReference=t.tsTypeReference=function(e,t=null){const n={type:"TSTypeReference",typeName:e,typeParameters:t},r=o.TSTypeReference;return a(r.typeName,n,"typeName",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSUndefinedKeyword=t.tsUndefinedKeyword=function(){return{type:"TSUndefinedKeyword"}},t.tSUnionType=t.tsUnionType=function(e){const t={type:"TSUnionType",types:e},n=o.TSUnionType;return a(n.types,t,"types",e,1),t},t.tSUnknownKeyword=t.tsUnknownKeyword=function(){return{type:"TSUnknownKeyword"}},t.tSVoidKeyword=t.tsVoidKeyword=function(){return{type:"TSVoidKeyword"}},t.tupleExpression=function(e=[]){const t={type:"TupleExpression",elements:e},n=o.TupleExpression;return a(n.elements,t,"elements",e,1),t},t.tupleTypeAnnotation=function(e){const t={type:"TupleTypeAnnotation",types:e},n=o.TupleTypeAnnotation;return a(n.types,t,"types",e,1),t},t.typeAlias=function(e,t=null,n){const r={type:"TypeAlias",id:e,typeParameters:t,right:n},i=o.TypeAlias;return a(i.id,r,"id",e,1),a(i.typeParameters,r,"typeParameters",t,1),a(i.right,r,"right",n,1),r},t.typeAnnotation=function(e){const t={type:"TypeAnnotation",typeAnnotation:e},n=o.TypeAnnotation;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.typeCastExpression=function(e,t){const n={type:"TypeCastExpression",expression:e,typeAnnotation:t},r=o.TypeCastExpression;return a(r.expression,n,"expression",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.typeParameter=function(e=null,t=null,n=null){const r={type:"TypeParameter",bound:e,default:t,variance:n,name:null},i=o.TypeParameter;return a(i.bound,r,"bound",e,1),a(i.default,r,"default",t,1),a(i.variance,r,"variance",n,1),r},t.typeParameterDeclaration=function(e){const t={type:"TypeParameterDeclaration",params:e},n=o.TypeParameterDeclaration;return a(n.params,t,"params",e,1),t},t.typeParameterInstantiation=function(e){const t={type:"TypeParameterInstantiation",params:e},n=o.TypeParameterInstantiation;return a(n.params,t,"params",e,1),t},t.typeofTypeAnnotation=function(e){const t={type:"TypeofTypeAnnotation",argument:e},n=o.TypeofTypeAnnotation;return a(n.argument,t,"argument",e,1),t},t.unaryExpression=function(e,t,n=!0){const r={type:"UnaryExpression",operator:e,argument:t,prefix:n},i=o.UnaryExpression;return a(i.operator,r,"operator",e),a(i.argument,r,"argument",t,1),a(i.prefix,r,"prefix",n),r},t.unionTypeAnnotation=function(e){const t={type:"UnionTypeAnnotation",types:e},n=o.UnionTypeAnnotation;return a(n.types,t,"types",e,1),t},t.updateExpression=function(e,t,n=!1){const r={type:"UpdateExpression",operator:e,argument:t,prefix:n},i=o.UpdateExpression;return a(i.operator,r,"operator",e),a(i.argument,r,"argument",t,1),a(i.prefix,r,"prefix",n),r},t.v8IntrinsicIdentifier=function(e){const t={type:"V8IntrinsicIdentifier",name:e},n=o.V8IntrinsicIdentifier;return a(n.name,t,"name",e),t},t.variableDeclaration=function(e,t){const n={type:"VariableDeclaration",kind:e,declarations:t},r=o.VariableDeclaration;return a(r.kind,n,"kind",e),a(r.declarations,n,"declarations",t,1),n},t.variableDeclarator=function(e,t=null){const n={type:"VariableDeclarator",id:e,init:t},r=o.VariableDeclarator;return a(r.id,n,"id",e,1),a(r.init,n,"init",t,1),n},t.variance=function(e){const t={type:"Variance",kind:e},n=o.Variance;return a(n.kind,t,"kind",e),t},t.voidPattern=function(){return{type:"VoidPattern"}},t.voidTypeAnnotation=function(){return{type:"VoidTypeAnnotation"}},t.whileStatement=function(e,t){const n={type:"WhileStatement",test:e,body:t},r=o.WhileStatement;return a(r.test,n,"test",e,1),a(r.body,n,"body",t,1),n},t.withStatement=function(e,t){const n={type:"WithStatement",object:e,body:t},r=o.WithStatement;return a(r.object,n,"object",e,1),a(r.body,n,"body",t,1),n},t.yieldExpression=function(e=null,t=!1){const n={type:"YieldExpression",argument:e,delegate:t},r=o.YieldExpression;return a(r.argument,n,"argument",e,1),a(r.delegate,n,"delegate",t),n};var r=n(57446),i=n(63762),s=n(77596);const{validateInternal:a}=r,{NODE_FIELDS:o}=s;function c(e){const t={type:"NumericLiteral",value:e},n=o.NumericLiteral;return a(n.value,t,"value",e),t}function l(e,t=""){const n={type:"RegExpLiteral",pattern:e,flags:t},r=o.RegExpLiteral;return a(r.pattern,n,"pattern",e),a(r.flags,n,"flags",t),n}function u(e){const t={type:"RestElement",argument:e},n=o.RestElement;return a(n.argument,t,"argument",e,1),t}function d(e){const t={type:"SpreadElement",argument:e},n=o.SpreadElement;return a(n.argument,t,"argument",e,1),t}},23740:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(7346),i=n(51980),s=n(66596),a=n(26670),o=n(81430),c=n(99048),l={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:i}=e,{baseId:a,schemaEnv:c,validateName:l,opts:p,self:h}=i,{root:f}=c;if(("#"===n||"#/"===n)&&a===f.baseId)return function(){if(c===f)return d(e,l,c,c.$async);const n=t.scopeValue("root",{ref:f});return d(e,s._`${n}.validate`,f,f.$async)}();const m=o.resolveRef.call(h,f,a,n);if(void 0===m)throw new r.default(i.opts.uriResolver,a,n);return m instanceof o.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(r){const i=t.scopeValue("schema",!0===p.code.source?{ref:r,code:(0,s.stringify)(r)}:{ref:r}),a=t.name("valid"),o=e.subschema({schema:r,dataTypes:[],schemaPath:s.nil,topSchemaRef:i,errSchemaPath:n},a);e.mergeEvaluated(o),e.ok(a)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):s._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,r){const{gen:o,it:l}=e,{allErrors:u,schemaEnv:d,opts:p}=l,h=p.passContext?a.default.this:s.nil;function f(e){const t=s._`${e}.errors`;o.assign(a.default.vErrors,s._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`),o.assign(a.default.errors,s._`${a.default.vErrors}.length`)}function m(e){var t;if(!l.opts.unevaluated)return;const r=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==l.props)if(r&&!r.dynamicProps)void 0!==r.props&&(l.props=c.mergeEvaluated.props(o,r.props,l.props));else{const t=o.var("props",s._`${e}.evaluated.props`);l.props=c.mergeEvaluated.props(o,t,l.props,s.Name)}if(!0!==l.items)if(r&&!r.dynamicItems)void 0!==r.items&&(l.items=c.mergeEvaluated.items(o,r.items,l.items));else{const t=o.var("items",s._`${e}.evaluated.items`);l.items=c.mergeEvaluated.items(o,t,l.items,s.Name)}}r?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=o.let("valid");o.try(()=>{o.code(s._`await ${(0,i.callValidateCode)(e,t,h)}`),m(t),u||o.assign(n,!0)},e=>{o.if(s._`!(${e} instanceof ${l.ValidationError})`,()=>o.throw(e)),f(e),u||o.assign(n,!1)}),e.ok(n)}():e.result((0,i.callValidateCode)(e,t,h),()=>m(t),()=>f(t))}t.getValidate=u,t.callRef=d,t.default=l},23783:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fromJSONSchema=function(e,t){if("boolean"==typeof e)return e?a.any():a.never();const n=function(e,t){const n=e.$schema;return"https://json-schema.org/draft/2020-12/schema"===n?"draft-2020-12":"http://json-schema.org/draft-07/schema#"===n?"draft-7":"http://json-schema.org/draft-04/schema#"===n?"draft-4":t??"draft-2020-12"}(e,t?.defaultTarget);return c(e,{version:n,defs:e.$defs||e.definitions||{},refs:new Map,processing:new Set,rootSchema:e})};const a=s(n(51963));function o(e,t){if(void 0!==e.not){if("object"==typeof e.not&&0===Object.keys(e.not).length)return a.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(void 0!==e.unevaluatedItems)throw new Error("unevaluatedItems is not supported");if(void 0!==e.unevaluatedProperties)throw new Error("unevaluatedProperties is not supported");if(void 0!==e.if||void 0!==e.then||void 0!==e.else)throw new Error("Conditional schemas (if/then/else) are not supported");if(void 0!==e.dependentSchemas||void 0!==e.dependentRequired)throw new Error("dependentSchemas and dependentRequired are not supported");if(e.$ref){const n=e.$ref;if(t.refs.has(n))return t.refs.get(n);if(t.processing.has(n))return a.lazy(()=>{if(!t.refs.has(n))throw new Error(`Circular reference not resolved: ${n}`);return t.refs.get(n)});t.processing.add(n);const r=function(e,t){if(!e.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");const n=e.slice(1).split("/").filter(Boolean);if(0===n.length)return t.rootSchema;const r="draft-2020-12"===t.version?"$defs":"definitions";if(n[0]===r){const r=n[1];if(!r||!t.defs[r])throw new Error(`Reference not found: ${e}`);return t.defs[r]}throw new Error(`Reference not found: ${e}`)}(n,t),i=c(r,t);return t.refs.set(n,i),t.processing.delete(n),i}if(void 0!==e.enum){const n=e.enum;if("openapi-3.0"===t.version&&!0===e.nullable&&1===n.length&&null===n[0])return a.null();if(0===n.length)return a.never();if(1===n.length)return a.literal(n[0]);if(n.every(e=>"string"==typeof e))return a.enum(n);const r=n.map(e=>a.literal(e));return r.length<2?r[0]:a.union([r[0],r[1],...r.slice(2)])}if(void 0!==e.const)return a.literal(e.const);const n=e.type;if(Array.isArray(n)){const r=n.map(n=>o({...e,type:n},t));return 0===r.length?a.never():1===r.length?r[0]:a.union(r)}if(!n)return a.any();let r;switch(n){case"string":{let t=a.string();if(e.format){const n=e.format;"email"===n?t=t.check(a.email()):"uri"===n||"uri-reference"===n?t=t.check(a.url()):"uuid"===n||"guid"===n?t=t.check(a.uuid()):"date-time"===n?t=t.check(a.iso.datetime()):"date"===n?t=t.check(a.iso.date()):"time"===n?t=t.check(a.iso.time()):"duration"===n?t=t.check(a.iso.duration()):"ipv4"===n?t=t.check(a.ipv4()):"ipv6"===n?t=t.check(a.ipv6()):"mac"===n?t=t.check(a.mac()):"cidr"===n?t=t.check(a.cidrv4()):"cidr-v6"===n?t=t.check(a.cidrv6()):"base64"===n?t=t.check(a.base64()):"base64url"===n?t=t.check(a.base64url()):"e164"===n?t=t.check(a.e164()):"jwt"===n?t=t.check(a.jwt()):"emoji"===n?t=t.check(a.emoji()):"nanoid"===n?t=t.check(a.nanoid()):"cuid"===n?t=t.check(a.cuid()):"cuid2"===n?t=t.check(a.cuid2()):"ulid"===n?t=t.check(a.ulid()):"xid"===n?t=t.check(a.xid()):"ksuid"===n&&(t=t.check(a.ksuid()))}"number"==typeof e.minLength&&(t=t.min(e.minLength)),"number"==typeof e.maxLength&&(t=t.max(e.maxLength)),e.pattern&&(t=t.regex(new RegExp(e.pattern))),r=t;break}case"number":case"integer":{let t="integer"===n?a.number().int():a.number();"number"==typeof e.minimum&&(t=t.min(e.minimum)),"number"==typeof e.maximum&&(t=t.max(e.maximum)),"number"==typeof e.exclusiveMinimum?t=t.gt(e.exclusiveMinimum):!0===e.exclusiveMinimum&&"number"==typeof e.minimum&&(t=t.gt(e.minimum)),"number"==typeof e.exclusiveMaximum?t=t.lt(e.exclusiveMaximum):!0===e.exclusiveMaximum&&"number"==typeof e.maximum&&(t=t.lt(e.maximum)),"number"==typeof e.multipleOf&&(t=t.multipleOf(e.multipleOf)),r=t;break}case"boolean":r=a.boolean();break;case"null":r=a.null();break;case"object":{const n={},i=e.properties||{},s=new Set(e.required||[]);for(const[e,r]of Object.entries(i)){const i=c(r,t);n[e]=s.has(e)?i:i.optional()}if(e.propertyNames){const i=c(e.propertyNames,t),s=e.additionalProperties&&"object"==typeof e.additionalProperties?c(e.additionalProperties,t):a.any();if(0===Object.keys(n).length){r=a.record(i,s);break}const o=a.object(n).passthrough(),l=a.looseRecord(i,s);r=a.intersection(o,l);break}if(e.patternProperties){const i=e.patternProperties,s=Object.keys(i),o=[];for(const e of s){const n=c(i[e],t),r=a.string().regex(new RegExp(e));o.push(a.looseRecord(r,n))}const l=[];if(Object.keys(n).length>0&&l.push(a.object(n).passthrough()),l.push(...o),0===l.length)r=a.object({}).passthrough();else if(1===l.length)r=l[0];else{let e=a.intersection(l[0],l[1]);for(let t=2;t<l.length;t++)e=a.intersection(e,l[t]);r=e}break}const o=a.object(n);r=!1===e.additionalProperties?o.strict():"object"==typeof e.additionalProperties?o.catchall(c(e.additionalProperties,t)):o.passthrough();break}case"array":{const n=e.prefixItems,i=e.items;if(n&&Array.isArray(n)){const s=n.map(e=>c(e,t)),o=i&&"object"==typeof i&&!Array.isArray(i)?c(i,t):void 0;r=o?a.tuple(s).rest(o):a.tuple(s),"number"==typeof e.minItems&&(r=r.check(a.minLength(e.minItems))),"number"==typeof e.maxItems&&(r=r.check(a.maxLength(e.maxItems)))}else if(Array.isArray(i)){const n=i.map(e=>c(e,t)),s=e.additionalItems&&"object"==typeof e.additionalItems?c(e.additionalItems,t):void 0;r=s?a.tuple(n).rest(s):a.tuple(n),"number"==typeof e.minItems&&(r=r.check(a.minLength(e.minItems))),"number"==typeof e.maxItems&&(r=r.check(a.maxLength(e.maxItems)))}else if(void 0!==i){const n=c(i,t);let s=a.array(n);"number"==typeof e.minItems&&(s=s.min(e.minItems)),"number"==typeof e.maxItems&&(s=s.max(e.maxItems)),r=s}else r=a.array(a.any());break}default:throw new Error(`Unsupported type: ${n}`)}return e.description&&(r=r.describe(e.description)),void 0!==e.default&&(r=r.default(e.default)),r}function c(e,t){if("boolean"==typeof e)return e?a.any():a.never();let n=o(e,t);const r=e.type||void 0!==e.enum||void 0!==e.const;if(e.anyOf&&Array.isArray(e.anyOf)){const i=e.anyOf.map(e=>c(e,t)),s=a.union(i);n=r?a.intersection(n,s):s}if(e.oneOf&&Array.isArray(e.oneOf)){const i=e.oneOf.map(e=>c(e,t)),s=a.xor(i);n=r?a.intersection(n,s):s}if(e.allOf&&Array.isArray(e.allOf))if(0===e.allOf.length)n=r?n:a.any();else{let i=r?n:c(e.allOf[0],t);for(let n=r?0:1;n<e.allOf.length;n++)i=a.intersection(i,c(e.allOf[n],t));n=i}return!0===e.nullable&&"openapi-3.0"===t.version&&(n=a.nullable(n)),!0===e.readOnly&&(n=a.readonly(n)),n}},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},23874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2352),i=r,s=n(22264),a=n(34950),o=n(79578);const{getAssignmentIdentifiers:c}=i,l={ReferencedIdentifier({node:e},t){e.name===t.oldName&&(e.name=t.newName)},Scope(e,t){e.scope.bindingIdentifierEquals(t.oldName,t.binding.identifier)||(e.skip(),e.isMethod()&&(e.requeueComputedKeyAndDecorators?e.requeueComputedKeyAndDecorators():o.requeueComputedKeyAndDecorators.call(e)))},ObjectProperty({node:e,scope:t},n){const{name:r}=e.key;var i;!e.shorthand||r!==n.oldName&&r!==n.newName||t.getBindingIdentifier(r)!==n.binding.identifier||(e.shorthand=!1,null!=(i=e.extra)&&i.shorthand&&(e.extra.shorthand=!1))},"AssignmentExpression|Declaration|VariableDeclarator"(e,t){if(e.isVariableDeclaration())return;const n=e.isAssignmentExpression()?c(e.node):e.getOuterBindingIdentifiers();for(const e in n)e===t.oldName&&(n[e].name=t.newName)}};t.default=class{constructor(e,t,n){this.newName=n,this.oldName=t,this.binding=e}maybeConvertFromExportDeclaration(e){const t=e.parentPath;if(t.isExportDeclaration()){if(t.isExportDefaultDeclaration()){const{declaration:e}=t.node;if(r.isDeclaration(e)&&!e.id)return}t.isExportAllDeclaration()||t.splitExportDeclaration()}}maybeConvertFromClassFunctionDeclaration(e){return e}maybeConvertFromClassFunctionExpression(e){return e}rename(){const{binding:e,oldName:t,newName:n}=this,{scope:i,path:o}=e,c=o.find(e=>e.isDeclaration()||e.isFunctionExpression()||e.isClassExpression());c&&c.getOuterBindingIdentifiers()[t]===e.identifier&&this.maybeConvertFromExportDeclaration(c);const u=arguments[0]||i.block,d={discriminant:!0};r.isMethod(u)&&(u.computed&&(d.key=!0),r.isObjectMethod(u)||(d.decorators=!0)),(0,s.traverseNode)(u,(0,a.explode)(l),i,this,i.path,d),arguments[0]||(i.removeOwnBinding(t),i.bindings[n]=e,this.binding.identifier.name=n),c&&(this.maybeConvertFromClassFunctionDeclaration(o),this.maybeConvertFromClassFunctionExpression(o))}}},23991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientSecrets=void 0;const r=n(82040);class i extends r.APIResource{create(e,t){return this._client.post("/realtime/client_secrets",{body:e,...t})}}t.ClientSecrets=i},24290:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function t(t){return e[t]??null}const n={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"};return e=>{switch(e.code){case"invalid_type":return`Đầu vào không hợp lệ: mong đợi ${e.expected}, nhận được ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"số";case"object":if(Array.isArray(e))return"mảng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Đầu vào không hợp lệ: mong đợi ${a.stringifyPrimitive(e.values[0])}`:`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Quá lớn: mong đợi ${e.origin??"giá trị"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"phần tử"}`:`Quá lớn: mong đợi ${e.origin??"giá trị"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Quá nhỏ: mong đợi ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Quá nhỏ: mong đợi ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chuỗi không hợp lệ: phải bắt đầu bằng "${t.prefix}"`:"ends_with"===t.format?`Chuỗi không hợp lệ: phải kết thúc bằng "${t.suffix}"`:"includes"===t.format?`Chuỗi không hợp lệ: phải bao gồm "${t.includes}"`:"regex"===t.format?`Chuỗi không hợp lệ: phải khớp với mẫu ${t.pattern}`:`${n[t.format]??e.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${e.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${e.origin}`;case"invalid_union":default:return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${e.origin}`}}};e.exports=t.default},24362:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodRealError=t.$ZodError=void 0,t.flattenError=function(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}},t.formatError=function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>r({issues:e}));else if("invalid_key"===i.code)r({issues:i.issues});else if("invalid_element"===i.code)r({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n},t.treeifyError=function(e,t=e=>e.message){const n={errors:[]},r=(e,i=[])=>{var s,a;for(const o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>r({issues:e},o.path));else if("invalid_key"===o.code)r({issues:o.issues},o.path);else if("invalid_element"===o.code)r({issues:o.issues},o.path);else{const e=[...i,...o.path];if(0===e.length){n.errors.push(t(o));continue}let r=n,c=0;for(;c<e.length;){const n=e[c],i=c===e.length-1;"string"==typeof n?(r.properties??(r.properties={}),(s=r.properties)[n]??(s[n]={errors:[]}),r=r.properties[n]):(r.items??(r.items=[]),(a=r.items)[n]??(a[n]={errors:[]}),r=r.items[n]),i&&r.errors.push(t(o)),c++}}};return r(e),n},t.toDotPath=l,t.prettifyError=function(e){const t=[],n=[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length);for(const e of n)t.push(`✖ ${e.message}`),e.path?.length&&t.push(`  → at ${l(e.path)}`);return t.join("\n")};const a=n(98706),o=s(n(90523)),c=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,o.jsonStringifyReplacer,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})};function l(e){const t=[],n=e.map(e=>"object"==typeof e?e.key:e);for(const e of n)"number"==typeof e?t.push(`[${e}]`):"symbol"==typeof e?t.push(`[${JSON.stringify(String(e))}]`):/[^\w$]/.test(e)?t.push(`[${JSON.stringify(e)}]`):(t.length&&t.push("."),t.push(e));return t.join("")}t.$ZodError=(0,a.$constructor)("$ZodError",c),t.$ZodRealError=(0,a.$constructor)("$ZodError",c,{Parent:Error})},24647:(e,t,n)=>{var r=n(54552)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=r},24739:(e,t,n)=>{var r=n(26025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},24858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const{placeholderWhitelist:r,placeholderPattern:a,preserveComments:o,syntacticPlaceholders:c}=n,l=function(e,t,n){const r=(t.plugins||[]).slice();!1!==n&&r.push("placeholders"),t=Object.assign({allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowYieldOutsideFunction:!0,sourceType:"module"},t,{plugins:r});try{return(0,i.parse)(e,t)}catch(t){const n=t.loc;throw n&&(t.message+="\n"+(0,s.codeFrameColumns)(e,{start:n}),t.code="BABEL_TEMPLATE_PARSE_ERROR"),t}}(t,n.parser,c);m(l,{preserveComments:o}),e.validate(l);const u={syntactic:{placeholders:[],placeholderNames:new Set},legacy:{placeholders:[],placeholderNames:new Set},placeholderWhitelist:r,placeholderPattern:a,syntacticPlaceholders:c};return y(l,v,u),Object.assign({ast:l},u.syntactic.placeholders.length?u.syntactic:u.legacy)};var r=n(2352),i=n(22172),s=n(62882);const{isCallExpression:a,isExpressionStatement:o,isFunction:c,isIdentifier:l,isJSXIdentifier:u,isNewExpression:d,isPlaceholder:p,isStatement:h,isStringLiteral:f,removePropertiesDeep:m,traverse:y}=r,g=/^[_$A-Z0-9]+$/;function v(e,t,n){var r;let i,s=n.syntactic.placeholders.length>0;if(p(e)){if(!1===n.syntacticPlaceholders)throw new Error("%%foo%%-style placeholders can't be used when '.syntacticPlaceholders' is false.");i=e.name.name,s=!0}else{if(s||n.syntacticPlaceholders)return;if(l(e)||u(e))i=e.name;else{if(!f(e))return;i=e.value}}if(s&&(null!=n.placeholderPattern||null!=n.placeholderWhitelist))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");if(!(s||!1!==n.placeholderPattern&&(n.placeholderPattern||g).test(i)||null!=(r=n.placeholderWhitelist)&&r.has(i)))return;t=t.slice();const{node:m,key:y}=t[t.length-1];let v;f(e)||p(e,{expectedNode:"StringLiteral"})?v="string":d(m)&&"arguments"===y||a(m)&&"arguments"===y||c(m)&&"params"===y?v="param":o(m)&&!p(e)?(v="statement",t=t.slice(0,-1)):v=h(e)&&p(e)?"statement":"other";const{placeholders:b,placeholderNames:S}=s?n.syntactic:n.legacy;b.push({name:i,type:v,resolve:e=>function(e,t){let n=e;for(let e=0;e<t.length-1;e++){const{key:r,index:i}=t[e];n=void 0===i?n[r]:n[r][i]}const{key:r,index:i}=t[t.length-1];return{parent:n,key:r,index:i}}(e,t),isDuplicate:S.has(i)}),S.add(i)}},24971:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(66596),i=n(99048),s=n(26670);function a(e,t){const n=e.const("err",t);e.if(r._`${s.default.vErrors} === null`,()=>e.assign(s.default.vErrors,r._`[${n}]`),r._`${s.default.vErrors}.push(${n})`),e.code(r._`${s.default.errors}++`)}function o(e,t){const{gen:n,validateName:i,schemaEnv:s}=e;s.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${i}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,i,s){const{it:c}=e,{gen:u,compositeRule:d,allErrors:p}=c,h=l(e,n,i);(null!=s?s:d||p)?a(u,h):o(c,r._`[${h}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:i}=e,{gen:c,compositeRule:u,allErrors:d}=i;a(c,l(e,n,r)),u||d||o(i,s.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(s.default.errors,t),e.if(r._`${s.default.vErrors} !== null`,()=>e.if(t,()=>e.assign(r._`${s.default.vErrors}.length`,t),()=>e.assign(s.default.vErrors,null)))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:i,errsCount:a,it:o}){if(void 0===a)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",a,s.default.errors,a=>{e.const(c,r._`${s.default.vErrors}[${a}]`),e.if(r._`${c}.instancePath === undefined`,()=>e.assign(r._`${c}.instancePath`,(0,r.strConcat)(s.default.instancePath,o.errorPath))),e.assign(r._`${c}.schemaPath`,r.str`${o.errSchemaPath}/${t}`),o.opts.verbose&&(e.assign(r._`${c}.schema`,n),e.assign(r._`${c}.data`,i))})};const c={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function l(e,t,n){const{createErrors:i}=e.it;return!1===i?r._`{}`:function(e,t,n={}){const{gen:i,it:a}=e,o=[u(a,n),d(e,n)];return function(e,{params:t,message:n},i){const{keyword:a,data:o,schemaValue:l,it:u}=e,{opts:d,propertyName:p,topSchemaRef:h,schemaPath:f}=u;i.push([c.keyword,a],[c.params,"function"==typeof t?t(e):t||r._`{}`]),d.messages&&i.push([c.message,"function"==typeof n?n(e):n]),d.verbose&&i.push([c.schema,l],[c.parentSchema,r._`${h}${f}`],[s.default.data,o]),p&&i.push([c.propertyName,p])}(e,t,o),i.object(...o)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[s.default.instancePath,(0,r.strConcat)(s.default.instancePath,n)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:s}){let a=s?t:r.str`${t}/${e}`;return n&&(a=r.str`${a}${(0,i.getErrorPath)(n,i.Type.Str)}`),[c.schemaPath,a]}},24975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=void 0;const r=n(82040);class i extends r.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}t.Moderations=i},25010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.isBlockStatement)(e))return e;let n=[];return(0,r.isEmptyStatement)(e)?n=[]:((0,r.isStatement)(e)||(e=(0,r.isFunction)(t)?(0,i.returnStatement)(e):(0,i.expressionStatement)(e)),n=[e]),(0,i.blockStatement)(n)};var r=n(98960),i=n(48079)},25160:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}},25570:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:c()}};const a=s(n(90523));function o(e,t,n,r){const i=Math.abs(e),s=i%10,a=i%100;return a>=11&&a<=19?r:1===s?t:s>=2&&s<=4?n:r}const c=()=>{const e={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function t(t){return e[t]??null}const n={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return e=>{switch(e.code){case"invalid_type":return`Неверный ввод: ожидалось ${e.expected}, получено ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"массив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Неверный ввод: ожидалось ${a.stringifyPrimitive(e.values[0])}`:`Неверный вариант: ожидалось одно из ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);if(r){const t=o(Number(e.maximum),r.unit.one,r.unit.few,r.unit.many);return`Слишком большое значение: ожидалось, что ${e.origin??"значение"} будет иметь ${n}${e.maximum.toString()} ${t}`}return`Слишком большое значение: ожидалось, что ${e.origin??"значение"} будет ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);if(r){const t=o(Number(e.minimum),r.unit.one,r.unit.few,r.unit.many);return`Слишком маленькое значение: ожидалось, что ${e.origin} будет иметь ${n}${e.minimum.toString()} ${t}`}return`Слишком маленькое значение: ожидалось, что ${e.origin} будет ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Неверная строка: должна начинаться с "${t.prefix}"`:"ends_with"===t.format?`Неверная строка: должна заканчиваться на "${t.suffix}"`:"includes"===t.format?`Неверная строка: должна содержать "${t.includes}"`:"regex"===t.format?`Неверная строка: должна соответствовать шаблону ${t.pattern}`:`Неверный ${n[t.format]??e.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${e.divisor}`;case"unrecognized_keys":return`Нераспознанн${e.keys.length>1?"ые":"ый"} ключ${e.keys.length>1?"и":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${e.origin}`;case"invalid_union":default:return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${e.origin}`}}};e.exports=t.default},25584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,s="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${s} ${i}`)}};t.default=i},25781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Hub",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"NodePath",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return c.default}}),t.visitors=t.default=void 0,n(79578);var r=n(34950);t.visitors=r;var i=n(2352),s=n(37411),a=n(22264),o=n(29709),c=n(86814),l=n(17878);const{VISITOR_KEYS:u,removeProperties:d,traverseFast:p}=i;function h(e,t={},n,i,s,o){if(e){if(!t.noScope&&!n&&"Program"!==e.type&&"File"!==e.type)throw new Error(`You must pass a scope and parentPath unless traversing a Program/File. Instead of that you tried to traverse a ${e.type} node without passing scope and parentPath.`);if(!s&&o)throw new Error("visitSelf can only be used when providing a NodePath.");u[e.type]&&(r.explode(t),(0,a.traverseNode)(e,t,n,i,s,void 0,o))}}t.default=h,h.visitors=r,h.verify=r.verify,h.explode=r.explode,h.cheap=function(e,t){p(e,t)},h.node=function(e,t,n,r,i,s){(0,a.traverseNode)(e,t,n,r,i,s)},h.clearNode=function(e,t){d(e,t)},h.removeProperties=function(e,t){return p(e,h.clearNode,t),e},h.hasType=function(e,t,n){return(null==n||!n.includes(e.type))&&(e.type===t||p(e,function(e){return null!=n&&n.includes(e.type)?p.skip:e.type===t?p.stop:void 0}))},h.cache=s},25884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return-1!==r&&(-1===i||r<i)}},25911:(e,t,n)=>{var r=n(38859),i=n(14248),s=n(19219);e.exports=function(e,t,n,a,o,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,y=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var g=e[f],v=t[f];if(a)var b=l?a(v,g,f,t,e,c):a(g,v,f,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!i(t,function(e,t){if(!s(y,t)&&(g===e||o(g,e,n,a,c)))return y.push(t)})){m=!1;break}}else if(g!==v&&!o(g,v,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},26025:(e,t,n)=>{var r=n(75288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},26133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98960);t.default=function(e){if((0,r.isExpressionStatement)(e)&&(e=e.expression),(0,r.isExpression)(e))return e;if((0,r.isClass)(e)?(e.type="ClassExpression",e.abstract=!1):(0,r.isFunction)(e)&&(e.type="FunctionExpression"),!(0,r.isExpression)(e))throw new Error(`cannot turn ${e.type} to an expression`);return e}},26545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(64026).default];t.default=r},26670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},27095:(e,t,n)=>{"use strict";var r=n(77596);(0,r.default)("ArgumentPlaceholder",{}),(0,r.default)("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:process.env.BABEL_TYPES_8_BREAKING?{object:{validate:(0,r.assertNodeType)("Expression")},callee:{validate:(0,r.assertNodeType)("Expression")}}:{object:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})}}}),(0,r.default)("Decorator",{visitor:["expression"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}}}),(0,r.default)("DoExpression",{visitor:["body"],builder:["body","async"],aliases:["Expression"],fields:{body:{validate:(0,r.assertNodeType)("BlockStatement")},async:{validate:(0,r.assertValueType)("boolean"),default:!1}}}),(0,r.default)("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,r.assertNodeType)("Identifier")}}}),(0,r.default)("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:(0,r.validateArrayOfType)("ObjectProperty","SpreadElement")}}),(0,r.default)("TupleExpression",{fields:{elements:{validate:(0,r.arrayOfType)("Expression","SpreadElement"),default:[]}},visitor:["elements"],aliases:["Expression"]}),(0,r.default)("DecimalLiteral",{builder:["value"],fields:{value:{validate:(0,r.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,r.default)("ModuleExpression",{visitor:["body"],fields:{body:{validate:(0,r.assertNodeType)("Program")}},aliases:["Expression"]}),(0,r.default)("TopicReference",{aliases:["Expression"]}),(0,r.default)("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,r.default)("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:(0,r.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,r.default)("PipelinePrimaryTopicReference",{aliases:["Expression"]}),(0,r.default)("VoidPattern",{aliases:["Pattern","PatternLike","FunctionParameter"]})},27145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2352),i=r;const{react:s}=r,{cloneNode:a,jsxExpressionContainer:o,variableDeclaration:c,variableDeclarator:l}=i,u={ReferencedIdentifier(e,t){if(e.isJSXIdentifier()&&s.isCompatTag(e.node.name)&&!e.parentPath.isJSXMemberExpression())return;if("this"===e.node.name){let n=e.scope;do{if(n.path.isFunction()&&!n.path.isArrowFunctionExpression())break}while(n=n.parent);n&&t.breakOnScopePaths.push(n.path)}const n=e.scope.getBinding(e.node.name);if(n){for(const r of n.constantViolations)if(r.scope!==n.path.scope)return t.mutableBinding=!0,void e.stop();n===t.scope.getBinding(e.node.name)&&(t.bindings[e.node.name]=n)}}};t.default=class{constructor(e,t){this.breakOnScopePaths=void 0,this.bindings=void 0,this.mutableBinding=void 0,this.scopes=void 0,this.scope=void 0,this.path=void 0,this.attachAfter=void 0,this.breakOnScopePaths=[],this.bindings={},this.mutableBinding=!1,this.scopes=[],this.scope=t,this.path=e,this.attachAfter=!1}isCompatibleScope(e){for(const t of Object.keys(this.bindings)){const n=this.bindings[t];if(!e.bindingIdentifierEquals(t,n.identifier))return!1}return!0}getCompatibleScopes(){let e=this.path.scope;do{if(!this.isCompatibleScope(e))break;if(this.scopes.push(e),this.breakOnScopePaths.includes(e.path))break}while(e=e.parent)}getAttachmentPath(){let e=this._getAttachmentPath();if(!e)return;let t=e.scope;if(t.path===e&&(t=e.scope.parent),t.path.isProgram()||t.path.isFunction())for(const n of Object.keys(this.bindings)){if(!t.hasOwnBinding(n))continue;const r=this.bindings[n];if("param"!==r.kind&&"params"!==r.path.parentKey&&this.getAttachmentParentForPath(r.path).key>=e.key){this.attachAfter=!0,e=r.path;for(const t of r.constantViolations)this.getAttachmentParentForPath(t).key>e.key&&(e=t)}}return e}_getAttachmentPath(){const e=this.scopes.pop();if(e)if(e.path.isFunction()){if(!this.hasOwnParamBindings(e))return this.getNextScopeAttachmentParent();{if(this.scope===e)return;const t=e.path.get("body").get("body");for(let e=0;e<t.length;e++)if(!t[e].node._blockHoist)return t[e]}}else if(e.path.isProgram())return this.getNextScopeAttachmentParent()}getNextScopeAttachmentParent(){const e=this.scopes.pop();if(e)return this.getAttachmentParentForPath(e.path)}getAttachmentParentForPath(e){do{if(!e.parentPath||Array.isArray(e.container)&&e.isStatement())return e}while(e=e.parentPath);return e}hasOwnParamBindings(e){for(const t of Object.keys(this.bindings)){if(!e.hasOwnBinding(t))continue;const n=this.bindings[t];if("param"===n.kind&&n.constant)return!0}return!1}run(){if(this.path.traverse(u,this),this.mutableBinding)return;this.getCompatibleScopes();const e=this.getAttachmentPath();if(!e)return;if(e.getFunctionParent()===this.path.getFunctionParent())return;let t=e.scope.generateUidIdentifier("ref");const n=l(t,this.path.node),r=this.attachAfter?"insertAfter":"insertBefore",[i]=e[r]([e.isVariableDeclarator()?n:c("var",[n])]),s=this.path.parentPath;return s.isJSXElement()&&this.path.container===s.node.children&&(t=o(t)),this.path.replaceWith(a(t)),i.isVariableDeclarator()?i.get("init"):i.get("declarations.0.init")}}},27301:e=>{e.exports=function(e){return function(t){return e(t)}}},27521:e=>{"use strict";e.exports=/^#!(.*)/},27534:(e,t,n)=>{var r=n(72552),i=n(40346);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},27668:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.string=function(e){return a._coercedString(o.ZodMiniString,e)},t.number=function(e){return a._coercedNumber(o.ZodMiniNumber,e)},t.boolean=function(e){return a._coercedBoolean(o.ZodMiniBoolean,e)},t.bigint=function(e){return a._coercedBigint(o.ZodMiniBigInt,e)},t.date=function(e){return a._coercedDate(o.ZodMiniDate,e)};const a=s(n(76601)),o=s(n(33))},27687:(e,t,n)=>{"use strict";const r=n(70857),i=n(52018),s=n(25884),{env:a}=process;let o;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===o)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===o)return 0;const n=o||0;if("dumb"===a.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:n;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){const e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:n}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?o=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(o=1),"FORCE_COLOR"in a&&(o="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,i.isatty(1))),stderr:c(l(!0,i.isatty(2)))}},28077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},28147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBooleanDef=void 0,t.parseBooleanDef=function(){return{type:"boolean"}}},28195:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function t(t){return e[t]??null}const n={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return e=>{switch(e.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${e.expected}, 받은 타입은 ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}입니다`;case"invalid_value":return 1===e.values.length?`잘못된 입력: 값은 ${a.stringifyPrimitive(e.values[0])} 이어야 합니다`:`잘못된 옵션: ${a.joinValues(e.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{const n=e.inclusive?"이하":"미만",r="미만"===n?"이어야 합니다":"여야 합니다",i=t(e.origin),s=i?.unit??"요소";return i?`${e.origin??"값"}이 너무 큽니다: ${e.maximum.toString()}${s} ${n}${r}`:`${e.origin??"값"}이 너무 큽니다: ${e.maximum.toString()} ${n}${r}`}case"too_small":{const n=e.inclusive?"이상":"초과",r="이상"===n?"이어야 합니다":"여야 합니다",i=t(e.origin),s=i?.unit??"요소";return i?`${e.origin??"값"}이 너무 작습니다: ${e.minimum.toString()}${s} ${n}${r}`:`${e.origin??"값"}이 너무 작습니다: ${e.minimum.toString()} ${n}${r}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`잘못된 문자열: "${t.prefix}"(으)로 시작해야 합니다`:"ends_with"===t.format?`잘못된 문자열: "${t.suffix}"(으)로 끝나야 합니다`:"includes"===t.format?`잘못된 문자열: "${t.includes}"을(를) 포함해야 합니다`:"regex"===t.format?`잘못된 문자열: 정규식 ${t.pattern} 패턴과 일치해야 합니다`:`잘못된 ${n[t.format]??e.format}`}case"not_multiple_of":return`잘못된 숫자: ${e.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`잘못된 키: ${e.origin}`;case"invalid_union":default:return"잘못된 입력";case"invalid_element":return`잘못된 값: ${e.origin}`}}};e.exports=t.default},28208:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:o()}};const a=s(n(90523));t.parsedType=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};const o=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function n(t){return e[t]??null}const r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${(0,t.parsedType)(e.input)}`;case"invalid_value":return 1===e.values.length?`Invalid input: expected ${a.stringifyPrimitive(e.values[0])}`:`Invalid option: expected one of ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",r=n(e.origin);return r?`Too big: expected ${e.origin??"value"} to have ${t}${e.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",r=n(e.origin);return r?`Too small: expected ${e.origin} to have ${t}${e.minimum.toString()} ${r.unit}`:`Too small: expected ${e.origin} to be ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Invalid string: must start with "${t.prefix}"`:"ends_with"===t.format?`Invalid string: must end with "${t.suffix}"`:"includes"===t.format?`Invalid string: must include "${t.includes}"`:"regex"===t.format?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${r[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}}},28303:(e,t,n)=>{var r=n(56110)(n(9325),"WeakMap");e.exports=r},28586:(e,t,n)=>{var r=n(56449),i=n(44394),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}},28651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;const r=n(92034);t.ZodIssueCode=r.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t=Object.create(null),n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=i,i.create=e=>new i(e)},28754:(e,t,n)=>{var r=n(25160);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},28769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realtime=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(62951)),a=n(62951),o=r.__importStar(n(23991)),c=n(23991);class l extends i.APIResource{constructor(){super(...arguments),this.clientSecrets=new o.ClientSecrets(this._client),this.calls=new s.Calls(this._client)}}t.Realtime=l,l.ClientSecrets=c.ClientSecrets,l.Calls=a.Calls},28886:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ClineAdapter=void 0;const o=a(n(91398));t.ClineAdapter=class{clineExtension;constructor(){this.clineExtension=o.extensions.getExtension("saoudrizwan.claude-dev")}isClineAvailable(){return void 0!==this.clineExtension}async ensureClineActive(){if(this.clineExtension||(this.clineExtension=o.extensions.getExtension("saoudrizwan.claude-dev")),!this.clineExtension)return!1;if(!this.clineExtension.isActive)try{return await this.clineExtension.activate(),!0}catch(e){return console.error("Failed to activate Cline:",e),!1}return!0}async sendModificationRequest(e){if(!await this.ensureClineActive())return{success:!1,error:"Cline extension is not available or could not be activated"};try{const t=this.buildPrompt(e),n=this.clineExtension?.exports;if(n){if("function"==typeof n.startNewTask)return await n.startNewTask(t),{success:!0,explanation:"Request sent to Cline. Please review and approve the changes in Cline panel."};if("function"==typeof n.setTask)return await n.setTask(t),{success:!0,explanation:"Request sent to Cline. Please review and approve the changes in Cline panel."}}return await o.env.clipboard.writeText(t),await o.commands.executeCommand("cline.plusButtonClicked"),await new Promise(e=>setTimeout(e,800)),"Open Cline"===await o.window.showInformationMessage("Request copied to clipboard! Paste it in Cline (Ctrl+V) to start.","Open Cline","OK")&&await o.commands.executeCommand("cline.openInNewTab"),{success:!0,explanation:"Request copied to clipboard. Paste (Ctrl+V) in Cline to start the task."}}catch(e){return console.error("Error sending to Cline:",e),{success:!1,error:`Failed to communicate with Cline: ${e instanceof Error?e.message:"Unknown error"}`}}}buildPrompt(e){const t=[];return t.push("# Code Modification Request"),t.push(""),t.push(`**User Request**: ${e.query}`),t.push(""),t.push("## File Context"),t.push(`- **File**: ${e.filePath}`),t.push(`- **Lines**: ${e.startLine}-${e.endLine}`),t.push(`- **Type**: ${e.nodeType}`),t.push(`- **Name**: ${e.nodeName}`),t.push(""),t.push("## Current Implementation"),t.push("```"),t.push(e.sourceCode),t.push("```"),t.push(""),e.dependencies.length>0&&(t.push("## Dependencies"),t.push("This code depends on:"),e.dependencies.forEach(e=>{t.push(`- ${e}`)}),t.push("")),e.usedBy.length>0&&(t.push("## Used By"),t.push("This code is used by:"),e.usedBy.forEach(e=>{t.push(`- ${e}`)}),t.push("")),t.push("## Instructions"),t.push("Please modify the code according to the user request above."),t.push("Ensure that:"),t.push("1. The changes address the user's request completely"),t.push("2. The code remains functional and maintains existing behavior unless explicitly changed"),t.push("3. Any dependencies are properly handled"),t.push("4. Code style and conventions are maintained"),t.push("5. Add appropriate comments if the changes are complex"),t.join("\n")}async sendViaClineAPI(e){if(!this.clineExtension)return{success:!1,error:"Cline extension not found"};try{const t=this.clineExtension.exports;if(t&&"function"==typeof t.createTask){const n=await t.createTask({task:e.query,files:[e.filePath],context:this.buildPrompt(e)});return{success:!0,explanation:"Task created in Cline",modifiedCode:n?.modifiedCode}}return this.sendModificationRequest(e)}catch(e){return{success:!1,error:`Failed to use Cline API: ${e instanceof Error?e.message:"Unknown error"}`}}}async openInCline(e){const t=await o.workspace.openTextDocument(e.filePath);await o.window.showTextDocument(t,{selection:new o.Range(new o.Position(e.startLine,0),new o.Position(e.endLine,0))});const n=o.window.activeTextEditor;n&&n.revealRange(new o.Range(e.startLine,0,e.endLine,0),o.TextEditorRevealType.InCenter)}}},29127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isFunctionDeclaration)(e)||(0,r.isClassDeclaration)(e)||(0,i.default)(e)};var r=n(98960),i=n(63847)},29147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=void 0;const r=n(79632),i=n(262),s=r.__importStar(n(89526)),a=n(34701),o=n(21301);class c extends o.OpenAI{constructor({baseURL:e=(0,a.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,a.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:n=(0,a.readEnv)("OPENAI_API_VERSION"),endpoint:r,deployment:i,azureADTokenProvider:o,dangerouslyAllowBrowser:c,...l}={}){if(!n)throw new s.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof o&&(c=!0),!o&&!t)throw new s.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(o&&t)throw new s.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(l.defaultQuery={...l.defaultQuery,"api-version":n},e){if(r)throw new s.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(r||(r=process.env.AZURE_OPENAI_ENDPOINT),!r)throw new s.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${r}/openai`}super({apiKey:o??t,baseURL:e,...l,...void 0!==c?{dangerouslyAllowBrowser:c}:{}}),this.apiVersion="",this.apiVersion=n,this.deploymentName=i}async buildRequest(e,t={}){if(l.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!(0,a.isObj)(e.body))throw new Error("Expected request body to be an object");const t=this.deploymentName||e.body.model||e.__metadata?.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e,t)}async authHeaders(e){return"string"==typeof this._options.apiKey?(0,i.buildHeaders)([{"api-key":this.apiKey}]):super.authHeaders(e)}}t.AzureOpenAI=c;const l=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"])},29182:(e,t,n)=>{"use strict";const r=n(79896),i=n(21395);e.exports=function(e){const t=Buffer.alloc(150);let n;try{n=r.openSync(e,"r"),r.readSync(n,t,0,150,0),r.closeSync(n)}catch(e){}return i(t.toString())}},29560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadBuffer=void 0,t.deserializeMessage=i,t.serializeMessage=function(e){return JSON.stringify(e)+"\n"};const r=n(1294);function i(e){return r.JSONRPCMessageSchema.parse(JSON.parse(e))}t.ReadBuffer=class{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;const e=this._buffer.indexOf("\n");if(-1===e)return null;const t=this._buffer.toString("utf8",0,e).replace(/\r$/,"");return this._buffer=this._buffer.subarray(e+1),i(t)}clear(){this._buffer=void 0}}},29606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDefaultDef=void 0;const r=n(73524);t.parseDefaultDef=function(e,t){return{...(0,r.parseDef)(e.innerType._def,t),default:e.defaultValue()}}},29709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHOULD_STOP=t.SHOULD_SKIP=t.REMOVED=void 0;var r=n(75562),i=n(45753),s=n(25781),a=n(86814),o=n(2352),c=o,l=n(37411),u=n(78992),d=n(60940),p=n(47317),h=n(22037),f=n(10299),m=n(92257),y=n(40854),g=n(79578),v=g,b=n(53097),S=n(58345),T=n(16109),_=n(83383),P=n(57973);const{validate:E}=o,x=i("babel"),w=(t.REMOVED=1,t.SHOULD_STOP=2,t.SHOULD_SKIP=4,t.default=class e{constructor(e,t){this.contexts=[],this.state=null,this._traverseFlags=0,this.skipKeys=null,this.parentPath=null,this.container=null,this.listKey=null,this.key=null,this.node=null,this.type=null,this._store=null,this.parent=t,this.hub=e,this.data=null,this.context=null,this.scope=null}get removed(){return(1&this._traverseFlags)>0}set removed(e){e?this._traverseFlags|=1:this._traverseFlags&=-2}get shouldStop(){return(2&this._traverseFlags)>0}set shouldStop(e){e?this._traverseFlags|=2:this._traverseFlags&=-3}get shouldSkip(){return(4&this._traverseFlags)>0}set shouldSkip(e){e?this._traverseFlags|=4:this._traverseFlags&=-5}static get({hub:t,parentPath:n,parent:r,container:i,listKey:s,key:a}){if(!t&&n&&(t=n.hub),!r)throw new Error("To get a node path the parent needs to exist");const o=i[a],c=l.getOrCreateCachedPaths(r,n);let u=c.get(o);return u||(u=new e(t,r),o&&c.set(o,u)),g.setup.call(u,n,i,s,a),u}getScope(e){return this.isScope()?new a.default(this):e}setData(e,t){return null==this.data&&(this.data=Object.create(null)),this.data[e]=t}getData(e,t){null==this.data&&(this.data=Object.create(null));let n=this.data[e];return void 0===n&&void 0!==t&&(n=this.data[e]=t),n}hasNode(){return null!=this.node}buildCodeFrameError(e,t=SyntaxError){return this.hub.buildError(this.node,e,t)}traverse(e,t){(0,s.default)(this.node,e,this.scope,t,this)}set(e,t){E(this.node,e,t),this.node[e]=t}getPathLocation(){const e=[];let t=this;do{let n=t.key;t.inList&&(n=`${t.listKey}[${n}]`),e.unshift(n)}while(t=t.parentPath);return e.join(".")}debug(e){x.enabled&&x(`${this.getPathLocation()} ${this.type}: ${e}`)}toString(){return(0,u.default)(this.node).code}get inList(){return!!this.listKey}set inList(e){e||(this.listKey=null)}get parentKey(){return this.listKey||this.key}}),A={findParent:d.findParent,find:d.find,getFunctionParent:d.getFunctionParent,getStatementParent:d.getStatementParent,getEarliestCommonAncestorFrom:d.getEarliestCommonAncestorFrom,getDeepestCommonAncestorFrom:d.getDeepestCommonAncestorFrom,getAncestry:d.getAncestry,isAncestor:d.isAncestor,isDescendant:d.isDescendant,inType:d.inType,getTypeAnnotation:p.getTypeAnnotation,isBaseType:p.isBaseType,couldBeBaseType:p.couldBeBaseType,baseTypeStrictlyMatches:p.baseTypeStrictlyMatches,isGenericType:p.isGenericType,replaceWithMultiple:h.replaceWithMultiple,replaceWithSourceString:h.replaceWithSourceString,replaceWith:h.replaceWith,replaceExpressionWithStatements:h.replaceExpressionWithStatements,replaceInline:h.replaceInline,evaluateTruthy:f.evaluateTruthy,evaluate:f.evaluate,toComputedKey:m.toComputedKey,ensureBlock:m.ensureBlock,unwrapFunctionEnvironment:m.unwrapFunctionEnvironment,arrowFunctionToExpression:m.arrowFunctionToExpression,splitExportDeclaration:m.splitExportDeclaration,ensureFunctionName:m.ensureFunctionName,matchesPattern:y.matchesPattern,isStatic:y.isStatic,isNodeType:y.isNodeType,canHaveVariableDeclarationOrExpression:y.canHaveVariableDeclarationOrExpression,canSwapBetweenExpressionAndStatement:y.canSwapBetweenExpressionAndStatement,isCompletionRecord:y.isCompletionRecord,isStatementOrBlock:y.isStatementOrBlock,referencesImport:y.referencesImport,getSource:y.getSource,willIMaybeExecuteBefore:y.willIMaybeExecuteBefore,_guessExecutionStatusRelativeTo:y._guessExecutionStatusRelativeTo,resolve:y.resolve,isConstantExpression:y.isConstantExpression,isInStrictMode:y.isInStrictMode,isDenylisted:v.isDenylisted,visit:v.visit,skip:v.skip,skipKey:v.skipKey,stop:v.stop,setContext:v.setContext,requeue:v.requeue,requeueComputedKeyAndDecorators:v.requeueComputedKeyAndDecorators,remove:b.remove,insertBefore:S.insertBefore,insertAfter:S.insertAfter,unshiftContainer:S.unshiftContainer,pushContainer:S.pushContainer,getOpposite:T.getOpposite,getCompletionRecords:T.getCompletionRecords,getSibling:T.getSibling,getPrevSibling:T.getPrevSibling,getNextSibling:T.getNextSibling,getAllNextSiblings:T.getAllNextSiblings,getAllPrevSiblings:T.getAllPrevSiblings,get:T.get,getAssignmentIdentifiers:T.getAssignmentIdentifiers,getBindingIdentifiers:T.getBindingIdentifiers,getOuterBindingIdentifiers:T.getOuterBindingIdentifiers,getBindingIdentifierPaths:T.getBindingIdentifierPaths,getOuterBindingIdentifierPaths:T.getOuterBindingIdentifierPaths,shareCommentsWithSiblings:_.shareCommentsWithSiblings,addComment:_.addComment,addComments:_.addComments};Object.assign(w.prototype,A),w.prototype.arrowFunctionToShadowed=m[String("arrowFunctionToShadowed")],Object.assign(w.prototype,{has:y[String("has")],is:y[String("is")],isnt:y[String("isnt")],equals:y[String("equals")],hoist:S[String("hoist")],updateSiblingKeys:S.updateSiblingKeys,call:v.call,isBlacklisted:v[String("isBlacklisted")],setScope:v.setScope,resync:v.resync,popContext:v.popContext,pushContext:v.pushContext,setup:v.setup,setKey:v.setKey}),w.prototype._guessExecutionStatusRelativeToDifferentFunctions=y._guessExecutionStatusRelativeTo,w.prototype._guessExecutionStatusRelativeToDifferentFunctions=y._guessExecutionStatusRelativeTo,Object.assign(w.prototype,{_getTypeAnnotation:p._getTypeAnnotation,_replaceWith:h._replaceWith,_resolve:y._resolve,_call:v._call,_resyncParent:v._resyncParent,_resyncKey:v._resyncKey,_resyncList:v._resyncList,_resyncRemoved:v._resyncRemoved,_getQueueContexts:v._getQueueContexts,_removeFromScope:b._removeFromScope,_callRemovalHooks:b._callRemovalHooks,_remove:b._remove,_markRemoved:b._markRemoved,_assertUnremoved:b._assertUnremoved,_containerInsert:S._containerInsert,_containerInsertBefore:S._containerInsertBefore,_containerInsertAfter:S._containerInsertAfter,_verifyNodeList:S._verifyNodeList,_getKey:T._getKey,_getPattern:T._getPattern});for(const e of c.TYPES){const t=`is${e}`,n=c[t];w.prototype[t]=function(e){return n(this.node,e)},w.prototype[`assert${e}`]=function(t){if(!n(this.node,t))throw new TypeError(`Expected node path of type ${e}`)}}Object.assign(w.prototype,P);for(const e of Object.keys(r))"_"!==e[0]&&(c.TYPES.includes(e)||c.TYPES.push(e))},29817:e=>{e.exports=function(e){return this.__data__.has(e)}},30294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},30340:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:s,it:a}=e;if((0,i.alwaysValidSchema)(a,n))return;const o=t.name("valid");t.forIn("key",s,n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},o),t.if((0,r.not)(o),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(o)}};t.default=s},30361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},30756:(e,t,n)=>{var r=n(23805);e.exports=function(e){return e==e&&!r(e)}},30917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castToError=void 0,t.isAbortError=function(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))},t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)}},31009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)(e);return 1===t.length?t[0]:(0,r.unionTypeAnnotation)(t)};var r=n(48079),i=n(95237)},31114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumberDef=void 0;const r=n(98950);t.parseNumberDef=function(e,t){const n={type:"number"};if(!e.checks)return n;for(const i of e.checks)switch(i.kind){case"int":n.type="integer",(0,r.addErrorMessage)(n,"type",i.message,t);break;case"min":"jsonSchema7"===t.target?i.inclusive?(0,r.setResponseValueAndErrors)(n,"minimum",i.value,i.message,t):(0,r.setResponseValueAndErrors)(n,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(n.exclusiveMinimum=!0),(0,r.setResponseValueAndErrors)(n,"minimum",i.value,i.message,t));break;case"max":"jsonSchema7"===t.target?i.inclusive?(0,r.setResponseValueAndErrors)(n,"maximum",i.value,i.message,t):(0,r.setResponseValueAndErrors)(n,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(n.exclusiveMaximum=!0),(0,r.setResponseValueAndErrors)(n,"maximum",i.value,i.message,t));break;case"multipleOf":(0,r.setResponseValueAndErrors)(n,"multipleOf",i.value,i.message,t)}return n}},31175:(e,t,n)=>{var r=n(26025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},31234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s=n(85311),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:a,schemaCode:o,schema:c}=e;a||c&&"object"==typeof c?e.fail$data(r._`!${(0,i.useFunc)(t,s.default)}(${n}, ${o})`):e.fail(r._`${c} !== ${n}`)}};t.default=a},31373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenContext=void 0,t.isLastChild=function(e,t){const n=o[e.type];for(let r=n.length-1;r>=0;r--){const i=e[n[r]];if(i===t)return!0;if(Array.isArray(i)){let e=i.length-1;for(;e>=0&&null===i[e];)e--;return e>=0&&i[e]===t}if(i)return!1}return!1},t.needsParens=function(e,t,n,r){var i;return!!t&&(!(!p(t)||t.callee!==e||!g(e))||(l(t)?!(b(e)||c(e)&&b(e.callee)||h(e)):(null==(i=m.get(e.type))?void 0:i(e,t,n,r))||!1))},t.needsWhitespace=v,t.needsWhitespaceAfter=function(e,t){return v(e,t,2)},t.needsWhitespaceBefore=function(e,t){return v(e,t,1)};var r=n(42716),i=n(11773),s=n(2352);const{FLIPPED_ALIAS_KEYS:a,VISITOR_KEYS:o,isCallExpression:c,isDecorator:l,isExpressionStatement:u,isMemberExpression:d,isNewExpression:p,isParenthesizedExpression:h}=s;function f(e){const t=new Map;function n(e,n){const r=t.get(e);t.set(e,r?function(e,t,i,s){var a;return null!=(a=r(e,t,i,s))?a:n(e,t,i,s)}:n)}for(const t of Object.keys(e)){const r=a[t];if(r)for(const i of r)n(i,e[t]);else n(t,e[t])}return t}t.TokenContext={normal:0,expressionStatement:1,arrowBody:2,exportDefault:4,arrowFlowReturnType:8,forInitHead:16,forInHead:32,forOfHead:64,forInOrInitHeadAccumulate:128,forInOrInitHeadAccumulatePassThroughMask:128};const m=f(i),y=f(r.nodes);function g(e){return!!c(e)||d(e)&&g(e.object)}function v(e,t,n){var r;if(!e)return!1;u(e)&&(e=e.expression);const i=null==(r=y.get(e.type))?void 0:r(e,t);return"number"==typeof i&&0!==(i&n)}function b(e){switch(e.type){case"Identifier":return!0;case"MemberExpression":return!e.computed&&"Identifier"===e.property.type&&b(e.object);default:return!1}}},31380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},31637:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function t(t){return e[t]??null}const n={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return e=>{switch(e.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${e.expected}, отримано ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"масив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Неправильні вхідні дані: очікується ${a.stringifyPrimitive(e.values[0])}`:`Неправильна опція: очікується одне з ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Занадто велике: очікується, що ${e.origin??"значення"} ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"елементів"}`:`Занадто велике: очікується, що ${e.origin??"значення"} буде ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Занадто мале: очікується, що ${e.origin} ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Занадто мале: очікується, що ${e.origin} буде ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Неправильний рядок: повинен починатися з "${t.prefix}"`:"ends_with"===t.format?`Неправильний рядок: повинен закінчуватися на "${t.suffix}"`:"includes"===t.format?`Неправильний рядок: повинен містити "${t.includes}"`:"regex"===t.format?`Неправильний рядок: повинен відповідати шаблону ${t.pattern}`:`Неправильний ${n[t.format]??e.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${e.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${e.keys.length>1?"і":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${e.origin}`;case"invalid_union":default:return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${e.origin}`}}};e.exports=t.default},31701:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const o=s(n(54738));t.z=o,a(n(54738),t)},31769:(e,t,n)=>{var r=n(56449),i=n(28586),s=n(61802),a=n(13222);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:s(a(e))}},31800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},32012:(e,t,n)=>{"use strict";t=e.exports=function(...e){return new t.default(...e)},Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=t.InvalidWebhookSignatureError=t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.OpenAIError=t.PagePromise=t.OpenAI=t.APIPromise=t.toFile=t.default=void 0;var r=n(21301);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.OpenAI}});var i=n(78728);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return i.toFile}});var s=n(81482);Object.defineProperty(t,"APIPromise",{enumerable:!0,get:function(){return s.APIPromise}});var a=n(21301);Object.defineProperty(t,"OpenAI",{enumerable:!0,get:function(){return a.OpenAI}});var o=n(75552);Object.defineProperty(t,"PagePromise",{enumerable:!0,get:function(){return o.PagePromise}});var c=n(44172);Object.defineProperty(t,"OpenAIError",{enumerable:!0,get:function(){return c.OpenAIError}}),Object.defineProperty(t,"APIError",{enumerable:!0,get:function(){return c.APIError}}),Object.defineProperty(t,"APIConnectionError",{enumerable:!0,get:function(){return c.APIConnectionError}}),Object.defineProperty(t,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return c.APIConnectionTimeoutError}}),Object.defineProperty(t,"APIUserAbortError",{enumerable:!0,get:function(){return c.APIUserAbortError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return c.NotFoundError}}),Object.defineProperty(t,"ConflictError",{enumerable:!0,get:function(){return c.ConflictError}}),Object.defineProperty(t,"RateLimitError",{enumerable:!0,get:function(){return c.RateLimitError}}),Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return c.BadRequestError}}),Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return c.AuthenticationError}}),Object.defineProperty(t,"InternalServerError",{enumerable:!0,get:function(){return c.InternalServerError}}),Object.defineProperty(t,"PermissionDeniedError",{enumerable:!0,get:function(){return c.PermissionDeniedError}}),Object.defineProperty(t,"UnprocessableEntityError",{enumerable:!0,get:function(){return c.UnprocessableEntityError}}),Object.defineProperty(t,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return c.InvalidWebhookSignatureError}});var l=n(29147);Object.defineProperty(t,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})},32017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var a=s[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},32465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectParser=void 0;const r=n(19164),i=n(62909),s=n(98598),a=n(87236),o=n(28147),c=n(46163),l=n(16260),u=n(85187),d=n(29606),p=n(68385),h=n(76750),f=n(40686),m=n(34836),y=n(39137),g=n(96773),v=n(63237),b=n(37294),S=n(41854),T=n(31114),_=n(46172),P=n(65867),E=n(79225),x=n(93858),w=n(87054),A=n(34519),O=n(73178),I=n(22793),C=n(97987),k=n(55967),N=n(95973),L=n(89729);t.selectParser=(e,t,n)=>{switch(t){case r.ZodFirstPartyTypeKind.ZodString:return(0,O.parseStringDef)(e,n);case r.ZodFirstPartyTypeKind.ZodNumber:return(0,T.parseNumberDef)(e,n);case r.ZodFirstPartyTypeKind.ZodObject:return(0,_.parseObjectDef)(e,n);case r.ZodFirstPartyTypeKind.ZodBigInt:return(0,a.parseBigintDef)(e,n);case r.ZodFirstPartyTypeKind.ZodBoolean:return(0,o.parseBooleanDef)();case r.ZodFirstPartyTypeKind.ZodDate:return(0,u.parseDateDef)(e,n);case r.ZodFirstPartyTypeKind.ZodUndefined:return(0,C.parseUndefinedDef)(n);case r.ZodFirstPartyTypeKind.ZodNull:return(0,b.parseNullDef)(n);case r.ZodFirstPartyTypeKind.ZodArray:return(0,s.parseArrayDef)(e,n);case r.ZodFirstPartyTypeKind.ZodUnion:case r.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,k.parseUnionDef)(e,n);case r.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(e,n);case r.ZodFirstPartyTypeKind.ZodTuple:return(0,I.parseTupleDef)(e,n);case r.ZodFirstPartyTypeKind.ZodRecord:return(0,w.parseRecordDef)(e,n);case r.ZodFirstPartyTypeKind.ZodLiteral:return(0,m.parseLiteralDef)(e,n);case r.ZodFirstPartyTypeKind.ZodEnum:return(0,h.parseEnumDef)(e);case r.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,g.parseNativeEnumDef)(e);case r.ZodFirstPartyTypeKind.ZodNullable:return(0,S.parseNullableDef)(e,n);case r.ZodFirstPartyTypeKind.ZodOptional:return(0,P.parseOptionalDef)(e,n);case r.ZodFirstPartyTypeKind.ZodMap:return(0,y.parseMapDef)(e,n);case r.ZodFirstPartyTypeKind.ZodSet:return(0,A.parseSetDef)(e,n);case r.ZodFirstPartyTypeKind.ZodLazy:return()=>e.getter()._def;case r.ZodFirstPartyTypeKind.ZodPromise:return(0,x.parsePromiseDef)(e,n);case r.ZodFirstPartyTypeKind.ZodNaN:case r.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)(n);case r.ZodFirstPartyTypeKind.ZodEffects:return(0,p.parseEffectsDef)(e,n);case r.ZodFirstPartyTypeKind.ZodAny:return(0,i.parseAnyDef)(n);case r.ZodFirstPartyTypeKind.ZodUnknown:return(0,N.parseUnknownDef)(n);case r.ZodFirstPartyTypeKind.ZodDefault:return(0,d.parseDefaultDef)(e,n);case r.ZodFirstPartyTypeKind.ZodBranded:return(0,c.parseBrandedDef)(e,n);case r.ZodFirstPartyTypeKind.ZodReadonly:return(0,L.parseReadonlyDef)(e,n);case r.ZodFirstPartyTypeKind.ZodCatch:return(0,l.parseCatchDef)(e,n);case r.ZodFirstPartyTypeKind.ZodPipeline:return(0,E.parsePipelineDef)(e,n);case r.ZodFirstPartyTypeKind.ZodFunction:case r.ZodFirstPartyTypeKind.ZodVoid:case r.ZodFirstPartyTypeKind.ZodSymbol:default:return}}},32485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statements=t.statement=t.smart=t.program=t.expression=t.default=void 0;var r=n(60826),i=n(74466);const s=t.smart=(0,i.default)(r.smart),a=t.statement=(0,i.default)(r.statement),o=t.statements=(0,i.default)(r.statements),c=t.expression=(0,i.default)(r.expression),l=t.program=(0,i.default)(r.program);t.default=Object.assign(s.bind(void 0),{smart:s,statement:a,statements:o,expression:c,program:l,ast:s.ast})},32530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(s.path`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",i.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(s.path`/batches/${e}/cancel`,t)}}t.Batches=a},32564:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodCheckOverwrite=t.$ZodCheckMimeType=t.$ZodCheckProperty=t.$ZodCheckEndsWith=t.$ZodCheckStartsWith=t.$ZodCheckIncludes=t.$ZodCheckUpperCase=t.$ZodCheckLowerCase=t.$ZodCheckRegex=t.$ZodCheckStringFormat=t.$ZodCheckLengthEquals=t.$ZodCheckMinLength=t.$ZodCheckMaxLength=t.$ZodCheckSizeEquals=t.$ZodCheckMinSize=t.$ZodCheckMaxSize=t.$ZodCheckBigIntFormat=t.$ZodCheckNumberFormat=t.$ZodCheckMultipleOf=t.$ZodCheckGreaterThan=t.$ZodCheckLessThan=t.$ZodCheck=void 0;const a=s(n(98706)),o=s(n(91988)),c=s(n(90523));t.$ZodCheck=a.$constructor("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});const l={number:"number",bigint:"bigint",object:"date"};function u(e,t,n){e.issues.length&&t.issues.push(...c.prefixIssues(n,e.issues))}t.$ZodCheckLessThan=a.$constructor("$ZodCheckLessThan",(e,n)=>{t.$ZodCheck.init(e,n);const r=l[typeof n.value];e._zod.onattach.push(e=>{const t=e._zod.bag,r=(n.inclusive?t.maximum:t.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<r&&(n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value)}),e._zod.check=t=>{(n.inclusive?t.value<=n.value:t.value<n.value)||t.issues.push({origin:r,code:"too_big",maximum:n.value,input:t.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),t.$ZodCheckGreaterThan=a.$constructor("$ZodCheckGreaterThan",(e,n)=>{t.$ZodCheck.init(e,n);const r=l[typeof n.value];e._zod.onattach.push(e=>{const t=e._zod.bag,r=(n.inclusive?t.minimum:t.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>r&&(n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value)}),e._zod.check=t=>{(n.inclusive?t.value>=n.value:t.value>n.value)||t.issues.push({origin:r,code:"too_small",minimum:n.value,input:t.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),t.$ZodCheckMultipleOf=a.$constructor("$ZodCheckMultipleOf",(e,n)=>{t.$ZodCheck.init(e,n),e._zod.onattach.push(e=>{var t;(t=e._zod.bag).multipleOf??(t.multipleOf=n.value)}),e._zod.check=t=>{if(typeof t.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof t.value?t.value%n.value===BigInt(0):0===c.floatSafeRemainder(t.value,n.value))||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:n.value,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCheckNumberFormat=a.$constructor("$ZodCheckNumberFormat",(e,n)=>{t.$ZodCheck.init(e,n),n.format=n.format||"float64";const r=n.format?.includes("int"),i=r?"int":"number",[s,a]=c.NUMBER_FORMAT_RANGES[n.format];e._zod.onattach.push(e=>{const t=e._zod.bag;t.format=n.format,t.minimum=s,t.maximum=a,r&&(t.pattern=o.integer)}),e._zod.check=t=>{const o=t.value;if(r){if(!Number.isInteger(o))return void t.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?t.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}):t.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!n.abort}))}o<s&&t.issues.push({origin:"number",input:o,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!n.abort}),o>a&&t.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),t.$ZodCheckBigIntFormat=a.$constructor("$ZodCheckBigIntFormat",(e,n)=>{t.$ZodCheck.init(e,n);const[r,i]=c.BIGINT_FORMAT_RANGES[n.format];e._zod.onattach.push(e=>{const t=e._zod.bag;t.format=n.format,t.minimum=r,t.maximum=i}),e._zod.check=t=>{const s=t.value;s<r&&t.issues.push({origin:"bigint",input:s,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!n.abort}),s>i&&t.issues.push({origin:"bigint",input:s,code:"too_big",maximum:i,inst:e})}}),t.$ZodCheckMaxSize=a.$constructor("$ZodCheckMaxSize",(e,n)=>{var r;t.$ZodCheck.init(e,n),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!c.nullish(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const t=e._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<t&&(e._zod.bag.maximum=n.maximum)}),e._zod.check=t=>{const r=t.value;r.size<=n.maximum||t.issues.push({origin:c.getSizableOrigin(r),code:"too_big",maximum:n.maximum,inclusive:!0,input:r,inst:e,continue:!n.abort})}}),t.$ZodCheckMinSize=a.$constructor("$ZodCheckMinSize",(e,n)=>{var r;t.$ZodCheck.init(e,n),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!c.nullish(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const t=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>t&&(e._zod.bag.minimum=n.minimum)}),e._zod.check=t=>{const r=t.value;r.size>=n.minimum||t.issues.push({origin:c.getSizableOrigin(r),code:"too_small",minimum:n.minimum,inclusive:!0,input:r,inst:e,continue:!n.abort})}}),t.$ZodCheckSizeEquals=a.$constructor("$ZodCheckSizeEquals",(e,n)=>{var r;t.$ZodCheck.init(e,n),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!c.nullish(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{const t=e._zod.bag;t.minimum=n.size,t.maximum=n.size,t.size=n.size}),e._zod.check=t=>{const r=t.value,i=r.size;if(i===n.size)return;const s=i>n.size;t.issues.push({origin:c.getSizableOrigin(r),...s?{code:"too_big",maximum:n.size}:{code:"too_small",minimum:n.size},inclusive:!0,exact:!0,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCheckMaxLength=a.$constructor("$ZodCheckMaxLength",(e,n)=>{var r;t.$ZodCheck.init(e,n),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!c.nullish(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const t=e._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<t&&(e._zod.bag.maximum=n.maximum)}),e._zod.check=t=>{const r=t.value;if(r.length<=n.maximum)return;const i=c.getLengthableOrigin(r);t.issues.push({origin:i,code:"too_big",maximum:n.maximum,inclusive:!0,input:r,inst:e,continue:!n.abort})}}),t.$ZodCheckMinLength=a.$constructor("$ZodCheckMinLength",(e,n)=>{var r;t.$ZodCheck.init(e,n),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!c.nullish(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const t=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>t&&(e._zod.bag.minimum=n.minimum)}),e._zod.check=t=>{const r=t.value;if(r.length>=n.minimum)return;const i=c.getLengthableOrigin(r);t.issues.push({origin:i,code:"too_small",minimum:n.minimum,inclusive:!0,input:r,inst:e,continue:!n.abort})}}),t.$ZodCheckLengthEquals=a.$constructor("$ZodCheckLengthEquals",(e,n)=>{var r;t.$ZodCheck.init(e,n),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!c.nullish(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const t=e._zod.bag;t.minimum=n.length,t.maximum=n.length,t.length=n.length}),e._zod.check=t=>{const r=t.value,i=r.length;if(i===n.length)return;const s=c.getLengthableOrigin(r),a=i>n.length;t.issues.push({origin:s,...a?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCheckStringFormat=a.$constructor("$ZodCheckStringFormat",(e,n)=>{var r,i;t.$ZodCheck.init(e,n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.format=n.format,n.pattern&&(t.patterns??(t.patterns=new Set),t.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=t=>{n.pattern.lastIndex=0,n.pattern.test(t.value)||t.issues.push({origin:"string",code:"invalid_format",format:n.format,input:t.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),t.$ZodCheckRegex=a.$constructor("$ZodCheckRegex",(e,n)=>{t.$ZodCheckStringFormat.init(e,n),e._zod.check=t=>{n.pattern.lastIndex=0,n.pattern.test(t.value)||t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),t.$ZodCheckLowerCase=a.$constructor("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=o.lowercase),t.$ZodCheckStringFormat.init(e,n)}),t.$ZodCheckUpperCase=a.$constructor("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=o.uppercase),t.$ZodCheckStringFormat.init(e,n)}),t.$ZodCheckIncludes=a.$constructor("$ZodCheckIncludes",(e,n)=>{t.$ZodCheck.init(e,n);const r=c.escapeRegex(n.includes),i=new RegExp("number"==typeof n.position?`^.{${n.position}}${r}`:r);n.pattern=i,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=t=>{t.value.includes(n.includes,n.position)||t.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCheckStartsWith=a.$constructor("$ZodCheckStartsWith",(e,n)=>{t.$ZodCheck.init(e,n);const r=new RegExp(`^${c.escapeRegex(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=t=>{t.value.startsWith(n.prefix)||t.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCheckEndsWith=a.$constructor("$ZodCheckEndsWith",(e,n)=>{t.$ZodCheck.init(e,n);const r=new RegExp(`.*${c.escapeRegex(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=t=>{t.value.endsWith(n.suffix)||t.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCheckProperty=a.$constructor("$ZodCheckProperty",(e,n)=>{t.$ZodCheck.init(e,n),e._zod.check=e=>{const t=n.schema._zod.run({value:e.value[n.property],issues:[]},{});if(t instanceof Promise)return t.then(t=>u(t,e,n.property));u(t,e,n.property)}}),t.$ZodCheckMimeType=a.$constructor("$ZodCheckMimeType",(e,n)=>{t.$ZodCheck.init(e,n);const r=new Set(n.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=n.mime}),e._zod.check=t=>{r.has(t.value.type)||t.issues.push({code:"invalid_value",values:n.mime,input:t.value.type,inst:e,continue:!n.abort})}}),t.$ZodCheckOverwrite=a.$constructor("$ZodCheckOverwrite",(e,n)=>{t.$ZodCheck.init(e,n),e._zod.check=e=>{e.value=n.tx(e.value)}})},32804:(e,t,n)=>{var r=n(56110)(n(9325),"Promise");e.exports=r},33017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=e.key||e.property){return!e.computed&&(0,r.isIdentifier)(t)&&(t=(0,i.stringLiteral)(t.name)),t};var r=n(98960),i=n(48079)},33279:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.coerce=t.iso=t.ZodISODuration=t.ZodISOTime=t.ZodISODate=t.ZodISODateTime=t.locales=t.fromJSONSchema=t.toJSONSchema=t.NEVER=t.util=t.TimePrecision=t.flattenError=t.formatError=t.prettifyError=t.treeifyError=t.regexes=t.clone=t.$brand=t.$input=t.$output=t.config=t.registry=t.globalRegistry=t.core=void 0,t.core=s(n(76601)),a(n(99874),t),a(n(56549),t),a(n(79299),t),a(n(48035),t),a(n(72392),t);const c=n(76601),l=o(n(28208));(0,c.config)((0,l.default)());var u=n(76601);Object.defineProperty(t,"globalRegistry",{enumerable:!0,get:function(){return u.globalRegistry}}),Object.defineProperty(t,"registry",{enumerable:!0,get:function(){return u.registry}}),Object.defineProperty(t,"config",{enumerable:!0,get:function(){return u.config}}),Object.defineProperty(t,"$output",{enumerable:!0,get:function(){return u.$output}}),Object.defineProperty(t,"$input",{enumerable:!0,get:function(){return u.$input}}),Object.defineProperty(t,"$brand",{enumerable:!0,get:function(){return u.$brand}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return u.clone}}),Object.defineProperty(t,"regexes",{enumerable:!0,get:function(){return u.regexes}}),Object.defineProperty(t,"treeifyError",{enumerable:!0,get:function(){return u.treeifyError}}),Object.defineProperty(t,"prettifyError",{enumerable:!0,get:function(){return u.prettifyError}}),Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return u.formatError}}),Object.defineProperty(t,"flattenError",{enumerable:!0,get:function(){return u.flattenError}}),Object.defineProperty(t,"TimePrecision",{enumerable:!0,get:function(){return u.TimePrecision}}),Object.defineProperty(t,"util",{enumerable:!0,get:function(){return u.util}}),Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return u.NEVER}});var d=n(86631);Object.defineProperty(t,"toJSONSchema",{enumerable:!0,get:function(){return d.toJSONSchema}});var p=n(23783);Object.defineProperty(t,"fromJSONSchema",{enumerable:!0,get:function(){return p.fromJSONSchema}}),t.locales=s(n(45167));var h=n(44725);Object.defineProperty(t,"ZodISODateTime",{enumerable:!0,get:function(){return h.ZodISODateTime}}),Object.defineProperty(t,"ZodISODate",{enumerable:!0,get:function(){return h.ZodISODate}}),Object.defineProperty(t,"ZodISOTime",{enumerable:!0,get:function(){return h.ZodISOTime}}),Object.defineProperty(t,"ZodISODuration",{enumerable:!0,get:function(){return h.ZodISODuration}}),t.iso=s(n(44725)),t.coerce=s(n(39633))},33338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBatches=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(34741),o=n(73346),c=n(54815);class l extends r.APIResource{create(e,t,n){return this._client.post(c.path`/vector_stores/${e}/file_batches`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(c.path`/vector_stores/${r}/file_batches/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{vector_store_id:r}=t;return this._client.post(c.path`/vector_stores/${r}/file_batches/${e}/cancel`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n){const{vector_store_id:r,...a}=t;return this._client.getAPIList(c.path`/vector_stores/${r}/file_batches/${e}/files`,i.CursorPage,{query:a,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,t,n){const r=(0,s.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:s}=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse();switch(i.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,a.sleep)(e);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=r?.maxConcurrency??5,s=Math.min(i,t.length),a=this._client,c=t.values(),l=[...n],u=Array(s).fill(c).map(async function(e){for(let t of e){const e=await a.files.create({file:t,purpose:"assistants"},r);l.push(e.id)}});return await(0,o.allSettledWithThrow)(u),await this.createAndPoll(e,{file_ids:l})}}t.FileBatches=l},33453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuning=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(62241)),a=n(62241),o=r.__importStar(n(64212)),c=n(64212),l=r.__importStar(n(50204)),u=n(50204),d=r.__importStar(n(71718)),p=n(71718);class h extends i.APIResource{constructor(){super(...arguments),this.methods=new s.Methods(this._client),this.jobs=new d.Jobs(this._client),this.checkpoints=new l.Checkpoints(this._client),this.alpha=new o.Alpha(this._client)}}t.FineTuning=h,h.Methods=a.Methods,h.Jobs=p.Jobs,h.Checkpoints=u.Checkpoints,h.Alpha=c.Alpha},33599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{constructor({identifier:e,scope:t,path:n,kind:r}){this.identifier=void 0,this.scope=void 0,this.path=void 0,this.kind=void 0,this.constantViolations=[],this.constant=!0,this.referencePaths=[],this.referenced=!1,this.references=0,this.identifier=e,this.scope=t,this.path=n,this.kind=r,"var"!==r&&"hoisted"!==r||!function(e){const t=!e.isVariableDeclarator()||e.node.init;for(let{parentPath:n,key:r}=e;n;({parentPath:n,key:r}=n)){if(n.isFunctionParent())return!1;if("left"===r&&n.isForXStatement()||t&&"body"===r&&n.isLoop())return!0}return!1}(n)||this.reassign(n),this.clearValue()}deoptValue(){this.clearValue(),this.hasDeoptedValue=!0}setValue(e){this.hasDeoptedValue||(this.hasValue=!0,this.value=e)}clearValue(){this.hasDeoptedValue=!1,this.hasValue=!1,this.value=null}reassign(e){this.constant=!1,this.constantViolations.includes(e)||this.constantViolations.push(e)}reference(e){this.referencePaths.includes(e)||(this.referenced=!0,this.references++,this.referencePaths.push(e))}dereference(){this.references--,this.referenced=!!this.references}}},33694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transcriptions=void 0;const r=n(82040),i=n(12018);class s extends r.APIResource{create(e,t){return this._client.post("/audio/transcriptions",(0,i.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}t.Transcriptions=s},33946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=t.Videos=t.VectorStores=t.Uploads=t.Responses=t.Realtime=t.Moderations=t.Models=t.Images=t.Graders=t.FineTuning=t.Files=t.Evals=t.Embeddings=t.Conversations=t.Containers=t.Completions=t.Beta=t.Batches=t.Audio=void 0;const r=n(79632);r.__exportStar(n(7949),t),r.__exportStar(n(55653),t);var i=n(1253);Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return i.Audio}});var s=n(32530);Object.defineProperty(t,"Batches",{enumerable:!0,get:function(){return s.Batches}});var a=n(6183);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return a.Beta}});var o=n(79045);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return o.Completions}});var c=n(42099);Object.defineProperty(t,"Containers",{enumerable:!0,get:function(){return c.Containers}});var l=n(48997);Object.defineProperty(t,"Conversations",{enumerable:!0,get:function(){return l.Conversations}});var u=n(1242);Object.defineProperty(t,"Embeddings",{enumerable:!0,get:function(){return u.Embeddings}});var d=n(74769);Object.defineProperty(t,"Evals",{enumerable:!0,get:function(){return d.Evals}});var p=n(61461);Object.defineProperty(t,"Files",{enumerable:!0,get:function(){return p.Files}});var h=n(33453);Object.defineProperty(t,"FineTuning",{enumerable:!0,get:function(){return h.FineTuning}});var f=n(79777);Object.defineProperty(t,"Graders",{enumerable:!0,get:function(){return f.Graders}});var m=n(87370);Object.defineProperty(t,"Images",{enumerable:!0,get:function(){return m.Images}});var y=n(99458);Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return y.Models}});var g=n(24975);Object.defineProperty(t,"Moderations",{enumerable:!0,get:function(){return g.Moderations}});var v=n(28769);Object.defineProperty(t,"Realtime",{enumerable:!0,get:function(){return v.Realtime}});var b=n(50477);Object.defineProperty(t,"Responses",{enumerable:!0,get:function(){return b.Responses}});var S=n(93017);Object.defineProperty(t,"Uploads",{enumerable:!0,get:function(){return S.Uploads}});var T=n(84229);Object.defineProperty(t,"VectorStores",{enumerable:!0,get:function(){return T.VectorStores}});var _=n(98284);Object.defineProperty(t,"Videos",{enumerable:!0,get:function(){return _.Videos}});var P=n(88014);Object.defineProperty(t,"Webhooks",{enumerable:!0,get:function(){return P.Webhooks}})},33955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{list(e,t={},n){return this._client.getAPIList(s.path`/fine_tuning/jobs/${e}/checkpoints`,i.CursorPage,{query:t,...n})}}t.Checkpoints=a},34176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:s}=e;void 0===n.then&&void 0===n.else&&(0,i.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const o=a(s,"then"),c=a(s,"else");if(!o&&!c)return;const l=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),o&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else o?t.if(u,d("then")):t.if((0,r.not)(u),d("else"));function d(n,i){return()=>{const s=e.subschema({keyword:n},u);t.assign(l,u),e.mergeValidEvaluated(s,l),i?t.assign(i,r._`${n}`):e.setParams({ifClause:n})}}e.pass(l,()=>e.error(!0))}};function a(e,t){const n=e.schema[t];return void 0!==n&&!(0,i.alwaysValidSchema)(e,n)}t.default=s},34436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalExpression=t.BinaryExpression=t.AssignmentExpression=function(e){this.print(e.left),this.space(),"in"===e.operator||"instanceof"===e.operator?this.word(e.operator):(this.token(e.operator),this._endsWithDiv="/"===e.operator),this.space(),this.print(e.right)},t.AssignmentPattern=function(e){this.print(e.left),("Identifier"===e.left.type||l(e.left))&&(e.left.optional&&this.tokenChar(63),this.print(e.left.typeAnnotation)),this.space(),this.tokenChar(61),this.space(),this.print(e.right)},t.AwaitExpression=function(e){this.word("await"),this.space(),this.print(e.argument)},t.BindExpression=function(e){this.print(e.object),this.token("::"),this.print(e.callee)},t.CallExpression=function(e){this.print(e.callee),this.print(e.typeArguments),this.print(e.typeParameters),this.tokenChar(40);const t=this.enterDelimited();this.printList(e.arguments,this.shouldPrintTrailingComma(")")),t(),this.rightParens(e)},t.ConditionalExpression=function(e){this.print(e.test),this.space(),this.tokenChar(63),this.space(),this.print(e.consequent),this.space(),this.tokenChar(58),this.space(),this.print(e.alternate)},t.Decorator=function(e){this.tokenChar(64),this.print(e.expression),this.newline()},t.DoExpression=function(e){e.async&&(this.word("async",!0),this.space()),this.word("do"),this.space(),this.print(e.body)},t.EmptyStatement=function(){this.semicolon(!0)},t.ExpressionStatement=function(e){this.tokenContext|=i.TokenContext.expressionStatement,this.print(e.expression),this.semicolon()},t.Import=function(){this.word("import")},t.MemberExpression=function(e){if(this.print(e.object),!e.computed&&o(e.property))throw new TypeError("Got a MemberExpression for MemberExpression property");let t=e.computed;if(a(e.property)&&"number"==typeof e.property.value&&(t=!0),t){const t=this.enterDelimited();this.tokenChar(91),this.print(e.property),this.tokenChar(93),t()}else this.tokenChar(46),this.print(e.property)},t.MetaProperty=function(e){this.print(e.meta),this.tokenChar(46),this.print(e.property)},t.ModuleExpression=function(e){this.word("module",!0),this.space(),this.tokenChar(123),this.indent();const{body:t}=e;(t.body.length||t.directives.length)&&this.newline(),this.print(t),this.dedent(),this.rightBrace(e)},t.NewExpression=function(e,t){if(this.word("new"),this.space(),this.print(e.callee),this.format.minified&&0===e.arguments.length&&!e.optional&&!s(t,{callee:e})&&!o(t)&&!c(t))return;if(this.print(e.typeArguments),this.print(e.typeParameters),e.optional&&this.token("?."),0===e.arguments.length&&this.tokenMap&&!this.tokenMap.endMatches(e,")"))return;this.tokenChar(40);const n=this.enterDelimited();this.printList(e.arguments,this.shouldPrintTrailingComma(")")),n(),this.rightParens(e)},t.OptionalCallExpression=function(e){this.print(e.callee),this.print(e.typeParameters),e.optional&&this.token("?."),this.print(e.typeArguments),this.tokenChar(40);const t=this.enterDelimited();this.printList(e.arguments),t(),this.rightParens(e)},t.OptionalMemberExpression=function(e){let{computed:t}=e;const{optional:n,property:r}=e;if(this.print(e.object),!t&&o(r))throw new TypeError("Got a MemberExpression for MemberExpression property");a(r)&&"number"==typeof r.value&&(t=!0),n&&this.token("?."),t?(this.tokenChar(91),this.print(r),this.tokenChar(93)):(n||this.tokenChar(46),this.print(r))},t.ParenthesizedExpression=function(e){this.tokenChar(40);const t=this.enterDelimited();this.print(e.expression),t(),this.rightParens(e)},t.PrivateName=function(e){this.tokenChar(35),this.print(e.id)},t.SequenceExpression=function(e){this.printList(e.expressions)},t.Super=function(){this.word("super")},t.ThisExpression=function(){this.word("this")},t.UnaryExpression=function(e){const{operator:t}=e;"void"===t||"delete"===t||"typeof"===t||"throw"===t?(this.word(t),this.space()):this.token(t),this.print(e.argument)},t.UpdateExpression=function(e){e.prefix?(this.token(e.operator),this.print(e.argument)):(this.print(e.argument,!0),this.token(e.operator))},t.V8IntrinsicIdentifier=function(e){this.tokenChar(37),this.word(e.name)},t.YieldExpression=function(e){e.delegate?(this.word("yield",!0),this.tokenChar(42),e.argument&&(this.space(),this.print(e.argument))):e.argument?(this.word("yield",!0),this.space(),this.print(e.argument)):this.word("yield")},t._shouldPrintDecoratorsBeforeExport=function(e){return"boolean"==typeof this.format.decoratorsBeforeExport?this.format.decoratorsBeforeExport:"number"==typeof e.start&&e.start===e.declaration.start};var r=n(2352),i=n(31373);const{isCallExpression:s,isLiteral:a,isMemberExpression:o,isNewExpression:c,isPattern:l}=r},34519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSetDef=void 0;const r=n(98950),i=n(73524);t.parseSetDef=function(e,t){const n={type:"array",uniqueItems:!0,items:(0,i.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(0,r.setResponseValueAndErrors)(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,r.setResponseValueAndErrors)(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}},34568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(0,r.default)(e)){var t;const n=null!=(t=null==e?void 0:e.type)?t:JSON.stringify(e);throw new TypeError(`Not a valid node of type "${n}"`)}};var r=n(73908)},34633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zodToJsonSchema=void 0;const r=n(73524),i=n(11076),s=n(62909);t.zodToJsonSchema=(e,t)=>{const n=(0,i.getRefs)(t);let a="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,i])=>({...e,[t]:(0,r.parseDef)(i._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??(0,s.parseAnyDef)(n)}),{}):void 0;const o="string"==typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,c=(0,r.parseDef)(e._def,void 0===o?n:{...n,currentPath:[...n.basePath,n.definitionPath,o]},!1)??(0,s.parseAnyDef)(n),l="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==l&&(c.title=l),n.flags.hasReferencedOpenAiAnyType&&(a||(a={}),a[n.openAiAnyTypeName]||(a[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===n.$refStrategy?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const u=void 0===o?a?{...c,[n.definitionPath]:a}:c:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,o].join("/"),[n.definitionPath]:{...a,[o]:c}};return"jsonSchema7"===n.target?u.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"!==n.target&&"openAi"!==n.target||(u.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===n.target&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u}},34701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79632);r.__exportStar(n(15734),t),r.__exportStar(n(44319),t),r.__exportStar(n(17237),t),r.__exportStar(n(86188),t),r.__exportStar(n(9491),t),r.__exportStar(n(34741),t)},34741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0,t.sleep=e=>new Promise(t=>setTimeout(t,e))},34834:e=>{"use strict";const t=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),n=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(e){let t="",n=0,r=0;for(r=0;r<e.length;r++)if(n=e[r].charCodeAt(0),48!==n){if(!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";t+=e[r];break}for(r+=1;r<e.length;r++){if(n=e[r].charCodeAt(0),!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";t+=e[r]}return t}const i=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function s(e){return e.length=0,!0}function a(e,t,n){if(e.length){const i=r(e);if(""===i)return n.error=!0,!1;t.push(i),e.length=0}return!0}function o(e){if(function(e){let t=0;for(let n=0;n<e.length;n++)":"===e[n]&&t++;return t}(e)<2)return{host:e,isIPV6:!1};const t=function(e){let t=0;const n={error:!1,address:"",zone:""},i=[],o=[];let c=!1,l=!1,u=a;for(let r=0;r<e.length;r++){const a=e[r];if("["!==a&&"]"!==a)if(":"!==a)if("%"===a){if(!u(o,i,n))break;u=s}else o.push(a);else{if(!0===c&&(l=!0),!u(o,i,n))break;if(++t>7){n.error=!0;break}r>0&&":"===e[r-1]&&(c=!0),i.push(":")}}return o.length&&(u===s?n.zone=o.join(""):l?i.push(o.join("")):i.push(r(o))),n.address=i.join(""),n}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,n=t.address;return t.zone&&(e+="%"+t.zone,n+="%25"+t.zone),{host:e,isIPV6:!0,escapedHost:n}}}e.exports={nonSimpleDomain:i,recomposeAuthority:function(e){const t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let r=unescape(e.host);if(!n(r)){const t=o(r);r=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(r)}return"number"!=typeof e.port&&"string"!=typeof e.port||(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,t){const n=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=n(e.scheme)),void 0!==e.userinfo&&(e.userinfo=n(e.userinfo)),void 0!==e.host&&(e.host=n(e.host)),void 0!==e.path&&(e.path=n(e.path)),void 0!==e.query&&(e.query=n(e.query)),void 0!==e.fragment&&(e.fragment=n(e.fragment)),e},removeDotSegments:function(e){let t=e;const n=[];let r=-1,i=0;for(;i=t.length;){if(1===i){if("."===t)break;if("/"===t){n.push("/");break}n.push(t);break}if(2===i){if("."===t[0]){if("."===t[1])break;if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&("."===t[1]||"/"===t[1])){n.push("/");break}}else if(3===i&&"/.."===t){0!==n.length&&n.pop(),n.push("/");break}if("."===t[0]){if("."===t[1]){if("/"===t[2]){t=t.slice(3);continue}}else if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&"."===t[1]){if("/"===t[2]){t=t.slice(2);continue}if("."===t[2]&&"/"===t[3]){t=t.slice(3),0!==n.length&&n.pop();continue}}if(-1===(r=t.indexOf("/",1))){n.push(t);break}n.push(t.slice(0,r)),t=t.slice(r)}return n.join("")},isIPv4:n,isUUID:t,normalizeIPv6:o,stringArrayToHexStripped:r}},34836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLiteralDef=void 0,t.parseLiteralDef=function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}},34840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},34932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},34950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environmentVisitor=function(e){return g([P,e])},t.explode=f,t.isExplodedVisitor=h,t.merge=g,t.verify=m;var r=n(75562),i=n(57973),s=n(2352),a=n(79578);const{DEPRECATED_KEYS:o,DEPRECATED_ALIASES:c,FLIPPED_ALIAS_KEYS:l,TYPES:u,__internal__deprecationWarning:d}=s;function p(e){return e in r}function h(e){return null==e?void 0:e._exploded}function f(e){if(h(e))return e;e._exploded=!0;for(const t of Object.keys(e)){if(T(t))continue;const n=t.split("|");if(1===n.length)continue;const r=e[t];delete e[t];for(const t of n)e[t]=r}m(e),delete e.__esModule,function(e){for(const t of Object.keys(e)){if(T(t))continue;const n=e[t];"function"==typeof n&&(e[t]={enter:n})}}(e),b(e);for(const t of Object.keys(e)){if(T(t))continue;if(!p(t))continue;const n=e[t];for(const e of Object.keys(n))n[e]=S(t,n[e]);delete e[t];const i=r[t];if(null!==i)for(const t of i)null!=e[t]||(e[t]={}),_(e[t],n);else _(e,n)}for(const t of Object.keys(e)){if(T(t))continue;let n=l[t];if(t in o){const e=o[t];d(t,e,"Visitor "),n=[e]}else if(t in c){const e=c[t];d(t,e,"Visitor "),n=l[e]}if(!n)continue;const r=e[t];delete e[t];for(const t of n){const n=e[t];n?_(n,r):e[t]=Object.assign({},r)}}for(const t of Object.keys(e))T(t)||b(e[t]);return e}function m(e){if(!e._verified){if("function"==typeof e)throw new Error("You passed `traverse()` a function when it expected a visitor object, are you sure you didn't mean `{ enter: Function }`?");for(const t of Object.keys(e)){if("enter"!==t&&"exit"!==t||y(t,e[t]),T(t))continue;if(!u.includes(t))throw new Error(`You gave us a visitor for the node type ${t} but it's not a valid type in @babel/traverse 7.28.5`);const n=e[t];if("object"==typeof n)for(const e of Object.keys(n)){if("enter"!==e&&"exit"!==e)throw new Error(`You passed \`traverse()\` a visitor object with the property ${t} that has the invalid property ${e}`);y(`${t}.${e}`,n[e])}}e._verified=!0}}function y(e,t){const n=[].concat(t);for(const t of n)if("function"!=typeof t)throw new TypeError(`Non-function found defined in ${e} with type ${typeof t}`)}function g(e,t=[],n){const r={_verified:!0,_exploded:!0};Object.defineProperty(r,"_exploded",{enumerable:!1}),Object.defineProperty(r,"_verified",{enumerable:!1});for(let i=0;i<e.length;i++){const s=f(e[i]),a=t[i];let o=s;(a||n)&&(o=v(o,a,n)),_(r,o);for(const e of Object.keys(s)){if(T(e))continue;let t=s[e];(a||n)&&(t=v(t,a,n)),_(r[e]||(r[e]={}),t)}}return r}function v(e,t,n){const r={};for(const i of["enter","exit"]){let s=e[i];Array.isArray(s)&&(s=s.map(function(e){let r=e;return t&&(r=function(n){e.call(t,n,t)}),n&&(r=n(null==t?void 0:t.key,i,r)),r!==e&&(r.toString=()=>e.toString()),r}),r[i]=s)}return r}function b(e){e.enter&&!Array.isArray(e.enter)&&(e.enter=[e.enter]),e.exit&&!Array.isArray(e.exit)&&(e.exit=[e.exit])}function S(e,t){const n=i[`is${e}`],r=function(e){if(n.call(e))return t.apply(this,arguments)};return r.toString=()=>t.toString(),r}function T(e){return"_"===e[0]||"enter"===e||"exit"===e||"shouldSkip"===e||"denylist"===e||"noScope"===e||"skipKeys"===e||"blacklist"===e}function _(e,t){for(const n of["enter","exit"])t[n]&&(e[n]=[].concat(e[n]||[],t[n]))}const P={FunctionParent(e){e.isArrowFunctionExpression()||(e.skip(),e.isMethod()&&(e.requeueComputedKeyAndDecorators?e.requeueComputedKeyAndDecorators():a.requeueComputedKeyAndDecorators.call(e)))},Property(e){e.isObjectProperty()||(e.skip(),e.requeueComputedKeyAndDecorators?e.requeueComputedKeyAndDecorators():a.requeueComputedKeyAndDecorators.call(e))}}},35137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraderModels=void 0;const r=n(82040);class i extends r.APIResource{}t.GraderModels=i},35299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!0,!0)};var r=n(85279)},35317:e=>{"use strict";e.exports=require("child_process")},35392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="6.10.0"},35749:(e,t,n)=>{var r=n(81042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},35870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(38451),s=n(81430),a=n(7346),o=n(99048),c={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:c,parentSchema:l,it:u}=e,{oneOf:d}=l;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if("string"!=typeof p)throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!d)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),f=t.const("tag",r._`${n}${(0,r.getProperty)(p)}`);function m(n){const i=t.name("valid"),s=e.subschema({keyword:"oneOf",schemaProp:n},i);return e.mergeEvaluated(s,r.Name),i}t.if(r._`typeof ${f} == "string"`,()=>function(){const n=function(){var e;const t={},n=i(l);let r=!0;for(let t=0;t<d.length;t++){let l=d[t];if((null==l?void 0:l.$ref)&&!(0,o.schemaHasRulesButRef)(l,u.self.RULES)){const e=l.$ref;if(l=s.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e),l instanceof s.SchemaEnv&&(l=l.schema),void 0===l)throw new a.default(u.opts.uriResolver,u.baseId,e)}const h=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[p];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);r=r&&(n||i(l)),c(h,t)}if(!r)throw new Error(`discriminator: "${p}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(p)}function c(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`);for(const n of e.enum)h(n,t)}}function h(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${p}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${f} === ${e}`),t.assign(h,m(n[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:f,tagName:p}),t.endIf()}(),()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:f,tagName:p})),e.ok(h)}};t.default=c},36744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e+="";let t="";for(const n of e)t+=(0,i.isIdentifierChar)(n.codePointAt(0))?n:"-";return t=t.replace(/^[-0-9]+/,""),t=t.replace(/[-\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),(0,r.default)(t)||(t=`_${t}`),t||"_"};var r=n(60983),i=n(61e3)},37005:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function t(t){return e[t]??null}const n={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return e=>{switch(e.code){case"invalid_type":return`Fâsit giren: umulan ${e.expected}, alınan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Fâsit giren: umulan ${a.stringifyPrimitive(e.values[0])}`:`Fâsit tercih: mûteberler ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Fazla büyük: ${e.origin??"value"}, ${n}${e.maximum.toString()} ${r.unit??"elements"} sahip olmalıydı.`:`Fazla büyük: ${e.origin??"value"}, ${n}${e.maximum.toString()} olmalıydı.`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Fazla küçük: ${e.origin}, ${n}${e.minimum.toString()} ${r.unit} sahip olmalıydı.`:`Fazla küçük: ${e.origin}, ${n}${e.minimum.toString()} olmalıydı.`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Fâsit metin: "${t.prefix}" ile başlamalı.`:"ends_with"===t.format?`Fâsit metin: "${t.suffix}" ile bitmeli.`:"includes"===t.format?`Fâsit metin: "${t.includes}" ihtivâ etmeli.`:"regex"===t.format?`Fâsit metin: ${t.pattern} nakşına uymalı.`:`Fâsit ${n[t.format]??e.format}`}case"not_multiple_of":return`Fâsit sayı: ${e.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${e.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};e.exports=t.default},37167:(e,t,n)=>{var r=n(4901),i=n(27301),s=n(86009),a=s&&s.isTypedArray,o=a?i(a):r;e.exports=o},37217:(e,t,n)=>{var r=n(80079),i=n(51420),s=n(90938),a=n(63605),o=n(29817),c=n(80945);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=s,l.prototype.get=a,l.prototype.has=o,l.prototype.set=c,e.exports=l},37294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullDef=void 0,t.parseNullDef=function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}},37390:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZodMiniISODuration=t.ZodMiniISOTime=t.ZodMiniISODate=t.ZodMiniISODateTime=void 0,t.datetime=function(e){return a._isoDateTime(t.ZodMiniISODateTime,e)},t.date=function(e){return a._isoDate(t.ZodMiniISODate,e)},t.time=function(e){return a._isoTime(t.ZodMiniISOTime,e)},t.duration=function(e){return a._isoDuration(t.ZodMiniISODuration,e)};const a=s(n(76601)),o=s(n(33));t.ZodMiniISODateTime=a.$constructor("ZodMiniISODateTime",(e,t)=>{a.$ZodISODateTime.init(e,t),o.ZodMiniStringFormat.init(e,t)}),t.ZodMiniISODate=a.$constructor("ZodMiniISODate",(e,t)=>{a.$ZodISODate.init(e,t),o.ZodMiniStringFormat.init(e,t)}),t.ZodMiniISOTime=a.$constructor("ZodMiniISOTime",(e,t)=>{a.$ZodISOTime.init(e,t),o.ZodMiniStringFormat.init(e,t)}),t.ZodMiniISODuration=a.$constructor("ZodMiniISODuration",(e,t)=>{a.$ZodISODuration.init(e,t),o.ZodMiniStringFormat.init(e,t)})},37411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=function(){i(),s()},t.clearPath=i,t.clearScope=s,t.getCachedPaths=function(e){const{parent:t,parentPath:r}=e;return n.get(t)},t.getOrCreateCachedPaths=function(e,t){let r=n.get(e);return r||n.set(e,r=new Map),r},t.scope=t.path=void 0;let n=t.path=new WeakMap,r=t.scope=new WeakMap;function i(){t.path=n=new WeakMap}function s(){t.scope=r=new WeakMap}},37591:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){switch(t.type){case"MemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"JSXMemberExpression":return t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"PrivateName":case"LabeledStatement":case"CatchClause":case"RestElement":case"BreakStatement":case"ContinueStatement":case"FunctionDeclaration":case"FunctionExpression":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportAttribute":case"JSXAttribute":case"ObjectPattern":case"ArrayPattern":case"MetaProperty":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return t.key===e&&!!t.computed;case"ObjectProperty":return t.key===e?!!t.computed:!n||"ObjectPattern"!==n.type;case"ClassProperty":case"ClassAccessorProperty":case"TSPropertySignature":return t.key!==e||!!t.computed;case"ClassPrivateProperty":case"ObjectTypeProperty":return t.key!==e;case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":case"AssignmentPattern":return t.right===e;case"ExportSpecifier":return(null==n||!n.source)&&t.local===e;case"TSEnumMember":return t.id!==e}return!0}},37828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},38238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatKit=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(14003)),a=n(14003),o=r.__importStar(n(68009)),c=n(68009);class l extends i.APIResource{constructor(){super(...arguments),this.sessions=new s.Sessions(this._client),this.threads=new o.Threads(this._client)}}t.ChatKit=l,l.Sessions=a.Sessions,l.Threads=c.Threads},38451:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n||(t.DiscrError=n={}))},38721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=u,t.isIdentifierName=function(e){let t=!0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(55296==(64512&r)&&n+1<e.length){const t=e.charCodeAt(++n);56320==(64512&t)&&(r=65536+((1023&r)<<10)+(1023&t))}if(t){if(t=!1,!l(r))return!1}else if(!u(r))return!1}return!t},t.isIdentifierStart=l;let n="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-࢏ࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚ౜ౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ೜-ೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-Ƛ꟱-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",r="·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-᫝᫠-᫫ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･";const i=new RegExp("["+n+"]"),s=new RegExp("["+n+r+"]");n=r=null;const a=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,7,25,39,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,5,57,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,24,43,261,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,33,24,3,24,45,74,6,0,67,12,65,1,2,0,15,4,10,7381,42,31,98,114,8702,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,208,30,2,2,2,1,2,6,3,4,10,1,225,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4381,3,5773,3,7472,16,621,2467,541,1507,4938,6,8489],o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,78,5,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,199,7,137,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,55,9,266,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,233,0,3,0,8,1,6,0,475,6,110,6,6,9,4759,9,787719,239];function c(e,t){let n=65536;for(let r=0,i=t.length;r<i;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function l(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&i.test(String.fromCharCode(e)):c(e,a)))}function u(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&s.test(String.fromCharCode(e)):c(e,a)||c(e,o))))}},38859:(e,t,n)=>{var r=n(53661),i=n(31380),s=n(51459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=s,e.exports=a},39023:e=>{"use strict";e.exports=require("util")},39081:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:o()}};const a=s(n(90523));t.parsedType=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"númer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};const o=()=>{const e={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}};function n(t){return e[t]??null}const r={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"};return e=>{switch(e.code){case"invalid_type":return`Rangt gildi: Þú slóst inn ${(0,t.parsedType)(e.input)} þar sem á að vera ${e.expected}`;case"invalid_value":return 1===e.values.length?`Rangt gildi: gert ráð fyrir ${a.stringifyPrimitive(e.values[0])}`:`Ógilt val: má vera eitt af eftirfarandi ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",r=n(e.origin);return r?`Of stórt: gert er ráð fyrir að ${e.origin??"gildi"} hafi ${t}${e.maximum.toString()} ${r.unit??"hluti"}`:`Of stórt: gert er ráð fyrir að ${e.origin??"gildi"} sé ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",r=n(e.origin);return r?`Of lítið: gert er ráð fyrir að ${e.origin} hafi ${t}${e.minimum.toString()} ${r.unit}`:`Of lítið: gert er ráð fyrir að ${e.origin} sé ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ógildur strengur: verður að byrja á "${t.prefix}"`:"ends_with"===t.format?`Ógildur strengur: verður að enda á "${t.suffix}"`:"includes"===t.format?`Ógildur strengur: verður að innihalda "${t.includes}"`:"regex"===t.format?`Ógildur strengur: verður að fylgja mynstri ${t.pattern}`:`Rangt ${r[t.format]??e.format}`}case"not_multiple_of":return`Röng tala: verður að vera margfeldi af ${e.divisor}`;case"unrecognized_keys":return`Óþekkt ${e.keys.length>1?"ir lyklar":"ur lykill"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Rangur lykill í ${e.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi í ${e.origin}`}}}},39137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMapDef=void 0;const r=n(73524),i=n(87054),s=n(62909);t.parseMapDef=function(e,t){return"record"===t.mapStrategy?(0,i.parseRecordDef)(e,t):{type:"array",maxItems:125,items:{type:"array",items:[(0,r.parseDef)(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||(0,s.parseAnyDef)(t),(0,r.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||(0,s.parseAnyDef)(t)],minItems:2,maxItems:2}}}},39340:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(92626),t),i(n(11076),t),i(n(98950),t),i(n(86379),t),i(n(73524),t),i(n(20802),t),i(n(62909),t),i(n(98598),t),i(n(87236),t),i(n(28147),t),i(n(46163),t),i(n(16260),t),i(n(85187),t),i(n(29606),t),i(n(68385),t),i(n(76750),t),i(n(40686),t),i(n(34836),t),i(n(39137),t),i(n(96773),t),i(n(63237),t),i(n(37294),t),i(n(41854),t),i(n(31114),t),i(n(46172),t),i(n(65867),t),i(n(79225),t),i(n(93858),t),i(n(89729),t),i(n(87054),t),i(n(34519),t),i(n(73178),t),i(n(22793),t),i(n(97987),t),i(n(55967),t),i(n(95973),t),i(n(32465),t),i(n(34633),t);const s=n(34633);t.default=s.zodToJsonSchema},39531:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.PythonAstParser=void 0;const o=a(n(91398));class c{fileUri=null;filePath="";content="";lines=[];static FRAMEWORK_PATTERNS={django_view:{decorators:["api_view","permission_classes","authentication_classes"],bases:["View","TemplateView","ListView","DetailView","CreateView","UpdateView","DeleteView","FormView","RedirectView"],layer:"view"},django_viewset:{decorators:["action"],bases:["ViewSet","ModelViewSet","GenericViewSet","ReadOnlyModelViewSet"],layer:"viewset"},django_model:{decorators:[],bases:["Model","models.Model","AbstractUser","AbstractBaseUser"],layer:"model"},django_serializer:{decorators:[],bases:["Serializer","ModelSerializer","HyperlinkedModelSerializer"],layer:"serializer"},django_form:{decorators:[],bases:["Form","ModelForm","forms.Form","forms.ModelForm"],layer:"form"},django_admin:{decorators:["admin.register","register"],bases:["ModelAdmin","admin.ModelAdmin","TabularInline","StackedInline"],layer:"admin"},django_middleware:{decorators:[],bases:["MiddlewareMixin"],layer:"middleware"},django_command:{decorators:[],bases:["BaseCommand"],layer:"command"},fastapi_router:{decorators:["router.get","router.post","router.put","router.delete","router.patch","app.get","app.post","app.put","app.delete"],bases:[],layer:"endpoint"},fastapi_depends:{decorators:["Depends"],bases:[],layer:"dependency"},flask_route:{decorators:["route","app.route","blueprint.route","bp.route"],bases:[],layer:"route"},flask_view:{decorators:[],bases:["MethodView","View"],layer:"view"},sqlalchemy_model:{decorators:[],bases:["Base","DeclarativeBase","db.Model"],layer:"model"},pydantic_model:{decorators:["validator","root_validator"],bases:["BaseModel","BaseSettings"],layer:"schema"},celery_task:{decorators:["task","shared_task","app.task","celery.task"],bases:["Task"],layer:"task"},test:{decorators:["pytest.fixture","fixture","pytest.mark","mock.patch","patch"],bases:["TestCase","unittest.TestCase","APITestCase","TransactionTestCase"],layer:"test"}};async parse(e,t=!1){const n=await o.workspace.openTextDocument(e);this.content=n.getText(),this.lines=this.content.split("\n"),this.fileUri=e,this.filePath=e.fsPath;const r=[],i=[];try{const t=this.parseElementsTree(),n=this.flattenElements(t),s=(e.fsPath.split(/[\\/]/).pop()||"module").replace(/\.py$/,""),a=this.createModuleNode(s);r.push(a);const o=new Map;for(const e of n){const t=this.createNode(e);if(r.push(t),"class"===e.type&&o.set(e.name,t.id),e.parentId?i.push({from:e.parentId,to:t.id,type:"contains",label:"contains"}):i.push({from:a.id,to:t.id,type:"contains",label:"contains"}),e.bases)for(const n of e.bases){const e=o.get(n);i.push({from:t.id,to:e||`external:${n}`,type:"extends",label:`extends ${n}`})}}return this.extractImports(i),this.extractFrameworkDependencies(n,i),{nodes:r,edges:i}}catch(t){return console.error(`Failed to parse Python file ${e.fsPath}:`,t),{nodes:[],edges:[]}}}parseElementsTree(){const e=[],t=[];let n=[],r=0;for(;r<this.lines.length;){const i=this.lines[r],s=i.trimStart(),a=i.length-s.length;if(""===s||s.startsWith("#")){r++;continue}for(;t.length>0&&a<=t[t.length-1].indent;)t.pop();if(s.startsWith("@")){const e=s.match(/^@([\w.]+(?:\([^)]*\))?)/);e&&n.push(e[1]),r++;continue}const o=s.match(/^class\s+(\w+)(?:\s*\((.*?)\))?\s*:/);if(o){const i=this.parseClassDeclaration(o,r,a,n,t);if(t.length>0){const e=t[t.length-1];i.parentId=e.id,e.children.push(i)}else e.push(i);t.push(i),n=[],r++;continue}const c=s.match(/^(async\s+)?def\s+(\w+)\s*\(([\s\S]*?)\)(?:\s*->\s*(.+?))?\s*:/);if(c){const i=this.parseFunctionDeclaration(c,r,a,n,t);if(t.length>0){const e=t[t.length-1];i.parentId=e.id,e.children.push(i)}else e.push(i);t.push(i),n=[],r++;continue}n.length>0&&!s.startsWith("@")&&(n=[]),r++}return e}parseClassDeclaration(e,t,n,r,i){const s=e[1],a=e[2]||"",o=this.parseBaseClasses(a),c=this.findBlockEnd(t,n),l=i.length>0?i[i.length-1].id:void 0,u=l?`${l}$${s}`:`${this.filePath}:class:${s}`,d=this.detectFrameworkLayer(r,o),p=this.extractDocstring(t+1,n);return{id:u,name:s,type:"class",startLine:t+1,endLine:c+1,indent:n,parentId:l,decorators:[...r],bases:o,docstring:p,layer:d,children:[]}}parseFunctionDeclaration(e,t,n,r,i){const s=!!e[1],a=e[2],o=e[3],c=e[4]?.trim()||"",l=this.parseParameters(o),u=this.findBlockEnd(t,n),d=i.length>0?i[i.length-1].id:void 0,p=d&&d.includes(":class:"),h=r.includes("staticmethod"),f=r.includes("classmethod"),m=r.some(e=>e.startsWith("property")||"cached_property"===e||e.endsWith(".setter")||e.endsWith(".getter")||e.endsWith(".deleter")),y=a.startsWith("__")&&!a.endsWith("__"),g=a.startsWith("_")&&!a.startsWith("__");let v;v=p?`${d}:method:${a}:${t+1}`:d?`${d}:function:${a}:${t+1}`:`${this.filePath}:function:${a}:${t+1}`;const b=this.detectFrameworkLayer(r,[]),S=this.extractDocstring(t+1,n);return{id:v,name:a,type:p?"method":"function",startLine:t+1,endLine:u+1,indent:n,parentId:d,decorators:[...r],parameters:l,returnType:c,isAsync:s,isStatic:h,isClassMethod:f,isProperty:m,isPrivate:y,isProtected:g,docstring:S,layer:b,children:[]}}parseBaseClasses(e){if(!e.trim())return[];const t=[];let n=0,r="";for(const i of e)if("["===i||"("===i||"{"===i)n++,r+=i;else if("]"===i||")"===i||"}"===i)n--,r+=i;else if(","===i&&0===n){const e=r.trim(),n=this.extractBaseClassName(e);n&&t.push(n),r=""}else r+=i;if(r.trim()){const e=this.extractBaseClassName(r.trim());e&&t.push(e)}return t}extractBaseClassName(e){if(e.includes("metaclass="))return null;if(e.includes("="))return null;const t=e.match(/^([\w.]+)(?:\[.*\])?$/);if(t){const e=t[1];return"object"===e?null:e}return null}findBlockEnd(e,t){let n=e,r=!1;for(let i=e+1;i<this.lines.length;i++){const e=this.lines[i],s=e.trimStart();if(""!==s&&!s.startsWith("#")){if(e.length-s.length<=t)break;r=!0,n=i}}return n}parseParameters(e){const t=[];if(!e.trim())return t;let n=0,r="";const i=[];for(const t of e)"["===t||"("===t||"{"===t?(n++,r+=t):"]"===t||")"===t||"}"===t?(n--,r+=t):","===t&&0===n?(i.push(r.trim()),r=""):r+=t;r.trim()&&i.push(r.trim());for(const e of i){const n=this.parseParameter(e.trim());n&&t.push(n)}return t}parseParameter(e){const t=e.trim();if("self"===t||"cls"===t)return null;if(t.startsWith("*"))return null;const n=t.match(/^(\w+)(?:\s*:\s*([^=]+?))?(?:\s*=\s*(.+))?$/);if(n){const e=n[1],t=n[2]?.trim()||"Any",r=!!n[3],i=n[3]?.trim();return{name:e,type:t,optional:r,description:r?`default: ${i}`:void 0}}return null}extractDocstring(e,t){if(e>=this.lines.length)return;const n=this.lines[e],r=n.trimStart();if(n.length-r.length<=t)return;const i=r.match(/^("""|''')/);if(!i)return;const s=i[1];if(r.match(new RegExp(`^${s}.*${s}$`)))return r.slice(3,-3).trim();let a=r.slice(3);for(let t=e+1;t<this.lines.length;t++){const e=this.lines[t];if(e.includes(s)){a+="\n"+e.slice(0,e.indexOf(s));break}a+="\n"+e}return a.trim()}detectFrameworkLayer(e,t){for(const[n,r]of Object.entries(c.FRAMEWORK_PATTERNS)){for(const t of e){const e=t.split("(")[0];if(r.decorators.some(t=>e===t||e.includes(t)))return r.layer}for(const e of t)if(r.bases.some(t=>e===t||e.endsWith(t)))return r.layer}const n=this.filePath.split(/[\\/]/).pop()||"";return n.startsWith("test_")||n.endsWith("_test.py")?"test":"models.py"===n?"model":"views.py"===n?"view":"serializers.py"===n?"serializer":"admin.py"===n?"admin":"forms.py"===n?"form":"urls.py"===n?"routing":"tasks.py"===n?"task":"signals.py"===n?"signal":"middleware.py"===n?"middleware":void 0}flattenElements(e){const t=[],n=e=>{for(const r of e)t.push(r),r.children&&r.children.length>0&&n(r.children)};return n(e),t}getClassName(e){const t=e.match(/:class:(\w+)(?:\$|:|$)/);return t?t[1]:"Unknown"}extractImports(e){const t=/^(?:from\s+(\S+)\s+)?import\s+(.+)$/gm;let n;for(;null!==(n=t.exec(this.content));){const t=n[1],r=n[2];if(t)e.push({from:this.filePath,to:t,type:"imports",label:`from ${t}`});else{const t=r.split(",").map(e=>e.trim().split(/\s+as\s+/)[0].trim());for(const n of t)n&&e.push({from:this.filePath,to:n,type:"imports",label:`import ${n}`})}}}extractFrameworkDependencies(e,t){for(const n of e){if("method"===n.type&&"__init__"===n.name)for(const e of n.parameters||[])e.type.match(/(Service|Repository|Manager|Client|Handler|Provider)$/)&&t.push({from:n.parentId||"",to:`dependency:${e.type}`,type:"uses",label:`injects ${e.type}`});if(n.decorators)for(const e of n.decorators)if(e.includes("Depends(")){const r=e.match(/Depends\((\w+)/);r&&t.push({from:n.id,to:`dependency:${r[1]}`,type:"uses",label:`depends on ${r[1]}`})}}}createNode(e){const t=this.lines.slice(Math.max(0,e.startLine-1),Math.min(this.lines.length,e.endLine)).join("\n");let n="";if(e.decorators.length>0&&(n=`@${e.decorators.join(", @")}`),e.layer&&(n+=n?` [${e.layer}]`:`[${e.layer}]`),e.docstring){const t=e.docstring.split("\n")[0].trim();n+=n?` - ${t}`:t}let r="public";return e.isPrivate?r="private":e.isProtected&&(r="protected"),{id:e.id,label:e.name,type:e.type,language:"python",filePath:this.filePath,startLine:e.startLine,endLine:e.endLine,parentId:e.parentId,isAsync:e.isAsync,isStatic:e.isStatic,visibility:r,parameters:e.parameters,returnType:e.returnType,sourceCode:t,documentation:{summary:this.generateSummary(e),description:n,persona:{}}}}generateSummary(e){const t=e.layer?`[${e.layer}] `:"",n=e.decorators.slice(0,2).join(", @"),r=n?`@${n} `:"";if("class"===e.type){let n=`${t}${r}class ${e.name}`;return e.bases&&e.bases.length>0&&(n+=`(${e.bases.join(", ")})`),n}if("function"===e.type||"method"===e.type){const n=e.isAsync?"async ":"",r=e.isStatic?"@staticmethod ":"",i=e.isClassMethod?"@classmethod ":"",s=e.isProperty?"@property ":"",a=e.parameters?.map(e=>{let t=e.name;return e.type&&"Any"!==e.type&&(t+=`: ${e.type}`),e.optional&&(t+=" = ..."),t}).join(", ")||"";let o=`${t}${r}${i}${s}${n}def ${e.name}(${a})`;return e.returnType&&(o+=` -> ${e.returnType}`),o}return e.name}createModuleNode(e){let t="";if(this.lines.length>0){const e=this.lines[0].trim();(e.startsWith('"""')||e.startsWith("'''"))&&(t=this.extractDocstring(-1,-1)||"")}return{id:`${this.filePath}:module:${e}`,label:e,type:"module",language:"python",filePath:this.filePath,startLine:1,endLine:this.lines.length,sourceCode:this.content,isEntryPoint:!0,documentation:{summary:`Python module ${e}`,description:t||"Python module",persona:{}}}}}t.PythonAstParser=c},39633:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.string=function(e){return a._coercedString(o.ZodString,e)},t.number=function(e){return a._coercedNumber(o.ZodNumber,e)},t.boolean=function(e){return a._coercedBoolean(o.ZodBoolean,e)},t.bigint=function(e){return a._coercedBigint(o.ZodBigInt,e)},t.date=function(e){return a._coercedDate(o.ZodDate,e)};const a=s(n(76601)),o=s(n(99874))},39793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ALIAS_KEYS",{enumerable:!0,get:function(){return r.ALIAS_KEYS}}),Object.defineProperty(t,"BUILDER_KEYS",{enumerable:!0,get:function(){return r.BUILDER_KEYS}}),Object.defineProperty(t,"DEPRECATED_ALIASES",{enumerable:!0,get:function(){return s.DEPRECATED_ALIASES}}),Object.defineProperty(t,"DEPRECATED_KEYS",{enumerable:!0,get:function(){return r.DEPRECATED_KEYS}}),Object.defineProperty(t,"FLIPPED_ALIAS_KEYS",{enumerable:!0,get:function(){return r.FLIPPED_ALIAS_KEYS}}),Object.defineProperty(t,"NODE_FIELDS",{enumerable:!0,get:function(){return r.NODE_FIELDS}}),Object.defineProperty(t,"NODE_PARENT_VALIDATIONS",{enumerable:!0,get:function(){return r.NODE_PARENT_VALIDATIONS}}),Object.defineProperty(t,"NODE_UNION_SHAPES__PRIVATE",{enumerable:!0,get:function(){return r.NODE_UNION_SHAPES__PRIVATE}}),Object.defineProperty(t,"PLACEHOLDERS",{enumerable:!0,get:function(){return i.PLACEHOLDERS}}),Object.defineProperty(t,"PLACEHOLDERS_ALIAS",{enumerable:!0,get:function(){return i.PLACEHOLDERS_ALIAS}}),Object.defineProperty(t,"PLACEHOLDERS_FLIPPED_ALIAS",{enumerable:!0,get:function(){return i.PLACEHOLDERS_FLIPPED_ALIAS}}),t.TYPES=void 0,Object.defineProperty(t,"VISITOR_KEYS",{enumerable:!0,get:function(){return r.VISITOR_KEYS}}),n(5158),n(99897),n(46184),n(45589),n(27095),n(46106);var r=n(77596),i=n(59187),s=n(85689);Object.keys(s.DEPRECATED_ALIASES).forEach(e=>{r.FLIPPED_ALIAS_KEYS[e]=r.FLIPPED_ALIAS_KEYS[s.DEPRECATED_ALIASES[e]]});for(const{types:e,set:t}of r.allExpandedTypes)for(const n of e){const e=r.FLIPPED_ALIAS_KEYS[n];e?e.forEach(t.add,t):t.add(n)}t.TYPES=[].concat(Object.keys(r.VISITOR_KEYS),Object.keys(r.FLIPPED_ALIAS_KEYS),Object.keys(r.DEPRECATED_KEYS))},39937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayExpression=w,t.AssignmentExpression=function(){return this.get("right").getTypeAnnotation()},t.BinaryExpression=function(e){const t=e.operator;if(c.includes(t))return v();if(a.includes(t))return h();if("+"===t){const e=this.get("right"),t=this.get("left");return t.isBaseType("number")&&e.isBaseType("number")?v():t.isBaseType("string")||e.isBaseType("string")?b():T([b(),v()])}},t.BooleanLiteral=function(){return h()},t.CallExpression=function(){const{callee:e}=this.node;return I(e)?p(b()):O(e)||C(e)||P(e,{name:"Array"})?p(d()):k(e)?p(S([b(),d()])):N(this.get("callee"))},t.ConditionalExpression=function(){const e=[this.get("consequent").getTypeAnnotation(),this.get("alternate").getTypeAnnotation()];return(0,s.createUnionType)(e)},t.ClassDeclaration=t.ClassExpression=t.FunctionDeclaration=t.ArrowFunctionExpression=t.FunctionExpression=function(){return m(y("Function"))},Object.defineProperty(t,"Identifier",{enumerable:!0,get:function(){return i.default}}),t.LogicalExpression=function(){const e=[this.get("left").getTypeAnnotation(),this.get("right").getTypeAnnotation()];return(0,s.createUnionType)(e)},t.NewExpression=function(e){if("Identifier"===e.callee.type)return m(e.callee)},t.NullLiteral=function(){return g()},t.NumericLiteral=function(){return v()},t.ObjectExpression=function(){return m(y("Object"))},t.ParenthesizedExpression=function(){return this.get("expression").getTypeAnnotation()},t.RegExpLiteral=function(){return m(y("RegExp"))},t.RestElement=A,t.SequenceExpression=function(){return this.get("expressions").pop().getTypeAnnotation()},t.StringLiteral=function(){return b()},t.TSAsExpression=x,t.TSNonNullExpression=function(){return this.get("expression").getTypeAnnotation()},t.TaggedTemplateExpression=function(){return N(this.get("tag"))},t.TemplateLiteral=function(){return b()},t.TypeCastExpression=E,t.UnaryExpression=function(e){const t=e.operator;return"void"===t?_():l.includes(t)?v():u.includes(t)?b():o.includes(t)?h():void 0},t.UpdateExpression=function(e){const t=e.operator;if("++"===t||"--"===t)return v()},t.VariableDeclarator=function(){if(this.get("id").isIdentifier())return this.get("init").getTypeAnnotation()};var r=n(2352),i=n(70354),s=n(3141);const{BOOLEAN_BINARY_OPERATORS:a,BOOLEAN_UNARY_OPERATORS:o,NUMBER_BINARY_OPERATORS:c,NUMBER_UNARY_OPERATORS:l,STRING_UNARY_OPERATORS:u,anyTypeAnnotation:d,arrayTypeAnnotation:p,booleanTypeAnnotation:h,buildMatchMemberExpression:f,genericTypeAnnotation:m,identifier:y,nullLiteralTypeAnnotation:g,numberTypeAnnotation:v,stringTypeAnnotation:b,tupleTypeAnnotation:S,unionTypeAnnotation:T,voidTypeAnnotation:_,isIdentifier:P}=r;function E(e){return e.typeAnnotation}function x(e){return e.typeAnnotation}function w(){return m(y("Array"))}function A(){return w()}E.validParent=!0,x.validParent=!0,A.validParent=!0;const O=f("Array.from"),I=f("Object.keys"),C=f("Object.values"),k=f("Object.entries");function N(e){if((e=e.resolve()).isFunction()){const{node:t}=e;if(t.async)return t.generator?m(y("AsyncIterator")):m(y("Promise"));if(t.generator)return m(y("Iterator"));if(e.node.returnType)return e.node.returnType}}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},40686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIntersectionDef=void 0;const r=n(73524);t.parseIntersectionDef=function(e,t){const n=[(0,r.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,r.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e);let i="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else i=void 0;s.push(t)}else s.push(...e.allOf),void 0===e.unevaluatedProperties&&(i=void 0);var t}),s.length?{allOf:s,...i}:void 0}},40736:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,s,a=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";a++;const s=t.formatters[i];if("function"==typeof s){const t=e[a];n=s.call(r,t),e.splice(a,1),a--}return n}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,s=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,s=n,r++):(n++,r++);else{if(-1===i)return!1;r=i+1,s++,n=s}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(i(e,n))return!1;for(const n of t.names)if(i(e,n))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},40854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._guessExecutionStatusRelativeTo=function(e){return g(this,e,new Map)},t._resolve=v,t.canHaveVariableDeclarationOrExpression=function(){return("init"===this.key||"left"===this.key)&&this.parentPath.isFor()},t.canSwapBetweenExpressionAndStatement=function(e){return!("body"!==this.key||!this.parentPath.isArrowFunctionExpression())&&(this.isExpression()?a(e):!!this.isBlockStatement()&&o(e))},t.getSource=function(){const e=this.node;if(e.end){const t=this.hub.getCode();if(t)return t.slice(e.start,e.end)}return""},t.isCompletionRecord=function(e){let t=this,n=!0;do{const{type:r,container:i}=t;if(!n&&(t.isFunction()||"StaticBlock"===r))return!!e;if(n=!1,Array.isArray(i)&&t.key!==i.length-1)return!1}while((t=t.parentPath)&&!t.isProgram()&&!t.isDoExpression());return!0},t.isConstantExpression=function(){if(this.isIdentifier()){const e=this.scope.getBinding(this.node.name);return!!e&&e.constant}if(this.isLiteral())return!this.isRegExpLiteral()&&(!this.isTemplateLiteral()||this.get("expressions").every(e=>e.isConstantExpression()));if(this.isUnaryExpression())return"void"===this.node.operator&&this.get("argument").isConstantExpression();if(this.isBinaryExpression()){const{operator:e}=this.node;return"in"!==e&&"instanceof"!==e&&this.get("left").isConstantExpression()&&this.get("right").isConstantExpression()}return this.isMemberExpression()?!this.node.computed&&this.get("object").isIdentifier({name:"Symbol"})&&!this.scope.hasBinding("Symbol",{noGlobals:!0}):!!this.isCallExpression()&&(1===this.node.arguments.length&&this.get("callee").matchesPattern("Symbol.for")&&!this.scope.hasBinding("Symbol",{noGlobals:!0})&&this.get("arguments")[0].isStringLiteral())},t.isInStrictMode=function(){return!!(this.isProgram()?this:this.parentPath).find(e=>{if(e.isProgram({sourceType:"module"}))return!0;if(e.isClass())return!0;if(e.isArrowFunctionExpression()&&!e.get("body").isBlockStatement())return!1;let t;if(e.isFunction())t=e.node.body;else{if(!e.isProgram())return!1;t=e.node}for(const e of t.directives)if("use strict"===e.value.value)return!0;return!1})},t.isNodeType=function(e){return d(this.type,e)},t.isStatementOrBlock=function(){return!this.parentPath.isLabeledStatement()&&!a(this.container)&&i.includes(this.key)},t.isStatic=function(){return this.scope.isStatic(this.node)},t.matchesPattern=function(e,t){return p(this.node,e,t)},t.referencesImport=function(e,t){if(!this.isReferencedIdentifier()){if(this.isJSXMemberExpression()&&this.node.property.name===t||(this.isMemberExpression()||this.isOptionalMemberExpression())&&(this.node.computed?u(this.node.property,{value:t}):this.node.property.name===t)){const t=this.get("object");return t.isReferencedIdentifier()&&t.referencesImport(e,"*")}return!1}const n=this.scope.getBinding(this.node.name);if(!n||"module"!==n.kind)return!1;const r=n.path,i=r.parentPath;return!!i.isImportDeclaration()&&(i.node.source.value===e&&(!t||(!(!r.isImportDefaultSpecifier()||"default"!==t)||(!(!r.isImportNamespaceSpecifier()||"*"!==t)||!(!r.isImportSpecifier()||!c(r.node.imported,{name:t}))))))},t.resolve=function(e,t){return v.call(this,e,t)||this},t.willIMaybeExecuteBefore=function(e){return"after"!==this._guessExecutionStatusRelativeTo(e)};var r=n(2352);const{STATEMENT_OR_BLOCK_KEYS:i,VISITOR_KEYS:s,isBlockStatement:a,isExpression:o,isIdentifier:c,isLiteral:l,isStringLiteral:u,isType:d,matchesPattern:p}=r;function h(e){return e.isProgram()?e:(e.parentPath.scope.getFunctionParent()||e.parentPath.scope.getProgramParent()).path}function f(e,t){switch(e){case"LogicalExpression":case"AssignmentPattern":return"right"===t;case"ConditionalExpression":case"IfStatement":return"consequent"===t||"alternate"===t;case"WhileStatement":case"DoWhileStatement":case"ForInStatement":case"ForOfStatement":return"body"===t;case"ForStatement":return"body"===t||"update"===t;case"SwitchStatement":return"cases"===t;case"TryStatement":return"handler"===t;case"OptionalMemberExpression":return"property"===t;case"OptionalCallExpression":return"arguments"===t;default:return!1}}function m(e,t){for(let n=0;n<t;n++){const t=e[n];if(f(t.parent.type,t.parentKey))return!0}return!1}t.has=function(e){var t;const n=null==(t=this.node)?void 0:t[e];return n&&Array.isArray(n)?!!n.length:!!n},t.is=t.has,t.isnt=function(e){return!this.has(e)},t.equals=function(e,t){return this.node[e]===t};const y=Symbol();function g(e,t,n){const r={this:h(e),target:h(t)};if(r.target.node!==r.this.node)return function(e,t,n){let r,i=n.get(e.node);if(i){if(r=i.get(t.node))return r===y?"unknown":r}else n.set(e.node,i=new Map);i.set(t.node,y);const s=function(e,t,n){if(!t.isFunctionDeclaration())return"before"===g(e,t,n)?"before":"unknown";if(t.parentPath.isExportDeclaration())return"unknown";const r=t.scope.getBinding(t.node.id.name);if(!r.references)return"before";const i=r.referencePaths;let s;for(const r of i){if(r.find(e=>e.node===t.node))continue;if("callee"!==r.key||!r.parentPath.isCallExpression())return"unknown";const i=g(e,r,n);if(s&&s!==i)return"unknown";s=i}return s}(e,t,n);return i.set(t.node,s),s}(e,r.target,n);const i={target:t.getAncestry(),this:e.getAncestry()};if(i.target.includes(e))return"after";if(i.this.includes(t))return"before";let a;const o={target:0,this:0};for(;!a&&o.this<i.this.length;){const e=i.this[o.this];o.target=i.target.indexOf(e),o.target>=0?a=e:o.this++}if(!a)throw new Error("Internal Babel error - The two compared nodes don't appear to belong to the same program.");if(m(i.this,o.this-1)||m(i.target,o.target-1))return"unknown";const c={this:i.this[o.this-1],target:i.target[o.target-1]};if(c.target.listKey&&c.this.listKey&&c.target.container===c.this.container)return c.target.key>c.this.key?"before":"after";const l=s[a.type],u=l.indexOf(c.this.parentKey);return l.indexOf(c.target.parentKey)>u?"before":"after"}function v(e,t){var n;if(null==(n=t)||!n.includes(this))if((t=t||[]).push(this),this.isVariableDeclarator()){if(this.get("id").isIdentifier())return this.get("init").resolve(e,t)}else if(this.isReferencedIdentifier()){const n=this.scope.getBinding(this.node.name);if(!n)return;if(!n.constant)return;if("module"===n.kind)return;if(n.path!==this){const r=n.path.resolve(e,t);if(this.find(e=>e.node===r.node))return;return r}}else{if(this.isTypeCastExpression())return this.get("expression").resolve(e,t);if(e&&this.isMemberExpression()){const n=this.toComputedKey();if(!l(n))return;const r=n.value,i=this.get("object").resolve(e,t);if(i.isObjectExpression()){const n=i.get("properties");for(const i of n){if(!i.isProperty())continue;const n=i.get("key");let s=i.isnt("computed")&&n.isIdentifier({name:r});if(s=s||n.isLiteral({value:r}),s)return i.get("value").resolve(e,t)}}else if(i.isArrayExpression()&&!isNaN(+r)){const n=i.get("elements")[r];if(n)return n.resolve(e,t)}}}}},40882:e=>{e.exports=function(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}},40999:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function t(t){return e[t]??null}const n={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return e=>{switch(e.code){case"invalid_type":return`无效输入：期望 ${e.expected}，实际接收 ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"非数字(NaN)":"数字";case"object":if(Array.isArray(e))return"数组";if(null===e)return"空值(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`无效输入：期望 ${a.stringifyPrimitive(e.values[0])}`:`无效选项：期望以下之一 ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`数值过大：期望 ${e.origin??"值"} ${n}${e.maximum.toString()} ${r.unit??"个元素"}`:`数值过大：期望 ${e.origin??"值"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`数值过小：期望 ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`数值过小：期望 ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`无效字符串：必须以 "${t.prefix}" 开头`:"ends_with"===t.format?`无效字符串：必须以 "${t.suffix}" 结尾`:"includes"===t.format?`无效字符串：必须包含 "${t.includes}"`:"regex"===t.format?`无效字符串：必须满足正则表达式 ${t.pattern}`:`无效${n[t.format]??e.format}`}case"not_multiple_of":return`无效数字：必须是 ${e.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} 中的键(key)无效`;case"invalid_union":default:return"无效输入";case"invalid_element":return`${e.origin} 中包含无效值(value)`}}};e.exports=t.default},41147:(e,t,n)=>{var r;function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(n,r){i(e,t||{},function(e,t){e?r(e):n(t)})})}r(e,t||{},function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)})}n(79896),r="win32"===process.platform||global.TESTING_WINDOWS?n(60438):n(90096),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},41168:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function t(t){return e[t]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Yanlış dəyər: gözlənilən ${e.expected}, daxil olan ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Yanlış dəyər: gözlənilən ${a.stringifyPrimitive(e.values[0])}`:`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Çox böyük: gözlənilən ${e.origin??"dəyər"} ${n}${e.maximum.toString()} ${r.unit??"element"}`:`Çox böyük: gözlənilən ${e.origin??"dəyər"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Çox kiçik: gözlənilən ${e.origin} ${n}${e.minimum.toString()} ${r.unit}`:`Çox kiçik: gözlənilən ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Yanlış mətn: "${t.prefix}" ilə başlamalıdır`:"ends_with"===t.format?`Yanlış mətn: "${t.suffix}" ilə bitməlidir`:"includes"===t.format?`Yanlış mətn: "${t.includes}" daxil olmalıdır`:"regex"===t.format?`Yanlış mətn: ${t.pattern} şablonuna uyğun olmalıdır`:`Yanlış ${n[t.format]??e.format}`}case"not_multiple_of":return`Yanlış ədəd: ${e.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${e.keys.length>1?"lar":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilində yanlış açar`;case"invalid_union":default:return"Yanlış dəyər";case"invalid_element":return`${e.origin} daxilində yanlış dəyər`}}};e.exports=t.default},41441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formats=t.stringify=void 0;const r=n(95257),i={formatters:r.formatters,RFC1738:r.RFC1738,RFC3986:r.RFC3986,default:r.default_format};t.formats=i;var s=n(50168);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}})},41799:(e,t,n)=>{var r=n(37217),i=n(60270);e.exports=function(e,t,n,s){var a=n.length,o=a,c=!s;if(null==e)return!o;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=n[a])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new r;if(s)var f=s(d,p,u,e,t,h);if(!(void 0===f?i(p,d,3,s,h):f))return!1}}return!0}},41828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79877),i=n(66596),s=n(99048),a=n(85311),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>i.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:o,schema:c,parentSchema:l,schemaCode:u,it:d}=e;if(!o&&!c)return;const p=t.let("valid"),h=l.items?(0,r.getSchemaTypes)(l.items):[];function f(s,a){const o=t.name("item"),c=(0,r.checkDataTypes)(h,o,d.opts.strictNumbers,r.DataType.Wrong),l=t.const("indices",i._`{}`);t.for(i._`;${s}--;`,()=>{t.let(o,i._`${n}[${s}]`),t.if(c,i._`continue`),h.length>1&&t.if(i._`typeof ${o} == "string"`,i._`${o} += "_"`),t.if(i._`typeof ${l}[${o}] == "number"`,()=>{t.assign(a,i._`${l}[${o}]`),e.error(),t.assign(p,!1).break()}).code(i._`${l}[${o}] = ${s}`)})}function m(r,o){const c=(0,s.useFunc)(t,a.default),l=t.name("outer");t.label(l).for(i._`;${r}--;`,()=>t.for(i._`${o} = ${r}; ${o}--;`,()=>t.if(i._`${c}(${n}[${r}], ${n}[${o}])`,()=>{e.error(),t.assign(p,!1).break(l)})))}e.block$data(p,function(){const r=t.let("i",i._`${n}.length`),s=t.let("j");e.setParams({i:r,j:s}),t.assign(p,!0),t.if(i._`${r} > 1`,()=>(h.length>0&&!h.some(e=>"object"===e||"array"===e)?f:m)(r,s))},i._`${u} === false`),e.ok(p)}};t.default=o},41854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullableDef=void 0;const r=n(73524),i=n(55967);t.parseNullableDef=function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:i.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[i.primitiveMappings[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=(0,r.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=(0,r.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}},41946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(57733)),a=n(57733),o=n(75552),c=n(262),l=n(18868),u=n(34741),d=n(54815);class p extends i.APIResource{constructor(){super(...arguments),this.steps=new s.Steps(this._client)}create(e,t,n){const{include:r,...i}=t;return this._client.post(d.path`/threads/${e}/runs`,{query:{include:r},body:i,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(d.path`/threads/${r}/runs/${e}`,{...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...i}=t;return this._client.post(d.path`/threads/${r}/runs/${e}`,{body:i,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(d.path`/threads/${e}/runs`,o.CursorPage,{query:t,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(d.path`/threads/${r}/runs/${e}/cancel`,{...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r=(0,c.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:s}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,u.sleep)(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,t,n){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){const{thread_id:r,...i}=t;return this._client.post(d.path`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:i,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return l.AssistantStream.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}}t.Runs=p,p.Steps=a.Steps},42054:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",u=l+c+"(?:\\u200d(?:"+[s,a,o].join("|")+")"+l+c+")*",d="(?:"+[s+r+"?",r,a,o,n].join("|")+")",p=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(p)||[]}},42099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Containers=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(67924)),a=n(67924),o=n(75552),c=n(262),l=n(54815);class u extends i.APIResource{constructor(){super(...arguments),this.files=new s.Files(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(l.path`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/containers/${e}`,{...t,headers:(0,c.buildHeaders)([{Accept:"*/*"},t?.headers])})}}t.Containers=u,u.Files=a.Files},42365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11464),i=n(23740),s=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default];t.default=s},42716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodes=void 0;var r=n(2352);const{FLIPPED_ALIAS_KEYS:i,isArrayExpression:s,isAssignmentExpression:a,isBinary:o,isBlockStatement:c,isCallExpression:l,isFunction:u,isIdentifier:d,isLiteral:p,isMemberExpression:h,isObjectExpression:f,isOptionalCallExpression:m,isOptionalMemberExpression:y,isStringLiteral:g}=r;function v(e,t){return e?(h(e)||y(e)?(v(e.object,t),e.computed&&v(e.property,t)):o(e)||a(e)?(v(e.left,t),v(e.right,t)):l(e)||m(e)?(t.hasCall=!0,v(e.callee,t)):u(e)?t.hasFunction=!0:d(e)&&(t.hasHelper=t.hasHelper||e.callee&&S(e.callee)),t):t}function b(e){return v(e,{hasCall:!1,hasFunction:!1,hasHelper:!1})}function S(e){return!!e&&(h(e)?S(e.object)||S(e.property):d(e)?"require"===e.name||95===e.name.charCodeAt(0):l(e)?S(e.callee):!(!o(e)&&!a(e))&&(d(e.left)&&S(e.left)||S(e.right)))}function T(e){return p(e)||f(e)||s(e)||d(e)||h(e)}const _=t.nodes={AssignmentExpression(e){const t=b(e.right);return t.hasCall&&t.hasHelper||t.hasFunction?t.hasFunction?3:2:0},SwitchCase:(e,t)=>(e.consequent.length||t.cases[0]===e?1:0)|(e.consequent.length||t.cases[t.cases.length-1]!==e?0:2),LogicalExpression:e=>u(e.left)||u(e.right)?2:0,Literal:e=>g(e)&&"use strict"===e.value?2:0,CallExpression:e=>u(e.callee)||S(e)?3:0,OptionalCallExpression:e=>u(e.callee)?3:0,VariableDeclaration(e){for(let t=0;t<e.declarations.length;t++){const n=e.declarations[t];let r=S(n.id)&&!T(n.init);if(!r&&n.init){const e=b(n.init);r=S(n.init)&&e.hasCall||e.hasFunction}if(r)return 3}return 0},IfStatement:e=>c(e.consequent)?3:0};_.ObjectProperty=_.ObjectTypeProperty=_.ObjectMethod=function(e,t){return t.properties[0]===e?1:0},_.ObjectTypeCallProperty=function(e,t){var n;return t.callProperties[0]!==e||null!=(n=t.properties)&&n.length?0:1},_.ObjectTypeIndexer=function(e,t){var n,r;return t.indexers[0]!==e||null!=(n=t.properties)&&n.length||null!=(r=t.callProperties)&&r.length?0:1},_.ObjectTypeInternalSlot=function(e,t){var n,r,i;return t.internalSlots[0]!==e||null!=(n=t.properties)&&n.length||null!=(r=t.callProperties)&&r.length||null!=(i=t.indexers)&&i.length?0:1},[["Function",!0],["Class",!0],["Loop",!0],["LabeledStatement",!0],["SwitchStatement",!0],["TryStatement",!0]].forEach(function([e,t]){[e].concat(i[e]||[]).forEach(function(e){const n=t?3:0;_[e]=()=>n})})},43115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=function(e){return n.has(e)},t.isReservedWord=s,t.isStrictBindOnlyReservedWord=o,t.isStrictBindReservedWord=function(e,t){return a(e,t)||o(e)},t.isStrictReservedWord=a;const n=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),r=new Set(["implements","interface","let","package","private","protected","public","static","yield"]),i=new Set(["eval","arguments"]);function s(e,t){return t&&"await"===e||"enum"===e}function a(e,t){return s(e,t)||r.has(e)}function o(e){return i.has(e)}},43368:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(n||(t.errorUtil=n={}))},43690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MalformedJSON=t.PartialJSON=t.partialParse=void 0;class n extends Error{}t.PartialJSON=n;class r extends Error{}t.MalformedJSON=r;t.partialParse=e=>function(e,t=511){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return((e,t)=>{const i=e.length;let s=0;const a=e=>{throw new n(`${e} at position ${s}`)},o=e=>{throw new r(`${e} at position ${s}`)},c=()=>(h(),s>=i&&a("Unexpected end of input"),'"'===e[s]?l():"{"===e[s]?u():"["===e[s]?d():"null"===e.substring(s,s+4)||16&t&&i-s<4&&"null".startsWith(e.substring(s))?(s+=4,null):"true"===e.substring(s,s+4)||32&t&&i-s<4&&"true".startsWith(e.substring(s))?(s+=4,!0):"false"===e.substring(s,s+5)||32&t&&i-s<5&&"false".startsWith(e.substring(s))?(s+=5,!1):"Infinity"===e.substring(s,s+8)||128&t&&i-s<8&&"Infinity".startsWith(e.substring(s))?(s+=8,1/0):"-Infinity"===e.substring(s,s+9)||256&t&&1<i-s&&i-s<9&&"-Infinity".startsWith(e.substring(s))?(s+=9,-1/0):"NaN"===e.substring(s,s+3)||64&t&&i-s<3&&"NaN".startsWith(e.substring(s))?(s+=3,NaN):p()),l=()=>{const n=s;let r=!1;for(s++;s<i&&('"'!==e[s]||r&&"\\"===e[s-1]);)r="\\"===e[s]&&!r,s++;if('"'==e.charAt(s))try{return JSON.parse(e.substring(n,++s-Number(r)))}catch(e){o(String(e))}else if(1&t)try{return JSON.parse(e.substring(n,s-Number(r))+'"')}catch(t){return JSON.parse(e.substring(n,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},u=()=>{s++,h();const n={};try{for(;"}"!==e[s];){if(h(),s>=i&&8&t)return n;const r=l();h(),s++;try{const e=c();Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(8&t)return n;throw e}h(),","===e[s]&&s++}}catch(e){if(8&t)return n;a("Expected '}' at end of object")}return s++,n},d=()=>{s++;const n=[];try{for(;"]"!==e[s];)n.push(c()),h(),","===e[s]&&s++}catch(e){if(4&t)return n;a("Expected ']' at end of array")}return s++,n},p=()=>{if(0===s){"-"===e&&2&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(n){if(2&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}o(String(n))}}const n=s;for("-"===e[s]&&s++;e[s]&&!",]}".includes(e[s]);)s++;s!=i||2&t||a("Unterminated number literal");try{return JSON.parse(e.substring(n,s))}catch(r){"-"===e.substring(n,s)&&2&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(n,e.lastIndexOf("e")))}catch(e){o(String(e))}}},h=()=>{for(;s<i&&" \n\r\t".includes(e[s]);)s++};return c()})(e.trim(),t)}(e,509)},43766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(34701),o=n(54815);class c extends r.APIResource{create(e,t,n){return this._client.post(o.path`/vector_stores/${e}/files`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(o.path`/vector_stores/${r}/files/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{vector_store_id:r,...i}=t;return this._client.post(o.path`/vector_stores/${r}/files/${e}`,{body:i,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(o.path`/vector_stores/${e}/files`,i.CursorPage,{query:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{vector_store_id:r}=t;return this._client.delete(o.path`/vector_stores/${r}/files/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r=(0,s.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const i=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse(),s=i.data;switch(s.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,a.sleep)(e);break;case"failed":case"completed":return s}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){const{vector_store_id:r}=t;return this._client.getAPIList(o.path`/vector_stores/${r}/files/${e}/content`,i.Page,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Files=c},44068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(99320),i=n(92802);t.default=class{constructor(e,t){var n;this._map=void 0,this._rawMappings=void 0,this._sourceFileName=void 0,this._lastGenLine=0,this._lastSourceLine=0,this._lastSourceColumn=0,this._inputMap=null;const s=this._map=new r.GenMapping({sourceRoot:e.sourceRoot});if(this._sourceFileName=null==(n=e.sourceFileName)?void 0:n.replace(/\\/g,"/"),this._rawMappings=void 0,e.inputSourceMap){this._inputMap=new i.TraceMap(e.inputSourceMap);const t=this._inputMap.resolvedSources;if(t.length)for(let e=0;e<t.length;e++){var a;(0,r.setSourceContent)(s,t[e],null==(a=this._inputMap.sourcesContent)?void 0:a[e])}}if("string"!=typeof t||e.inputSourceMap){if("object"==typeof t)for(const e of Object.keys(t))(0,r.setSourceContent)(s,e.replace(/\\/g,"/"),t[e])}else(0,r.setSourceContent)(s,this._sourceFileName,t)}get(){return(0,r.toEncodedMap)(this._map)}getDecoded(){return(0,r.toDecodedMap)(this._map)}getRawMappings(){return this._rawMappings||(this._rawMappings=(0,r.allMappings)(this._map))}mark(e,t,n,s,a,o){var c;let l;if(this._rawMappings=void 0,null!=t)if(this._inputMap){if(l=(0,i.originalPositionFor)(this._inputMap,{line:t,column:n}),!l.name&&a){const e=(0,i.originalPositionFor)(this._inputMap,a);e.name&&(s=e.name)}}else l={name:null,source:(null==o?void 0:o.replace(/\\/g,"/"))||this._sourceFileName,line:t,column:n};(0,r.maybeAddMapping)(this._map,{name:s,generated:e,source:null==(c=l)?void 0:c.source,original:l})}}},44172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWebhookSignatureError=t.ContentFilterFinishReasonError=t.LengthFinishReasonError=t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.OpenAIError=void 0;const r=n(30917);class i extends Error{}t.OpenAIError=i;class s extends i{constructor(e,t,n,r){super(`${s.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=t;const i=t;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,i){if(!e||!i)return new a({message:n,cause:(0,r.castToError)(t)});const m=t?.error;return 400===e?new o(e,m,n,i):401===e?new c(e,m,n,i):403===e?new l(e,m,n,i):404===e?new u(e,m,n,i):409===e?new d(e,m,n,i):422===e?new p(e,m,n,i):429===e?new h(e,m,n,i):e>=500?new f(e,m,n,i):new s(e,m,n,i)}}t.APIError=s,t.APIUserAbortError=class extends s{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class a extends s{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}t.APIConnectionError=a,t.APIConnectionTimeoutError=class extends a{constructor({message:e}={}){super({message:e??"Request timed out."})}};class o extends s{}t.BadRequestError=o;class c extends s{}t.AuthenticationError=c;class l extends s{}t.PermissionDeniedError=l;class u extends s{}t.NotFoundError=u;class d extends s{}t.ConflictError=d;class p extends s{}t.UnprocessableEntityError=p;class h extends s{}t.RateLimitError=h;class f extends s{}t.InternalServerError=f,t.LengthFinishReasonError=class extends i{constructor(){super("Could not parse response content as the length limit was reached")}},t.ContentFilterFinishReasonError=class extends i{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};class m extends Error{constructor(e){super(e)}}t.InvalidWebhookSignatureError=m},44318:function(e,t,n){var r;!function(e){"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{decode:()=>w,decodeGeneratedRanges:()=>_,decodeOriginalScopes:()=>b,encode:()=>I,encodeGeneratedRanges:()=>P,encodeOriginalScopes:()=>S}),e.exports=(t=a,((e,t,a,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))s.call(e,c)||c===a||n(e,c,{get:()=>t[c],enumerable:!(o=r(t,c))||o.enumerable});return e})(n({},"__esModule",{value:!0}),t));var o=",".charCodeAt(0),c=";".charCodeAt(0),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(64),d=new Uint8Array(128);for(let e=0;e<64;e++){const t=l.charCodeAt(e);u[e]=t,d[t]=e}function p(e,t){let n=0,r=0,i=0;do{const t=e.next();i=d[t],n|=(31&i)<<r,r+=5}while(32&i);const s=1&n;return n>>>=1,s&&(n=-2147483648|-n),t+n}function h(e,t,n){let r=t-n;r=r<0?-r<<1|1:r<<1;do{let t=31&r;r>>>=5,r>0&&(t|=32),e.write(u[t])}while(r>0);return t}function f(e,t){return!(e.pos>=t)&&e.peek()!==o}var m="undefined"!=typeof TextDecoder?new TextDecoder:"undefined"!=typeof Buffer?{decode:e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString()}:{decode(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}},y=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(16384)}write(e){const{buffer:t}=this;t[this.pos++]=e,16384===this.pos&&(this.out+=m.decode(t),this.pos=0)}flush(){const{buffer:e,out:t,pos:n}=this;return n>0?t+m.decode(e.subarray(0,n)):t}},g=class{constructor(e){this.pos=0,this.buffer=e}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(e){const{buffer:t,pos:n}=this,r=t.indexOf(e,n);return-1===r?t.length:r}},v=[];function b(e){const{length:t}=e,n=new g(e),r=[],i=[];let s=0;for(;n.pos<t;n.pos++){s=p(n,s);const e=p(n,0);if(!f(n,t)){const t=i.pop();t[2]=s,t[3]=e;continue}const a=p(n,0),o=1&p(n,0)?[s,e,0,0,a,p(n,0)]:[s,e,0,0,a];let c=v;if(f(n,t)){c=[];do{const e=p(n,0);c.push(e)}while(f(n,t))}o.vars=c,r.push(o),i.push(o)}return r}function S(e){const t=new y;for(let n=0;n<e.length;)n=T(e,n,t,[0]);return t.flush()}function T(e,t,n,r){const i=e[t],{0:s,1:a,2:c,3:l,4:u,vars:d}=i;t>0&&n.write(o),r[0]=h(n,s,r[0]),h(n,a,0),h(n,u,0),h(n,6===i.length?1:0,0),6===i.length&&h(n,i[5],0);for(const e of d)h(n,e,0);for(t++;t<e.length;){const i=e[t],{0:s,1:a}=i;if(s>c||s===c&&a>=l)break;t=T(e,t,n,r)}return n.write(o),r[0]=h(n,c,r[0]),h(n,l,0),t}function _(e){const{length:t}=e,n=new g(e),r=[],i=[];let s=0,a=0,o=0,c=0,l=0,u=0,d=0,h=0;do{const e=n.indexOf(";");let t=0;for(;n.pos<e;n.pos++){if(t=p(n,t),!f(n,e)){const e=i.pop();e[2]=s,e[3]=t;continue}const m=p(n,0),y=2&m,g=4&m;let b,S=null,T=v;if(1&m){const e=p(n,a);o=p(n,a===e?o:0),a=e,b=[s,t,0,0,e,o]}else b=[s,t,0,0];if(b.isScope=!!g,y){const e=c,t=l;c=p(n,c);const r=e===c;l=p(n,r?l:0),u=p(n,r&&t===l?u:0),S=[c,l,u]}if(b.callsite=S,f(n,e)){T=[];do{d=s,h=t;const e=p(n,0);let r;if(e<-1){r=[[p(n,0)]];for(let t=-1;t>e;t--){const e=d;d=p(n,d),h=p(n,d===e?h:0);const t=p(n,0);r.push([t,d,h])}}else r=[[e]];T.push(r)}while(f(n,e))}b.bindings=T,r.push(b),i.push(b)}s++,n.pos=e+1}while(n.pos<t);return r}function P(e){if(0===e.length)return"";const t=new y;for(let n=0;n<e.length;)n=E(e,n,t,[0,0,0,0,0,0,0]);return t.flush()}function E(e,t,n,r){const i=e[t],{0:s,1:a,2:c,3:l,isScope:u,callsite:d,bindings:p}=i;if(r[0]<s?(x(n,r[0],s),r[0]=s,r[1]=0):t>0&&n.write(o),r[1]=h(n,i[1],r[1]),h(n,(6===i.length?1:0)|(d?2:0)|(u?4:0),0),6===i.length){const{4:e,5:t}=i;e!==r[2]&&(r[3]=0),r[2]=h(n,e,r[2]),r[3]=h(n,t,r[3])}if(d){const{0:e,1:t,2:s}=i.callsite;e!==r[4]?(r[5]=0,r[6]=0):t!==r[5]&&(r[6]=0),r[4]=h(n,e,r[4]),r[5]=h(n,t,r[5]),r[6]=h(n,s,r[6])}if(p)for(const e of p){e.length>1&&h(n,-e.length,0),h(n,e[0][0],0);let t=s,r=a;for(let i=1;i<e.length;i++){const s=e[i];t=h(n,s[1],t),r=h(n,s[2],r),h(n,s[0],0)}}for(t++;t<e.length;){const i=e[t],{0:s,1:a}=i;if(s>c||s===c&&a>=l)break;t=E(e,t,n,r)}return r[0]<c?(x(n,r[0],c),r[0]=c,r[1]=0):n.write(o),r[1]=h(n,l,r[1]),t}function x(e,t,n){do{e.write(c)}while(++t<n)}function w(e){const{length:t}=e,n=new g(e),r=[];let i=0,s=0,a=0,o=0,c=0;do{const e=n.indexOf(";"),t=[];let l=!0,u=0;for(i=0;n.pos<e;){let r;i=p(n,i),i<u&&(l=!1),u=i,f(n,e)?(s=p(n,s),a=p(n,a),o=p(n,o),f(n,e)?(c=p(n,c),r=[i,s,a,o,c]):r=[i,s,a,o]):r=[i],t.push(r),n.pos++}l||A(t),r.push(t),n.pos=e+1}while(n.pos<=t);return r}function A(e){e.sort(O)}function O(e,t){return e[0]-t[0]}function I(e){const t=new y;let n=0,r=0,i=0,s=0;for(let a=0;a<e.length;a++){const l=e[a];if(a>0&&t.write(c),0===l.length)continue;let u=0;for(let e=0;e<l.length;e++){const a=l[e];e>0&&t.write(o),u=h(t,a[0],u),1!==a.length&&(n=h(t,a[1],n),r=h(t,a[2],r),i=h(t,a[3],i),4!==a.length&&(s=h(t,a[4],s)))}}return t.flush()}}(e=n.nmd(e)),e.exports="default"in(r=e).exports?r.exports.default:r.exports},44319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFloat32Array=t.fromBase64=t.toBase64=void 0;const r=n(44172),i=n(773);t.toBase64=e=>{if(!e)return"";if(void 0!==globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");if("string"==typeof e&&(e=(0,i.encodeUTF8)(e)),"undefined"!=typeof btoa)return btoa(String.fromCharCode.apply(null,e));throw new r.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")},t.fromBase64=e=>{if(void 0!==globalThis.Buffer){const t=globalThis.Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if("undefined"!=typeof atob){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}throw new r.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")},t.toFloat32Array=e=>{if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}}},44370:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function t(t){return e[t]??null}const n={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Virheellinen syöte: täytyy olla ${a.stringifyPrimitive(e.values[0])}`:`Virheellinen valinta: täytyy olla yksi seuraavista: ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Liian suuri: ${r.subject} täytyy olla ${n}${e.maximum.toString()} ${r.unit}`.trim():`Liian suuri: arvon täytyy olla ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Liian pieni: ${r.subject} täytyy olla ${n}${e.minimum.toString()} ${r.unit}`.trim():`Liian pieni: arvon täytyy olla ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Virheellinen syöte: täytyy alkaa "${t.prefix}"`:"ends_with"===t.format?`Virheellinen syöte: täytyy loppua "${t.suffix}"`:"includes"===t.format?`Virheellinen syöte: täytyy sisältää "${t.includes}"`:"regex"===t.format?`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${t.pattern}`:`Virheellinen ${n[t.format]??e.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};e.exports=t.default},44394:(e,t,n)=>{var r=n(72552),i=n(40346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},44544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(60983),i=n(48079);t.default=function e(t){if(void 0===t)return(0,i.identifier)("undefined");if(!0===t||!1===t)return(0,i.booleanLiteral)(t);if(null===t)return(0,i.nullLiteral)();if("string"==typeof t)return(0,i.stringLiteral)(t);if("number"==typeof t){let e;if(Number.isFinite(t))e=(0,i.numericLiteral)(Math.abs(t));else{let n;n=Number.isNaN(t)?(0,i.numericLiteral)(0):(0,i.numericLiteral)(1),e=(0,i.binaryExpression)("/",n,(0,i.numericLiteral)(0))}return(t<0||Object.is(t,-0))&&(e=(0,i.unaryExpression)("-",e)),e}if("bigint"==typeof t)return t<0?(0,i.unaryExpression)("-",(0,i.bigIntLiteral)(-t)):(0,i.bigIntLiteral)(t);if(function(e){return"[object RegExp]"===s(e)}(t)){const e=t.source,n=/\/([a-z]*)$/.exec(t.toString())[1];return(0,i.regExpLiteral)(e,n)}if(Array.isArray(t))return(0,i.arrayExpression)(t.map(e));if(function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}(t)){const n=[];for(const s of Object.keys(t)){let a,o=!1;(0,r.default)(s)?"__proto__"===s?(o=!0,a=(0,i.stringLiteral)(s)):a=(0,i.identifier)(s):a=(0,i.stringLiteral)(s),n.push((0,i.objectProperty)(a,e(t[s]),o))}return(0,i.objectExpression)(n)}throw new Error("don't know how to turn this value into a node")};const s=Function.call.bind(Object.prototype.toString)},44648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=void 0;const r=n(71118),i=n(46289);class s extends r.AbstractChatCompletionRunner{static runTools(e,t,n){const r=new s,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,i)),r}_addMessage(e,t=!0){super._addMessage(e,t),(0,i.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}t.ChatCompletionRunner=s},44725:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZodISODuration=t.ZodISOTime=t.ZodISODate=t.ZodISODateTime=void 0,t.datetime=function(e){return a._isoDateTime(t.ZodISODateTime,e)},t.date=function(e){return a._isoDate(t.ZodISODate,e)},t.time=function(e){return a._isoTime(t.ZodISOTime,e)},t.duration=function(e){return a._isoDuration(t.ZodISODuration,e)};const a=s(n(76601)),o=s(n(99874));t.ZodISODateTime=a.$constructor("ZodISODateTime",(e,t)=>{a.$ZodISODateTime.init(e,t),o.ZodStringFormat.init(e,t)}),t.ZodISODate=a.$constructor("ZodISODate",(e,t)=>{a.$ZodISODate.init(e,t),o.ZodStringFormat.init(e,t)}),t.ZodISOTime=a.$constructor("ZodISOTime",(e,t)=>{a.$ZodISOTime.init(e,t),o.ZodStringFormat.init(e,t)}),t.ZodISODuration=a.$constructor("ZodISODuration",(e,t)=>{a.$ZodISODuration.init(e,t),o.ZodStringFormat.init(e,t)})},45039:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function t(t){return e[t]??null}const n={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"};return e=>{switch(e.code){case"invalid_type":return`Neplatný vstup: očekáváno ${e.expected}, obdrženo ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Neplatný vstup: očekáváno ${a.stringifyPrimitive(e.values[0])}`:`Neplatná možnost: očekávána jedna z hodnot ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Hodnota je příliš velká: ${e.origin??"hodnota"} musí mít ${n}${e.maximum.toString()} ${r.unit??"prvků"}`:`Hodnota je příliš velká: ${e.origin??"hodnota"} musí být ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Hodnota je příliš malá: ${e.origin??"hodnota"} musí mít ${n}${e.minimum.toString()} ${r.unit??"prvků"}`:`Hodnota je příliš malá: ${e.origin??"hodnota"} musí být ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Neplatný řetězec: musí začínat na "${t.prefix}"`:"ends_with"===t.format?`Neplatný řetězec: musí končit na "${t.suffix}"`:"includes"===t.format?`Neplatný řetězec: musí obsahovat "${t.includes}"`:"regex"===t.format?`Neplatný řetězec: musí odpovídat vzoru ${t.pattern}`:`Neplatný formát ${n[t.format]??e.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${e.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${e.origin}`;case"invalid_union":default:return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${e.origin}`}}};e.exports=t.default},45058:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function t(t){return e[t]??null}const n={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return e=>{switch(e.code){case"invalid_type":return`Entrée invalide : attendu ${e.expected}, reçu ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Entrée invalide : attendu ${a.stringifyPrimitive(e.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"≤":"<",r=t(e.origin);return r?`Trop grand : attendu que ${e.origin??"la valeur"} ait ${n}${e.maximum.toString()} ${r.unit}`:`Trop grand : attendu que ${e.origin??"la valeur"} soit ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"≥":">",r=t(e.origin);return r?`Trop petit : attendu que ${e.origin} ait ${n}${e.minimum.toString()} ${r.unit}`:`Trop petit : attendu que ${e.origin} soit ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chaîne invalide : doit commencer par "${t.prefix}"`:"ends_with"===t.format?`Chaîne invalide : doit se terminer par "${t.suffix}"`:"includes"===t.format?`Chaîne invalide : doit inclure "${t.includes}"`:"regex"===t.format?`Chaîne invalide : doit correspondre au motif ${t.pattern}`:`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${e.divisor}`;case"unrecognized_keys":return`Clé${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${e.origin}`;case"invalid_union":default:return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`}}};e.exports=t.default},45083:(e,t,n)=>{var r=n(1882),i=n(87296),s=n(23805),a=n(47473),o=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?p:o).test(a(e))}},45167:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.yo=t.zhTW=t.zhCN=t.vi=t.ur=t.uk=t.ua=t.tr=t.th=t.ta=t.sv=t.sl=t.ru=t.pt=t.pl=t.ps=t.ota=t.no=t.nl=t.ms=t.mk=t.lt=t.ko=t.km=t.kh=t.ka=t.ja=t.it=t.is=t.id=t.hu=t.he=t.frCA=t.fr=t.fi=t.fa=t.es=t.eo=t.en=t.de=t.da=t.cs=t.ca=t.bg=t.be=t.az=t.ar=void 0;var i=n(95832);Object.defineProperty(t,"ar",{enumerable:!0,get:function(){return r(i).default}});var s=n(41168);Object.defineProperty(t,"az",{enumerable:!0,get:function(){return r(s).default}});var a=n(47714);Object.defineProperty(t,"be",{enumerable:!0,get:function(){return r(a).default}});var o=n(93584);Object.defineProperty(t,"bg",{enumerable:!0,get:function(){return r(o).default}});var c=n(12949);Object.defineProperty(t,"ca",{enumerable:!0,get:function(){return r(c).default}});var l=n(45039);Object.defineProperty(t,"cs",{enumerable:!0,get:function(){return r(l).default}});var u=n(51472);Object.defineProperty(t,"da",{enumerable:!0,get:function(){return r(u).default}});var d=n(45292);Object.defineProperty(t,"de",{enumerable:!0,get:function(){return r(d).default}});var p=n(28208);Object.defineProperty(t,"en",{enumerable:!0,get:function(){return r(p).default}});var h=n(8761);Object.defineProperty(t,"eo",{enumerable:!0,get:function(){return r(h).default}});var f=n(3517);Object.defineProperty(t,"es",{enumerable:!0,get:function(){return r(f).default}});var m=n(12058);Object.defineProperty(t,"fa",{enumerable:!0,get:function(){return r(m).default}});var y=n(44370);Object.defineProperty(t,"fi",{enumerable:!0,get:function(){return r(y).default}});var g=n(87073);Object.defineProperty(t,"fr",{enumerable:!0,get:function(){return r(g).default}});var v=n(45058);Object.defineProperty(t,"frCA",{enumerable:!0,get:function(){return r(v).default}});var b=n(82848);Object.defineProperty(t,"he",{enumerable:!0,get:function(){return r(b).default}});var S=n(50832);Object.defineProperty(t,"hu",{enumerable:!0,get:function(){return r(S).default}});var T=n(50974);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return r(T).default}});var _=n(39081);Object.defineProperty(t,"is",{enumerable:!0,get:function(){return r(_).default}});var P=n(55662);Object.defineProperty(t,"it",{enumerable:!0,get:function(){return r(P).default}});var E=n(5542);Object.defineProperty(t,"ja",{enumerable:!0,get:function(){return r(E).default}});var x=n(60765);Object.defineProperty(t,"ka",{enumerable:!0,get:function(){return r(x).default}});var w=n(92);Object.defineProperty(t,"kh",{enumerable:!0,get:function(){return r(w).default}});var A=n(74313);Object.defineProperty(t,"km",{enumerable:!0,get:function(){return r(A).default}});var O=n(28195);Object.defineProperty(t,"ko",{enumerable:!0,get:function(){return r(O).default}});var I=n(13181);Object.defineProperty(t,"lt",{enumerable:!0,get:function(){return r(I).default}});var C=n(89917);Object.defineProperty(t,"mk",{enumerable:!0,get:function(){return r(C).default}});var k=n(20645);Object.defineProperty(t,"ms",{enumerable:!0,get:function(){return r(k).default}});var N=n(2519);Object.defineProperty(t,"nl",{enumerable:!0,get:function(){return r(N).default}});var L=n(66068);Object.defineProperty(t,"no",{enumerable:!0,get:function(){return r(L).default}});var $=n(37005);Object.defineProperty(t,"ota",{enumerable:!0,get:function(){return r($).default}});var M=n(62790);Object.defineProperty(t,"ps",{enumerable:!0,get:function(){return r(M).default}});var R=n(12297);Object.defineProperty(t,"pl",{enumerable:!0,get:function(){return r(R).default}});var j=n(513);Object.defineProperty(t,"pt",{enumerable:!0,get:function(){return r(j).default}});var D=n(25570);Object.defineProperty(t,"ru",{enumerable:!0,get:function(){return r(D).default}});var U=n(78520);Object.defineProperty(t,"sl",{enumerable:!0,get:function(){return r(U).default}});var F=n(52338);Object.defineProperty(t,"sv",{enumerable:!0,get:function(){return r(F).default}});var B=n(3424);Object.defineProperty(t,"ta",{enumerable:!0,get:function(){return r(B).default}});var Z=n(57041);Object.defineProperty(t,"th",{enumerable:!0,get:function(){return r(Z).default}});var z=n(54003);Object.defineProperty(t,"tr",{enumerable:!0,get:function(){return r(z).default}});var V=n(75911);Object.defineProperty(t,"ua",{enumerable:!0,get:function(){return r(V).default}});var q=n(31637);Object.defineProperty(t,"uk",{enumerable:!0,get:function(){return r(q).default}});var K=n(67316);Object.defineProperty(t,"ur",{enumerable:!0,get:function(){return r(K).default}});var W=n(24290);Object.defineProperty(t,"vi",{enumerable:!0,get:function(){return r(W).default}});var G=n(40999);Object.defineProperty(t,"zhCN",{enumerable:!0,get:function(){return r(G).default}});var J=n(9587);Object.defineProperty(t,"zhTW",{enumerable:!0,get:function(){return r(J).default}});var H=n(80093);Object.defineProperty(t,"yo",{enumerable:!0,get:function(){return r(H).default}})},45292:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(t){return e[t]??null}const n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return e=>{switch(e.code){case"invalid_type":return`Ungültige Eingabe: erwartet ${e.expected}, erhalten ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ungültige Eingabe: erwartet ${a.stringifyPrimitive(e.values[0])}`:`Ungültige Option: erwartet eine von ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Zu groß: erwartet, dass ${e.origin??"Wert"} ${n}${e.maximum.toString()} ${r.unit??"Elemente"} hat`:`Zu groß: erwartet, dass ${e.origin??"Wert"} ${n}${e.maximum.toString()} ist`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Zu klein: erwartet, dass ${e.origin} ${n}${e.minimum.toString()} ${r.unit} hat`:`Zu klein: erwartet, dass ${e.origin} ${n}${e.minimum.toString()} ist`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ungültiger String: muss mit "${t.prefix}" beginnen`:"ends_with"===t.format?`Ungültiger String: muss mit "${t.suffix}" enden`:"includes"===t.format?`Ungültiger String: muss "${t.includes}" enthalten`:"regex"===t.format?`Ungültiger String: muss dem Muster ${t.pattern} entsprechen`:`Ungültig: ${n[t.format]??e.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${e.origin}`;case"invalid_union":default:return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${e.origin}`}}};e.exports=t.default},45387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseJavaCstVisitor:()=>Lc,BaseJavaCstVisitorWithDefaults:()=>$c,default:()=>jc,lexAndParse:()=>Mc,parse:()=>Rc});const r=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},i=function(e,t,n){for(var r=-1,i=Object(e),s=n(e),a=s.length;a--;){var o=s[++r];if(!1===t(i[o],o,i))break}return e},s="object"==typeof global&&global&&global.Object===Object&&global;var a="object"==typeof self&&self&&self.Object===Object&&self;const o=s||a||Function("return this")(),c=o.Symbol;var l=Object.prototype,u=l.hasOwnProperty,d=l.toString,p=c?c.toStringTag:void 0;var h=Object.prototype.toString;var f=c?c.toStringTag:void 0;const m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?function(e){var t=u.call(e,p),n=e[p];try{e[p]=void 0;var r=!0}catch(e){}var i=d.call(e);return r&&(t?e[p]=n:delete e[p]),i}(e):function(e){return h.call(e)}(e)},y=function(e){return null!=e&&"object"==typeof e},g=function(e){return y(e)&&"[object Arguments]"==m(e)};var v=Object.prototype,b=v.hasOwnProperty,S=v.propertyIsEnumerable;const T=g(function(){return arguments}())?g:function(e){return y(e)&&b.call(e,"callee")&&!S.call(e,"callee")},_=Array.isArray;var P="object"==typeof exports&&exports&&!exports.nodeType&&exports,E=P&&"object"==typeof module&&module&&!module.nodeType&&module,x=E&&E.exports===P?o.Buffer:void 0;const w=(x?x.isBuffer:void 0)||function(){return!1};var A=/^(?:0|[1-9]\d*)$/;const O=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&A.test(e))&&e>-1&&e%1==0&&e<t},I=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object Boolean]"]=C["[object DataView]"]=C["[object Date]"]=C["[object Error]"]=C["[object Function]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object WeakMap]"]=!1;const k=function(e){return function(t){return e(t)}};var N="object"==typeof exports&&exports&&!exports.nodeType&&exports,L=N&&"object"==typeof module&&module&&!module.nodeType&&module,$=L&&L.exports===N&&s.process;const M=function(){try{return L&&L.require&&L.require("util").types||$&&$.binding&&$.binding("util")}catch(e){}}();var R=M&&M.isTypedArray;const j=R?k(R):function(e){return y(e)&&I(e.length)&&!!C[m(e)]};var D=Object.prototype.hasOwnProperty;const U=function(e,t){var n=_(e),r=!n&&T(e),i=!n&&!r&&w(e),s=!n&&!r&&!i&&j(e),a=n||r||i||s,o=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=o.length;for(var l in e)!t&&!D.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||O(l,c))||o.push(l);return o};var F=Object.prototype;const B=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||F)},Z=function(e,t){return function(n){return e(t(n))}},z=Z(Object.keys,Object);var V=Object.prototype.hasOwnProperty;const q=function(e){if(!B(e))return z(e);var t=[];for(var n in Object(e))V.call(e,n)&&"constructor"!=n&&t.push(n);return t},K=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},W=function(e){if(!K(e))return!1;var t=m(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},G=function(e){return null!=e&&I(e.length)&&!W(e)},J=function(e){return G(e)?U(e):q(e)},H=function(e,t){if(null==e)return e;if(!G(e))return function(e,t){return e&&i(e,t,J)}(e,t);for(var n=e.length,r=-1,s=Object(e);++r<n&&!1!==t(s[r],r,s););return e},Y=function(e){return e},X=function(e,t){return(_(e)?r:H)(e,"function"==typeof(n=t)?n:Y);var n},Q=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ee=function(e){return null==e?[]:function(e,t){return Q(t,function(t){return e[t]})}(e,J(e))},te=o["__core-js_shared__"];var ne,re=(ne=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+ne:"";var ie=Function.prototype.toString;const se=function(e){if(null!=e){try{return ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var ae=/^\[object .+?Constructor\]$/,oe=Function.prototype,ce=Object.prototype,le=oe.toString,ue=ce.hasOwnProperty,de=RegExp("^"+le.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pe=function(e){return!(!K(e)||(t=e,re&&re in t))&&(W(e)?de:ae).test(se(e));var t},he=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(n)?n:void 0},fe=he(o,"DataView"),me=he(o,"Map"),ye=he(o,"Promise"),ge=he(o,"Set"),ve=he(o,"WeakMap");var be="[object Map]",Se="[object Promise]",Te="[object Set]",_e="[object WeakMap]",Pe="[object DataView]",Ee=se(fe),xe=se(me),we=se(ye),Ae=se(ge),Oe=se(ve),Ie=m;(fe&&Ie(new fe(new ArrayBuffer(1)))!=Pe||me&&Ie(new me)!=be||ye&&Ie(ye.resolve())!=Se||ge&&Ie(new ge)!=Te||ve&&Ie(new ve)!=_e)&&(Ie=function(e){var t=m(e),n="[object Object]"==t?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case Ee:return Pe;case xe:return be;case we:return Se;case Ae:return Te;case Oe:return _e}return t});const Ce=Ie;var ke=Object.prototype.hasOwnProperty;const Ne=function(e){if(null==e)return!0;if(G(e)&&(_(e)||"string"==typeof e||"function"==typeof e.splice||w(e)||j(e)||T(e)))return!e.length;var t=Ce(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(B(e))return!q(e).length;for(var n in e)if(ke.call(e,n))return!1;return!0},Le=function(e,t){return e===t||e!=e&&t!=t},$e=function(e,t){for(var n=e.length;n--;)if(Le(e[n][0],t))return n;return-1};var Me=Array.prototype.splice;function Re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Re.prototype.clear=function(){this.__data__=[],this.size=0},Re.prototype.delete=function(e){var t=this.__data__,n=$e(t,e);return!(n<0||(n==t.length-1?t.pop():Me.call(t,n,1),--this.size,0))},Re.prototype.get=function(e){var t=this.__data__,n=$e(t,e);return n<0?void 0:t[n][1]},Re.prototype.has=function(e){return $e(this.__data__,e)>-1},Re.prototype.set=function(e,t){var n=this.__data__,r=$e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const je=Re,De=he(Object,"create");var Ue=Object.prototype.hasOwnProperty;var Fe=Object.prototype.hasOwnProperty;function Be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Be.prototype.clear=function(){this.__data__=De?De(null):{},this.size=0},Be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Be.prototype.get=function(e){var t=this.__data__;if(De){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ue.call(t,e)?t[e]:void 0},Be.prototype.has=function(e){var t=this.__data__;return De?void 0!==t[e]:Fe.call(t,e)},Be.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=De&&void 0===t?"__lodash_hash_undefined__":t,this};const Ze=Be,ze=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new Ze,map:new(me||je),string:new Ze}},Ve.prototype.delete=function(e){var t=ze(this,e).delete(e);return this.size-=t?1:0,t},Ve.prototype.get=function(e){return ze(this,e).get(e)},Ve.prototype.has=function(e){return ze(this,e).has(e)},Ve.prototype.set=function(e,t){var n=ze(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const qe=Ve;function Ke(e){var t=this.__data__=new je(e);this.size=t.size}Ke.prototype.clear=function(){this.__data__=new je,this.size=0},Ke.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ke.prototype.get=function(e){return this.__data__.get(e)},Ke.prototype.has=function(e){return this.__data__.has(e)},Ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof je){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qe(r)}return n.set(e,t),this.size=n.size,this};const We=Ke;function Ge(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qe;++t<n;)this.add(e[t])}Ge.prototype.add=Ge.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(e){return this.__data__.has(e)};const Je=Ge,He=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ye=function(e,t){return e.has(t)},Xe=function(e,t,n,r,i,s){var a=1&n,o=e.length,c=t.length;if(o!=c&&!(a&&c>o))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var d=-1,p=!0,h=2&n?new Je:void 0;for(s.set(e,t),s.set(t,e);++d<o;){var f=e[d],m=t[d];if(r)var y=a?r(m,f,d,t,e,s):r(f,m,d,e,t,s);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!He(t,function(e,t){if(!Ye(h,t)&&(f===e||i(f,e,n,r,s)))return h.push(t)})){p=!1;break}}else if(f!==m&&!i(f,m,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p},Qe=o.Uint8Array,et=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},tt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var nt=c?c.prototype:void 0,rt=nt?nt.valueOf:void 0;const it=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},st=function(e,t,n){var r=t(e);return _(e)?r:it(r,n(e))},at=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s},ot=function(){return[]};var ct=Object.prototype.propertyIsEnumerable,lt=Object.getOwnPropertySymbols;const ut=lt?function(e){return null==e?[]:(e=Object(e),at(lt(e),function(t){return ct.call(e,t)}))}:ot,dt=function(e){return st(e,J,ut)};var pt=Object.prototype.hasOwnProperty;var ht="[object Arguments]",ft="[object Array]",mt="[object Object]",yt=Object.prototype.hasOwnProperty;const gt=function(e,t,n,r,i,s){var a=_(e),o=_(t),c=a?ft:Ce(e),l=o?ft:Ce(t),u=(c=c==ht?mt:c)==mt,d=(l=l==ht?mt:l)==mt,p=c==l;if(p&&w(e)){if(!w(t))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new We),a||j(e)?Xe(e,t,n,r,i,s):function(e,t,n,r,i,s,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new Qe(e),new Qe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Le(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=et;case"[object Set]":var c=1&r;if(o||(o=tt),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var u=Xe(o(e),o(t),r,i,s,a);return a.delete(e),u;case"[object Symbol]":if(rt)return rt.call(e)==rt.call(t)}return!1}(e,t,c,n,r,i,s);if(!(1&n)){var h=u&&yt.call(e,"__wrapped__"),f=d&&yt.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,y=f?t.value():t;return s||(s=new We),i(m,y,n,r,s)}}return!!p&&(s||(s=new We),function(e,t,n,r,i,s){var a=1&n,o=dt(e),c=o.length;if(c!=dt(t).length&&!a)return!1;for(var l=c;l--;){var u=o[l];if(!(a?u in t:pt.call(t,u)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var h=!0;s.set(e,t),s.set(t,e);for(var f=a;++l<c;){var m=e[u=o[l]],y=t[u];if(r)var g=a?r(y,m,u,t,e,s):r(m,y,u,e,t,s);if(!(void 0===g?m===y||i(m,y,n,r,s):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,r,i,s))},vt=function e(t,n,r,i,s){return t===n||(null==t||null==n||!y(t)&&!y(n)?t!=t&&n!=n:gt(t,n,r,i,e,s))},bt=function(e){return e==e&&!K(e)},St=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Tt=function(e){var t=function(e){for(var t=J(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,bt(i)]}return t}(e);return 1==t.length&&t[0][2]?St(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Object(e);i--;){var o=n[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){var c=(o=n[i])[0],l=e[c],u=o[1];if(a&&o[2]){if(void 0===l&&!(c in e))return!1}else{var d=new We;if(r)var p=r(l,u,c,e,t,d);if(!(void 0===p?vt(u,l,3,r,d):p))return!1}}return!0}(n,e,t)}},_t=function(e){return"symbol"==typeof e||y(e)&&"[object Symbol]"==m(e)};var Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/;const xt=function(e,t){if(_(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!_t(e))||Et.test(e)||!Pt.test(e)||null!=t&&e in Object(t)};function wt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(wt.Cache||qe),n}wt.Cache=qe;var At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/\\(\\)?/g;const It=(Ct=wt(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(At,function(e,n,r,i){t.push(r?i.replace(Ot,"$1"):n||e)}),t},function(e){return 500===kt.size&&kt.clear(),e}),kt=Ct.cache,Ct);var Ct,kt,Nt=c?c.prototype:void 0,Lt=Nt?Nt.toString:void 0;const $t=function e(t){if("string"==typeof t)return t;if(_(t))return Q(t,e)+"";if(_t(t))return Lt?Lt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Mt=function(e){return null==e?"":$t(e)},Rt=function(e,t){return _(e)?e:xt(e,t)?[e]:It(Mt(e))},jt=function(e){if("string"==typeof e||_t(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Dt=function(e,t){for(var n=0,r=(t=Rt(t,e)).length;null!=e&&n<r;)e=e[jt(t[n++])];return n&&n==r?e:void 0},Ut=function(e,t){return null!=e&&t in Object(e)},Ft=function(e,t,n){for(var r=-1,i=(t=Rt(t,e)).length,s=!1;++r<i;){var a=jt(t[r]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&I(i)&&O(a,i)&&(_(e)||T(e))},Bt=function(e,t){return xt(e)&&bt(t)?St(jt(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Dt(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&Ft(e,t,Ut)}(n,e):vt(t,r,3)}},Zt=function(e){return xt(e)?(t=jt(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Dt(t,e)}}(e);var t},zt=function(e){return"function"==typeof e?e:null==e?Y:"object"==typeof e?_(e)?Bt(e[0],e[1]):Tt(e):Zt(e)},Vt=function(e,t){var n=-1,r=G(e)?Array(e.length):[];return H(e,function(e,i,s){r[++n]=t(e,i,s)}),r},qt=function(e,t){return(_(e)?Q:Vt)(e,zt(t))};var Kt=Object.prototype.hasOwnProperty;const Wt=function(e,t){return null!=e&&Kt.call(e,t)},Gt=function(e,t){return null!=e&&Ft(e,t,Wt)},Jt=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ht=function(e,t,n){"__proto__"==t&&Jt?Jt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Yt=Object.prototype.hasOwnProperty;const Xt=function(e,t,n){var r=e[t];Yt.call(e,t)&&Le(r,n)&&(void 0!==n||t in e)||Ht(e,t,n)},Qt=function(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],c=r?r(n[o],e[o],o,n,e):void 0;void 0===c&&(c=e[o]),i?Ht(n,o,c):Xt(n,o,c)}return n};var en=Object.prototype.hasOwnProperty;const tn=function(e){if(!K(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=B(e),n=[];for(var r in e)("constructor"!=r||!t&&en.call(e,r))&&n.push(r);return n},nn=function(e){return G(e)?U(e,!0):tn(e)};var rn="object"==typeof exports&&exports&&!exports.nodeType&&exports,sn=rn&&"object"==typeof module&&module&&!module.nodeType&&module,an=sn&&sn.exports===rn?o.Buffer:void 0,on=an?an.allocUnsafe:void 0;const cn=Z(Object.getPrototypeOf,Object),ln=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)it(t,ut(e)),e=cn(e);return t}:ot,un=function(e){return st(e,nn,ln)};var dn=Object.prototype.hasOwnProperty;const pn=function(e){var t=new e.constructor(e.byteLength);return new Qe(t).set(new Qe(e)),t};var hn=/\w*$/;var fn=c?c.prototype:void 0,mn=fn?fn.valueOf:void 0;const yn=function(e,t,n){var r,i=e.constructor;switch(t){case"[object ArrayBuffer]":return pn(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?pn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?pn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,hn.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return r=e,mn?Object(mn.call(r)):{}}};var gn=Object.create;const vn=function(){function e(){}return function(t){if(!K(t))return{};if(gn)return gn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var bn=M&&M.isMap;const Sn=bn?k(bn):function(e){return y(e)&&"[object Map]"==Ce(e)};var Tn=M&&M.isSet;const _n=Tn?k(Tn):function(e){return y(e)&&"[object Set]"==Ce(e)};var Pn="[object Arguments]",En="[object Function]",xn="[object Object]",wn={};wn[Pn]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object DataView]"]=wn["[object Boolean]"]=wn["[object Date]"]=wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Map]"]=wn["[object Number]"]=wn[xn]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object Symbol]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Error]"]=wn[En]=wn["[object WeakMap]"]=!1;const An=function e(t,n,i,s,a,o){var c,l=1&n,u=2&n,d=4&n;if(i&&(c=a?i(t,s,a,o):i(t)),void 0!==c)return c;if(!K(t))return t;var p=_(t);if(p){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&dn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,c)}else{var h=Ce(t),f=h==En||"[object GeneratorFunction]"==h;if(w(t))return function(e,t){if(t)return e.slice();var n=e.length,r=on?on(n):new e.constructor(n);return e.copy(r),r}(t,l);if(h==xn||h==Pn||f&&!a){if(c=u||f?{}:function(e){return"function"!=typeof e.constructor||B(e)?{}:vn(cn(e))}(t),!l)return u?function(e,t){return Qt(e,ln(e),t)}(t,function(e,t){return e&&Qt(t,nn(t),e)}(c,t)):function(e,t){return Qt(e,ut(e),t)}(t,function(e,t){return e&&Qt(t,J(t),e)}(c,t))}else{if(!wn[h])return a?t:{};c=yn(t,h,l)}}o||(o=new We);var m=o.get(t);if(m)return m;o.set(t,c),_n(t)?t.forEach(function(r){c.add(e(r,n,i,r,t,o))}):Sn(t)&&t.forEach(function(r,s){c.set(s,e(r,n,i,s,t,o))});var y=p?void 0:(d?u?un:dt:u?nn:J)(t);return r(y||t,function(r,s){y&&(r=t[s=r]),Xt(c,s,e(r,n,i,s,t,o))}),c},On=function(e){return An(e,4)};function In(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}return r(),r(),e}const Cn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s};var kn=/\s/;var Nn=/^\s+/;const Ln=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&kn.test(e.charAt(t)););return t}(e)+1).replace(Nn,""):e};var $n=/^[-+]0x[0-9a-f]+$/i,Mn=/^0b[01]+$/i,Rn=/^0o[0-7]+$/i,jn=parseInt;var Dn=1/0;const Un=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(_t(e))return NaN;if(K(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=K(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ln(e);var n=Mn.test(e);return n||Rn.test(e)?jn(e.slice(2),n?2:8):$n.test(e)?NaN:+e}(e))===Dn||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Fn=function(e){var t=Un(e),n=t%1;return t==t?n?t-n:t:0},Bn=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:Fn(t),Cn(e,t<0?0:t,r)):[]},Zn=function(e){return"string"==typeof e||!_(e)&&y(e)&&"[object String]"==m(e)};var zn=Math.max;const Vn=Jt?function(e,t){return Jt(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Y;var qn=Date.now;const Kn=(Wn=Vn,Gn=0,Jn=0,function(){var e=qn(),t=16-(e-Jn);if(Jn=e,t>0){if(++Gn>=800)return arguments[0]}else Gn=0;return Wn.apply(void 0,arguments)});var Wn,Gn,Jn;const Hn=function(e,t){return Kn(function(e,t,n){return t=zn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=zn(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}(e,t,Y),e+"")},Yn=function(e,t,n){if(!K(n))return!1;var r=typeof t;return!!("number"==r?G(n)&&O(t,n.length):"string"==r&&t in n)&&Le(n[t],e)};var Xn=Object.prototype.hasOwnProperty;const Qn=(er=function(e,t){if(B(t)||G(t))Qt(t,J(t),e);else for(var n in t)Xn.call(t,n)&&Xt(e,n,t[n])},Hn(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,s=r>2?t[2]:void 0;for(i=er.length>3&&"function"==typeof i?(r--,i):void 0,s&&Yn(t[0],t[1],s)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&er(e,a,n,i)}return e}));var er;const tr=function(e,t,n,r){if(!K(e))return e;for(var i=-1,s=(t=Rt(t,e)).length,a=s-1,o=e;null!=o&&++i<s;){var c=jt(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var u=o[c];void 0===(l=r?r(u,c,o):void 0)&&(l=K(u)?u:O(t[i+1])?[]:{})}Xt(o,c,l),o=o[c]}return e},nr=function(e,t){if(null==e)return{};var n=Q(un(e),function(e){return[e]});return t=zt(t),function(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var a=t[r],o=Dt(e,a);n(o,a)&&tr(s,Rt(a,e),o)}return s}(e,n,function(e,n){return t(e,n[0])})};var rr=M&&M.isRegExp;const ir=rr?k(rr):function(e){return y(e)&&"[object RegExp]"==m(e)};class sr{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),X(this.definition,t=>{t.accept(e)})}}class ar extends sr{constructor(e){super([]),this.idx=1,Qn(this,nr(e,e=>void 0!==e))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class or extends sr{constructor(e){super(e.definition),this.orgText="",Qn(this,nr(e,e=>void 0!==e))}}class cr extends sr{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Qn(this,nr(e,e=>void 0!==e))}}class lr extends sr{constructor(e){super(e.definition),this.idx=1,Qn(this,nr(e,e=>void 0!==e))}}class ur extends sr{constructor(e){super(e.definition),this.idx=1,Qn(this,nr(e,e=>void 0!==e))}}class dr extends sr{constructor(e){super(e.definition),this.idx=1,Qn(this,nr(e,e=>void 0!==e))}}class pr extends sr{constructor(e){super(e.definition),this.idx=1,Qn(this,nr(e,e=>void 0!==e))}}class hr extends sr{constructor(e){super(e.definition),this.idx=1,Qn(this,nr(e,e=>void 0!==e))}}class fr extends sr{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Qn(this,nr(e,e=>void 0!==e))}}class mr{constructor(e){this.idx=1,Qn(this,nr(e,e=>void 0!==e))}accept(e){e.visit(this)}}function yr(e){function t(e){return qt(e,yr)}if(e instanceof ar){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Zn(e.label)&&(t.label=e.label),t}if(e instanceof cr)return{type:"Alternative",definition:t(e.definition)};if(e instanceof lr)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof ur)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof dr)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:yr(new mr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof hr)return{type:"RepetitionWithSeparator",idx:e.idx,separator:yr(new mr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof pr)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof fr)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof mr){const t={type:"Terminal",name:e.terminalType.name,label:(n=e.terminalType,Zn((r=n).LABEL)&&""!==r.LABEL?n.LABEL:n.name),idx:e.idx};Zn(e.label)&&(t.terminalLabel=e.label);const i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=ir(i)?i.source:i),t}var n,r;if(e instanceof or)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class gr{visit(e){const t=e;switch(t.constructor){case ar:return this.visitNonTerminal(t);case cr:return this.visitAlternative(t);case lr:return this.visitOption(t);case ur:return this.visitRepetitionMandatory(t);case dr:return this.visitRepetitionMandatoryWithSeparator(t);case hr:return this.visitRepetitionWithSeparator(t);case pr:return this.visitRepetition(t);case fr:return this.visitAlternation(t);case mr:return this.visitTerminal(t);case or:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}const vr=function(e,t){var n;return H(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},br=function(e,t,n){var r=_(e)?He:vr;return n&&Yn(e,t,n)&&(t=void 0),r(e,zt(t))},Sr=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1},Tr=function(e){return e!=e},_r=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Sr(e,Tr,n)};var Pr=Math.max;const Er=function(e,t,n,r){e=G(e)?e:ee(e),n=n&&!r?Fn(n):0;var i=e.length;return n<0&&(n=Pr(i+n,0)),Zn(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_r(e,t,n)>-1},xr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},wr=function(e,t){var n=!0;return H(e,function(e,r,i){return n=!!t(e,r,i)}),n},Ar=function(e,t,n){var r=_(e)?xr:wr;return n&&Yn(e,t,n)&&(t=void 0),r(e,zt(t))};function Or(e,t=[]){return!!(e instanceof lr||e instanceof pr||e instanceof hr)||(e instanceof fr?br(e.definition,e=>Or(e,t)):!(e instanceof ar&&Er(t,e))&&e instanceof sr&&(e instanceof ar&&t.push(e),Ar(e.definition,e=>Or(e,t))))}function Ir(e){if(e instanceof ar)return"SUBRULE";if(e instanceof lr)return"OPTION";if(e instanceof fr)return"OR";if(e instanceof ur)return"AT_LEAST_ONE";if(e instanceof dr)return"AT_LEAST_ONE_SEP";if(e instanceof hr)return"MANY_SEP";if(e instanceof pr)return"MANY";if(e instanceof mr)return"CONSUME";throw Error("non exhaustive match")}class Cr{walk(e,t=[]){X(e.definition,(n,r)=>{const i=Bn(e.definition,r+1);if(n instanceof ar)this.walkProdRef(n,i,t);else if(n instanceof mr)this.walkTerminal(n,i,t);else if(n instanceof cr)this.walkFlat(n,i,t);else if(n instanceof lr)this.walkOption(n,i,t);else if(n instanceof ur)this.walkAtLeastOne(n,i,t);else if(n instanceof dr)this.walkAtLeastOneSep(n,i,t);else if(n instanceof hr)this.walkManySep(n,i,t);else if(n instanceof pr)this.walkMany(n,i,t);else{if(!(n instanceof fr))throw Error("non exhaustive match");this.walkOr(n,i,t)}})}walkTerminal(e,t,n){}walkProdRef(e,t,n){}walkFlat(e,t,n){const r=t.concat(n);this.walk(e,r)}walkOption(e,t,n){const r=t.concat(n);this.walk(e,r)}walkAtLeastOne(e,t,n){const r=[new lr({definition:e.definition})].concat(t,n);this.walk(e,r)}walkAtLeastOneSep(e,t,n){const r=kr(e,t,n);this.walk(e,r)}walkMany(e,t,n){const r=[new lr({definition:e.definition})].concat(t,n);this.walk(e,r)}walkManySep(e,t,n){const r=kr(e,t,n);this.walk(e,r)}walkOr(e,t,n){const r=t.concat(n);X(e.definition,e=>{const t=new cr({definition:[e]});this.walk(t,r)})}}function kr(e,t,n){return[new lr({definition:[new mr({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}const Nr=function(e,t){return!(null==e||!e.length)&&_r(e,t,0)>-1},Lr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},$r=function(){},Mr=ge&&1/tt(new ge([,-0]))[1]==1/0?function(e){return new ge(e)}:$r,Rr=function(e,t,n){var r=-1,i=Nr,s=e.length,a=!0,o=[],c=o;if(n)a=!1,i=Lr;else if(s>=200){var l=t?null:Mr(e);if(l)return tt(l);a=!1,i=Ye,c=new Je}else c=t?[]:o;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),o.push(u)}else i(c,d,n)||(c!==o&&c.push(d),o.push(u))}return o},jr=function(e){return e&&e.length?Rr(e):[]};var Dr=c?c.isConcatSpreadable:void 0;const Ur=function(e){return _(e)||T(e)||!!(Dr&&e&&e[Dr])},Fr=function e(t,n,r,i,s){var a=-1,o=t.length;for(r||(r=Ur),s||(s=[]);++a<o;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,s):it(s,c):i||(s[s.length]=c)}return s},Br=function(e){return null!=e&&e.length?Fr(e,1):[]};function Zr(e){if(e instanceof ar)return Zr(e.referencedRule);if(e instanceof mr)return[e.terminalType];if(function(e){return e instanceof cr||e instanceof lr||e instanceof pr||e instanceof ur||e instanceof dr||e instanceof hr||e instanceof mr||e instanceof or}(e))return function(e){let t=[];const n=e.definition;let r,i=0,s=n.length>i,a=!0;for(;s&&a;)r=n[i],a=Or(r),t=t.concat(Zr(r)),i+=1,s=n.length>i;return jr(t)}(e);if(function(e){return e instanceof fr}(e))return function(e){const t=qt(e.definition,e=>Zr(e));return jr(Br(t))}(e);throw Error("non exhaustive match")}const zr="_~IN~_";class Vr extends Cr{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,n){}walkProdRef(e,t,n){const r=(i=e.referencedRule,s=e.idx,i.name+s+zr+this.topProd.name);var i,s;const a=t.concat(n),o=Zr(new cr({definition:a}));this.follows[r]=o}}const qr=function(e){return void 0===e};function Kr(e){return e.charCodeAt(0)}function Wr(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function Gr(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function Jr(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function Hr(){throw Error("Internal Error - Should never get here!")}function Yr(e){return"Character"===e.type}const Xr=[];for(let e=Kr("0");e<=Kr("9");e++)Xr.push(e);const Qr=[Kr("_")].concat(Xr);for(let e=Kr("a");e<=Kr("z");e++)Qr.push(e);for(let e=Kr("A");e<=Kr("Z");e++)Qr.push(e);const ei=[Kr(" "),Kr("\f"),Kr("\n"),Kr("\r"),Kr("\t"),Kr("\v"),Kr("\t"),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr(" "),Kr("\u2028"),Kr("\u2029"),Kr(" "),Kr(" "),Kr("　"),Kr("\ufeff")],ti=/[0-9a-fA-F]/,ni=/[0-9]/,ri=/[1-9]/;class ii{visitChildren(e){for(const t in e){const n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}var si=Object.prototype,ai=si.hasOwnProperty;const oi=Hn(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Yn(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=nn(s),o=-1,c=a.length;++o<c;){var l=a[o],u=e[l];(void 0===u||Le(u,si[l])&&!ai.call(e,l))&&(e[l]=s[l])}return e}),ci=function(e,t){var n=[];return H(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},li=function(e,t){return(_(e)?at:ci)(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(zt(t)))};var ui=Math.max;const di=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Fn(n);return i<0&&(i=ui(r+i,0)),_r(e,t,i)},pi=function(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n},hi=function(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n},fi=function(e,t,n){var r=_(e)?pi:hi,i=arguments.length<3;return r(e,zt(t),n,i,H)},mi=function(e,t){return(_(e)?at:ci)(e,zt(t))},yi=function(e){return y(e)&&G(e)},gi=Hn(function(e,t){return yi(e)?function(e,t,n,r){var i=-1,s=Nr,a=!0,o=e.length,c=[],l=t.length;if(!o)return c;n&&(t=Q(t,k(n))),r?(s=Lr,a=!1):t.length>=200&&(s=Ye,a=!1,t=new Je(t));e:for(;++i<o;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(u)}else s(t,d,r)||c.push(u)}return c}(e,Fr(t,1,yi,!0)):[]}),vi=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},bi=function(e){return e&&e.length?e[0]:void 0};var Si=Math.max;const Ti=(_i=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Fn(n);return i<0&&(i=Si(r+i,0)),Sr(e,zt(t),i)},function(e,t,n){var r=Object(e);if(!G(e)){var i=zt(t);e=J(e),t=function(e){return i(r[e],e,r)}}var s=_i(e,t,n);return s>-1?r[i?e[s]:s]:void 0});var _i;function Pi(e){console&&console.error&&console.error(`Error: ${e}`)}function Ei(e){console&&console.warn&&console.warn(`Warning: ${e}`)}let xi={};const wi=new class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Gr(n,"global");break;case"i":Gr(n,"ignoreCase");break;case"m":Gr(n,"multiLine");break;case"u":Gr(n,"unicode");break;case"y":Gr(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}Jr(t);const n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return Hr()}quantifier(e=!1){let t;const n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:n,atMost:e}):t={atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;Jr(t)}if(!0!==e||void 0!==t)return Jr(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),Jr(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Hr()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Kr("\n"),Kr("\r"),Kr("\u2028"),Kr("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=Xr;break;case"D":e=Xr,t=!0;break;case"s":e=ei;break;case"S":e=ei,t=!0;break;case"w":e=Qr;break;case"W":e=Qr,t=!0}return Jr(e)?{type:"Set",value:e,complement:t}:Hr()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Kr("\f");break;case"n":e=Kr("\n");break;case"r":e=Kr("\r");break;case"t":e=Kr("\t");break;case"v":e=Kr("\v")}return Jr(e)?{type:"Character",value:e}:Hr()}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Kr("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:Kr(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:Kr(this.popChar())}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const t=this.classAtom();if(t.type,Yr(t)&&this.isRangeDash()){this.consumeChar("-");const n=this.classAtom();if(n.type,Yr(n)){if(n.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:n.value})}else Wr(t.value,e),e.push(Kr("-")),Wr(n.value,e)}else Wr(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Kr("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(!1===ri.test(e))throw Error("Expecting a positive integer");for(;ni.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===ni.test(e))throw Error("Expecting an integer");for(;ni.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Kr(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return ni.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){const e=this.popChar();if(!1===ti.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}};function Ai(e){const t=e.toString();if(xi.hasOwnProperty(t))return xi[t];{const e=wi.pattern(t);return xi[t]=e,e}}const Oi="Complement Sets are not supported for first char optimization",Ii='Unable to use "first char" lexer optimizations:\n';function Ci(e,t=!1){try{const t=Ai(e);return ki(t.value,{},t.flags.ignoreCase)}catch(n){if(n.message===Oi)t&&Ei(`${Ii}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Pi(`${Ii}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function ki(e,t,n){switch(e.type){case"Disjunction":for(let r=0;r<e.value.length;r++)ki(e.value[r],t,n);break;case"Alternative":const r=e.value;for(let e=0;e<r.length;e++){const i=r[e];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=i;switch(s.type){case"Character":Ni(s.value,t,n);break;case"Set":if(!0===s.complement)throw Error(Oi);X(s.value,e=>{if("number"==typeof e)Ni(e,t,n);else{const r=e;if(!0===n)for(let e=r.from;e<=r.to;e++)Ni(e,t,n);else{for(let e=r.from;e<=r.to&&e<Yi;e++)Ni(e,t,n);if(r.to>=Yi){const e=r.from>=Yi?r.from:Yi,n=r.to,i=Qi(e),s=Qi(n);for(let e=i;e<=s;e++)t[e]=e}}}});break;case"Group":ki(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}const a=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===$i(s)||"Group"!==s.type&&!1===a)break}break;default:throw Error("non exhaustive match!")}return ee(t)}function Ni(e,t,n){const r=Qi(e);t[r]=r,!0===n&&function(e,t){const n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){const e=Qi(r.charCodeAt(0));t[e]=e}else{const e=n.toLowerCase();if(e!==n){const n=Qi(e.charCodeAt(0));t[n]=n}}}(e,t)}function Li(e,t){return Ti(e.value,e=>{if("number"==typeof e)return Er(t,e);{const n=e;return void 0!==Ti(t,e=>n.from<=e&&e<=n.to)}})}function $i(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(_(e.value)?Ar(e.value,$i):$i(e.value))}class Mi extends ii{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){Er(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Li(e,this.targetCharCodes)&&(this.found=!0):void 0!==Li(e,this.targetCharCodes)&&(this.found=!0)}}function Ri(e,t){if(t instanceof RegExp){const n=Ai(t),r=new Mi(e);return r.visit(n),r.found}return void 0!==Ti(t,t=>Er(e,t.charCodeAt(0)))}const ji="PATTERN",Di="defaultMode",Ui="modes";let Fi="boolean"==typeof new RegExp("(?:)").sticky;const Bi=/[^\\][$]/,Zi=/[^\\[][\^]|^\^/;function zi(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Vi(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function qi(e){const t=e.PATTERN;if(ir(t))return!1;if(W(t))return!0;if(Gt(t,"exec"))return!0;if(Zn(t))return!1;throw Error("non exhaustive match")}function Ki(e){return!(!Zn(e)||1!==e.length)&&e.charCodeAt(0)}const Wi={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const t=e.charCodeAt(n);if(10===t)return this.lastIndex=n+1,!0;if(13===t)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function Gi(e,t){if(Gt(e,"LINE_BREAKS"))return!1;if(ir(e.PATTERN)){try{Ri(t,e.PATTERN)}catch(e){return{issue:ds.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Zn(e.PATTERN))return!1;if(qi(e))return{issue:ds.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Ji(e){return qt(e,e=>Zn(e)?e.charCodeAt(0):e)}function Hi(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}const Yi=256;let Xi=[];function Qi(e){return e<Yi?e:Xi[e]}const es=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};function ts(e){const t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function ns(e,t){const n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function rs(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let is=1;const ss={};function as(e){const t=function(e){let t=On(e),n=e,r=!0;for(;r;){n=vi(Br(qt(n,e=>e.CATEGORIES)));const e=gi(n,t);t=t.concat(e),Ne(e)?r=!1:n=e}return t}(e);!function(e){X(e,e=>{cs(e)||(ss[is]=e,e.tokenTypeIdx=is++),ls(e)&&!_(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ls(e)||(e.CATEGORIES=[]),Gt(e,"categoryMatches")||(e.categoryMatches=[]),Gt(e,"categoryMatchesMap")||(e.categoryMatchesMap={})})}(t),function(e){X(e,e=>{os([],e)})}(t),function(e){X(e,e=>{e.categoryMatches=[],X(e.categoryMatchesMap,(t,n)=>{e.categoryMatches.push(ss[n].tokenTypeIdx)})})}(t),X(t,e=>{e.isParent=e.categoryMatches.length>0})}function os(e,t){X(e,e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0}),X(t.CATEGORIES,n=>{const r=e.concat(t);Er(r,n)||os(r,n)})}function cs(e){return Gt(e,"tokenTypeIdx")}function ls(e){return Gt(e,"CATEGORIES")}function us(e){return Gt(e,"tokenTypeIdx")}var ds;!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(ds||(ds={}));const ps={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:{buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,n,r,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`},traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(ps);class hs{constructor(e,t=ps){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${e}>`);const{time:r,value:i}=ts(t),s=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Qn({},ps,t);const n=this.config.traceInitPerf;!0===n?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof n&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,r=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===ps.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Wi;else if(this.config.lineTerminatorCharacters===ps.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),_(e)?n={modes:{defaultMode:On(e)},defaultMode:Di}:(r=!1,n=On(e))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e){const t=[];return Gt(e,Di)||t.push({message:"A MultiMode Lexer cannot be initialized without a <"+Di+"> property in its definition\n",type:ds.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Gt(e,Ui)||t.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:ds.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Gt(e,Ui)&&Gt(e,Di)&&!Gt(e.modes,e.defaultMode)&&t.push({message:`A MultiMode Lexer cannot be initialized with a ${Di}: <${e.defaultMode}>which does not exist\n`,type:ds.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Gt(e,Ui)&&X(e.modes,(e,n)=>{X(e,(r,i)=>{if(qr(r))t.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${n}> at index: <${i}>\n`,type:ds.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Gt(r,"LONGER_ALT")){const i=_(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT];X(i,i=>{qr(i)||Er(e,i)||t.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${i.name}> on token <${r.name}> outside of mode <${n}>\n`,type:ds.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),t}(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function(e,t,n){const r=[];let i=!1;const s=vi(Br(ee(e.modes))),a=li(s,e=>e[ji]===hs.NA),o=Ji(n);return t&&X(a,e=>{const t=Gi(e,o);if(!1!==t){const n=function(e,t){if(t.issue===ds.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ds.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),i={message:n,type:t.issue,tokenType:e};r.push(i)}else Gt(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):Ri(o,e.PATTERN)&&(i=!0)}),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:ds.NO_LINE_BREAKS_FLAGS}),r}(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},X(n.modes,(e,t)=>{n.modes[t]=li(e,e=>qr(e))});const i=J(n.modes);if(X(n.modes,(e,n)=>{this.TRACE_INIT(`Mode: <${n}> processing`,()=>{if(this.modes.push(n),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e,t){let n=[];const r=function(e){const t=mi(e,e=>!Gt(e,ji));return{errors:qt(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:ds.MISSING_PATTERN,tokenTypes:[e]})),valid:gi(e,t)}}(e);n=n.concat(r.errors);const i=function(e){const t=mi(e,e=>{const t=e[ji];return!(ir(t)||W(t)||Gt(t,"exec")||Zn(t))});return{errors:qt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ds.INVALID_PATTERN,tokenTypes:[e]})),valid:gi(e,t)}}(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(function(e){let t=[];const n=mi(e,e=>ir(e[ji]));return t=t.concat(function(e){class t extends ii{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}const n=mi(e,e=>{const n=e.PATTERN;try{const e=Ai(n),r=new t;return r.visit(e),r.found}catch(e){return Bi.test(n.source)}});return qt(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ds.EOI_ANCHOR_FOUND,tokenTypes:[e]}))}(n)),t=t.concat(function(e){class t extends ii{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}const n=mi(e,e=>{const n=e.PATTERN;try{const e=Ai(n),r=new t;return r.visit(e),r.found}catch(e){return Zi.test(n.source)}});return qt(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ds.SOI_ANCHOR_FOUND,tokenTypes:[e]}))}(n)),t=t.concat(function(e){const t=mi(e,e=>{const t=e[ji];return t instanceof RegExp&&(t.multiline||t.global)});return qt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ds.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}))}(n)),t=t.concat(function(e){const t=[];let n=qt(e,n=>fi(e,(e,r)=>(n.PATTERN.source!==r.PATTERN.source||Er(t,r)||r.PATTERN===hs.NA||(t.push(r),e.push(r)),e),[]));n=vi(n);const r=mi(n,e=>e.length>1);return qt(r,e=>{const t=qt(e,e=>e.name);return{message:`The same RegExp pattern ->${bi(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:ds.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}})}(n)),t=t.concat(function(e){const t=mi(e,e=>e.PATTERN.test(""));return qt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:ds.EMPTY_MATCH_PATTERN,tokenTypes:[e]}))}(n)),t}(s)),n=n.concat(function(e){const t=mi(e,e=>{if(!Gt(e,"GROUP"))return!1;const t=e.GROUP;return t!==hs.SKIPPED&&t!==hs.NA&&!Zn(t)});return qt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ds.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}))}(s)),n=n.concat(function(e,t){const n=mi(e,e=>void 0!==e.PUSH_MODE&&!Er(t,e.PUSH_MODE));return qt(n,e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:ds.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}))}(s,t)),n=n.concat(function(e){const t=[],n=fi(e,(e,t,n)=>{const r=t.PATTERN;return r===hs.NA||(Zn(r)?e.push({str:r,idx:n,tokenType:t}):ir(r)&&(i=r,void 0===Ti([".","\\","[","]","|","^","$","(",")","?","*","+","{"],e=>-1!==i.source.indexOf(e)))&&e.push({str:r.source,idx:n,tokenType:t})),e;var i},[]);return X(e,(e,r)=>{X(n,({str:n,idx:i,tokenType:s})=>{if(r<i&&function(e,t){if(ir(t)){const n=t.exec(e);return null!==n&&0===n.index}if(W(t))return t(e,0,[],{});if(Gt(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(n,e.PATTERN)){const n=`Token: ->${s.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:n,type:ds.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}})}),t}(s)),n}(e,i))}),Ne(this.lexerDefinitionErrors)){let r;as(e),this.TRACE_INIT("analyzeTokenTypes",()=>{r=function(e,t){const n=(t=oi(t,{useSticky:Fi,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;let r;n("initCharCodeToOptimizedIndexMap",()=>{!function(){if(Ne(Xi)){Xi=new Array(65536);for(let e=0;e<65536;e++)Xi[e]=e>255?255+~~(e/255):e}}()}),n("Reject Lexer.NA",()=>{r=li(e,e=>e[ji]===hs.NA)});let i,s,a,o,c,l,u,d,p,h,f,m=!1;n("Transform Patterns",()=>{m=!1,i=qt(r,e=>{const n=e[ji];if(ir(n)){const e=n.source;return 1!==e.length||"^"===e||"$"===e||"."===e||n.ignoreCase?2!==e.length||"\\"!==e[0]||Er(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?Vi(n):zi(n):e[1]:e}if(W(n))return m=!0,{exec:n};if("object"==typeof n)return m=!0,n;if("string"==typeof n){if(1===n.length)return n;{const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=new RegExp(e);return t.useSticky?Vi(r):zi(r)}}throw Error("non exhaustive match")})}),n("misc mapping",()=>{s=qt(r,e=>e.tokenTypeIdx),a=qt(r,e=>{const t=e.GROUP;if(t!==hs.SKIPPED){if(Zn(t))return t;if(qr(t))return!1;throw Error("non exhaustive match")}}),o=qt(r,e=>{const t=e.LONGER_ALT;if(t)return _(t)?qt(t,e=>di(r,e)):[di(r,t)]}),c=qt(r,e=>e.PUSH_MODE),l=qt(r,e=>Gt(e,"POP_MODE"))}),n("Line Terminator Handling",()=>{const e=Ji(t.lineTerminatorCharacters);u=qt(r,e=>!1),"onlyOffset"!==t.positionTracking&&(u=qt(r,t=>Gt(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===Gi(t,e)&&Ri(e,t.PATTERN)))}),n("Misc Mapping #2",()=>{d=qt(r,qi),p=qt(i,Ki),h=fi(r,(e,t)=>{const n=t.GROUP;return Zn(n)&&n!==hs.SKIPPED&&(e[n]=[]),e},{}),f=qt(i,(e,t)=>({pattern:i[t],longerAlt:o[t],canLineTerminator:u[t],isCustom:d[t],short:p[t],group:a[t],push:c[t],pop:l[t],tokenTypeIdx:s[t],tokenType:r[t]}))});let y=!0,g=[];return t.safeMode||n("First Char Optimization",()=>{g=fi(r,(e,n,r)=>{if("string"==typeof n.PATTERN){const t=Qi(n.PATTERN.charCodeAt(0));Hi(e,t,f[r])}else if(_(n.START_CHARS_HINT)){let t;X(n.START_CHARS_HINT,n=>{const i=Qi("string"==typeof n?n.charCodeAt(0):n);t!==i&&(t=i,Hi(e,i,f[r]))})}else if(ir(n.PATTERN))if(n.PATTERN.unicode)y=!1,t.ensureOptimizations&&Pi(`${Ii}\tUnable to analyze < ${n.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const i=Ci(n.PATTERN,t.ensureOptimizations);Ne(i)&&(y=!1),X(i,t=>{Hi(e,t,f[r])})}else t.ensureOptimizations&&Pi(`${Ii}\tTokenType: <${n.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return e},[])}),{emptyGroups:h,patternIdxToConfig:f,charCodeToPatternIdxToConfig:g,hasCustom:m,canBeOptimized:y}}(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[n]=r.patternIdxToConfig,this.charCodeToPatternIdxToConfig[n]=r.charCodeToPatternIdxToConfig,this.emptyGroups=Qn({},this.emptyGroups,r.emptyGroups),this.hasCustom=r.hasCustom||this.hasCustom,this.canModeBeOptimized[n]=r.canBeOptimized}})}),this.defaultMode=n.defaultMode,!Ne(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const e=qt(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}X(this.lexerDefinitionWarning,e=>{Ei(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Fi?(this.chopInput=Y,this.match=this.matchWithTest):(this.updateLastIndex=$r,this.match=this.matchWithExec),r&&(this.handleModes=$r),!1===this.trackStartLines&&(this.computeNewColumn=Y),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=$r),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const e=fi(this.canModeBeOptimized,(e,t,n)=>(!1===t&&e.push(n),e),[]);if(t.ensureOptimizations&&!Ne(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{xi={}}),this.TRACE_INIT("toFastProperties",()=>{In(this)})})}tokenize(e,t=this.defaultMode){if(!Ne(this.lexerDefinitionErrors)){const e=qt(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let n,r,i,s,a,o,c,l,u,d,p,h,f,m,y;const g=e,v=g.length;let b=0,S=0;const T=this.hasCustom?0:Math.floor(e.length/10),P=new Array(T),E=[];let x=this.trackStartLines?1:void 0,w=this.trackStartLines?1:void 0;const A=function(e){const t={},n=J(e);return X(n,n=>{const r=e[n];if(!_(r))throw Error("non exhaustive match");t[n]=[]}),t}(this.emptyGroups),O=this.trackStartLines,I=this.config.lineTerminatorsPattern;let C=0,k=[],N=[];const L=[],$=[];let M;function R(){return k}function j(e){const t=Qi(e),n=N[t];return void 0===n?$:n}Object.freeze($);const D=e=>{if(1===L.length&&void 0===e.tokenType.PUSH_MODE){const t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);E.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{L.pop();const e=es(L);k=this.patternIdxToConfig[e],N=this.charCodeToPatternIdxToConfig[e],C=k.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;M=N&&t?j:R}};function U(e){L.push(e),N=this.charCodeToPatternIdxToConfig[e],k=this.patternIdxToConfig[e],C=k.length,C=k.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;M=N&&t?j:R}let F;U.call(this,t);const B=this.config.recoveryEnabled;for(;b<v;){o=null;const t=g.charCodeAt(b),T=M(t),_=T.length;for(n=0;n<_;n++){F=T[n];const r=F.pattern;c=null;const u=F.short;if(!1!==u?t===u&&(o=r):!0===F.isCustom?(y=r.exec(g,b,P,A),null!==y?(o=y[0],void 0!==y.payload&&(c=y.payload)):o=null):(this.updateLastIndex(r,b),o=this.match(r,e,b)),null!==o){if(a=F.longerAlt,void 0!==a){const t=a.length;for(i=0;i<t;i++){const t=k[a[i]],n=t.pattern;if(l=null,!0===t.isCustom?(y=n.exec(g,b,P,A),null!==y?(s=y[0],void 0!==y.payload&&(l=y.payload)):s=null):(this.updateLastIndex(n,b),s=this.match(n,e,b)),s&&s.length>o.length){o=s,c=l,F=t;break}}}break}}if(null!==o){if(u=o.length,d=F.group,void 0!==d&&(p=F.tokenTypeIdx,h=this.createTokenInstance(o,b,p,F.tokenType,x,w,u),this.handlePayload(h,c),!1===d?S=this.addToken(P,S,h):A[d].push(h)),e=this.chopInput(e,u),b+=u,w=this.computeNewColumn(w,u),!0===O&&!0===F.canLineTerminator){let e,t,n=0;I.lastIndex=0;do{e=I.test(o),!0===e&&(t=I.lastIndex-1,n++)}while(!0===e);0!==n&&(x+=n,w=u-t,this.updateTokenEndLineColumnLocation(h,d,t,n,x,w,u))}this.handleModes(F,D,U,h)}else{const t=b,n=x,i=w;let s=!1===B;for(;!1===s&&b<v;)for(e=this.chopInput(e,1),b++,r=0;r<C;r++){const t=k[r],n=t.pattern,i=t.short;if(!1!==i?g.charCodeAt(b)===i&&(s=!0):!0===t.isCustom?s=null!==n.exec(g,b,P,A):(this.updateLastIndex(n,b),s=null!==n.exec(e)),!0===s)break}if(f=b-t,w=this.computeNewColumn(w,f),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(g,t,f,n,i),E.push({offset:t,line:n,column:i,length:f,message:m}),!1===B)break}}return this.hasCustom||(P.length=S),{tokens:P,groups:A,errors:E}}handleModes(e,t,n,r){if(!0===e.pop){const i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,n,r,i,s,a){let o,c;void 0!==t&&(o=n===a-1,c=o?-1:0,1===r&&!0===o||(e.endLine=i+c,e.endColumn=s-1-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(e,t,n,r,i,s){return{image:e,startOffset:t,startLine:i,startColumn:s,tokenTypeIdx:n,tokenType:r}}createFullToken(e,t,n,r,i,s,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:i,endLine:i,startColumn:s,endColumn:s+a-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(e,t,n){return e.push(n),t}addTokenUsingMemberAccess(e,t,n){return e[t]=n,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}matchWithExec(e,t){const n=e.exec(t);return null!==n?n[0]:null}}function fs(e){return ms(e)?e.LABEL:e.name}function ms(e){return Zn(e.LABEL)&&""!==e.LABEL}hs.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",hs.NA=/NOT_APPLICABLE/;const ys="categories",gs="label",vs="group",bs="push_mode",Ss="pop_mode",Ts="longer_alt",_s="line_breaks",Ps="start_chars_hint";function Es(e){return function(e){const t=e.pattern,n={};if(n.name=e.name,qr(t)||(n.PATTERN=t),Gt(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return Gt(e,ys)&&(n.CATEGORIES=e[ys]),as([n]),Gt(e,gs)&&(n.LABEL=e[gs]),Gt(e,vs)&&(n.GROUP=e[vs]),Gt(e,Ss)&&(n.POP_MODE=e[Ss]),Gt(e,bs)&&(n.PUSH_MODE=e[bs]),Gt(e,Ts)&&(n.LONGER_ALT=e[Ts]),Gt(e,_s)&&(n.LINE_BREAKS=e[_s]),Gt(e,Ps)&&(n.START_CHARS_HINT=e[Ps]),n}(e)}const xs=Es({name:"EOF",pattern:hs.NA});function ws(e,t,n,r,i,s,a,o){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function As(e,t){return ns(e,t)}as([xs]);const Os={buildMismatchTokenMessage:({expected:e,actual:t,previous:n,ruleName:r})=>`Expecting ${ms(e)?`--\x3e ${fs(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a="\nbut found: '"+bi(t).image+"'";if(r)return s+r+a;{const t=fi(e,(e,t)=>e.concat(t),[]),n=qt(t,e=>`[${qt(e,e=>fs(e)).join(", ")}]`);return s+`one of these possible Token sequences:\n${qt(n,(e,t)=>`  ${t+1}. ${e}`).join("\n")}`+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const i="Expecting: ",s="\nbut found: '"+bi(t).image+"'";return n?i+n+s:i+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${qt(e,e=>`[${qt(e,e=>fs(e)).join(",")}]`).join(" ,")}>`+s}};Object.freeze(Os);const Is={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Cs={buildDuplicateFoundError(e,t){const n=e.name,r=bi(t),i=r.idx,s=Ir(r),a=(o=r)instanceof mr?o.terminalType.name:o instanceof ar?o.nonTerminalName:"";var o;let c=`->${s}${i>0?i:""}<- ${a?`with argument: ->${a}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=qt(e.prefixPath,e=>fs(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=qt(e.prefixPath,e=>fs(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError(e){let t=Ir(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${qt(e.leftRecursionPath,e=>e.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof or?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class ks extends gr{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){X(ee(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:ro.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}const Ns=function(e,t){return Fr(qt(e,t),1)},Ls=function(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];t(r,a,n(a),e)}return r},$s=function(e,t,n,r){return H(e,function(e,i,s){t(r,e,n(e),s)}),r};var Ms=Object.prototype.hasOwnProperty;const Rs=(js=function(e,t,n){Ms.call(e,n)?e[n].push(t):Ht(e,n,[t])},function(e,t){var n=_(e)?Ls:$s,r=Ds?Ds():{};return n(e,js,zt(t),r)});var js,Ds;const Us=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:Fn(t),Cn(e,0,(t=r-t)<0?0:t)):[]};class Fs extends Cr{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=On(this.path.ruleStack).reverse(),this.occurrenceStack=On(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){Ne(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Bs extends Fs{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const e=t.concat(n),r=new cr({definition:e});this.possibleTokTypes=Zr(r),this.found=!0}}}class Zs extends Cr{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class zs extends Zs{walkMany(e,t,n){if(e.idx===this.occurrence){const e=bi(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,n)}}class Vs extends Zs{walkManySep(e,t,n){if(e.idx===this.occurrence){const e=bi(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,n)}}class qs extends Zs{walkAtLeastOne(e,t,n){if(e.idx===this.occurrence){const e=bi(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,n)}}class Ks extends Zs{walkAtLeastOneSep(e,t,n){if(e.idx===this.occurrence){const e=bi(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,n)}}function Ws(e,t,n=[]){n=On(n);let r=[],i=0;function s(s){const a=Ws(s.concat(Bn(e,i+1)),t,n);return r.concat(a)}for(;n.length<t&&i<e.length;){const t=e[i];if(t instanceof cr)return s(t.definition);if(t instanceof ar)return s(t.definition);if(t instanceof lr)r=s(t.definition);else{if(t instanceof ur)return s(t.definition.concat([new pr({definition:t.definition})]));if(t instanceof dr)return s([new cr({definition:t.definition}),new pr({definition:[new mr({terminalType:t.separator})].concat(t.definition)})]);if(t instanceof hr){const e=t.definition.concat([new pr({definition:[new mr({terminalType:t.separator})].concat(t.definition)})]);r=s(e)}else if(t instanceof pr){const e=t.definition.concat([new pr({definition:t.definition})]);r=s(e)}else{if(t instanceof fr)return X(t.definition,e=>{!1===Ne(e.definition)&&(r=s(e.definition))}),r;if(!(t instanceof mr))throw Error("non exhaustive match");n.push(t.terminalType)}}i++}return r.push({partialPath:n,suffixDef:Bn(e,i)}),r}function Gs(e,t,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const c=t.length,l=c-r-1,u=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Ne(d);){const e=d.pop();if(e===a){o&&es(d).idx<=l&&d.pop();continue}const r=e.def,p=e.idx,h=e.ruleStack,f=e.occurrenceStack;if(Ne(r))continue;const m=r[0];if(m===i){const e={idx:p,def:Bn(r),ruleStack:Us(h),occurrenceStack:Us(f)};d.push(e)}else if(m instanceof mr)if(p<c-1){const e=p+1;if(n(t[e],m.terminalType)){const t={idx:e,def:Bn(r),ruleStack:h,occurrenceStack:f};d.push(t)}}else{if(p!==c-1)throw Error("non exhaustive match");u.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:h,occurrenceStack:f}),o=!0}else if(m instanceof ar){const e=On(h);e.push(m.nonTerminalName);const t=On(f);t.push(m.idx);const n={idx:p,def:m.definition.concat(s,Bn(r)),ruleStack:e,occurrenceStack:t};d.push(n)}else if(m instanceof lr){const e={idx:p,def:Bn(r),ruleStack:h,occurrenceStack:f};d.push(e),d.push(a);const t={idx:p,def:m.definition.concat(Bn(r)),ruleStack:h,occurrenceStack:f};d.push(t)}else if(m instanceof ur){const e=new pr({definition:m.definition,idx:m.idx}),t={idx:p,def:m.definition.concat([e],Bn(r)),ruleStack:h,occurrenceStack:f};d.push(t)}else if(m instanceof dr){const e=new mr({terminalType:m.separator}),t=new pr({definition:[e].concat(m.definition),idx:m.idx}),n={idx:p,def:m.definition.concat([t],Bn(r)),ruleStack:h,occurrenceStack:f};d.push(n)}else if(m instanceof hr){const e={idx:p,def:Bn(r),ruleStack:h,occurrenceStack:f};d.push(e),d.push(a);const t=new mr({terminalType:m.separator}),n=new pr({definition:[t].concat(m.definition),idx:m.idx}),i={idx:p,def:m.definition.concat([n],Bn(r)),ruleStack:h,occurrenceStack:f};d.push(i)}else if(m instanceof pr){const e={idx:p,def:Bn(r),ruleStack:h,occurrenceStack:f};d.push(e),d.push(a);const t=new pr({definition:m.definition,idx:m.idx}),n={idx:p,def:m.definition.concat([t],Bn(r)),ruleStack:h,occurrenceStack:f};d.push(n)}else if(m instanceof fr)for(let e=m.definition.length-1;e>=0;e--){const t={idx:p,def:m.definition[e].definition.concat(Bn(r)),ruleStack:h,occurrenceStack:f};d.push(t),d.push(a)}else if(m instanceof cr)d.push({idx:p,def:m.definition.concat(Bn(r)),ruleStack:h,occurrenceStack:f});else{if(!(m instanceof or))throw Error("non exhaustive match");d.push(Js(m,p,h,f))}}return u}function Js(e,t,n,r){const i=On(n);i.push(e.name);const s=On(r);return s.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:s}}var Hs;function Ys(e){if(e instanceof lr||"Option"===e)return Hs.OPTION;if(e instanceof pr||"Repetition"===e)return Hs.REPETITION;if(e instanceof ur||"RepetitionMandatory"===e)return Hs.REPETITION_MANDATORY;if(e instanceof dr||"RepetitionMandatoryWithSeparator"===e)return Hs.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof hr||"RepetitionWithSeparator"===e)return Hs.REPETITION_WITH_SEPARATOR;if(e instanceof fr||"Alternation"===e)return Hs.ALTERNATION;throw Error("non exhaustive match")}function Xs(e){const{occurrence:t,rule:n,prodType:r,maxLookahead:i}=e,s=Ys(r);return s===Hs.ALTERNATION?oa(t,n,i):ca(t,n,s,i)}function Qs(e,t,n,r){const i=e.length,s=Ar(e,e=>Ar(e,e=>1===e.length));if(t)return function(t){const r=qt(t,e=>e.GATE);for(let t=0;t<i;t++){const i=e[t],s=i.length,a=r[t];if(void 0===a||!1!==a.call(this))e:for(let e=0;e<s;e++){const r=i[e],s=r.length;for(let e=0;e<s;e++){const t=this.LA(e+1);if(!1===n(t,r[e]))continue e}return t}}};if(s&&!r){const t=qt(e,e=>Br(e)),n=fi(t,(e,t,n)=>(X(t,t=>{Gt(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),X(t.categoryMatches,t=>{Gt(e,t)||(e[t]=n)})}),e),{});return function(){const e=this.LA(1);return n[e.tokenTypeIdx]}}return function(){for(let t=0;t<i;t++){const r=e[t],i=r.length;e:for(let e=0;e<i;e++){const i=r[e],s=i.length;for(let e=0;e<s;e++){const t=this.LA(e+1);if(!1===n(t,i[e]))continue e}return t}}}}function ea(e,t,n){const r=Ar(e,e=>1===e.length),i=e.length;if(r&&!n){const t=Br(e);if(1===t.length&&Ne(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=fi(t,(e,t,n)=>(e[t.tokenTypeIdx]=!0,X(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let n=0;n<i;n++){const r=e[n],i=r.length;for(let e=0;e<i;e++){const n=this.LA(e+1);if(!1===t(n,r[e]))continue e}return!0}return!1}}!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(Hs||(Hs={}));class ta extends Cr{constructor(e,t,n){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}walkOption(e,t,n){this.checkIsTarget(e,Hs.OPTION,t,n)||super.walkOption(e,t,n)}walkAtLeastOne(e,t,n){this.checkIsTarget(e,Hs.REPETITION_MANDATORY,t,n)||super.walkOption(e,t,n)}walkAtLeastOneSep(e,t,n){this.checkIsTarget(e,Hs.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}walkMany(e,t,n){this.checkIsTarget(e,Hs.REPETITION,t,n)||super.walkOption(e,t,n)}walkManySep(e,t,n){this.checkIsTarget(e,Hs.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}}class na extends gr{constructor(e,t,n){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Hs.OPTION)}visitRepetition(e){this.checkIsTarget(e,Hs.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Hs.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Hs.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Hs.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Hs.ALTERNATION)}}function ra(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function ia(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n],i=[];for(let e=0;e<t.length;e++){const n=t[e];i.push(n+"_"+r.tokenTypeIdx);for(let e=0;e<r.categoryMatches.length;e++){const t="_"+r.categoryMatches[e];i.push(n+t)}}t=i}return t}function sa(e,t,n){for(let r=0;r<e.length;r++){if(r===n)continue;const i=e[r];for(let e=0;e<t.length;e++)if(!0===i[t[e]])return!1}return!0}function aa(e,t){const n=qt(e,e=>Ws([e],1)),r=ra(n.length),i=qt(n,e=>{const t={};return X(e,e=>{const n=ia(e.partialPath);X(n,e=>{t[e]=!0})}),t});let s=n;for(let e=1;e<=t;e++){const n=s;s=ra(n.length);for(let a=0;a<n.length;a++){const o=n[a];for(let n=0;n<o.length;n++){const c=o[n].partialPath,l=o[n].suffixDef,u=ia(c);if(sa(i,u,a)||Ne(l)||c.length===t){const e=r[a];if(!1===la(e,c)){e.push(c);for(let e=0;e<u.length;e++){const t=u[e];i[a][t]=!0}}}else{const t=Ws(l,e+1,c);s[a]=s[a].concat(t),X(t,e=>{const t=ia(e.partialPath);X(t,e=>{i[a][e]=!0})})}}}}return r}function oa(e,t,n,r){const i=new na(e,Hs.ALTERNATION,r);return t.accept(i),aa(i.result,n)}function ca(e,t,n,r){const i=new na(e,n);t.accept(i);const s=i.result,a=new ta(t,e,n).startWalking();return aa([new cr({definition:s}),new cr({definition:a})],r)}function la(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length===t.length){for(let e=0;e<r.length;e++){const n=t[e],i=r[e];if(!1==(n===i||void 0!==i.categoryMatchesMap[n.tokenTypeIdx]))continue e}return!0}}return!1}function ua(e){return Ar(e,e=>Ar(e,e=>Ar(e,e=>Ne(e.categoryMatches))))}function da(e){return`${Ir(e)}_#_${e.idx}_#_${pa(e)}`}function pa(e){return e instanceof mr?e.terminalType.name:e instanceof ar?e.nonTerminalName:""}class ha extends gr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function fa(e,t,n,r=[]){const i=[],s=ma(t.definition);if(Ne(s))return[];{const t=e.name;Er(s,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:ro.LEFT_RECURSION,ruleName:t});const a=gi(s,r.concat([e])),o=Ns(a,t=>{const i=On(r);return i.push(t),fa(e,t,n,i)});return i.concat(o)}}function ma(e){let t=[];if(Ne(e))return t;const n=bi(e);if(n instanceof ar)t.push(n.referencedRule);else if(n instanceof cr||n instanceof lr||n instanceof ur||n instanceof dr||n instanceof hr||n instanceof pr)t=t.concat(ma(n.definition));else if(n instanceof fr)t=Br(qt(n.definition,e=>ma(e.definition)));else if(!(n instanceof mr))throw Error("non exhaustive match");const r=Or(n),i=e.length>1;if(r&&i){const n=Bn(e);return t.concat(ma(n))}return t}class ya extends gr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}class ga extends gr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}const va="MismatchedTokenException",ba="NoViableAltException",Sa="EarlyExitException",Ta="NotAllInputParsedException",_a=[va,ba,Sa,Ta];function Pa(e){return Er(_a,e.name)}Object.freeze(_a);class Ea extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class xa extends Ea{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=va}}class wa extends Ea{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=ba}}class Aa extends Ea{constructor(e,t){super(e,t),this.name=Ta}}class Oa extends Ea{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=Sa}}const Ia={},Ca="InRuleRecoveryException";class ka extends Error{constructor(e){super(e),this.name=Ca}}function Na(e,t,n,r,i,s,a){const o=this.getKeyForAutomaticLookahead(r,i);let c=this.firstAfterRepMap[o];if(void 0===c){const e=this.getCurrRuleFullName();c=new s(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[o]=c}let l=c.token,u=c.occurrence;const d=c.isEndOfRule;1===this.RULE_STACK.length&&d&&void 0===l&&(l=xs,u=1),void 0!==l&&void 0!==u&&this.shouldInRepetitionRecoveryBeTried(l,u,a)&&this.tryInRepetitionRecovery(e,t,n,l)}const La=1024,$a=1280,Ma=1536;function Ra(e,t,n){return n|t|e}class ja{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:to.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if(Ne(t)){const n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...n,...r,...i]}return t}validateNoLeftRecursion(e){return Ns(e,e=>fa(e,e,Cs))}validateEmptyOrAlternatives(e){return Ns(e,e=>function(e,t){const n=new ya;e.accept(n);const r=n.alternations;return Ns(r,n=>{const r=Us(n.definition);return Ns(r,(r,i)=>{const s=Gs([r],[],ns,1);return Ne(s)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:i}),type:ro.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:i+1}]:[]})})}(e,Cs))}validateAmbiguousAlternationAlternatives(e,t){return Ns(e,e=>function(e,t,n){const r=new ya;e.accept(r);let i=r.alternations;i=li(i,e=>!0===e.ignoreAmbiguities);const s=Ns(i,r=>{const i=r.idx,s=r.maxLookahead||t,a=oa(i,e,s,r),o=function(e,t,n,r){const i=[],s=fi(e,(n,r,s)=>(!0===t.definition[s].ignoreAmbiguities||X(r,r=>{const a=[s];X(e,(e,n)=>{s!==n&&la(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)}),a.length>1&&!la(i,r)&&(i.push(r),n.push({alts:a,path:r}))}),n),[]);return qt(s,e=>{const i=qt(e.alts,e=>e+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:ro.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}})}(a,r,e,n),c=function(e,t,n,r){const i=fi(e,(e,t,n)=>{const r=qt(t,e=>({idx:n,path:e}));return e.concat(r)},[]);return vi(Ns(i,e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];const s=e.idx,a=e.path,o=mi(i,e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<s&&(n=e.path,r=a,n.length<r.length&&Ar(n,(e,t)=>{const n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]}));var n,r});return qt(o,e=>{const i=[e.idx+1,s+1],a=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:ro.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:a,alternatives:i}})}))}(a,r,e,n);return o.concat(c)});return s}(e,t,Cs))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,n){const r=[];return X(e,e=>{const i=new ga;e.accept(i);const s=i.allProductions;X(s,i=>{const s=Ys(i),a=i.maxLookahead||t,o=ca(i.idx,e,s,a)[0];if(Ne(Br(o))){const t=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:t,type:ro.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),r}(e,t,Cs)}buildLookaheadForAlternation(e){return function(e,t,n,r,i,s){const a=oa(e,t,n);return s(a,r,ua(a)?rs:ns,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Qs)}buildLookaheadForOptional(e){return function(e,t,n,r,i,s){const a=ca(e,t,i,n),o=ua(a)?rs:ns;return s(a[0],o,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Ys(e.prodType),ea)}}const Da=new class extends gr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function Ua(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset)}function Fa(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Ba(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function Za(e,t){const n=J(e),r=n.length;for(let i=0;i<r;i++){const r=e[n[i]],s=r.length;for(let e=0;e<s;e++){const n=r[e];void 0===n.tokenTypeIdx&&this[n.name](n.children,t)}}}var za;!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(za||(za={}));const Va={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Va);const qa=!0,Ka=Math.pow(2,8)-1,Wa=Es({name:"RECORDING_PHASE_TOKEN",pattern:hs.NA});as([Wa]);const Ga=ws(Wa,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ga);const Ja={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Ha(e,t,n,r=!1){Qa(n);const i=es(this.recordingProdStack),s=W(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),Gt(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),Va}function Ya(e,t){Qa(t);const n=es(this.recordingProdStack),r=!1===_(e),i=!1===r?e:e.DEF,s=new fr({definition:[],idx:t,ignoreAmbiguities:r&&!0===e.IGNORE_AMBIGUITIES});Gt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);const a=br(i,e=>W(e.GATE));return s.hasPredicates=a,n.definition.push(s),X(i,e=>{const t=new cr({definition:[]});s.definition.push(t),Gt(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Gt(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),Va}function Xa(e){return 0===e?"":`${e}`}function Qa(e){if(e<0||e>Ka){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${Ka+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const eo=ws(xs,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(eo);const to=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Os,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),no=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ro,io,so;!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(ro||(ro={}));class ao{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{In(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),X(this.definedRulesNames,e=>{const t=this[e].originalGrammarAction;let n;this.TRACE_INIT(`${e} Rule`,()=>{n=this.topLevelRuleRecord(e,t)}),this.gastProductionsCache[e]=n})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=function(e){const t=oi(e,{errMsgProvider:Is}),n={};return X(e.rules,e=>{n[e.name]=e}),function(e,t){const n=new ks(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}({rules:ee(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Ne(n)&&!1===this.skipValidations){const n=(e={rules:ee(this.gastProductionsCache),tokenTypes:ee(this.tokensMap),errMsgProvider:Cs,grammarName:t},function(e,t,n,r){const i=Ns(e,e=>function(e,t){const n=new ha;e.accept(n);const r=n.allProductions,i=Rs(r,da),s=nr(i,e=>e.length>1);return qt(ee(s),n=>{const r=bi(n),i=t.buildDuplicateFoundError(e,n),s=Ir(r),a={message:i,type:ro.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:s,occurrence:r.idx},o=pa(r);return o&&(a.parameter=o),a})}(e,n)),s=function(e,t,n){const r=[],i=qt(t,e=>e.name);return X(e,e=>{const t=e.name;if(Er(i,t)){const i=n.buildNamespaceConflictError(e);r.push({message:i,type:ro.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),r}(e,t,n),a=Ns(e,e=>function(e,t){const n=new ya;e.accept(n);const r=n.alternations;return Ns(r,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:ro.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[])}(e,n)),o=Ns(e,t=>function(e,t,n,r){const i=[],s=fi(t,(t,n)=>n.name===e.name?t+1:t,0);if(s>1){const t=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:t,type:ro.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,r,n));return i.concat(s,a,o)}((e=oi(e,{errMsgProvider:Cs})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)),r=function(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return qt(t,e=>Object.assign({type:ro.CUSTOM_LOOKAHEAD_VALIDATION},e))}({lookaheadStrategy:this.lookaheadStrategy,rules:ee(this.gastProductionsCache),tokenTypes:ee(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(n,r)}var e}),Ne(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const e=function(e){const t={};return X(e,e=>{const n=new Vr(e).startWalking();Qn(t,n)}),t}(ee(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:ee(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ee(this.gastProductionsCache))})),!ao.DEFER_DEFINITION_ERRORS_HANDLING&&!Ne(this.definitionErrors))throw e=qt(this.definitionErrors,e=>e.message),new Error(`Parser Definition Errors detected:\n ${e.join("\n-------------------------------\n")}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),Gt(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Gt(t,"skipValidations")?t.skipValidations:to.skipValidations}}ao.DEFER_DEFINITION_ERRORS_HANDLING=!1,io=ao,so=[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Gt(e,"recoveryEnabled")?e.recoveryEnabled:to.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Na)}getTokenToInsert(e){const t=ws(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,n,r){const i=this.findReSyncTokenType(),s=this.exportLexerState(),a=[];let o=!1;const c=this.LA(1);let l=this.LA(1);const u=()=>{const e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:this.getCurrRuleFullName()}),n=new xa(t,c,this.LA(0));n.resyncedTokens=Us(a),this.SAVE_ERROR(n)};for(;!o;){if(this.tokenMatcher(l,r))return void u();if(n.call(this))return u(),void e.apply(this,t);this.tokenMatcher(l,i)?o=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,a))}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,t,n){return!1!==n&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){const n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new ka("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Ne(t))return!1;const n=this.LA(1);return void 0!==Ti(t,e=>this.tokenMatcher(n,e))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Er(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=Ti(e,e=>As(t,e));if(void 0!==r)return r;t=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return Ia;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return qt(e,(n,r)=>0===r?Ia:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=qt(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e));return Br(e)}getFollowSetFromFollowKey(e){if(e===Ia)return[xs];const t=e.ruleName+e.idxInCallingRule+zr+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,xs)||t.push(e),t}reSyncTo(e){const t=[];let n=this.LA(1);for(;!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Us(t)}attemptInRepetitionRecovery(e,t,n,r,i,s,a){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:On(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return qt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},class{initLooksAhead(e){this.dynamicTokensEnabled=Gt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:to.dynamicTokensEnabled,this.maxLookahead=Gt(e,"maxLookahead")?e.maxLookahead:to.maxLookahead,this.lookaheadStrategy=Gt(e,"lookaheadStrategy")?e.lookaheadStrategy:new ja({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){X(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{const{alternation:t,repetition:n,option:r,repetitionMandatory:i,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:a}=function(e){Da.reset(),e.accept(Da);const t=Da.dslMethods;return Da.reset(),t}(e);X(t,t=>{const n=0===t.idx?"":t.idx;this.TRACE_INIT(`${Ir(t)}${n}`,()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),r=Ra(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(r,n)})}),X(n,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,Ir(t))}),X(r,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,Ir(t))}),X(i,t=>{this.computeLookaheadFunc(e,t.idx,La,"RepetitionMandatory",t.maxLookahead,Ir(t))}),X(s,t=>{this.computeLookaheadFunc(e,t.idx,Ma,"RepetitionMandatoryWithSeparator",t.maxLookahead,Ir(t))}),X(a,t=>{this.computeLookaheadFunc(e,t.idx,$a,"RepetitionWithSeparator",t.maxLookahead,Ir(t))})})})}computeLookaheadFunc(e,t,n,r,i,s){this.TRACE_INIT(`${s}${0===t?"":t}`,()=>{const s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),a=Ra(this.fullRuleNameToShort[e.name],n,t);this.setLaFuncCache(a,s)})}getKeyForAutomaticLookahead(e,t){return Ra(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Gt(e,"nodeLocationTracking")?e.nodeLocationTracking:to.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Fa,this.setNodeLocationFromNode=Fa,this.cstPostRule=$r,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=$r,this.setNodeLocationFromNode=$r,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ua,this.setNodeLocationFromNode=Ua,this.cstPostRule=$r,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=$r,this.setNodeLocationFromNode=$r,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=$r,this.setNodeLocationFromNode=$r,this.cstPostRule=$r,this.setInitialNodeLocation=$r}else this.cstInvocationStateUpdate=$r,this.cstFinallyStateUpdate=$r,this.cstPostTerminal=$r,this.cstPostNonTerminal=$r,this.cstPostRule=$r}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?n.endOffset=t.endOffset:n.startOffset=NaN}cstPostTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];var r,i,s;i=t,s=e,void 0===(r=n).children[s]?r.children[s]=[i]:r.children[s].push(i),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(qr(this.baseCstVisitorConstructor)){const e=function(e,t){const n=function(){};Ba(n,e+"BaseSemantics");const r={visit:function(e,t){if(_(e)&&(e=e[0]),!qr(e))return this[e.name](e.children,t)},validateVisitor:function(){const e=function(e,t){const n=function(e,t){const n=mi(t,t=>!1===W(e[t])),r=qt(n,t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:za.MISSING_METHOD,methodName:t}));return vi(r)}(e,t);return n}(this,t);if(!Ne(e)){const t=qt(e,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}(this.className,J(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(qr(this.baseCstVisitorWithDefaultsConstructor)){const e=function(e,t,n){const r=function(){};Ba(r,e+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return X(t,e=>{i[e]=Za}),(r.prototype=i).constructor=r,r}(this.className,J(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):eo}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?eo:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=rs,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Gt(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(_(e)){if(Ne(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(_(e))this.tokensMap=fi(e,(e,t)=>(e[t.name]=t,e),{});else if(Gt(e,"modes")&&Ar(Br(ee(e.modes)),us)){const t=Br(ee(e.modes)),n=jr(t);this.tokensMap=fi(n,(e,t)=>(e[t.name]=t,e),{})}else{if(!K(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=On(e)}this.tokensMap.EOF=xs;const n=Gt(e,"modes")?Br(ee(e.modes)):ee(e),r=Ar(n,e=>Ne(e.categoryMatches));this.tokenMatcher=r?rs:ns,as(ee(this.tokensMap))}defineRule(e,t,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=Gt(n,"resyncEnabled")?n.resyncEnabled:no.resyncEnabled,i=Gt(n,"recoveryValueFunc")?n.recoveryValueFunc:no.recoveryValueFunc,s=this.ruleShortNameIdx<<12;let a;return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s,a=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),t.apply(this,n);const r=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(r),r}catch(e){return this.invokeRuleCatch(e,r,i)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),t.apply(this,n)}catch(e){return this.invokeRuleCatch(e,r,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,n){const r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Pa(e)){const t=e;if(i){const r=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(r)){if(t.resyncedTokens=this.reSyncTo(r),this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return n(e)}if(this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(r)return this.moveToTerminatedState(),n(e);throw t}throw e}optionInternal(e,t){const n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}optionInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof e){r=e.DEF;const t=e.GATE;if(void 0!==t){const e=i;i=()=>t.call(this)&&e.call(this)}}else r=e;if(!0===i.call(this))return r.call(this)}atLeastOneInternal(e,t){const n=this.getKeyForAutomaticLookahead(La,e);return this.atLeastOneInternalLogic(e,t,n)}atLeastOneInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,Hs.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(r);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(r)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,La,e,qs)}atLeastOneSepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Ma,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}atLeastOneSepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,Hs.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,Ks],t,Ma,e,Ks)}}manyInternal(e,t){const n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}manyInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;let s=!0;for(;!0===i.call(this)&&!0===s;)s=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,zs,s)}manySepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead($a,e);this.manySepFirstInternalLogic(e,t,n)}manySepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,Vs],t,$a,e,Vs)}}repetitionSepSecondInternal(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,Ma,e,i)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const n=this.getKeyForAutomaticLookahead(256,t),r=_(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Aa(t,e))}}subruleInternal(e,t,n){let r;try{const i=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(t){throw this.subruleInternalError(t,n,e.ruleName)}}subruleInternalError(e,t,n){throw Pa(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,t,n){let r;try{const t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),r=t):this.consumeInternalError(e,t,n)}catch(n){r=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}consumeInternalError(e,t,n){let r;const i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new xa(r,t,i))}consumeInternalRecovery(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(e){throw e.name===Ca?n:e}}}saveRecogState(){const e=this.errors,t=On(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),xs)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,n){return this.consumeInternal(t,e,n)}subrule(e,t,n){return this.subruleInternal(t,e,n)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,n=no){if(Er(this.definedRulesNames,e)){const t={message:Cs.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ro.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);const r=this.defineRule(e,t,n);return this[e]=r,r}OVERRIDE_RULE(e,t,n=no){const r=function(e,t,n){const r=[];let i;return Er(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:ro.INVALID_RULE_OVERRIDE,ruleName:e})),r}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const i=this.defineRule(e,t,n);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(Pa(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return e=ee(this.gastProductionsCache),qt(e,yr);var e}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Gt(e,"errorMessageProvider")?e.errorMessageProvider:to.errorMessageProvider}SAVE_ERROR(e){if(Pa(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:On(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return On(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,n){const r=this.getCurrRuleFullName(),i=ca(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],s=[];for(let e=1;e<=this.maxLookahead;e++)s.push(this.LA(e));const a=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:s,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Oa(a,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const n=this.getCurrRuleFullName(),r=oa(e,this.getGAstProductions()[n],this.maxLookahead),i=[];for(let e=1;e<=this.maxLookahead;e++)i.push(this.LA(e));const s=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new wa(a,this.LA(1),s))}},class{initContentAssist(){}computeContentAssist(e,t){const n=this.gastProductionsCache[e];if(qr(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Gs([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=bi(e.ruleStack),n=this.getGAstProductions()[t];return new Bs(n,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(t,n){return this.consumeInternalRecord(t,e,n)},this[`SUBRULE${t}`]=function(t,n){return this.subruleInternalRecord(t,e,n)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},this.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const n=t>0?t:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return eo}topLevelRuleRecord(e,t){try{const n=new or({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(t){throw e}throw e}}optionInternalRecord(e,t){return Ha.call(this,lr,e,t)}atLeastOneInternalRecord(e,t){Ha.call(this,ur,t,e)}atLeastOneSepFirstInternalRecord(e,t){Ha.call(this,dr,t,e,qa)}manyInternalRecord(e,t){Ha.call(this,pr,t,e)}manySepFirstInternalRecord(e,t){Ha.call(this,hr,t,e,qa)}orInternalRecord(e,t){return Ya.call(this,e,t)}subruleInternalRecord(e,t,n){if(Qa(t),!e||!1===Gt(e,"ruleName")){const n=new Error(`<SUBRULE${Xa(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=es(this.recordingProdStack),i=e.ruleName,s=new ar({idx:t,nonTerminalName:i,label:null==n?void 0:n.LABEL,referencedRule:void 0});return r.definition.push(s),this.outputCst?Ja:Va}consumeInternalRecord(e,t,n){if(Qa(t),!cs(e)){const n=new Error(`<CONSUME${Xa(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=es(this.recordingProdStack),i=new mr({idx:t,terminalType:e,label:null==n?void 0:n.LABEL});return r.definition.push(i),Ga}},class{initPerformanceTracer(e){if(Gt(e,"traceInitPerf")){const t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=to.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${e}>`);const{time:r,value:i}=ts(t),s=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()}}],so.forEach(e=>{const t=e.prototype;Object.getOwnPropertyNames(t).forEach(n=>{if("constructor"===n)return;const r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(io.prototype,n,r):io.prototype[n]=e.prototype[n]})});class oo extends ao{constructor(e,t=to){const n=On(t);n.outputCst=!0,super(e,n)}}var co=n(84058);const lo=(e,t)=>{for(let n=0;n<t.length;n++){const r=t[n],i=r[0],s=r[1];for(let t=i;t<=s;t++)e.add(t)}},uo=new Set([181,257,259,261,263,265,267,269,271,273,275,277,279,281,283,285,287,289,291,293,295,297,299,301,303,305,307,309,314,316,318,320,322,324,326,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,378,380,387,389,392,402,405,414,417,419,421,424,429,432,436,438,454,457,460,462,464,466,468,470,472,474,479,481,483,485,487,489,491,493,499,501,505,507,509,511,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,545,547,549,551,553,555,557,559,561,572,578,583,585,587,589,881,883,887,912,985,987,989,991,993,995,997,999,1001,1003,1005,1013,1016,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1163,1165,1167,1169,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1218,1220,1222,1224,1226,1228,1233,1235,1237,1239,1241,1243,1245,1247,1249,1251,1253,1255,1257,1259,1261,1263,1265,1267,1269,1271,1273,1275,1277,1279,1281,1283,1285,1287,1289,1291,1293,1295,1297,1299,1301,1303,1305,1307,1309,1311,1313,1315,1317,1319,1321,1323,1325,1327,7681,7683,7685,7687,7689,7691,7693,7695,7697,7699,7701,7703,7705,7707,7709,7711,7713,7715,7717,7719,7721,7723,7725,7727,7729,7731,7733,7735,7737,7739,7741,7743,7745,7747,7749,7751,7753,7755,7757,7759,7761,7763,7765,7767,7769,7771,7773,7775,7777,7779,7781,7783,7785,7787,7789,7791,7793,7795,7797,7799,7801,7803,7805,7807,7809,7811,7813,7815,7817,7819,7821,7823,7825,7827,7839,7841,7843,7845,7847,7849,7851,7853,7855,7857,7859,7861,7863,7865,7867,7869,7871,7873,7875,7877,7879,7881,7883,7885,7887,7889,7891,7893,7895,7897,7899,7901,7903,7905,7907,7909,7911,7913,7915,7917,7919,7921,7923,7925,7927,7929,7931,7933,8126,8458,8467,8495,8500,8505,8526,8580,11361,11368,11370,11372,11377,11393,11395,11397,11399,11401,11403,11405,11407,11409,11411,11413,11415,11417,11419,11421,11423,11425,11427,11429,11431,11433,11435,11437,11439,11441,11443,11445,11447,11449,11451,11453,11455,11457,11459,11461,11463,11465,11467,11469,11471,11473,11475,11477,11479,11481,11483,11485,11487,11489,11500,11502,11507,11559,11565,42561,42563,42565,42567,42569,42571,42573,42575,42577,42579,42581,42583,42585,42587,42589,42591,42593,42595,42597,42599,42601,42603,42605,42625,42627,42629,42631,42633,42635,42637,42639,42641,42643,42645,42647,42649,42651,42787,42789,42791,42793,42795,42797,42803,42805,42807,42809,42811,42813,42815,42817,42819,42821,42823,42825,42827,42829,42831,42833,42835,42837,42839,42841,42843,42845,42847,42849,42851,42853,42855,42857,42859,42861,42863,42874,42876,42879,42881,42883,42885,42887,42892,42894,42897,42903,42905,42907,42909,42911,42913,42915,42917,42919,42921,42927,42933,42935,42937,42939,42941,42943,42947,43002,119995,120779,748,750,884,890,1369,1600,2042,2074,2084,2088,2417,3654,3782,4348,6103,6211,6823,7544,8305,8319,11631,11823,12293,12347,40981,42508,42623,42864,42888,43471,43494,43632,43741,65392,94179,125259,170,186,443,660,1749,1791,1808,1969,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3840,4159,4193,4238,4696,4800,6108,6314,7418,12294,12348,12447,12543,13312,19968,42606,42895,42999,43259,43642,43697,43712,43714,43762,44032,64285,64318,67592,67644,68096,69415,69956,70006,70106,70108,70280,70461,70480,70751,70855,71236,71352,71935,72161,72163,72192,72250,72272,72349,72768,73030,73112,94032,94208,123214,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,131072,173824,177984,178208,183984,453,456,459,498,8124,8140,8188,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,313,315,317,319,321,323,325,327,330,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,388,418,420,425,428,437,444,452,455,458,461,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,497,500,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,880,882,886,895,902,908,975,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1012,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,4295,4301,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8450,8455,8469,8484,8486,8488,8517,8579,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,119964,119970,120134,120778,12295,66369,66378,36,1423,1547,2555,2801,3065,3647,6107,43064,65020,65129,65284,123647,126128,95,8276,65343]);lo(uo,[[97,122],[223,246],[248,255],[311,312],[328,329],[382,384],[396,397],[409,411],[426,427],[441,442],[445,447],[476,477],[495,496],[563,569],[575,576],[591,659],[661,687],[891,893],[940,974],[976,977],[981,983],[1007,1011],[1019,1020],[1072,1119],[1230,1231],[1376,1416],[4304,4346],[4349,4351],[5112,5117],[7296,7304],[7424,7467],[7531,7543],[7545,7578],[7829,7837],[7935,7943],[7952,7957],[7968,7975],[7984,7991],[8e3,8005],[8016,8023],[8032,8039],[8048,8061],[8064,8071],[8080,8087],[8096,8103],[8112,8116],[8118,8119],[8130,8132],[8134,8135],[8144,8147],[8150,8151],[8160,8167],[8178,8180],[8182,8183],[8462,8463],[8508,8509],[8518,8521],[11312,11358],[11365,11366],[11379,11380],[11382,11387],[11491,11492],[11520,11557],[42799,42801],[42865,42872],[42899,42901],[43824,43866],[43872,43879],[43888,43967],[64256,64262],[64275,64279],[65345,65370],[66600,66639],[66776,66811],[68800,68850],[71872,71903],[93792,93823],[119834,119859],[119886,119892],[119894,119911],[119938,119963],[119990,119993],[119997,120003],[120005,120015],[120042,120067],[120094,120119],[120146,120171],[120198,120223],[120250,120275],[120302,120327],[120354,120379],[120406,120431],[120458,120485],[120514,120538],[120540,120545],[120572,120596],[120598,120603],[120630,120654],[120656,120661],[120688,120712],[120714,120719],[120746,120770],[120772,120777],[125218,125251],[688,705],[710,721],[736,740],[1765,1766],[2036,2037],[7288,7293],[7468,7530],[7579,7615],[8336,8348],[11388,11389],[12337,12341],[12445,12446],[12540,12542],[42232,42237],[42652,42653],[42775,42783],[43e3,43001],[43763,43764],[43868,43871],[65438,65439],[92992,92995],[94099,94111],[94176,94177],[123191,123197],[13313,19893],[19969,40943],[44033,55203],[94209,100343],[131073,173782],[173825,177972],[177985,178205],[178209,183969],[183985,191456],[448,451],[1488,1514],[1519,1522],[1568,1599],[1601,1610],[1646,1647],[1649,1747],[1774,1775],[1786,1788],[1810,1839],[1869,1957],[1994,2026],[2048,2069],[2112,2136],[2144,2154],[2208,2228],[2230,2237],[2308,2361],[2392,2401],[2418,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2486,2489],[2524,2525],[2527,2529],[2544,2545],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2784,2785],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2908,2909],[2911,2913],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3160,3162],[3168,3169],[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3296,3297],[3313,3314],[3333,3340],[3342,3344],[3346,3386],[3412,3414],[3423,3425],[3450,3455],[3461,3478],[3482,3505],[3507,3515],[3520,3526],[3585,3632],[3634,3635],[3648,3653],[3713,3714],[3718,3722],[3724,3747],[3751,3760],[3762,3763],[3776,3780],[3804,3807],[3904,3911],[3913,3948],[3976,3980],[4096,4138],[4176,4181],[4186,4189],[4197,4198],[4206,4208],[4213,4225],[4352,4680],[4682,4685],[4688,4694],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5873,5880],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6176,6210],[6212,6264],[6272,6276],[6279,6312],[6320,6389],[6400,6430],[6480,6509],[6512,6516],[6528,6571],[6576,6601],[6656,6678],[6688,6740],[6917,6963],[6981,6987],[7043,7072],[7086,7087],[7098,7141],[7168,7203],[7245,7247],[7258,7287],[7401,7404],[7406,7411],[7413,7414],[8501,8504],[11568,11623],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[12353,12438],[12449,12538],[12549,12591],[12593,12686],[12704,12730],[12784,12799],[40960,40980],[40982,42124],[42192,42231],[42240,42507],[42512,42527],[42538,42539],[42656,42725],[43003,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],[43261,43262],[43274,43301],[43312,43334],[43360,43388],[43396,43442],[43488,43492],[43495,43503],[43514,43518],[43520,43560],[43584,43586],[43588,43595],[43616,43631],[43633,43638],[43646,43695],[43701,43702],[43705,43709],[43739,43740],[43744,43754],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43968,44002],[55216,55238],[55243,55291],[63744,64109],[64112,64217],[64287,64296],[64298,64310],[64312,64316],[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65382,65391],[65393,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[66176,66204],[66208,66256],[66304,66335],[66349,66368],[66370,66377],[66384,66421],[66432,66461],[66464,66499],[66504,66511],[66640,66717],[66816,66855],[66864,66915],[67072,67382],[67392,67413],[67424,67431],[67584,67589],[67594,67637],[67639,67640],[67647,67669],[67680,67702],[67712,67742],[67808,67826],[67828,67829],[67840,67861],[67872,67897],[67968,68023],[68030,68031],[68112,68115],[68117,68119],[68121,68149],[68192,68220],[68224,68252],[68288,68295],[68297,68324],[68352,68405],[68416,68437],[68448,68466],[68480,68497],[68608,68680],[68864,68899],[69376,69404],[69424,69445],[69600,69622],[69635,69687],[69763,69807],[69840,69864],[69891,69926],[69968,70002],[70019,70066],[70081,70084],[70144,70161],[70163,70187],[70272,70278],[70282,70285],[70287,70301],[70303,70312],[70320,70366],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70493,70497],[70656,70708],[70727,70730],[70784,70831],[70852,70853],[71040,71086],[71128,71131],[71168,71215],[71296,71338],[71424,71450],[71680,71723],[72096,72103],[72106,72144],[72203,72242],[72284,72329],[72384,72440],[72704,72712],[72714,72750],[72818,72847],[72960,72966],[72968,72969],[72971,73008],[73056,73061],[73063,73064],[73066,73097],[73440,73458],[73728,74649],[74880,75075],[77824,78894],[82944,83526],[92160,92728],[92736,92766],[92880,92909],[92928,92975],[93027,93047],[93053,93071],[93952,94026],[100352,101106],[110592,110878],[110928,110930],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[123136,123180],[123584,123627],[124928,125124],[126464,126467],[126469,126495],[126497,126498],[126505,126514],[126516,126519],[126541,126543],[126545,126546],[126561,126562],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[194560,195101],[8072,8079],[8088,8095],[8104,8111],[65,90],[192,214],[216,222],[376,377],[385,386],[390,391],[393,395],[398,401],[403,404],[406,408],[412,413],[415,416],[422,423],[430,431],[433,435],[439,440],[502,504],[570,571],[573,574],[579,582],[904,906],[910,911],[913,929],[931,939],[978,980],[1017,1018],[1021,1071],[1216,1217],[1329,1366],[4256,4293],[5024,5109],[7312,7354],[7357,7359],[7944,7951],[7960,7965],[7976,7983],[7992,7999],[8008,8013],[8040,8047],[8120,8123],[8136,8139],[8152,8155],[8168,8172],[8184,8187],[8459,8461],[8464,8466],[8473,8477],[8490,8493],[8496,8499],[8510,8511],[11264,11310],[11362,11364],[11373,11376],[11390,11392],[42877,42878],[42922,42926],[42928,42932],[42948,42950],[65313,65338],[66560,66599],[66736,66771],[68736,68786],[71840,71871],[93760,93791],[119808,119833],[119860,119885],[119912,119937],[119966,119967],[119973,119974],[119977,119980],[119982,119989],[120016,120041],[120068,120069],[120071,120074],[120077,120084],[120086,120092],[120120,120121],[120123,120126],[120128,120132],[120138,120144],[120172,120197],[120224,120249],[120276,120301],[120328,120353],[120380,120405],[120432,120457],[120488,120512],[120546,120570],[120604,120628],[120662,120686],[120720,120744],[125184,125217],[5870,5872],[8544,8578],[8581,8584],[12321,12329],[12344,12346],[42726,42735],[65856,65908],[66513,66517],[74752,74862],[162,165],[2046,2047],[2546,2547],[8352,8383],[65504,65505],[65509,65510],[73693,73696],[8255,8256],[65075,65076],[65101,65103]]);const po=new Set([1471,1479,1648,1809,2045,2362,2364,2381,2433,2492,2509,2558,2620,2641,2677,2748,2765,2817,2876,2879,2893,2902,2946,3008,3021,3072,3076,3201,3260,3263,3270,3405,3530,3542,3633,3761,3893,3895,3897,4038,4226,4237,4253,6086,6109,6313,6450,6683,6742,6752,6754,6783,6964,6972,6978,7142,7149,7405,7412,8417,11647,42607,43010,43014,43019,43263,43443,43493,43587,43596,43644,43696,43713,43766,44005,44008,44013,64286,66045,66272,68159,69633,70003,70196,70206,70367,70464,70726,70750,70842,71229,71339,71341,71351,72160,72263,72767,73018,73031,73109,73111,94031,121461,121476,173,1564,1757,1807,2274,6158,65279,69821,69837,917505]);lo(po,[[768,879],[1155,1159],[1425,1469],[1473,1474],[1476,1477],[1552,1562],[1611,1631],[1750,1756],[1759,1764],[1767,1768],[1770,1773],[1840,1866],[1958,1968],[2027,2035],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2273],[2275,2306],[2369,2376],[2385,2391],[2402,2403],[2497,2500],[2530,2531],[2561,2562],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2753,2757],[2759,2760],[2786,2787],[2810,2815],[2881,2884],[2914,2915],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3426,3427],[3538,3540],[3636,3642],[3655,3662],[3764,3772],[3784,3789],[3864,3865],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4229,4230],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6089,6099],[6155,6157],[6277,6278],[6432,6434],[6439,6440],[6457,6459],[6679,6680],[6744,6750],[6757,6764],[6771,6780],[6832,6845],[6912,6915],[6966,6970],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7144,7145],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7416,7417],[7616,7673],[7675,7679],[8400,8412],[8421,8432],[11503,11505],[11744,11775],[12330,12333],[12441,12442],[42612,42621],[42654,42655],[42736,42737],[43045,43046],[43204,43205],[43232,43249],[43302,43309],[43335,43345],[43392,43394],[43446,43449],[43452,43453],[43561,43566],[43569,43570],[43573,43574],[43698,43700],[43703,43704],[43710,43711],[43756,43757],[65024,65039],[65056,65071],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68325,68326],[68900,68903],[69446,69456],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69888,69890],[69927,69931],[69933,69940],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70198,70199],[70371,70378],[70400,70401],[70459,70460],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70835,70840],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71231,71232],[71344,71349],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72193,72202],[72243,72248],[72251,72254],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73020,73021],[73023,73029],[73104,73105],[73459,73460],[92912,92916],[92976,92982],[94095,94098],[113821,113822],[119143,119145],[119163,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917760,917999],[1536,1541],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[65529,65531],[78896,78904],[113824,113827],[119155,119162],[917536,917631]]),lo(po,[[0,8],[14,27],[127,159],[768,879],[6832,6911],[7616,7679],[8400,8447],[65056,65071],[48,57]]);const ho=new Set(function*(){yield*uo,yield*po}()),fo={};function mo(e){let t=e;return Object.keys(fo).forEach(e=>{const n=fo[e],r=new RegExp(`{{${e}}}`,"g");t=t.replace(r,n)}),t}function yo(e,t){fo[e]=mo(t)}function go(e,t){const n=mo(e);return new RegExp(n,t)}yo("Digits","[0-9]([0-9_]*[0-9])?"),yo("ExponentPart","[eE][+-]?{{Digits}}"),yo("HexDigit","[0-9a-fA-F]"),yo("HexDigits","{{HexDigit}}(({{HexDigit}}|'_')*{{HexDigit}})?"),yo("FloatTypeSuffix","[fFdD]"),yo("LineTerminator","(\\x0A|(\\x0D(\\x0A)?))"),yo("UnicodeMarker","uu*"),yo("UnicodeEscape","\\\\{{UnicodeMarker}}{{HexDigit}}{4}"),yo("RawInputCharacter","\\\\{{UnicodeMarker}}[0-9a-fA-F]{4}"),yo("UnicodeInputCharacter","({{UnicodeEscape}}|{{RawInputCharacter}})"),yo("OctalDigit","[0-7]"),yo("ZeroToThree","[0-3]"),yo("OctalEscape","\\\\({{OctalDigit}}|{{ZeroToThree}}?{{OctalDigit}}{2})"),yo("EscapeSequence","\\\\[bstnfr\"'\\\\]|{{OctalEscape}}"),yo("StringCharacter",'(?:(?:{{EscapeSequence}})|{{UnicodeEscape}}|(?!["\\\\]).)'),yo("TextBlockCharacter","(?:(?:{{EscapeSequence}})|{{UnicodeEscape}}|(?!\\\\).|\\\\?{{LineTerminator}})");const vo=Es({name:"Identifier",pattern:{exec:function(e,t){let n=t,r=e.codePointAt(n);for(uo.has(r)&&(n++,r>65535&&n++,r=e.codePointAt(n));ho.has(r);)n++,r>65535&&n++,r=e.codePointAt(n);return n===t?null:[e.substring(t,n)]}},line_breaks:!1,start_chars_hint:Array.from(uo,e=>String.fromCharCode(e))}),bo={modes:{global:[],stringTemplate:[],textBlockTemplate:[]},defaultMode:"global"},So=Object.keys(bo.modes),To={};function _o(e,t=So){e.label||("string"==typeof e.pattern?e.label=`'${e.pattern}'`:e.pattern instanceof RegExp&&(e.label=`'${e.name}'`));const n=Es(e);return t.forEach(e=>bo.modes[e].push(n)),To[e.name]=n,n}function Po(e){return e.longer_alt=vo,_o(e)}const Eo=_o({name:"RestrictedKeyword",pattern:hs.NA}),xo=_o({name:"Keyword",pattern:hs.NA}),wo=_o({name:"AssignmentOperator",pattern:hs.NA}),Ao=_o({name:"BinaryOperator",pattern:hs.NA}),Oo=_o({name:"UnaryPrefixOperator",pattern:hs.NA}),Io=_o({name:"UnaryPrefixOperatorNotPlusMinus",pattern:hs.NA}),Co=_o({name:"UnarySuffixOperator",pattern:hs.NA}),ko=_o({name:"Separators",pattern:hs.NA});function No(e){return e.sort((e,t)=>t.length-e.length)}function Lo(){return!1===("undefined"!=typeof process&&process.env&&"enabled"===process.env["prettier-java-development-mode"])}_o({name:"WhiteSpace",pattern:go("[\\x09\\x20\\x0C]|{{LineTerminator}}"),group:hs.SKIPPED}),_o({name:"LineComment",pattern:/\/\/[^\n\r]*/,group:"comments"}),_o({name:"TraditionalComment",pattern:/\/\*([^*]|\*(?!\/))*\*\//,group:"comments"}),_o({name:"BinaryLiteral",pattern:/0[bB][01]([01_]*[01])?[lL]?/}),_o({name:"FloatLiteral",pattern:go("{{Digits}}\\.({{Digits}})?({{ExponentPart}})?({{FloatTypeSuffix}})?|\\.{{Digits}}({{ExponentPart}})?({{FloatTypeSuffix}})?|{{Digits}}{{ExponentPart}}({{FloatTypeSuffix}})?|{{Digits}}({{ExponentPart}})?{{FloatTypeSuffix}}")}),_o({name:"OctalLiteral",pattern:/0_*[0-7]([0-7_]*[0-7])?[lL]?/}),_o({name:"HexFloatLiteral",pattern:go("0[xX]({{HexDigits}}\\.?|({{HexDigits}})?\\.{{HexDigits}})[pP][+-]?{{Digits}}[fFdD]?")}),_o({name:"HexLiteral",pattern:/0[xX][0-9a-fA-F]([0-9a-fA-F_]*[0-9a-fA-F])?[lL]?/}),_o({name:"DecimalLiteral",pattern:go("(0|[1-9](_+{{Digits}}|({{Digits}})?))[lL]?")}),_o({name:"CharLiteral",pattern:go("'(?:[^\\\\']|(?:(?:{{EscapeSequence}})|{{UnicodeInputCharacter}}))'")}),_o({name:"TextBlock",pattern:go('"""[\\x09\\x20\\x0C]*{{LineTerminator}}{{TextBlockCharacter}}*?"""')}),_o({name:"TextBlockTemplateBegin",pattern:go('"""{{LineTerminator}}{{TextBlockCharacter}}*?\\\\\\{'),push_mode:"textBlockTemplate"}),_o({name:"TextBlockTemplateEnd",pattern:go('\\}{{TextBlockCharacter}}*?"""'),pop_mode:!0},["textBlockTemplate"]),_o({name:"StringLiteral",pattern:go('"{{StringCharacter}}*?"')}),_o({name:"StringTemplateBegin",pattern:go('"{{StringCharacter}}*?\\\\\\{'),push_mode:"stringTemplate"}),_o({name:"StringTemplateEnd",pattern:go('\\}{{StringCharacter}}*?"'),pop_mode:!0},["stringTemplate"]),_o({name:"StringTemplateMid",pattern:go("\\}{{StringCharacter}}*?\\\\\\{")},["stringTemplate"]),_o({name:"TextBlockTemplateMid",pattern:go("\\}{{TextBlockCharacter}}*?\\\\\\{")},["textBlockTemplate"]),No(["open","module","requires","transitive","exports","opens","to","uses","provides","when","with","sealed","non-sealed","permits"]).forEach(e=>{Po({name:e[0].toUpperCase()+co(e.substr(1)),pattern:e,categories:[vo,Eo]})}),No(["abstract","continue","for","new","switch","assert","default","if","package","synchronized","boolean","do","goto","private","this","break","double","implements","protected","throw","byte","else","import","public","throws","case","enum","return","transient","catch","extends","int","short","try","char","final","interface","static","void","class","finally","long","strictfp","volatile","const","float","native","super","while",["_","underscore"]]).forEach(e=>{const t=Array.isArray(e),n=t?e[1]:e,r=t?e[0]:e,i={name:n[0].toUpperCase()+n.substr(1),pattern:r,categories:xo};t&&(i.label=`'${n}'`),Po(i)}),Po({name:"Instanceof",pattern:"instanceof",categories:[xo,Ao]}),Po({name:"Var",pattern:"var",categories:vo}),Po({name:"Yield",pattern:"yield",categories:vo}),Po({name:"Record",pattern:"record",categories:vo}),Po({name:"True",pattern:"true"}),Po({name:"False",pattern:"false"}),Po({name:"Null",pattern:"null"}),_o({name:"At",pattern:"@",categories:[ko]}),_o({name:"Arrow",pattern:"->"}),_o({name:"DotDotDot",pattern:"...",categories:[ko]}),_o({name:"Dot",pattern:".",categories:[ko]}),_o({name:"Comma",pattern:",",categories:[ko]}),_o({name:"Semicolon",pattern:";",categories:[ko]}),_o({name:"ColonColon",pattern:"::",categories:[ko]}),_o({name:"Colon",pattern:":"}),_o({name:"QuestionMark",pattern:"?"}),_o({name:"LBrace",pattern:"(",categories:[ko]}),_o({name:"RBrace",pattern:")",categories:[ko]}),_o({name:"LCurly",pattern:"{",categories:[ko],push_mode:bo.defaultMode}),_o({name:"RCurly",pattern:"}",categories:[ko],pop_mode:!0},[bo.defaultMode]),_o({name:"LSquare",pattern:"[",categories:[ko]}),_o({name:"RSquare",pattern:"]",categories:[ko]}),_o({name:"MinusMinus",pattern:"--",categories:[Oo,Co,Io]}),_o({name:"PlusPlus",pattern:"++",categories:[Oo,Co,Io]}),_o({name:"Complement",pattern:"~",categories:[Oo,Io]}),_o({name:"LessEquals",pattern:"<=",categories:[Ao]}),_o({name:"LessLessEquals",pattern:"<<=",categories:[wo]}),_o({name:"Less",pattern:"<",categories:[Ao]}),_o({name:"GreaterEquals",pattern:">=",categories:[Ao]}),_o({name:"GreaterGreaterEquals",pattern:">>=",categories:[wo]}),_o({name:"GreaterGreaterGreaterEquals",pattern:">>>=",categories:[wo]}),_o({name:"Greater",pattern:">",categories:[Ao]}),_o({name:"EqualsEquals",pattern:"==",categories:[Ao]}),_o({name:"Equals",pattern:"=",categories:[Ao,wo]}),_o({name:"MinusEquals",pattern:"-=",categories:[wo]}),_o({name:"Minus",pattern:"-",categories:[Ao,Oo]}),_o({name:"PlusEquals",pattern:"+=",categories:[wo]}),_o({name:"Plus",pattern:"+",categories:[Ao,Oo]}),_o({name:"AndAnd",pattern:"&&",categories:[Ao]}),_o({name:"AndEquals",pattern:"&=",categories:[wo]}),_o({name:"And",pattern:"&",categories:[Ao]}),_o({name:"XorEquals",pattern:"^=",categories:[wo]}),_o({name:"Xor",pattern:"^",categories:[Ao]}),_o({name:"NotEquals",pattern:"!=",categories:[Ao]}),_o({name:"OrOr",pattern:"||",categories:[Ao]}),_o({name:"OrEquals",pattern:"|=",categories:[wo]}),_o({name:"Or",pattern:"|",categories:[Ao]}),_o({name:"MultiplyEquals",pattern:"*=",categories:[wo]}),_o({name:"Star",pattern:"*",categories:[Ao]}),_o({name:"DivideEquals",pattern:"/=",categories:[wo]}),_o({name:"Divide",pattern:"/",categories:[Ao]}),_o({name:"ModuloEquals",pattern:"%=",categories:[wo]}),_o({name:"Modulo",pattern:"%",categories:[Ao]}),_o({name:"Not",pattern:"!",categories:[Oo,Io]}),So.forEach(e=>bo.modes[e].push(vo)),To.Identifier=vo;const $o=new hs(bo,{ensureOptimizations:!0,skipValidations:Lo()});function Mo(e,t,n){return`${e.name}_${t}_${n}`}class Ro{constructor(e){this.target=e}isEpsilon(){return!1}}class jo extends Ro{constructor(e,t){super(e),this.tokenType=t}}class Do extends Ro{constructor(e){super(e)}isEpsilon(){return!0}}class Uo extends Ro{constructor(e,t,n){super(e),this.rule=t,this.followState=n}isEpsilon(){return!0}}function Fo(e,t,n){return n instanceof mr?Ko(e,t,n.terminalType,n):n instanceof ar?function(e,t,n){const r=n.referencedRule,i=e.ruleToStartState.get(r),s=Jo(e,t,n,{type:1}),a=Jo(e,t,n,{type:1});return Ho(s,new Uo(i,r,a)),{left:s,right:a}}(e,t,n):n instanceof fr?function(e,t,n){const r=Jo(e,t,n,{type:1});Vo(e,r);const i=qt(n.definition,n=>Fo(e,t,n));return qo(e,t,r,n,...i)}(e,t,n):n instanceof lr?function(e,t,n){const r=Jo(e,t,n,{type:1});Vo(e,r);return function(e,t,n,r){const i=r.left;return Go(i,r.right),e.decisionMap[Mo(t,"Option",n.idx)]=i,r}(e,t,n,qo(e,t,r,n,Bo(e,t,n)))}(e,t,n):n instanceof pr?function(e,t,n){const r=Jo(e,t,n,{type:5});Vo(e,r);return zo(e,t,n,qo(e,t,r,n,Bo(e,t,n)))}(e,t,n):n instanceof hr?function(e,t,n){const r=Jo(e,t,n,{type:5});Vo(e,r);return zo(e,t,n,qo(e,t,r,n,Bo(e,t,n)),Ko(e,t,n.separator,n))}(e,t,n):n instanceof ur?function(e,t,n){const r=Jo(e,t,n,{type:4});Vo(e,r);return Zo(e,t,n,qo(e,t,r,n,Bo(e,t,n)))}(e,t,n):n instanceof dr?function(e,t,n){const r=Jo(e,t,n,{type:4});Vo(e,r);return Zo(e,t,n,qo(e,t,r,n,Bo(e,t,n)),Ko(e,t,n.separator,n))}(e,t,n):Bo(e,t,n)}function Bo(e,t,n){const r=mi(qt(n.definition,n=>Fo(e,t,n)),e=>void 0!==e);return 1===r.length?r[0]:0===r.length?void 0:function(e,t){const n=t.length;for(let r=0;r<n-1;r++){const n=t[r];let i;1===n.left.transitions.length&&(i=n.left.transitions[0]);const s=i instanceof Uo,a=i,o=t[r+1].left;1===n.left.type&&1===n.right.type&&void 0!==i&&(s&&a.followState===n.right||i.target===n.right)?(s?a.followState=o:i.target=o,Yo(e,n.right)):Go(n.right,o)}const r=t[0],i=t[n-1];return{left:r.left,right:i.right}}(e,r)}function Zo(e,t,n,r,i){const s=r.left,a=r.right,o=Jo(e,t,n,{type:11});Vo(e,o);const c=Jo(e,t,n,{type:12});return s.loopback=o,c.loopback=o,e.decisionMap[Mo(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o,Go(a,o),void 0===i?(Go(o,s),Go(o,c)):(Go(o,c),Go(o,i.left),Go(i.right,s)),{left:s,right:c}}function zo(e,t,n,r,i){const s=r.left,a=r.right,o=Jo(e,t,n,{type:10});Vo(e,o);const c=Jo(e,t,n,{type:12}),l=Jo(e,t,n,{type:9});return o.loopback=l,c.loopback=l,Go(o,s),Go(o,c),Go(a,l),void 0!==i?(Go(l,c),Go(l,i.left),Go(i.right,s)):Go(l,o),e.decisionMap[Mo(t,i?"RepetitionWithSeparator":"Repetition",n.idx)]=o,{left:o,right:c}}function Vo(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function qo(e,t,n,r,...i){const s=Jo(e,t,r,{type:8,start:n});n.end=s;for(const e of i)void 0!==e?(Go(n,e.left),Go(e.right,s)):Go(n,s);const a={left:n,right:s};return e.decisionMap[Mo(t,function(e){if(e instanceof fr)return"Alternation";if(e instanceof lr)return"Option";if(e instanceof pr)return"Repetition";if(e instanceof hr)return"RepetitionWithSeparator";if(e instanceof ur)return"RepetitionMandatory";if(e instanceof dr)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,a}function Ko(e,t,n,r){const i=Jo(e,t,r,{type:1}),s=Jo(e,t,r,{type:1});return Ho(i,new jo(s,n)),{left:i,right:s}}function Wo(e,t,n){const r=e.ruleToStartState.get(t);Go(r,n.left);const i=e.ruleToStopState.get(t);return Go(n.right,i),{left:r,right:i}}function Go(e,t){Ho(e,new Do(t))}function Jo(e,t,n,r){const i=Object.assign({atn:e,production:n,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},r);return e.states.push(i),i}function Ho(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function Yo(e,t){e.states.splice(e.states.indexOf(t),1)}const Xo={};class Qo{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const t=ec(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return qt(this.configs,e=>e.alt)}get key(){let e="";for(const t in this.map)e+=t+":";return e}}function ec(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(e=>e.stateNumber.toString()).join("_")}`}const tc=function(e,t){return e<t},nc=function(e){return e&&e.length?function(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(void 0===o?a==a&&!_t(a):n(a,o)))var o=a,c=s}return c}(e,Y,tc):void 0};function rc(e,t){const n={};return r=>{const i=r.toString();let s=n[i];return void 0!==s||(s={atnStartState:e,decision:t,states:{}},n[i]=s),s}}class ic{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="";const t=this.predicates.length;for(let n=0;n<t;n++)e+=!0===this.predicates[n]?"1":"0";return e}}const sc=new ic;class ac extends ja{constructor(e){var t;super(),this.logging=null!==(t=null==e?void 0:e.logging)&&void 0!==t?t:e=>console.log(e)}initialize(e){this.atn=function(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(e,t){const n=t.length;for(let r=0;r<n;r++){const n=t[r],i=Jo(e,n,void 0,{type:2}),s=Jo(e,n,void 0,{type:7});i.stop=s,e.ruleToStartState.set(n,i),e.ruleToStopState.set(n,s)}}(t,e);const n=e.length;for(let r=0;r<n;r++){const n=e[r],i=Bo(t,n,n);void 0!==i&&Wo(t,n,i)}return t}(e.rules),this.dfas=function(e){const t=e.decisionStates.length,n=Array(t);for(let r=0;r<t;r++)n[r]=rc(e.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:t,rule:n,hasPredicates:r,dynamicTokensEnabled:i}=e,s=this.dfas,a=this.logging,o=Mo(n,"Alternation",t),c=this.atn.decisionMap[o].decision,l=qt(Xs({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:n}),e=>qt(e,e=>e[0]));if(oc(l,!1)&&!i){const e=fi(l,(e,t,n)=>(X(t,t=>{t&&(e[t.tokenTypeIdx]=n,X(t.categoryMatches,t=>{e[t]=n}))}),e),{});return r?function(t){var n;const r=this.LA(1),i=e[r.tokenTypeIdx];if(void 0!==t&&void 0!==i){const e=null===(n=t[i])||void 0===n?void 0:n.GATE;if(void 0!==e&&!1===e.call(this))return}return i}:function(){const t=this.LA(1);return e[t.tokenTypeIdx]}}return r?function(e){const t=new ic,n=void 0===e?0:e.length;for(let r=0;r<n;r++){const n=null==e?void 0:e[r].GATE;t.set(r,void 0===n||n.call(this))}const r=cc.call(this,s,c,t,a);return"number"==typeof r?r:void 0}:function(){const e=cc.call(this,s,c,sc,a);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:t,rule:n,prodType:r,dynamicTokensEnabled:i}=e,s=this.dfas,a=this.logging,o=Mo(n,r,t),c=this.atn.decisionMap[o].decision,l=qt(Xs({maxLookahead:1,occurrence:t,prodType:r,rule:n}),e=>qt(e,e=>e[0]));if(oc(l)&&l[0][0]&&!i){const e=l[0],t=Br(e);if(1===t.length&&Ne(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=fi(t,(e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,X(t.categoryMatches,t=>{e[t]=!0})),e),{});return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){const e=cc.call(this,s,c,sc,a);return"object"!=typeof e&&0===e}}}function oc(e,t=!0){const n=new Set;for(const r of e){const e=new Set;for(const i of r){if(void 0===i){if(t)break;return!1}const r=[i.tokenTypeIdx].concat(i.categoryMatches);for(const t of r)if(n.has(t)){if(!e.has(t))return!1}else n.add(t),e.add(t)}}return!0}function cc(e,t,n,r){const i=e[t](n);let s=i.start;return void 0===s&&(s=gc(i,mc(function(e){const t=new Qo,n=e.transitions.length;for(let r=0;r<n;r++)vc({state:e.transitions[r].target,alt:r,stack:[]},t);return t}(i.atnStartState))),i.start=s),lc.apply(this,[i,s,n,r])}function lc(e,t,n,r){let i=t,s=1;const a=[];let o=this.LA(s++);for(;;){let t=hc(i,o);if(void 0===t&&(t=uc.apply(this,[e,i,o,s,n,r])),t===Xo)return pc(a,i,o);if(!0===t.isAcceptState)return t.prediction;i=t,a.push(o),o=this.LA(s++)}}function uc(e,t,n,r,i,s){const a=function(e,t,n){const r=new Qo,i=[];for(const s of e.elements){if(!1===n.is(s.alt))continue;if(7===s.state.type){i.push(s);continue}const e=s.state.transitions.length;for(let n=0;n<e;n++){const e=fc(s.state.transitions[n],t);void 0!==e&&r.add({state:e,alt:s.alt,stack:s.stack})}}let s;if(0===i.length&&1===r.size&&(s=r),void 0===s){s=new Qo;for(const e of r.elements)vc(e,s)}if(i.length>0&&!function(e){for(const t of e.elements)if(7===t.state.type)return!0;return!1}(s))for(const e of i)s.add(e);return s}(t.configs,n,i);if(0===a.size)return yc(e,t,n,Xo),Xo;let o=mc(a);const c=function(e,t){let n;for(const r of e.elements)if(!0===t.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(a,i);if(void 0!==c)o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c;else if(function(e){if(function(e){for(const t of e.elements)if(7!==t.state.type)return!1;return!0}(e))return!0;const t=function(e){const t=new Map;for(const n of e){const e=ec(n,!1);let r=t.get(e);void 0===r&&(r={},t.set(e,r)),r[n.alt]=!0}return t}(e.elements);return function(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}(t)&&!function(e){for(const t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}(t)}(a)){const t=nc(a.alts);o.isAcceptState=!0,o.prediction=t,o.configs.uniqueAlt=t,dc.apply(this,[e,r,a.alts,s])}return o=yc(e,t,n,o),o}function dc(e,t,n,r){const i=[];for(let e=1;e<=t;e++)i.push(this.LA(e).tokenType);const s=e.atnStartState;r(function(e){const t=qt(e.prefixPath,e=>fs(e)).join(", "),n=0===e.production.idx?"":e.production.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${function(e){if(e instanceof ar)return"SUBRULE";if(e instanceof lr)return"OPTION";if(e instanceof fr)return"OR";if(e instanceof ur)return"AT_LEAST_ONE";if(e instanceof dr)return"AT_LEAST_ONE_SEP";if(e instanceof hr)return"MANY_SEP";if(e instanceof pr)return"MANY";if(e instanceof mr)return"CONSUME";throw Error("non exhaustive match")}(e.production)}${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:s.rule,ambiguityIndices:n,production:s.production,prefixPath:i}))}function pc(e,t,n){const r=Ns(t.configs.elements,e=>e.state.transitions);return{actualToken:n,possibleTokenTypes:(i=r.filter(e=>e instanceof jo).map(e=>e.tokenType),s=e=>e.tokenTypeIdx,i&&i.length?Rr(i,zt(s)):[]),tokenPath:e};var i,s}function hc(e,t){return e.edges[t.tokenTypeIdx]}function fc(e,t){if(e instanceof jo&&As(t,e.tokenType))return e.target}function mc(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function yc(e,t,n,r){return r=gc(e,r),t.edges[n.tokenTypeIdx]=r,r}function gc(e,t){if(t===Xo)return t;const n=t.configs.key,r=e.states[n];return void 0!==r?r:(t.configs.finalize(),e.states[n]=t,t)}function vc(e,t){const n=e.state;if(7===n.type){if(e.stack.length>0){const n=[...e.stack];vc({state:n.pop(),alt:e.alt,stack:n},t)}else t.add(e);return}n.epsilonOnlyTransitions||t.add(e);const r=n.transitions.length;for(let i=0;i<r;i++){const r=bc(e,n.transitions[i]);void 0!==r&&vc(r,t)}}function bc(e,t){if(t instanceof Do)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof Uo){const n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}}function Sc(e,t){e.RULE("literal",()=>{e.OR([{ALT:()=>e.SUBRULE(e.integerLiteral)},{ALT:()=>e.SUBRULE(e.floatingPointLiteral)},{ALT:()=>e.SUBRULE(e.booleanLiteral)},{ALT:()=>e.CONSUME(t.CharLiteral)},{ALT:()=>e.CONSUME(t.TextBlock)},{ALT:()=>e.CONSUME(t.StringLiteral)},{ALT:()=>e.CONSUME(t.Null)}])}),e.RULE("integerLiteral",()=>{e.OR([{ALT:()=>e.CONSUME(t.DecimalLiteral)},{ALT:()=>e.CONSUME(t.HexLiteral)},{ALT:()=>e.CONSUME(t.OctalLiteral)},{ALT:()=>e.CONSUME(t.BinaryLiteral)}])}),e.RULE("floatingPointLiteral",()=>{e.OR([{ALT:()=>e.CONSUME(t.FloatLiteral)},{ALT:()=>e.CONSUME(t.HexFloatLiteral)}])}),e.RULE("booleanLiteral",()=>{e.OR([{ALT:()=>e.CONSUME(t.True)},{ALT:()=>e.CONSUME(t.False)}])})}function Tc(e,t){e.RULE("primitiveType",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OR([{ALT:()=>e.SUBRULE(e.numericType)},{ALT:()=>e.CONSUME(t.Boolean)}])}),e.RULE("numericType",()=>{e.OR([{ALT:()=>e.SUBRULE(e.integralType)},{ALT:()=>e.SUBRULE(e.floatingPointType)}])}),e.RULE("integralType",()=>{e.OR([{ALT:()=>e.CONSUME(t.Byte)},{ALT:()=>e.CONSUME(t.Short)},{ALT:()=>e.CONSUME(t.Int)},{ALT:()=>e.CONSUME(t.Long)},{ALT:()=>e.CONSUME(t.Char)}])}),e.RULE("floatingPointType",()=>{e.OR([{ALT:()=>e.CONSUME(t.Float)},{ALT:()=>e.CONSUME(t.Double)}])}),e.RULE("referenceType",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OR({DEF:[{ALT:()=>{e.SUBRULE(e.primitiveType),e.SUBRULE(e.dims)}},{ALT:()=>{e.SUBRULE(e.classOrInterfaceType),e.OPTION(()=>{e.SUBRULE2(e.dims)})}}],IGNORE_AMBIGUITIES:!0})}),e.RULE("classOrInterfaceType",()=>{e.SUBRULE(e.classType)}),e.RULE("classType",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.Identifier),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.MANY2(()=>{e.CONSUME(t.Dot),e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.Identifier),e.OPTION2(()=>e.SUBRULE2(e.typeArguments))})}),e.RULE("interfaceType",()=>{e.SUBRULE(e.classType)}),e.RULE("typeVariable",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.Identifier)}),e.RULE("dims",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.LSquare),e.CONSUME(t.RSquare),e.MANY2({GATE:()=>e.BACKTRACK_LOOKAHEAD(e.isDims),DEF:()=>{e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.LSquare),e.CONSUME2(t.RSquare)}})}),e.RULE("typeParameter",()=>{e.MANY(()=>{e.SUBRULE(e.typeParameterModifier)}),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeBound)})}),e.RULE("typeParameterModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("typeBound",()=>{e.CONSUME(t.Extends),e.SUBRULE(e.classOrInterfaceType),e.MANY(()=>{e.SUBRULE(e.additionalBound)})}),e.RULE("additionalBound",()=>{e.CONSUME(t.And),e.SUBRULE(e.interfaceType)}),e.RULE("typeArguments",()=>{e.CONSUME(t.Less),e.SUBRULE(e.typeArgumentList),e.CONSUME(t.Greater)}),e.RULE("typeArgumentList",()=>{e.SUBRULE(e.typeArgument),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeArgument)})}),e.RULE("typeArgument",()=>{e.OR([{ALT:()=>e.SUBRULE(e.referenceType)},{ALT:()=>e.SUBRULE(e.wildcard)}])}),e.RULE("wildcard",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.QuestionMark),e.OPTION(()=>{e.SUBRULE(e.wildcardBounds)})}),e.RULE("wildcardBounds",()=>{e.OR([{ALT:()=>e.CONSUME(t.Extends)},{ALT:()=>e.CONSUME(t.Super)}]),e.SUBRULE(e.referenceType)})}function _c(e,t){e.RULE("moduleName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})}),e.RULE("packageName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})}),e.RULE("typeName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})}),e.RULE("expressionName",()=>{e.CONSUME(t.Identifier),e.MANY({GATE:()=>As(this.LA(2).tokenType,t.Identifier),DEF:()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}})}),e.RULE("methodName",()=>{e.CONSUME(t.Identifier)}),e.RULE("packageOrTypeName",()=>{e.CONSUME(t.Identifier),e.MANY({GATE:()=>!1===As(this.LA(2).tokenType,t.Star),DEF:()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}})}),e.RULE("ambiguousName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})})}function Pc(e,t){e.RULE("compilationUnit",()=>{e.OR([{ALT:()=>e.SUBRULE(e.ordinaryCompilationUnit)},{ALT:()=>e.SUBRULE(e.modularCompilationUnit)}]),e.CONSUME(xs)}),e.RULE("ordinaryCompilationUnit",()=>{e.OPTION(()=>e.SUBRULE(e.packageDeclaration)),e.MANY(()=>{e.SUBRULE3(e.importDeclaration)}),e.MANY2(()=>{e.SUBRULE(e.typeDeclaration)})}),e.RULE("modularCompilationUnit",()=>{e.MANY(()=>{e.SUBRULE(e.importDeclaration)}),e.SUBRULE(e.moduleDeclaration)}),e.RULE("packageDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.packageModifier)}),e.CONSUME(t.Package),e.CONSUME(t.Identifier),e.MANY2(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}),e.CONSUME2(t.Semicolon)}),e.RULE("packageModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("importDeclaration",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Import),e.OPTION(()=>{e.CONSUME(t.Static)}),e.SUBRULE(e.packageOrTypeName),e.OPTION2(()=>{e.CONSUME(t.Dot),e.CONSUME(t.Star)}),e.CONSUME(t.Semicolon)}},{ALT:()=>e.SUBRULE(e.emptyStatement)}])}),e.RULE("typeDeclaration",()=>{e.OR([{ALT:()=>e.CONSUME(t.Semicolon)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.SUBRULE(e.fieldDeclaration)},{ALT:()=>e.SUBRULE(e.methodDeclaration)}])}),e.RULE("moduleDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OPTION(()=>{e.CONSUME(t.Open)}),e.CONSUME(t.Module),e.CONSUME(t.Identifier),e.MANY2(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}),e.CONSUME(t.LCurly),e.MANY3(()=>{e.SUBRULE(e.moduleDirective)}),e.CONSUME(t.RCurly)}),e.RULE("moduleDirective",()=>{e.OR([{ALT:()=>e.SUBRULE(e.requiresModuleDirective)},{ALT:()=>e.SUBRULE(e.exportsModuleDirective)},{ALT:()=>e.SUBRULE(e.opensModuleDirective)},{ALT:()=>e.SUBRULE(e.usesModuleDirective)},{ALT:()=>e.SUBRULE(e.providesModuleDirective)}])}),e.RULE("requiresModuleDirective",()=>{e.CONSUME(t.Requires),e.MANY({GATE:()=>!1===(As(e.LA(1).tokenType,t.Transitive)&&As(e.LA(2).tokenType,t.Separators)),DEF:()=>{e.SUBRULE(e.requiresModifier)}}),e.SUBRULE(e.moduleName),e.CONSUME(t.Semicolon)}),e.RULE("exportsModuleDirective",()=>{e.CONSUME(t.Exports),e.SUBRULE(e.packageName),e.OPTION(()=>{e.CONSUME(t.To),e.SUBRULE(e.moduleName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.moduleName)})}),e.CONSUME(t.Semicolon)}),e.RULE("opensModuleDirective",()=>{e.CONSUME(t.Opens),e.SUBRULE(e.packageName),e.OPTION(()=>{e.CONSUME(t.To),e.SUBRULE(e.moduleName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.moduleName)})}),e.CONSUME(t.Semicolon)}),e.RULE("usesModuleDirective",()=>{e.CONSUME(t.Uses),e.SUBRULE(e.typeName),e.CONSUME(t.Semicolon)}),e.RULE("providesModuleDirective",()=>{e.CONSUME(t.Provides),e.SUBRULE(e.typeName),e.CONSUME(t.With),e.SUBRULE2(e.typeName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE3(e.typeName)}),e.CONSUME(t.Semicolon)}),e.RULE("requiresModifier",()=>{e.OR([{ALT:()=>e.CONSUME(t.Transitive)},{ALT:()=>e.CONSUME(t.Static)}])})}function Ec(e,t){e.RULE("classDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.classModifier)}),e.OR([{ALT:()=>e.SUBRULE(e.normalClassDeclaration)},{ALT:()=>e.SUBRULE(e.enumDeclaration)},{ALT:()=>e.SUBRULE(e.recordDeclaration)}])}),e.RULE("normalClassDeclaration",()=>{e.CONSUME(t.Class),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.OPTION2(()=>{e.SUBRULE(e.classExtends)}),e.OPTION3(()=>{e.SUBRULE(e.classImplements)}),e.OPTION4(()=>{e.SUBRULE(e.classPermits)}),e.SUBRULE(e.classBody)}),e.RULE("classModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)},{ALT:()=>e.CONSUME(t.Sealed)},{ALT:()=>e.CONSUME(t.NonSealed)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("typeParameters",()=>{e.CONSUME(t.Less),e.SUBRULE(e.typeParameterList),e.CONSUME(t.Greater)}),e.RULE("typeParameterList",()=>{e.SUBRULE(e.typeParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeParameter)})}),e.RULE("classExtends",()=>{e.CONSUME(t.Extends),e.SUBRULE(e.classType)}),e.RULE("classImplements",()=>{e.CONSUME(t.Implements),e.SUBRULE(e.interfaceTypeList)}),e.RULE("interfaceTypeList",()=>{e.SUBRULE(e.interfaceType),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.interfaceType)})}),e.RULE("classPermits",()=>{e.CONSUME(t.Permits),e.SUBRULE(e.typeName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeName)})}),e.RULE("classBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.classBodyDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("classBodyDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.classMemberDeclaration)},{ALT:()=>e.SUBRULE(e.instanceInitializer)},{ALT:()=>e.SUBRULE(e.staticInitializer)},{ALT:()=>e.SUBRULE(e.constructorDeclaration)}])}),e.RULE("classMemberDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.fieldDeclaration)},{ALT:()=>e.SUBRULE(e.methodDeclaration)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("fieldDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.fieldModifier)}),e.SUBRULE(e.unannType),e.SUBRULE(e.variableDeclaratorList),e.CONSUME(t.Semicolon)}),e.RULE("fieldModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)},{ALT:()=>e.CONSUME(t.Transient)},{ALT:()=>e.CONSUME(t.Volatile)}])}),e.RULE("variableDeclaratorList",n=>{e.SUBRULE(e.variableDeclarator),e.MANY({GATE:()=>!n,DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.variableDeclarator)}})}),e.RULE("variableDeclarator",()=>{e.SUBRULE(e.variableDeclaratorId),e.OPTION(()=>{e.CONSUME(t.Equals),e.SUBRULE(e.variableInitializer)})}),e.RULE("variableDeclaratorId",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Identifier),e.OPTION(()=>{e.SUBRULE(e.dims)})}},{ALT:()=>e.CONSUME(t.Underscore)}])}),e.RULE("variableInitializer",()=>{e.OR([{ALT:()=>e.SUBRULE(e.expression)},{ALT:()=>e.SUBRULE(e.arrayInitializer)}])}),e.RULE("unannType",()=>{e.OR([{ALT:()=>e.SUBRULE(e.unannPrimitiveTypeWithOptionalDimsSuffix)},{ALT:()=>e.SUBRULE(e.unannReferenceType)}])}),e.RULE("unannPrimitiveTypeWithOptionalDimsSuffix",()=>{e.SUBRULE(e.unannPrimitiveType),e.OPTION({GATE:()=>this.BACKTRACK_LOOKAHEAD(e.isDims),DEF:()=>e.SUBRULE2(e.dims)})}),e.RULE("unannPrimitiveType",()=>{e.OR([{ALT:()=>e.SUBRULE(e.numericType)},{ALT:()=>e.CONSUME(t.Boolean)}])}),e.RULE("unannReferenceType",()=>{e.SUBRULE(e.unannClassOrInterfaceType),e.OPTION({GATE:()=>this.BACKTRACK_LOOKAHEAD(e.isDims),DEF:()=>e.SUBRULE2(e.dims)})}),e.RULE("unannClassOrInterfaceType",()=>{e.SUBRULE(e.unannClassType)}),e.RULE("unannClassType",()=>{e.CONSUME(t.Identifier),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.MANY2(()=>{e.CONSUME(t.Dot),e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.Identifier),e.OPTION2(()=>{e.SUBRULE2(e.typeArguments)})})}),e.RULE("unannInterfaceType",()=>{e.SUBRULE(e.unannClassType)}),e.RULE("unannTypeVariable",()=>{e.CONSUME(t.Identifier)}),e.RULE("methodDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.methodModifier)}),e.SUBRULE(e.methodHeader),e.SUBRULE(e.methodBody)}),e.RULE("methodModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)},{ALT:()=>e.CONSUME(t.Synchronized)},{ALT:()=>e.CONSUME(t.Native)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("methodHeader",()=>{e.OPTION(()=>{e.SUBRULE(e.typeParameters),e.MANY(()=>{e.SUBRULE(e.annotation)})}),e.SUBRULE(e.result),e.SUBRULE(e.methodDeclarator),e.OPTION2(()=>{e.SUBRULE(e.throws)})}),e.RULE("result",()=>{e.OR([{ALT:()=>e.SUBRULE(e.unannType)},{ALT:()=>e.CONSUME(t.Void)}])}),e.RULE("methodDeclarator",()=>{e.CONSUME(t.Identifier),e.CONSUME(t.LBrace),e.OR([{ALT:()=>{e.SUBRULE(e.receiverParameter),e.OPTION(()=>{e.CONSUME(t.Comma),e.SUBRULE(e.formalParameterList)})}},{ALT:()=>e.OPTION1(()=>e.SUBRULE1(e.formalParameterList))}]),e.CONSUME(t.RBrace),e.OPTION2(()=>{e.SUBRULE(e.dims)})}),e.RULE("receiverParameter",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.SUBRULE(e.unannType),e.OPTION(()=>{e.CONSUME(t.Identifier),e.CONSUME(t.Dot)}),e.CONSUME(t.This)}),e.RULE("formalParameterList",()=>{e.SUBRULE(e.formalParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.formalParameter)})}),e.RULE("formalParameter",()=>{e.OR([{ALT:()=>e.SUBRULE(e.variableParaRegularParameter)},{ALT:()=>e.SUBRULE(e.variableArityParameter)}])}),e.RULE("variableParaRegularParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.unannType),e.SUBRULE(e.variableDeclaratorId)}),e.RULE("variableArityParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.unannType),e.MANY2(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.DotDotDot),e.CONSUME(t.Identifier)}),e.RULE("variableModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Final)}])}),e.RULE("throws",()=>{e.CONSUME(t.Throws),e.SUBRULE(e.exceptionTypeList)}),e.RULE("exceptionTypeList",()=>{e.SUBRULE(e.exceptionType),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.exceptionType)})}),e.RULE("exceptionType",()=>{e.SUBRULE(e.classType)}),e.RULE("methodBody",()=>{e.OR([{ALT:()=>e.SUBRULE(e.block)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("instanceInitializer",()=>{e.SUBRULE(e.block)}),e.RULE("staticInitializer",()=>{e.CONSUME(t.Static),e.SUBRULE(e.block)}),e.RULE("constructorDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.constructorModifier)}),e.SUBRULE(e.constructorDeclarator),e.OPTION(()=>{e.SUBRULE(e.throws)}),e.SUBRULE(e.constructorBody)}),e.RULE("constructorModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)}])}),e.RULE("constructorDeclarator",()=>{e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.SUBRULE(e.simpleTypeName),e.CONSUME(t.LBrace),e.OR([{ALT:()=>{e.SUBRULE(e.receiverParameter),e.OPTION1(()=>{e.CONSUME(t.Comma),e.SUBRULE(e.formalParameterList)})}},{ALT:()=>e.OPTION2(()=>e.SUBRULE1(e.formalParameterList))}]),e.CONSUME(t.RBrace)}),e.RULE("simpleTypeName",()=>{e.SUBRULE(e.typeIdentifier)}),e.RULE("constructorBody",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.explicitConstructorInvocation)}),e.OPTION2(()=>{e.SUBRULE(e.blockStatements)}),e.CONSUME(t.RCurly)}),e.RULE("explicitConstructorInvocation",()=>{e.OR([{ALT:()=>e.SUBRULE(e.unqualifiedExplicitConstructorInvocation)},{ALT:()=>e.SUBRULE(e.qualifiedExplicitConstructorInvocation)}])}),e.RULE("unqualifiedExplicitConstructorInvocation",()=>{e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.OR([{ALT:()=>e.CONSUME(t.This)},{ALT:()=>e.CONSUME(t.Super)}]),e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace),e.CONSUME(t.Semicolon)}),e.RULE("qualifiedExplicitConstructorInvocation",()=>{e.SUBRULE(e.expressionName),e.CONSUME(t.Dot),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.CONSUME(t.Super),e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace),e.CONSUME(t.Semicolon)}),e.RULE("enumDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.classModifier)}),e.CONSUME(t.Enum),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.classImplements)}),e.SUBRULE(e.enumBody)}),e.RULE("enumBody",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.enumConstantList)}),e.OPTION2(()=>{e.CONSUME(t.Comma)}),e.OPTION3(()=>{e.SUBRULE(e.enumBodyDeclarations)}),e.CONSUME(t.RCurly)}),e.RULE("enumConstantList",()=>{e.SUBRULE(e.enumConstant),e.MANY({GATE:()=>{const n=e.LA(2);return As(n,t.Identifier)||As(n,t.At)},DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.enumConstant)}})}),e.RULE("enumConstant",()=>{e.MANY(()=>{e.SUBRULE(e.enumConstantModifier)}),e.CONSUME(t.Identifier),e.OPTION(()=>{e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace)}),e.OPTION3(()=>{e.SUBRULE(e.classBody)})}),e.RULE("enumConstantModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("enumBodyDeclarations",()=>{e.CONSUME(t.Semicolon),e.MANY(()=>{e.SUBRULE(e.classBodyDeclaration)})}),e.RULE("recordDeclaration",()=>{e.CONSUME(t.Record),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.SUBRULE(e.recordHeader),e.OPTION2(()=>{e.SUBRULE(e.classImplements)}),e.SUBRULE(e.recordBody)}),e.RULE("recordHeader",()=>{e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.recordComponentList)}),e.CONSUME(t.RBrace)}),e.RULE("recordComponentList",()=>{e.SUBRULE(e.recordComponent),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.recordComponent)})}),e.RULE("recordComponent",()=>{e.MANY(()=>{e.SUBRULE(e.recordComponentModifier)}),e.SUBRULE(e.unannType),e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.SUBRULE(e.variableArityRecordComponent)}])}),e.RULE("variableArityRecordComponent",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.DotDotDot),e.CONSUME(t.Identifier)}),e.RULE("recordComponentModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("recordBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.recordBodyDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("recordBodyDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.compactConstructorDeclaration)},{ALT:()=>e.SUBRULE(e.classBodyDeclaration)}])}),e.RULE("compactConstructorDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.constructorModifier)}),e.SUBRULE(e.simpleTypeName),e.SUBRULE(e.constructorBody)}),e.RULE("isDims",()=>(e.MANY(e.annotation),As(this.LA(1),t.LSquare)&&As(this.LA(2),t.RSquare)))}function xc(e,t){e.RULE("interfaceDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.interfaceModifier)}),e.OR([{ALT:()=>e.SUBRULE(e.normalInterfaceDeclaration)},{ALT:()=>e.SUBRULE(e.annotationInterfaceDeclaration)}])}),e.RULE("normalInterfaceDeclaration",()=>{e.CONSUME(t.Interface),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.OPTION2(()=>{e.SUBRULE(e.interfaceExtends)}),e.OPTION3(()=>{e.SUBRULE(e.interfacePermits)}),e.SUBRULE(e.interfaceBody)}),e.RULE("interfaceModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Sealed)},{ALT:()=>e.CONSUME(t.NonSealed)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("interfaceExtends",()=>{e.CONSUME(t.Extends),e.SUBRULE(e.interfaceTypeList)}),e.RULE("interfacePermits",()=>{e.CONSUME(t.Permits),e.SUBRULE(e.typeName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeName)})}),e.RULE("interfaceBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.interfaceMemberDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("interfaceMemberDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.constantDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceMethodDeclaration)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("constantDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.constantModifier)}),e.SUBRULE(e.unannType),e.SUBRULE(e.variableDeclaratorList),e.CONSUME(t.Semicolon)}),e.RULE("constantModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)}])}),e.RULE("interfaceMethodDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.interfaceMethodModifier)}),e.SUBRULE(e.methodHeader),e.SUBRULE(e.methodBody)}),e.RULE("interfaceMethodModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Default)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("annotationInterfaceDeclaration",()=>{e.CONSUME(t.At),e.CONSUME(t.Interface),e.SUBRULE(e.typeIdentifier),e.SUBRULE(e.annotationInterfaceBody)}),e.RULE("annotationInterfaceBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.annotationInterfaceMemberDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("annotationInterfaceMemberDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotationInterfaceElementDeclaration)},{ALT:()=>e.SUBRULE(e.constantDeclaration)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("annotationInterfaceElementDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.annotationInterfaceElementModifier)}),e.SUBRULE(e.unannType),e.CONSUME(t.Identifier),e.CONSUME(t.LBrace),e.CONSUME(t.RBrace),e.OPTION(()=>{e.SUBRULE(e.dims)}),e.OPTION2(()=>{e.SUBRULE(e.defaultValue)}),e.CONSUME(t.Semicolon)}),e.RULE("annotationInterfaceElementModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Abstract)}])}),e.RULE("defaultValue",()=>{e.CONSUME(t.Default),e.SUBRULE(e.elementValue)}),e.RULE("annotation",()=>{e.CONSUME(t.At),e.SUBRULE(e.typeName),e.OPTION(()=>{e.CONSUME(t.LBrace),e.OR({DEF:[{ALT:()=>e.SUBRULE(e.elementValuePairList)},{ALT:()=>e.SUBRULE(e.elementValue)},{ALT:()=>{}}],IGNORE_AMBIGUITIES:!0}),e.CONSUME(t.RBrace)})}),e.RULE("elementValuePairList",()=>{e.SUBRULE(e.elementValuePair),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.elementValuePair)})}),e.RULE("elementValuePair",()=>{e.CONSUME(t.Identifier),e.CONSUME(t.Equals),e.SUBRULE(e.elementValue)}),e.RULE("elementValue",()=>{e.OR([{ALT:()=>e.SUBRULE(e.conditionalExpression)},{ALT:()=>e.SUBRULE(e.elementValueArrayInitializer)},{ALT:()=>e.SUBRULE(e.annotation)}])}),e.RULE("elementValueArrayInitializer",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.elementValueList)}),e.OPTION2(()=>{e.CONSUME(t.Comma)}),e.CONSUME(t.RCurly)}),e.RULE("elementValueList",()=>{e.SUBRULE(e.elementValue),e.MANY({GATE:()=>!1===As(e.LA(2).tokenType,t.RCurly),DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.elementValue)}})})}function wc(e,t){e.RULE("arrayInitializer",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.variableInitializerList)}),e.OPTION2(()=>{e.CONSUME(t.Comma)}),e.CONSUME(t.RCurly)}),e.RULE("variableInitializerList",()=>{e.SUBRULE(e.variableInitializer),e.MANY({GATE:()=>!1===As(this.LA(2).tokenType,t.RCurly),DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.variableInitializer)}})})}function Ac(e,t){e.RULE("block",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.blockStatements)}),e.CONSUME(t.RCurly)}),e.RULE("blockStatements",()=>{e.SUBRULE(e.blockStatement),e.MANY(()=>{e.SUBRULE2(e.blockStatement)})}),e.RULE("blockStatement",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.localVariableDeclarationStatement)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.SUBRULE(e.statement)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("localVariableDeclarationStatement",()=>{e.SUBRULE(e.localVariableDeclaration),e.CONSUME(t.Semicolon)}),e.RULE("localVariableDeclaration",t=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.localVariableType),e.SUBRULE(e.variableDeclaratorList,{ARGS:[t]})}),e.RULE("localVariableType",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.unannType)},{ALT:()=>e.CONSUME(t.Var)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("statement",()=>{e.OR([{ALT:()=>e.SUBRULE(e.statementWithoutTrailingSubstatement)},{ALT:()=>e.SUBRULE(e.labeledStatement)},{ALT:()=>e.SUBRULE(e.ifStatement)},{ALT:()=>e.SUBRULE(e.whileStatement)},{ALT:()=>e.SUBRULE(e.forStatement)}])}),e.RULE("statementWithoutTrailingSubstatement",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.block)},{ALT:()=>e.SUBRULE(e.yieldStatement)},{ALT:()=>e.SUBRULE(e.emptyStatement)},{GATE:()=>!As(this.LA(1).tokenType,t.Switch),ALT:()=>e.SUBRULE(e.expressionStatement)},{ALT:()=>e.SUBRULE(e.assertStatement)},{ALT:()=>e.SUBRULE(e.switchStatement)},{ALT:()=>e.SUBRULE(e.doStatement)},{ALT:()=>e.SUBRULE(e.breakStatement)},{ALT:()=>e.SUBRULE(e.continueStatement)},{ALT:()=>e.SUBRULE(e.returnStatement)},{ALT:()=>e.SUBRULE(e.synchronizedStatement)},{ALT:()=>e.SUBRULE(e.throwStatement)},{ALT:()=>e.SUBRULE(e.tryStatement)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("emptyStatement",()=>{e.CONSUME(t.Semicolon)}),e.RULE("labeledStatement",()=>{e.CONSUME(t.Identifier),e.CONSUME(t.Colon),e.SUBRULE(e.statement)}),e.RULE("expressionStatement",()=>{e.SUBRULE(e.statementExpression),e.CONSUME(t.Semicolon)}),e.RULE("statementExpression",()=>{e.SUBRULE(e.expression)}),e.RULE("ifStatement",()=>{e.CONSUME(t.If),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.statement),e.OPTION(()=>{e.CONSUME(t.Else),e.SUBRULE2(e.statement)})}),e.RULE("assertStatement",()=>{e.CONSUME(t.Assert),e.SUBRULE(e.expression),e.OPTION(()=>{e.CONSUME(t.Colon),e.SUBRULE2(e.expression)}),e.CONSUME(t.Semicolon)}),e.RULE("switchStatement",()=>{e.CONSUME(t.Switch),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.switchBlock)}),e.RULE("switchBlock",()=>{e.CONSUME(t.LCurly),e.OR([{ALT:()=>{e.SUBRULE(e.switchRule),e.MANY(()=>e.SUBRULE2(e.switchRule))}},{ALT:()=>e.MANY2(()=>e.SUBRULE(e.switchBlockStatementGroup))}]),e.CONSUME(t.RCurly)}),e.RULE("switchBlockStatementGroup",()=>{e.SUBRULE(e.switchLabel),e.CONSUME(t.Colon),e.OPTION(()=>{e.SUBRULE(e.blockStatements)})}),e.RULE("switchLabel",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Case),e.OR2([{ALT:()=>{e.CONSUME(t.Null),e.OPTION2(()=>{e.CONSUME3(t.Comma),e.CONSUME(t.Default)})}},{ALT:()=>{e.SUBRULE(e.casePattern),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.casePattern)}),e.OPTION(()=>{e.SUBRULE(e.guard)})}},{GATE:()=>!As(e.LA(1).tokenType,t.Null),ALT:()=>{e.SUBRULE(e.caseConstant),e.MANY2(()=>{e.CONSUME2(t.Comma),e.SUBRULE2(e.caseConstant)})}}])}},{ALT:()=>e.CONSUME2(t.Default)}])}),e.RULE("switchRule",()=>{e.SUBRULE(e.switchLabel),e.CONSUME(t.Arrow),e.OR([{ALT:()=>e.SUBRULE(e.throwStatement)},{ALT:()=>e.SUBRULE(e.block)},{ALT:()=>{e.SUBRULE(e.expression),e.CONSUME(t.Semicolon)}}])}),e.RULE("caseConstant",()=>{e.SUBRULE(e.conditionalExpression)}),e.RULE("casePattern",()=>{e.SUBRULE(e.pattern)}),e.RULE("whileStatement",()=>{e.CONSUME(t.While),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.statement)}),e.RULE("doStatement",()=>{e.CONSUME(t.Do),e.SUBRULE(e.statement),e.CONSUME(t.While),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.CONSUME(t.Semicolon)}),e.RULE("forStatement",()=>{e.OR([{ALT:()=>e.SUBRULE(e.basicForStatement)},{ALT:()=>e.SUBRULE(e.enhancedForStatement)}])}),e.RULE("basicForStatement",()=>{e.CONSUME(t.For),e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.forInit)}),e.CONSUME(t.Semicolon),e.OPTION2(()=>{e.SUBRULE(e.expression)}),e.CONSUME2(t.Semicolon),e.OPTION3(()=>{e.SUBRULE(e.forUpdate)}),e.CONSUME(t.RBrace),e.SUBRULE(e.statement)}),e.RULE("forInit",()=>{e.OR([{ALT:()=>e.SUBRULE(e.localVariableDeclaration)},{ALT:()=>e.SUBRULE(e.statementExpressionList)}])}),e.RULE("forUpdate",()=>{e.SUBRULE(e.statementExpressionList)}),e.RULE("statementExpressionList",()=>{e.SUBRULE(e.statementExpression),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.statementExpression)})}),e.RULE("enhancedForStatement",()=>{e.CONSUME(t.For),e.CONSUME(t.LBrace),e.SUBRULE(e.localVariableDeclaration),e.CONSUME(t.Colon),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.statement)}),e.RULE("breakStatement",()=>{e.CONSUME(t.Break),e.OPTION(()=>{e.CONSUME(t.Identifier)}),e.CONSUME(t.Semicolon)}),e.RULE("continueStatement",()=>{e.CONSUME(t.Continue),e.OPTION(()=>{e.CONSUME(t.Identifier)}),e.CONSUME(t.Semicolon)}),e.RULE("returnStatement",()=>{e.CONSUME(t.Return),e.OPTION(()=>{e.SUBRULE(e.expression)}),e.CONSUME(t.Semicolon)}),e.RULE("throwStatement",()=>{e.CONSUME(t.Throw),e.SUBRULE(e.expression),e.CONSUME(t.Semicolon)}),e.RULE("synchronizedStatement",()=>{e.CONSUME(t.Synchronized),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.block)}),e.RULE("tryStatement",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Try),e.SUBRULE(e.block),e.OR2([{ALT:()=>{e.SUBRULE(e.catches),e.OPTION(()=>{e.SUBRULE(e.finally)})}},{ALT:()=>e.SUBRULE2(e.finally)}])}},{ALT:()=>e.SUBRULE(e.tryWithResourcesStatement)}])}),e.RULE("catches",()=>{e.SUBRULE(e.catchClause),e.MANY(()=>{e.SUBRULE2(e.catchClause)})}),e.RULE("catchClause",()=>{e.CONSUME(t.Catch),e.CONSUME(t.LBrace),e.SUBRULE(e.catchFormalParameter),e.CONSUME(t.RBrace),e.SUBRULE(e.block)}),e.RULE("catchFormalParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.catchType),e.SUBRULE(e.variableDeclaratorId)}),e.RULE("catchType",()=>{e.SUBRULE(e.unannClassType),e.MANY(()=>{e.CONSUME(t.Or),e.SUBRULE2(e.classType)})}),e.RULE("finally",()=>{e.CONSUME(t.Finally),e.SUBRULE(e.block)}),e.RULE("tryWithResourcesStatement",()=>{e.CONSUME(t.Try),e.SUBRULE(e.resourceSpecification),e.SUBRULE(e.block),e.OPTION(()=>{e.SUBRULE(e.catches)}),e.OPTION2(()=>{e.SUBRULE(e.finally)})}),e.RULE("resourceSpecification",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.resourceList),e.OPTION(()=>{e.CONSUME(t.Semicolon)}),e.CONSUME(t.RBrace)}),e.RULE("resourceList",()=>{e.SUBRULE(e.resource),e.MANY({GATE:()=>!1===As(e.LA(2).tokenType,t.RBrace),DEF:()=>{e.CONSUME(t.Semicolon),e.SUBRULE2(e.resource)}})}),e.RULE("resource",()=>{e.OR([{ALT:()=>e.SUBRULE(e.localVariableDeclaration)},{ALT:()=>e.SUBRULE(e.variableAccess)}])}),e.RULE("yieldStatement",()=>{e.CONSUME(t.Yield),e.SUBRULE(e.expression),e.CONSUME(t.Semicolon)}),e.RULE("variableAccess",()=>{e.SUBRULE(e.primary)})}function Oc(e,t){e.RULE("expression",()=>{e.OR([{ALT:()=>e.SUBRULE(e.lambdaExpression)},{ALT:()=>e.SUBRULE(e.conditionalExpression)}])}),e.RULE("lambdaExpression",()=>{e.SUBRULE(e.lambdaParameters),e.CONSUME(t.Arrow),e.SUBRULE(e.lambdaBody)}),e.RULE("lambdaParameters",()=>{e.OR([{ALT:()=>e.SUBRULE(e.lambdaParametersWithBraces)},{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.Underscore)}])}),e.RULE("lambdaParametersWithBraces",()=>{e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.lambdaParameterList)}),e.CONSUME(t.RBrace)}),e.RULE("lambdaParameterList",()=>{e.OR([{GATE:()=>{const e=this.LA(1).tokenType,n=this.LA(2).tokenType;return(As(e,t.Identifier)||As(e,t.Underscore))&&(As(n,t.RBrace)||As(n,t.Comma))},ALT:()=>e.SUBRULE(e.conciseLambdaParameterList)},{ALT:()=>e.SUBRULE(e.normalLambdaParameterList)}])}),e.RULE("conciseLambdaParameterList",()=>{e.SUBRULE(e.conciseLambdaParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.conciseLambdaParameter)})}),e.RULE("normalLambdaParameterList",()=>{e.SUBRULE(e.normalLambdaParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.normalLambdaParameter)})}),e.RULE("normalLambdaParameter",()=>{e.OR([{ALT:()=>e.SUBRULE(e.regularLambdaParameter)},{ALT:()=>e.SUBRULE(e.variableArityParameter)}])}),e.RULE("regularLambdaParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.lambdaParameterType),e.SUBRULE(e.variableDeclaratorId)}),e.RULE("lambdaParameterType",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.unannType)},{ALT:()=>e.CONSUME(t.Var)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("conciseLambdaParameter",()=>{e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.Underscore)}])}),e.RULE("lambdaBody",()=>{e.OR([{ALT:()=>e.SUBRULE(e.expression)},{ALT:()=>e.SUBRULE(e.block)}])}),e.RULE("conditionalExpression",()=>{e.SUBRULE(e.binaryExpression),e.OPTION(()=>{e.CONSUME(t.QuestionMark),e.SUBRULE(e.expression),e.CONSUME(t.Colon),e.SUBRULE2(e.expression)})}),e.RULE("binaryExpression",()=>{e.SUBRULE(e.unaryExpression),e.MANY(()=>{e.OR({DEF:[{ALT:()=>{e.CONSUME(t.Instanceof),e.OR1([{ALT:()=>e.SUBRULE(e.pattern)},{ALT:()=>e.SUBRULE(e.referenceType)}])}},{ALT:()=>{e.CONSUME(t.AssignmentOperator),e.SUBRULE2(e.expression)}},{GATE:()=>As(e.LA(2).tokenType,t.Less)||As(e.LA(2).tokenType,t.Greater),ALT:()=>{e.OR2([{GATE:()=>e.LA(1).startOffset+1===e.LA(2).startOffset,ALT:()=>{e.CONSUME(t.Less),e.CONSUME2(t.Less)}},{GATE:()=>e.LA(1).startOffset+1===e.LA(2).startOffset,ALT:()=>{e.CONSUME(t.Greater),e.CONSUME2(t.Greater),e.OPTION({GATE:()=>e.LA(0).startOffset+1===e.LA(1).startOffset,DEF:()=>e.CONSUME3(t.Greater)})}}]),e.SUBRULE2(e.unaryExpression)}},{ALT:()=>{e.CONSUME(t.BinaryOperator),e.SUBRULE3(e.unaryExpression)}}],IGNORE_AMBIGUITIES:!0})})}),e.RULE("unaryExpression",()=>{e.MANY(()=>{e.CONSUME(t.UnaryPrefixOperator)}),e.SUBRULE(e.primary),e.MANY2(()=>{e.CONSUME(t.UnarySuffixOperator)})}),e.RULE("unaryExpressionNotPlusMinus",()=>{e.MANY(()=>{e.CONSUME(t.UnaryPrefixOperatorNotPlusMinus)}),e.SUBRULE(e.primary),e.MANY2(()=>{e.CONSUME(t.UnarySuffixOperator)})}),e.RULE("primary",()=>{e.SUBRULE(e.primaryPrefix),e.MANY(()=>{e.SUBRULE(e.primarySuffix)})}),e.RULE("primaryPrefix",()=>{e.OR([{ALT:()=>e.SUBRULE(e.literal)},{ALT:()=>e.CONSUME(t.This)},{ALT:()=>e.CONSUME(t.Void)},{ALT:()=>e.SUBRULE(e.unannPrimitiveTypeWithOptionalDimsSuffix)},{ALT:()=>e.SUBRULE(e.fqnOrRefType)},{ALT:()=>e.SUBRULE(e.castExpression)},{ALT:()=>e.SUBRULE(e.parenthesisExpression)},{ALT:()=>e.SUBRULE(e.newExpression)},{ALT:()=>e.SUBRULE(e.switchStatement)}])}),e.RULE("primarySuffix",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Dot),e.OR2([{ALT:()=>e.CONSUME(t.This)},{ALT:()=>e.SUBRULE(e.unqualifiedClassInstanceCreationExpression)},{ALT:()=>{e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.CONSUME(t.Identifier)}},{ALT:()=>e.SUBRULE(e.templateArgument)}])}},{ALT:()=>e.SUBRULE(e.methodInvocationSuffix)},{ALT:()=>e.SUBRULE(e.classLiteralSuffix)},{ALT:()=>e.SUBRULE(e.arrayAccessSuffix)},{ALT:()=>e.SUBRULE(e.methodReferenceSuffix)}])}),e.RULE("fqnOrRefType",()=>{e.SUBRULE(e.fqnOrRefTypePartFirst),e.MANY({GATE:()=>{const n=e.LA(2);return!(As(n,t.Class)||As(n,t.This)||As(n,t.New)||As(n,t.StringLiteral)||As(n,t.TextBlock)||As(n,t.StringTemplateBegin)||As(n,t.TextBlockTemplateBegin))},DEF:()=>{e.CONSUME(t.Dot),e.SUBRULE2(e.fqnOrRefTypePartRest)}}),e.OPTION({GATE:()=>As(e.LA(1).tokenType,t.At)||As(e.LA(2).tokenType,t.RSquare),DEF:()=>{e.SUBRULE(e.dims)}})}),e.RULE("fqnOrRefTypePartRest",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OPTION(()=>e.SUBRULE2(e.typeArguments)),e.SUBRULE(e.fqnOrRefTypePartCommon)}),e.RULE("fqnOrRefTypePartCommon",()=>{e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.Super)}]);let n=!1;As(e.LA(1).tokenType,t.Less)&&(n=this.BACKTRACK_LOOKAHEAD(e.isRefTypeInMethodRef)),e.OPTION2({GATE:()=>n,DEF:()=>{e.SUBRULE3(e.typeArguments)}})}),e.RULE("fqnOrRefTypePartFirst",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.SUBRULE(e.fqnOrRefTypePartCommon)}),e.RULE("parenthesisExpression",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace)}),e.RULE("castExpression",()=>{e.OR([{ALT:()=>e.SUBRULE(e.primitiveCastExpression)},{ALT:()=>e.SUBRULE(e.referenceTypeCastExpression)}])}),e.RULE("primitiveCastExpression",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.primitiveType),e.CONSUME(t.RBrace),e.SUBRULE(e.unaryExpression)}),e.RULE("referenceTypeCastExpression",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.referenceType),e.MANY(()=>{e.SUBRULE(e.additionalBound)}),e.CONSUME(t.RBrace),e.OR([{ALT:()=>e.SUBRULE(e.lambdaExpression)},{ALT:()=>e.SUBRULE(e.unaryExpressionNotPlusMinus)}])}),e.RULE("newExpression",()=>{e.OR([{ALT:()=>e.SUBRULE(e.arrayCreationExpression)},{ALT:()=>e.SUBRULE(e.unqualifiedClassInstanceCreationExpression)}])}),e.RULE("unqualifiedClassInstanceCreationExpression",()=>{e.CONSUME(t.New),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.SUBRULE(e.classOrInterfaceTypeToInstantiate),e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace),e.OPTION3(()=>{e.SUBRULE(e.classBody)})}),e.RULE("classOrInterfaceTypeToInstantiate",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.Identifier),e.MANY2(()=>{e.CONSUME(t.Dot),e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.Identifier)}),e.OPTION(()=>{e.SUBRULE(e.typeArgumentsOrDiamond)})}),e.RULE("typeArgumentsOrDiamond",()=>{e.OR([{ALT:()=>e.SUBRULE(e.diamond)},{ALT:()=>e.SUBRULE(e.typeArguments)}])}),e.RULE("diamond",()=>{e.CONSUME(t.Less),e.CONSUME(t.Greater)}),e.RULE("methodInvocationSuffix",()=>{e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace)}),e.RULE("argumentList",()=>{e.SUBRULE(e.expression),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.expression)})}),e.RULE("arrayCreationExpression",()=>{e.CONSUME(t.New),e.OR([{ALT:()=>e.SUBRULE(e.primitiveType)},{ALT:()=>e.SUBRULE(e.classOrInterfaceType)}]),e.OR2([{ALT:()=>e.SUBRULE(e.arrayCreationExpressionWithoutInitializerSuffix)},{ALT:()=>e.SUBRULE(e.arrayCreationWithInitializerSuffix)}])}),e.RULE("arrayCreationExpressionWithoutInitializerSuffix",()=>{e.SUBRULE(e.dimExprs),e.OPTION(()=>{e.SUBRULE(e.dims)})}),e.RULE("arrayCreationWithInitializerSuffix",()=>{e.SUBRULE(e.dims),e.SUBRULE(e.arrayInitializer)}),e.RULE("dimExprs",()=>{e.SUBRULE(e.dimExpr),e.MANY({GATE:()=>!1===As(e.LA(2).tokenType,t.RSquare),DEF:()=>e.SUBRULE2(e.dimExpr)})}),e.RULE("dimExpr",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.LSquare),e.SUBRULE(e.expression),e.CONSUME(t.RSquare)}),e.RULE("classLiteralSuffix",()=>{e.MANY(()=>{e.CONSUME(t.LSquare),e.CONSUME(t.RSquare)}),e.CONSUME(t.Dot),e.CONSUME(t.Class)}),e.RULE("arrayAccessSuffix",()=>{e.CONSUME(t.LSquare),e.SUBRULE(e.expression),e.CONSUME(t.RSquare)}),e.RULE("methodReferenceSuffix",()=>{e.CONSUME(t.ColonColon),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.New)}])}),e.RULE("templateArgument",()=>{e.OR([{ALT:()=>e.SUBRULE(e.template)},{ALT:()=>e.CONSUME(t.StringLiteral)},{ALT:()=>e.CONSUME(t.TextBlock)}])}),e.RULE("template",()=>{e.OR([{ALT:()=>e.SUBRULE(e.stringTemplate)},{ALT:()=>e.SUBRULE(e.textBlockTemplate)}])}),e.RULE("stringTemplate",()=>{e.CONSUME(t.StringTemplateBegin),e.SUBRULE(e.embeddedExpression),e.MANY(()=>{e.CONSUME(t.StringTemplateMid),e.SUBRULE1(e.embeddedExpression)}),e.CONSUME(t.StringTemplateEnd)}),e.RULE("textBlockTemplate",()=>{e.CONSUME(t.TextBlockTemplateBegin),e.SUBRULE(e.embeddedExpression),e.MANY(()=>{e.CONSUME(t.TextBlockTemplateMid),e.SUBRULE1(e.embeddedExpression)}),e.CONSUME(t.TextBlockTemplateEnd)}),e.RULE("embeddedExpression",()=>{e.OPTION(()=>{e.SUBRULE(e.expression)})}),e.RULE("pattern",()=>{e.OR([{ALT:()=>e.SUBRULE(e.typePattern)},{ALT:()=>e.SUBRULE(e.recordPattern)}])}),e.RULE("typePattern",()=>{e.SUBRULE(e.localVariableDeclaration,{ARGS:[!0]})}),e.RULE("recordPattern",()=>{e.SUBRULE(e.referenceType),e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.componentPatternList)}),e.CONSUME(t.RBrace)}),e.RULE("componentPatternList",()=>{e.SUBRULE(e.componentPattern),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.componentPattern)})}),e.RULE("componentPattern",()=>{e.OR([{ALT:()=>e.SUBRULE(e.pattern)},{ALT:()=>e.SUBRULE(e.matchAllPattern)}])}),e.RULE("matchAllPattern",()=>{e.CONSUME(t.Underscore)}),e.RULE("guard",()=>{e.CONSUME(t.When),e.SUBRULE(e.expression)}),e.RULE("isRefTypeInMethodRef",()=>{let n;e.SUBRULE(e.typeArguments);const r=e.OPTION(()=>{e.SUBRULE(e.dims)});return As(this.LA(1).tokenType,t.ColonColon)?n=!0:r&&(n=!1),e.OPTION2(()=>{e.CONSUME(t.Dot),e.SUBRULE(e.classOrInterfaceType)}),void 0!==n?n:As(this.LA(1).tokenType,t.ColonColon)})}function Ic(){return this.computeContentAssist("unaryExpressionNotPlusMinus",[]).map(e=>e.nextTokenType).filter((e,t,n)=>n.indexOf(e)===t)}var Cc=n(20681);function kc(e){return e.image.match(/(\/\/(\s*)prettier-ignore(\s*))|(\/\*(\s*)prettier-ignore(\s*)\*\/)/gm)}const Nc=new class extends oo{constructor(){super(bo,{lookaheadStrategy:new ac({logging:Lo()?()=>{}:void 0}),nodeLocationTracking:"full",skipValidations:Lo()});const e=this;this.mostEnclosiveCstNodeByStartOffset={},this.mostEnclosiveCstNodeByEndOffset={},e.RULE("typeIdentifier",()=>{e.CONSUME(To.Identifier)}),Sc.call(this,e,To),Tc.call(this,e,To),_c.call(this,e,To),Ec.call(this,e,To),Pc.call(this,e,To),xc.call(this,e,To),wc.call(this,e,To),Ac.call(this,e,To),Oc.call(this,e,To),this.firstForUnaryExpressionNotPlusMinus=[],this.performSelfAnalysis(),this.firstForUnaryExpressionNotPlusMinus=Ic.call(this)}cstPostNonTerminal(e,t){this.isBackTracking()||(super.cstPostNonTerminal(e,t),this.mostEnclosiveCstNodeByStartOffset[e.location.startOffset]=e,this.mostEnclosiveCstNodeByEndOffset[e.location.endOffset]=e,function(e,t){const n=Cc(t,t=>t.off.endOffset<e.location.startOffset);void 0!==n&&(void 0===n.on||n.on.startOffset>e.location.endOffset)&&(e.ignore=!0)}(e,this.onOffCommentPairs))}BACKTRACK_LOOKAHEAD(e,t=!1){return this.ACTION(()=>{this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{const{ruleName:t,originalGrammarAction:n}=e;try{return this.ruleInvocationStateUpdate(this.fullRuleNameToShort[t],t,this.subruleIdx),n.call(this)}catch(e){return this.invokeRuleCatch(e,!0,()=>{})}finally{this.ruleFinallyStateUpdate()}}catch(e){if(Pa(e))return t;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}})}setOnOffCommentPairs(e){this.onOffCommentPairs=e}},Lc=Nc.getBaseCstVisitorConstructor(),$c=Nc.getBaseCstVisitorConstructorWithDefaults();function Mc(e,t="compilationUnit"){const n=$o.tokenize(e);if(n.errors.length>0){const e=n.errors[0];throw Error("Sad sad panda, lexing errors detected in line: "+e.line+", column: "+e.column+"!\n"+e.message)}const r=n.tokens;Nc.input=r,Nc.mostEnclosiveCstNodeByStartOffset={},Nc.mostEnclosiveCstNodeByEndOffset={},Nc.setOnOffCommentPairs(function(e){const t=e.filter(e=>function(e){return e.image.match(/(\/\/(\s*)@formatter:(off|on)(\s*))|(\/\*(\s*)@formatter:(off|on)(\s*)\*\/)/gm)}(e));let n=!1,r=!0;const i=[];let s={};return t.forEach(e=>{r="off"===e.image.slice(-3),n?r||(s.on=e,i.push(s),s={}):r&&(s.off=e),n=r}),t.length>0&&r&&(s.on=void 0,i.push(s)),i}(n.groups.comments));const i=Nc[t]();if(Nc.errors.length>0){const e=Nc.errors[0];throw Error("Sad sad panda, parsing errors detected in line: "+e.token.startLine+", column: "+e.token.startColumn+"!\n"+e.message+"!\n\t->"+e.context.ruleStack.join("\n\t->"))}return function(e,t,n,r){if(0===e.length)return void(n.NaN.leadingComments=t);!function(e,t,n){e.forEach(e=>{void 0===t[e.startOffset]&&(t[e.startOffset]=e),void 0===n[e.endOffset]&&(n[e.endOffset]=e)})}(e,n,r),function(e,t){let n;e.forEach(e=>{n=function(e,t){let n,r,i,s=e.length;for(r=0;s;)n=s>>>1,i=r+n,e[i].startOffset>t.startOffset?s=n:(r=i+1,s-=n+1);return r}(t,e);const r=n-1<0?e.startOffset:t[n-1].endOffset,i=n==t.length?e.endOffset:t[n].startOffset;e.extendedOffset={startOffset:r,endOffset:i}})}(t,e);const{commentsByExtendedStartOffset:i,commentsByExtendedEndOffset:s}=function(e){const t={},n={};return e.forEach(e=>{const r=e.extendedOffset.startOffset,i=e.extendedOffset.endOffset;void 0===t[i]?t[i]=[e]:t[i].push(e),void 0===n[r]?n[r]=[e]:n[r].push(e)}),{commentsByExtendedEndOffset:t,commentsByExtendedStartOffset:n}}(t),a=new Set(t);Object.keys(r).forEach(e=>{if(void 0!==i[e]){const t=i[e].filter(t=>function(e,t,n){if(kc(e))return!1;const r=n[e.extendedOffset.endOffset];if(void 0===r)return!0;const i=void 0!==t.location?t.location.endLine:t.endLine;if(e.startLine!==i)return!1;const s=void 0!==r.location?r.location.startLine:r.startLine;return e.endLine!==s}(t,r[e],n)&&a.has(t));t.length>0&&(r[e].trailingComments=t),t.forEach(e=>{a.delete(e)})}}),Object.keys(n).forEach(e=>{if(void 0!==s[e]){const t=s[e].filter(e=>a.has(e));t.length>0&&(n[e].leadingComments=t);for(let r=0;r<t.length;r++)if(kc(t[r])){const t=n[e];("blockStatements"===t.name?t.children.blockStatement[0]:t).ignore=!0;break}}})}(r,n.groups.comments,Nc.mostEnclosiveCstNodeByStartOffset,Nc.mostEnclosiveCstNodeByEndOffset),{cst:i,tokens:r}}function Rc(e,t="compilationUnit"){return Mc(e,t).cst}const jc={lexAndParse:Mc,parse:Rc,BaseJavaCstVisitor:Lc,BaseJavaCstVisitorWithDefaults:$c}},45434:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},45539:(e,t,n)=>{var r=n(40882),i=n(50828),s=n(66645),a=RegExp("['’]","g");e.exports=function(e){return function(t){return r(s(i(t).replace(a,"")),e,"")}}},45589:(e,t,n)=>{"use strict";var r=n(77596),i=n(59187),s=n(5158);const a=(0,r.defineAliasedType)("Miscellaneous");a("Noop",{visitor:[]}),a("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:Object.assign({name:{validate:(0,r.assertNodeType)("Identifier")},expectedNode:{validate:(0,r.assertOneOf)(...i.PLACEHOLDERS)}},(0,s.patternLikeCommon)())}),a("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:(0,r.assertValueType)("string")}}})},45682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r=(0,n(3937).default)("React.Component");t.default=r},45753:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(17833):e.exports=n(76033)},45856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputItems=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{list(e,t={},n){return this._client.getAPIList(s.path`/responses/${e}/input_items`,i.CursorPage,{query:t,...n})}}t.InputItems=a},46049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.map(e=>(0,s.isTSTypeAnnotation)(e)?e.typeAnnotation:e),n=(0,i.default)(t);return 1===n.length?n[0]:(0,r.tsUnionType)(n)};var r=n(48079),i=n(78812),s=n(98960)},46106:(e,t,n)=>{"use strict";var r=n(77596),i=n(5158),s=n(93828);const a=(0,r.defineAliasedType)("TypeScript"),o=(0,r.assertValueType)("boolean"),c=()=>({returnType:{validate:(0,r.assertNodeType)("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,r.assertNodeType)("TSTypeParameterDeclaration","Noop"),optional:!0}});a("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:(0,r.assertOneOf)("public","private","protected"),optional:!0},readonly:{validate:(0,r.assertValueType)("boolean"),optional:!0},parameter:{validate:(0,r.assertNodeType)("Identifier","AssignmentPattern")},override:{validate:(0,r.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,r.arrayOfType)("Decorator"),optional:!0}}}),a("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},(0,i.functionDeclarationCommon)(),c())}),a("TSDeclareMethod",Object.assign({visitor:["decorators","key","typeParameters","params","returnType"]},(0,i.classMethodOrPropertyUnionShapeCommon)(),{fields:Object.assign({},(0,i.classMethodOrDeclareMethodCommon)(),c())})),a("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:(0,r.validateType)("TSEntityName"),right:(0,r.validateType)("Identifier")}});const l=()=>({typeParameters:(0,r.validateOptionalType)("TSTypeParameterDeclaration"),parameters:(0,r.validateArrayOfType)("ArrayPattern","Identifier","ObjectPattern","RestElement"),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation")}),u={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:l()};a("TSCallSignatureDeclaration",u),a("TSConstructSignatureDeclaration",u);const d=()=>({key:(0,r.validateType)("Expression"),computed:{default:!1},optional:(0,r.validateOptional)(o)});a("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation"],fields:Object.assign({},d(),{readonly:(0,r.validateOptional)(o),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation"),kind:{optional:!0,validate:(0,r.assertOneOf)("get","set")}})}),a("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},l(),d(),{kind:{validate:(0,r.assertOneOf)("method","get","set")}})}),a("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:(0,r.validateOptional)(o),static:(0,r.validateOptional)(o),parameters:(0,r.validateArrayOfType)("Identifier"),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation")}});const p=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];for(const e of p)a(e,{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});a("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});const h={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"]};a("TSFunctionType",Object.assign({},h,{fields:l()})),a("TSConstructorType",Object.assign({},h,{fields:Object.assign({},l(),{abstract:(0,r.validateOptional)(o)})})),a("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:(0,r.validateType)("TSEntityName"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}}),a("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:(0,r.validateType)("Identifier","TSThisType"),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation"),asserts:(0,r.validateOptional)(o)}}),a("TSTypeQuery",{aliases:["TSType"],visitor:["exprName","typeParameters"],fields:{exprName:(0,r.validateType)("TSEntityName","TSImportType"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}}),a("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:(0,r.validateArrayOfType)("TSTypeElement")}}),a("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:(0,r.validateType)("TSType")}}),a("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:(0,r.validateArrayOfType)("TSType","TSNamedTupleMember")}}),a("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,r.validateType)("TSType")}}),a("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,r.validateType)("TSType")}}),a("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:(0,r.validateType)("Identifier"),optional:{validate:o,default:!1},elementType:(0,r.validateType)("TSType")}});const f={aliases:["TSType"],visitor:["types"],fields:{types:(0,r.validateArrayOfType)("TSType")}};a("TSUnionType",f),a("TSIntersectionType",f),a("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:(0,r.validateType)("TSType"),extendsType:(0,r.validateType)("TSType"),trueType:(0,r.validateType)("TSType"),falseType:(0,r.validateType)("TSType")}}),a("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:(0,r.validateType)("TSTypeParameter")}}),a("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,r.validateType)("TSType")}}),a("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],builder:["typeAnnotation","operator"],fields:{operator:{validate:(0,r.assertValueType)("string"),default:"keyof"},typeAnnotation:(0,r.validateType)("TSType")}}),a("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:(0,r.validateType)("TSType"),indexType:(0,r.validateType)("TSType")}}),a("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","nameType","typeAnnotation"],builder:["typeParameter","typeAnnotation","nameType"],fields:Object.assign({},{typeParameter:(0,r.validateType)("TSTypeParameter")},{readonly:(0,r.validateOptional)((0,r.assertOneOf)(!0,!1,"+","-")),optional:(0,r.validateOptional)((0,r.assertOneOf)(!0,!1,"+","-")),typeAnnotation:(0,r.validateOptionalType)("TSType"),nameType:(0,r.validateOptionalType)("TSType")})}),a("TSTemplateLiteralType",{aliases:["TSType","TSBaseType"],visitor:["quasis","types"],fields:{quasis:(0,r.validateArrayOfType)("TemplateElement"),types:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("TSType")),function(e,t,n){if(e.quasis.length!==n.length+1)throw new TypeError(`Number of ${e.type} quasis should be exactly one more than the number of types.\nExpected ${n.length+1} quasis but got ${e.quasis.length}`)})}}}),a("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:{validate:function(){const e=(0,r.assertNodeType)("NumericLiteral","BigIntLiteral"),t=(0,r.assertOneOf)("-"),n=(0,r.assertNodeType)("NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral"),i=function(r,i,a){(0,s.default)("UnaryExpression",a)?(t(a,"operator",a.operator),e(a,"argument",a.argument)):n(r,i,a)};return i.oneOfNodeTypes=["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral","UnaryExpression"],i}()}}}),a("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:(0,r.validateType)("TSEntityName"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}}),a("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:(0,r.validateOptional)(o),id:(0,r.validateType)("Identifier"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterDeclaration"),extends:(0,r.validateOptional)((0,r.arrayOfType)("TSExpressionWithTypeArguments")),body:(0,r.validateType)("TSInterfaceBody")}}),a("TSInterfaceBody",{visitor:["body"],fields:{body:(0,r.validateArrayOfType)("TSTypeElement")}}),a("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:(0,r.validateOptional)(o),id:(0,r.validateType)("Identifier"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterDeclaration"),typeAnnotation:(0,r.validateType)("TSType")}}),a("TSInstantiationExpression",{aliases:["Expression"],visitor:["expression","typeParameters"],fields:{expression:(0,r.validateType)("Expression"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}});const m={aliases:["Expression","LVal","PatternLike"],visitor:["expression","typeAnnotation"],fields:{expression:(0,r.validateType)("Expression"),typeAnnotation:(0,r.validateType)("TSType")}};a("TSAsExpression",m),a("TSSatisfiesExpression",m),a("TSTypeAssertion",{aliases:["Expression","LVal","PatternLike"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:(0,r.validateType)("TSType"),expression:(0,r.validateType)("Expression")}}),a("TSEnumBody",{visitor:["members"],fields:{members:(0,r.validateArrayOfType)("TSEnumMember")}}),a("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:(0,r.validateOptional)(o),const:(0,r.validateOptional)(o),id:(0,r.validateType)("Identifier"),members:(0,r.validateArrayOfType)("TSEnumMember"),initializer:(0,r.validateOptionalType)("Expression"),body:(0,r.validateOptionalType)("TSEnumBody")}}),a("TSEnumMember",{visitor:["id","initializer"],fields:{id:(0,r.validateType)("Identifier","StringLiteral"),initializer:(0,r.validateOptionalType)("Expression")}}),a("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:Object.assign({kind:{validate:(0,r.assertOneOf)("global","module","namespace")},declare:(0,r.validateOptional)(o)},{global:(0,r.validateOptional)(o)},{id:(0,r.validateType)("Identifier","StringLiteral"),body:(0,r.validateType)("TSModuleBlock","TSModuleDeclaration")})}),a("TSModuleBlock",{aliases:["Scopable","Block","BlockParent","FunctionParent"],visitor:["body"],fields:{body:(0,r.validateArrayOfType)("Statement")}}),a("TSImportType",{aliases:["TSType"],builder:["argument","qualifier","typeParameters"],visitor:["argument","options","qualifier","typeParameters"],fields:{argument:(0,r.validateType)("StringLiteral"),qualifier:(0,r.validateOptionalType)("TSEntityName"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation"),options:{validate:(0,r.assertNodeType)("ObjectExpression"),optional:!0}}}),a("TSImportEqualsDeclaration",{aliases:["Statement","Declaration"],visitor:["id","moduleReference"],fields:Object.assign({},{isExport:(0,r.validate)(o)},{id:(0,r.validateType)("Identifier"),moduleReference:(0,r.validateType)("TSEntityName","TSExternalModuleReference"),importKind:{validate:(0,r.assertOneOf)("type","value"),optional:!0}})}),a("TSExternalModuleReference",{visitor:["expression"],fields:{expression:(0,r.validateType)("StringLiteral")}}),a("TSNonNullExpression",{aliases:["Expression","LVal","PatternLike"],visitor:["expression"],fields:{expression:(0,r.validateType)("Expression")}}),a("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:(0,r.validateType)("Expression")}}),a("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:(0,r.validateType)("Identifier")}}),a("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:(0,r.assertNodeType)("TSType")}}}),a("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:(0,r.validateArrayOfType)("TSType")}}),a("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:(0,r.validateArrayOfType)("TSTypeParameter")}}),a("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:(0,r.assertValueType)("string")},in:{validate:(0,r.assertValueType)("boolean"),optional:!0},out:{validate:(0,r.assertValueType)("boolean"),optional:!0},const:{validate:(0,r.assertValueType)("boolean"),optional:!0},constraint:{validate:(0,r.assertNodeType)("TSType"),optional:!0},default:{validate:(0,r.assertNodeType)("TSType"),optional:!0}}})},46163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBrandedDef=void 0;const r=n(73524);t.parseBrandedDef=function(e,t){return(0,r.parseDef)(e.type._def,t)}},46172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseObjectDef=void 0;const r=n(73524);function i(e){try{return e.isOptional()}catch{return!0}}t.parseObjectDef=function(e,t){const n="openAi"===t.target,s={type:"object",properties:{}},a=[],o=e.shape();for(const e in o){let c=o[e];if(void 0===c||void 0===c._def)continue;let l=i(c);l&&n&&("ZodOptional"===c._def.typeName&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),l=!1);const u=(0,r.parseDef)(c._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==u&&(s.properties[e]=u,l||a.push(e))}a.length&&(s.required=a);const c=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return(0,r.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==c&&(s.additionalProperties=c),s}},46184:(e,t,n)=>{"use strict";var r=n(77596);const i=(0,r.defineAliasedType)("JSX");i("JSXAttribute",{visitor:["name","value"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:(0,r.assertNodeType)("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}}),i("JSXClosingElement",{visitor:["name"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}}),i("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["Immutable","Expression"],fields:Object.assign({openingElement:{validate:(0,r.assertNodeType)("JSXOpeningElement")},closingElement:{optional:!0,validate:(0,r.assertNodeType)("JSXClosingElement")},children:(0,r.validateArrayOfType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")},{selfClosing:{validate:(0,r.assertValueType)("boolean"),optional:!0}})}),i("JSXEmptyExpression",{}),i("JSXExpressionContainer",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,r.assertNodeType)("Expression","JSXEmptyExpression")}}}),i("JSXSpreadChild",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}}}),i("JSXIdentifier",{builder:["name"],fields:{name:{validate:(0,r.assertValueType)("string")}}}),i("JSXMemberExpression",{visitor:["object","property"],fields:{object:{validate:(0,r.assertNodeType)("JSXMemberExpression","JSXIdentifier")},property:{validate:(0,r.assertNodeType)("JSXIdentifier")}}}),i("JSXNamespacedName",{visitor:["namespace","name"],fields:{namespace:{validate:(0,r.assertNodeType)("JSXIdentifier")},name:{validate:(0,r.assertNodeType)("JSXIdentifier")}}}),i("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","typeParameters","typeArguments","attributes"],aliases:["Immutable"],fields:Object.assign({name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:(0,r.validateArrayOfType)("JSXAttribute","JSXSpreadAttribute"),typeArguments:{validate:(0,r.assertNodeType)("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:(0,r.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),i("JSXSpreadAttribute",{visitor:["argument"],fields:{argument:{validate:(0,r.assertNodeType)("Expression")}}}),i("JSXText",{aliases:["Immutable"],builder:["value"],fields:{value:{validate:(0,r.assertValueType)("string")}}}),i("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["Immutable","Expression"],fields:{openingFragment:{validate:(0,r.assertNodeType)("JSXOpeningFragment")},closingFragment:{validate:(0,r.assertNodeType)("JSXClosingFragment")},children:(0,r.validateArrayOfType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")}}),i("JSXOpeningFragment",{aliases:["Immutable"]}),i("JSXClosingFragment",{aliases:["Immutable"]})},46289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isToolMessage=t.isAssistantMessage=void 0,t.isPresent=function(e){return null!=e},t.isAssistantMessage=e=>"assistant"===e?.role,t.isToolMessage=e=>"tool"===e?.role},46636:(e,t,n)=>{"use strict";var r,i,s,a,o,c,l,u;Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseStream=void 0;const d=n(79632),p=n(89526),h=n(50460),f=n(97759);class m extends h.EventStream{constructor(e){super(),r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),d.__classPrivateFieldSet(this,i,e,"f")}static createResponse(e,t,n){const r=new m(t);return r._run(()=>r._createOrRetrieveResponse(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,t,n){const i=n?.signal;let s;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),d.__classPrivateFieldGet(this,r,"m",o).call(this);let a=null;"response_id"in t?(s=await e.responses.retrieve(t.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=t.starting_after??null):s=await e.responses.create({...t,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const e of s)d.__classPrivateFieldGet(this,r,"m",c).call(this,e,a);if(s.controller.signal?.aborted)throw new p.APIUserAbortError;return d.__classPrivateFieldGet(this,r,"m",l).call(this)}[(i=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,o=function(){this.ended||d.__classPrivateFieldSet(this,s,void 0,"f")},c=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},i=d.__classPrivateFieldGet(this,r,"m",u).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=i.output[e.output_index];if(!t)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==r.type)throw new p.OpenAIError(`expected content to be 'output_text', got ${r.type}`);n("response.output_text.delta",{...e,snapshot:r.text})}break}case"response.function_call_arguments.delta":{const t=i.output[e.output_index];if(!t)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===t.type&&n("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:n(e.type,e)}},l=function(){if(this.ended)throw new p.OpenAIError("stream has ended, this shouldn't happen");const e=d.__classPrivateFieldGet(this,s,"f");if(!e)throw new p.OpenAIError("request ended without sending any events");d.__classPrivateFieldSet(this,s,void 0,"f");const t=function(e,t){return(0,f.maybeParseResponse)(e,t)}(e,d.__classPrivateFieldGet(this,i,"f"));return d.__classPrivateFieldSet(this,a,t,"f"),t},u=function(e){let t=d.__classPrivateFieldGet(this,s,"f");if(!t){if("response.created"!==e.type)throw new p.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=d.__classPrivateFieldSet(this,s,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);const r=n.type,i=e.part;"message"===r&&"reasoning_text"!==i.type?n.content.push(i):"reasoning"===r&&"reasoning_text"===i.type&&(n.content||(n.content=[]),n.content.push(i));break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new p.OpenAIError(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.reasoning_text.delta":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("reasoning"===n.type){const t=n.content?.[e.content_index];if(!t)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("reasoning_text"!==t.type)throw new p.OpenAIError(`expected content to be 'reasoning_text', got ${t.type}`);t.text+=e.delta}break}case"response.completed":d.__classPrivateFieldSet(this,s,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=d.__classPrivateFieldGet(this,a,"f");if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}}t.ResponseStream=m},46911:(e,t,n)=>{const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(16928),s=r?";":":",a=n(41147),o=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||s,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],a=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=r?a.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==o[0]&&o.unshift(""),{pathEnv:i,pathExt:o,pathExtExe:a}},l=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:s,pathExtExe:l}=c(e,t),u=[],d=n=>new Promise((s,a)=>{if(n===r.length)return t.all&&u.length?s(u):a(o(e));const c=r[n],l=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;s(p(h,n,0))}),p=(e,n,r)=>new Promise((i,o)=>{if(r===s.length)return i(d(n+1));const c=s[r];a(e+c,{pathExt:l},(s,a)=>{if(!s&&a){if(!t.all)return i(e+c);u.push(e+c)}return i(p(e,n,r+1))})});return n?d(0).then(e=>n(null,e),n):d(0)};e.exports=l,l.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:s}=c(e,t),l=[];for(let o=0;o<n.length;o++){const c=n[o],u=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(u,e),p=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const n=p+r[e];try{if(a.sync(n,{pathExt:s})){if(!t.all)return n;l.push(n)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw o(e)}},47237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},47317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getTypeAnnotation=w,t.baseTypeStrictlyMatches=function(e){const t=this.getTypeAnnotation(),n=e.getTypeAnnotation();return!(a(t)||!u(t))&&n.type===t.type},t.couldBeBaseType=function(e){const t=this.getTypeAnnotation();if(a(t))return!0;if(T(t)){for(const n of t.types)if(a(n)||A(e,n,!0))return!0;return!1}return A(e,t,!0)},t.getTypeAnnotation=function(){let e=this.getData("typeAnnotation");return null!=e||(e=w.call(this)||s(),(S(e)||g(e))&&(e=e.typeAnnotation),this.setData("typeAnnotation",e)),e},t.isBaseType=function(e,t){return A(e,this.getTypeAnnotation(),t)},t.isGenericType=function(e){const t=this.getTypeAnnotation();return!("Array"!==e||!(y(t)||o(t)||b(t)))||(d(t)&&p(t.id,{name:e})||v(t)&&p(t.typeName,{name:e}))};var r=n(39937),i=n(2352);const{anyTypeAnnotation:s,isAnyTypeAnnotation:a,isArrayTypeAnnotation:o,isBooleanTypeAnnotation:c,isEmptyTypeAnnotation:l,isFlowBaseAnnotation:u,isGenericTypeAnnotation:d,isIdentifier:p,isMixedTypeAnnotation:h,isNumberTypeAnnotation:f,isStringTypeAnnotation:m,isTSArrayType:y,isTSTypeAnnotation:g,isTSTypeReference:v,isTupleTypeAnnotation:b,isTypeAnnotation:S,isUnionTypeAnnotation:T,isVoidTypeAnnotation:_,stringTypeAnnotation:P,voidTypeAnnotation:E}=i,x=new WeakSet;function w(){const e=this.node;if(e){if(e.typeAnnotation)return e.typeAnnotation;if(!x.has(e)){x.add(e);try{var t;let n=r[e.type];if(n)return n.call(this,e);if(n=r[this.parentPath.type],null!=(t=n)&&t.validParent)return this.parentPath.getTypeAnnotation()}finally{x.delete(e)}}}else if("init"===this.key&&this.parentPath.isVariableDeclarator()){const e=this.parentPath.parentPath,t=e.parentPath;return"left"===e.key&&t.isForInStatement()?P():"left"===e.key&&t.isForOfStatement()?s():E()}}function A(e,t,n){if("string"===e)return m(t);if("number"===e)return f(t);if("boolean"===e)return c(t);if("any"===e)return a(t);if("mixed"===e)return h(t);if("empty"===e)return l(t);if("void"===e)return _(t);if(n)return!1;throw new Error(`Unknown base type ${e}`)}},47422:(e,t,n)=>{var r=n(31769),i=n(77797);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[i(t[n++])];return n&&n==s?e:void 0}},47473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},47714:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:c()}};const a=s(n(90523));function o(e,t,n,r){const i=Math.abs(e),s=i%10,a=i%100;return a>=11&&a<=19?r:1===s?t:s>=2&&s<=4?n:r}const c=()=>{const e={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function t(t){return e[t]??null}const n={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return e=>{switch(e.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${e.expected}, атрымана ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"лік";case"object":if(Array.isArray(e))return"масіў";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Няправільны ўвод: чакалася ${a.stringifyPrimitive(e.values[0])}`:`Няправільны варыянт: чакаўся адзін з ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);if(r){const t=o(Number(e.maximum),r.unit.one,r.unit.few,r.unit.many);return`Занадта вялікі: чакалася, што ${e.origin??"значэнне"} павінна ${r.verb} ${n}${e.maximum.toString()} ${t}`}return`Занадта вялікі: чакалася, што ${e.origin??"значэнне"} павінна быць ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);if(r){const t=o(Number(e.minimum),r.unit.one,r.unit.few,r.unit.many);return`Занадта малы: чакалася, што ${e.origin} павінна ${r.verb} ${n}${e.minimum.toString()} ${t}`}return`Занадта малы: чакалася, што ${e.origin} павінна быць ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Няправільны радок: павінен пачынацца з "${t.prefix}"`:"ends_with"===t.format?`Няправільны радок: павінен заканчвацца на "${t.suffix}"`:"includes"===t.format?`Няправільны радок: павінен змяшчаць "${t.includes}"`:"regex"===t.format?`Няправільны радок: павінен адпавядаць шаблону ${t.pattern}`:`Няправільны ${n[t.format]??e.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${e.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${e.keys.length>1?"ключы":"ключ"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${e.origin}`;case"invalid_union":default:return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${e.origin}`}}};e.exports=t.default},48035:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.safeDecodeAsync=t.safeEncodeAsync=t.safeDecode=t.safeEncode=t.decodeAsync=t.encodeAsync=t.decode=t.encode=t.safeParseAsync=t.safeParse=t.parseAsync=t.parse=void 0;const a=s(n(76601)),o=n(79299);t.parse=a._parse(o.ZodRealError),t.parseAsync=a._parseAsync(o.ZodRealError),t.safeParse=a._safeParse(o.ZodRealError),t.safeParseAsync=a._safeParseAsync(o.ZodRealError),t.encode=a._encode(o.ZodRealError),t.decode=a._decode(o.ZodRealError),t.encodeAsync=a._encodeAsync(o.ZodRealError),t.decodeAsync=a._decodeAsync(o.ZodRealError),t.safeEncode=a._safeEncode(o.ZodRealError),t.safeDecode=a._safeDecode(o.ZodRealError),t.safeEncodeAsync=a._safeEncodeAsync(o.ZodRealError),t.safeDecodeAsync=a._safeDecodeAsync(o.ZodRealError)},48079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23286);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var i=n(76779);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},48343:(e,t,n)=>{"use strict";const{normalizeIPv6:r,removeDotSegments:i,recomposeAuthority:s,normalizeComponentEncoding:a,isIPv4:o,nonSimpleDomain:c}=n(34834),{SCHEMES:l,getSchemeHandler:u}=n(343);function d(e,t,n,r){const s={};return r||(e=f(p(e,n),n),t=f(p(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=i(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=i(t.path||""),s.query=t.query):(t.path?("/"===t.path[0]?s.path=i(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=i(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function p(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},r=Object.assign({},t),a=[],o=u(r.scheme||n.scheme);o&&o.serialize&&o.serialize(n,r),void 0!==n.path&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),void 0!==n.scheme&&(n.path=n.path.split("%3A").join(":")))),"suffix"!==r.reference&&n.scheme&&a.push(n.scheme,":");const c=s(n);if(void 0!==c&&("suffix"!==r.reference&&a.push("//"),a.push(c),n.path&&"/"!==n.path[0]&&a.push("/")),void 0!==n.path){let e=n.path;r.absolutePath||o&&o.absolutePath||(e=i(e)),void 0===c&&"/"===e[0]&&"/"===e[1]&&(e="/%2F"+e.slice(2)),a.push(e)}return void 0!==n.query&&a.push("?",n.query),void 0!==n.fragment&&a.push("#",n.fragment),a.join("")}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function f(e,t){const n=Object.assign({},t),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;"suffix"===n.reference&&(e=n.scheme?n.scheme+":"+e:"//"+e);const a=e.match(h);if(a){if(i.scheme=a[1],i.userinfo=a[3],i.host=a[4],i.port=parseInt(a[5],10),i.path=a[6]||"",i.query=a[7],i.fragment=a[8],isNaN(i.port)&&(i.port=a[5]),i.host)if(!1===o(i.host)){const e=r(i.host);i.host=e.host.toLowerCase(),s=e.isIPV6}else s=!0;void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||void 0!==i.query||i.path?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",n.reference&&"suffix"!==n.reference&&n.reference!==i.reference&&(i.error=i.error||"URI is not a "+n.reference+" reference.");const t=u(n.scheme||i.scheme);if(!(n.unicodeSupport||t&&t.unicodeSupport)&&i.host&&(n.domainHost||t&&t.domainHost)&&!1===s&&c(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII: "+e}(!t||t&&!t.skipNormalize)&&(-1!==e.indexOf("%")&&(void 0!==i.scheme&&(i.scheme=unescape(i.scheme)),void 0!==i.host&&(i.host=unescape(i.host))),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),t&&t.parse&&t.parse(i,n)}else i.error=i.error||"URI can not be parsed.";return i}const m={SCHEMES:l,normalize:function(e,t){return"string"==typeof e?e=p(f(e,t),t):"object"==typeof e&&(e=f(p(e,t),t)),e},resolve:function(e,t,n){const r=n?Object.assign({scheme:"null"},n):{scheme:"null"},i=d(f(e,r),f(t,r),r,!0);return r.skipEscape=!0,p(i,r)},resolveComponent:d,equal:function(e,t,n){return"string"==typeof e?(e=unescape(e),e=p(a(f(e,n),!0),{...n,skipEscape:!0})):"object"==typeof e&&(e=p(a(e,!0),{...n,skipEscape:!0})),"string"==typeof t?(t=unescape(t),t=p(a(f(t,n),!0),{...n,skipEscape:!0})):"object"==typeof t&&(t=p(a(t,!0),{...n,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:p,parse:f};e.exports=m,e.exports.default=m,e.exports.fastUri=m},48655:(e,t,n)=>{var r=n(26025);e.exports=function(e){return r(this.__data__,e)>-1}},48997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Conversations=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(365)),a=n(365),o=n(54815);class c extends i.APIResource{constructor(){super(...arguments),this.items=new s.Items(this._client)}create(e={},t){return this._client.post("/conversations",{body:e,...t})}retrieve(e,t){return this._client.get(o.path`/conversations/${e}`,t)}update(e,t,n){return this._client.post(o.path`/conversations/${e}`,{body:t,...n})}delete(e,t){return this._client.delete(o.path`/conversations/${e}`,t)}}t.Conversations=c,c.Items=a.Items},49018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];for(let n=0;n<e.children.length;n++){let s=e.children[n];(0,r.isJSXText)(s)?(0,i.default)(s,t):((0,r.isJSXExpressionContainer)(s)&&(s=s.expression),(0,r.isJSXEmptyExpression)(s)||t.push(s))}return t};var r=n(98960),i=n(53043)},49029:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isZ4Schema=c,t.objectFromShape=l,t.safeParse=function(e,t){return c(e)?o.safeParse(e,t):e.safeParse(t)},t.safeParseAsync=async function(e,t){if(c(e))return await o.safeParseAsync(e,t);const n=e;return await n.safeParseAsync(t)},t.getObjectShape=function(e){var t,n;if(!e)return;let r;if(r=c(e)?null===(n=null===(t=e._zod)||void 0===t?void 0:t.def)||void 0===n?void 0:n.shape:e.shape,r){if("function"==typeof r)try{return r()}catch(e){return}return r}},t.normalizeObjectSchema=function(e){var t;if(e){if("object"==typeof e){const t=e;if(!e._def&&!t._zod){const t=Object.values(e);if(t.length>0&&t.every(e=>"object"==typeof e&&null!==e&&(void 0!==e._def||void 0!==e._zod||"function"==typeof e.parse)))return l(e)}}if(c(e)){const n=null===(t=e._zod)||void 0===t?void 0:t.def;if(n&&("object"===n.type||void 0!==n.shape))return e}else if(void 0!==e.shape)return e}},t.getParseErrorMessage=function(e){if(e&&"object"==typeof e){if("message"in e&&"string"==typeof e.message)return e.message;if("issues"in e&&Array.isArray(e.issues)&&e.issues.length>0){const t=e.issues[0];if(t&&"object"==typeof t&&"message"in t)return String(t.message)}try{return JSON.stringify(e)}catch(t){return String(e)}}return String(e)},t.getSchemaDescription=function(e){var t,n,r,i;if(c(e))return null===(n=null===(t=e._zod)||void 0===t?void 0:t.def)||void 0===n?void 0:n.description;const s=e;return null!==(r=e.description)&&void 0!==r?r:null===(i=s._def)||void 0===i?void 0:i.description},t.isSchemaOptional=function(e){var t,n,r;if(c(e))return"optional"===(null===(n=null===(t=e._zod)||void 0===t?void 0:t.def)||void 0===n?void 0:n.type);const i=e;return"function"==typeof e.isOptional?e.isOptional():"ZodOptional"===(null===(r=i._def)||void 0===r?void 0:r.typeName)},t.getLiteralValue=function(e){var t;if(c(e)){const n=null===(t=e._zod)||void 0===t?void 0:t.def;if(n){if(void 0!==n.value)return n.value;if(Array.isArray(n.values)&&n.values.length>0)return n.values[0]}}const n=e._def;if(n){if(void 0!==n.value)return n.value;if(Array.isArray(n.values)&&n.values.length>0)return n.values[0]}const r=e.value;return void 0!==r?r:void 0};const a=s(n(19164)),o=s(n(97083));function c(e){return!!e._zod}function l(e){const t=Object.values(e);if(0===t.length)return o.object({});const n=t.every(c),r=t.every(e=>!c(e));if(n)return o.object(e);if(r)return a.object(e);throw new Error("Mixed Zod versions detected in object shape.")}},49326:(e,t,n)=>{var r=n(31769),i=n(72428),s=n(56449),a=n(30361),o=n(30294),c=n(77797);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&o(u)&&a(p,u)&&(s(e)||i(e))}},49420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(70329);t.default=function(e,t){return(0,r.default)(e,t,!0)}},49594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenMap=void 0;var r=n(2352);const{traverseFast:i,VISITOR_KEYS:s}=r;t.TokenMap=class{constructor(e,t,n){this._tokens=void 0,this._source=void 0,this._nodesToTokenIndexes=new Map,this._nodesOccurrencesCountCache=new Map,this._tokensCache=new Map,this._tokens=t,this._source=n,i(e,e=>{const t=this._getTokensIndexesOfNode(e);t.length>0&&this._nodesToTokenIndexes.set(e,t)}),this._tokensCache.clear()}has(e){return this._nodesToTokenIndexes.has(e)}getIndexes(e){return this._nodesToTokenIndexes.get(e)}find(e,t){const n=this._nodesToTokenIndexes.get(e);if(n)for(let e=0;e<n.length;e++){const r=n[e],i=this._tokens[r];if(t(i,r))return i}return null}findLastIndex(e,t){const n=this._nodesToTokenIndexes.get(e);if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t(this._tokens[r],r))return r}return-1}findMatching(e,t,n=0){const r=this._nodesToTokenIndexes.get(e);if(r){let i=0;const s=n;if(s>1){const r=this._nodesOccurrencesCountCache.get(e);r&&r.test===t&&r.count<s&&(i=r.i+1,n-=r.count+1)}for(;i<r.length;i++){const a=this._tokens[r[i]];if(this.matchesOriginal(a,t)){if(0===n)return s>0&&this._nodesOccurrencesCountCache.set(e,{test:t,count:s,i}),a;n--}}}return null}matchesOriginal(e,t){return e.end-e.start===t.length&&(null!=e.value?e.value===t:this._source.startsWith(t,e.start))}startMatches(e,t){const n=this._nodesToTokenIndexes.get(e);if(!n)return!1;const r=this._tokens[n[0]];return r.start===e.start&&this.matchesOriginal(r,t)}endMatches(e,t){const n=this._nodesToTokenIndexes.get(e);if(!n)return!1;const r=this._tokens[n[n.length-1]];return r.end===e.end&&this.matchesOriginal(r,t)}_getTokensIndexesOfNode(e){if(null==e.start||null==e.end)return[];const{first:t,last:n}=this._findTokensOfNode(e,0,this._tokens.length-1);let r=t;const i=function*(e){if("TemplateLiteral"===e.type){yield e.quasis[0];for(let t=1;t<e.quasis.length;t++)yield e.expressions[t-1],yield e.quasis[t];return}const t=s[e.type];for(const n of t){const t=e[n];t&&(Array.isArray(t)?yield*t:yield t)}}(e);"ExportNamedDeclaration"!==e.type&&"ExportDefaultDeclaration"!==e.type||!e.declaration||"ClassDeclaration"!==e.declaration.type||i.next();const a=[];for(const e of i){if(null==e)continue;if(null==e.start||null==e.end)continue;const t=this._findTokensOfNode(e,r,n),i=t.first;for(let e=r;e<i;e++)a.push(e);r=t.last+1}for(let e=r;e<=n;e++)a.push(e);return a}_findTokensOfNode(e,t,n){const r=this._tokensCache.get(e);if(r)return r;const i=this._findFirstTokenOfNode(e.start,t,n),s=this._findLastTokenOfNode(e.end,i,n);return this._tokensCache.set(e,{first:i,last:s}),{first:i,last:s}}_findFirstTokenOfNode(e,t,n){for(;t<=n;){const r=n+t>>1;if(e<this._tokens[r].start)n=r-1;else{if(!(e>this._tokens[r].start))return r;t=r+1}}return t}_findLastTokenOfNode(e,t,n){for(;t<=n;){const r=n+t>>1;if(e<this._tokens[r].end)n=r-1;else{if(!(e>this._tokens[r].end))return r;t=r+1}}return n}}},49698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},50002:(e,t,n)=>{var r=n(82199),i=n(4664),s=n(95950);e.exports=function(e){return r(e,s,i)}},50104:(e,t,n)=>{var r=n(53661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},50168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e,t={}){let n=e;const c=function(e=l){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||l.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=i.default_format;if(void 0!==e.format){if(!(0,r.has)(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const o=i.formatters[n];let c,u=l.filter;if(("function"==typeof e.filter||(0,s.isArray)(e.filter))&&(u=e.filter),c=e.arrayFormat&&e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":l.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=void 0===e.allowDots?1==!!e.encodeDotInKeys||l.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:l.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?l.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:l.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:l.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:l.encodeValuesOnly,filter:u,format:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:l.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:l.strictNullHandling}}(t);let u,p;"function"==typeof c.filter?(p=c.filter,n=p("",n)):(0,s.isArray)(c.filter)&&(p=c.filter,u=p);const h=[];if("object"!=typeof n||null===n)return"";const f=a[c.arrayFormat],m="comma"===f&&c.commaRoundTrip;u||(u=Object.keys(n)),c.sort&&u.sort(c.sort);const y=new WeakMap;for(let e=0;e<u.length;++e){const t=u[e];c.skipNulls&&null===n[t]||o(h,d(n[t],t,f,m,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}const g=h.join(c.delimiter);let v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""};const r=n(78348),i=n(95257),s=n(15734),a={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},o=function(e,t){Array.prototype.push.apply(e,(0,s.isArray)(t)?t:[t])};let c;const l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,format:i.default_format,formatter:i.default_formatter,indices:!1,serializeDate:e=>(c??(c=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1},u={};function d(e,t,n,i,a,c,p,h,f,m,y,g,v,b,S,T,_,P){let E=e,x=P,w=0,A=!1;for(;void 0!==(x=x.get(u))&&!A;){const t=x.get(e);if(w+=1,void 0!==t){if(t===w)throw new RangeError("Cyclic object value");A=!0}void 0===x.get(u)&&(w=0)}if("function"==typeof m?E=m(t,E):E instanceof Date?E=v?.(E):"comma"===n&&(0,s.isArray)(E)&&(E=(0,r.maybe_map)(E,function(e){return e instanceof Date?v?.(e):e})),null===E){if(c)return f&&!T?f(t,l.encoder,_,"key",b):t;E=""}if("string"==typeof(O=E)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||(0,r.is_buffer)(E)){if(f){const e=T?t:f(t,l.encoder,_,"key",b);return[S?.(e)+"="+S?.(f(E,l.encoder,_,"value",b))]}return[S?.(t)+"="+S?.(String(E))]}var O;const I=[];if(void 0===E)return I;let C;if("comma"===n&&(0,s.isArray)(E))T&&f&&(E=(0,r.maybe_map)(E,f)),C=[{value:E.length>0?E.join(",")||null:void 0}];else if((0,s.isArray)(m))C=m;else{const e=Object.keys(E);C=y?e.sort(y):e}const k=h?String(t).replace(/\./g,"%2E"):String(t),N=i&&(0,s.isArray)(E)&&1===E.length?k+"[]":k;if(a&&(0,s.isArray)(E)&&0===E.length)return N+"[]";for(let t=0;t<C.length;++t){const r=C[t],l="object"==typeof r&&void 0!==r.value?r.value:E[r];if(p&&null===l)continue;const x=g&&h?r.replace(/\./g,"%2E"):r,A=(0,s.isArray)(E)?"function"==typeof n?n(N,x):N:N+(g?"."+x:"["+x+"]");P.set(e,w);const O=new WeakMap;O.set(u,P),o(I,d(l,A,n,i,a,c,p,h,"comma"===n&&T&&(0,s.isArray)(E)?null:f,m,y,g,v,b,S,T,_,O))}return I}},50204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(55595)),a=n(55595);class o extends i.APIResource{constructor(){super(...arguments),this.permissions=new s.Permissions(this._client)}}t.Checkpoints=o,o.Permissions=a.Permissions},50460:(e,t,n)=>{"use strict";var r,i,s,a,o,c,l,u,d,p,h,f,m;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStream=void 0;const y=n(79632),g=n(89526);t.EventStream=class{constructor(){r.add(this),this.controller=new AbortController,i.set(this,void 0),s.set(this,()=>{}),a.set(this,()=>{}),o.set(this,void 0),c.set(this,()=>{}),l.set(this,()=>{}),u.set(this,{}),d.set(this,!1),p.set(this,!1),h.set(this,!1),f.set(this,!1),y.__classPrivateFieldSet(this,i,new Promise((e,t)=>{y.__classPrivateFieldSet(this,s,e,"f"),y.__classPrivateFieldSet(this,a,t,"f")}),"f"),y.__classPrivateFieldSet(this,o,new Promise((e,t)=>{y.__classPrivateFieldSet(this,c,e,"f"),y.__classPrivateFieldSet(this,l,t,"f")}),"f"),y.__classPrivateFieldGet(this,i,"f").catch(()=>{}),y.__classPrivateFieldGet(this,o,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},y.__classPrivateFieldGet(this,r,"m",m).bind(this))},0)}_connected(){this.ended||(y.__classPrivateFieldGet(this,s,"f").call(this),this._emit("connect"))}get ended(){return y.__classPrivateFieldGet(this,d,"f")}get errored(){return y.__classPrivateFieldGet(this,p,"f")}get aborted(){return y.__classPrivateFieldGet(this,h,"f")}abort(){this.controller.abort()}on(e,t){return(y.__classPrivateFieldGet(this,u,"f")[e]||(y.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=y.__classPrivateFieldGet(this,u,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(y.__classPrivateFieldGet(this,u,"f")[e]||(y.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{y.__classPrivateFieldSet(this,f,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}async done(){y.__classPrivateFieldSet(this,f,!0,"f"),await y.__classPrivateFieldGet(this,o,"f")}_emit(e,...t){if(y.__classPrivateFieldGet(this,d,"f"))return;"end"===e&&(y.__classPrivateFieldSet(this,d,!0,"f"),y.__classPrivateFieldGet(this,c,"f").call(this));const n=y.__classPrivateFieldGet(this,u,"f")[e];if(n&&(y.__classPrivateFieldGet(this,u,"f")[e]=n.filter(e=>!e.once),n.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return y.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),y.__classPrivateFieldGet(this,a,"f").call(this,e),y.__classPrivateFieldGet(this,l,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];y.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),y.__classPrivateFieldGet(this,a,"f").call(this,e),y.__classPrivateFieldGet(this,l,"f").call(this,e),this._emit("end")}}_emitFinal(){}},i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,r=new WeakSet,m=function(e){if(y.__classPrivateFieldSet(this,p,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new g.APIUserAbortError),e instanceof g.APIUserAbortError)return y.__classPrivateFieldSet(this,h,!0,"f"),this._emit("abort",e);if(e instanceof g.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new g.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new g.OpenAIError(String(e)))}},50477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Responses=void 0;const r=n(79632),i=n(97759),s=n(46636),a=n(82040),o=r.__importStar(n(45856)),c=n(45856),l=r.__importStar(n(74460)),u=n(74460),d=n(262),p=n(54815);class h extends a.APIResource{constructor(){super(...arguments),this.inputItems=new o.InputItems(this._client),this.inputTokens=new l.InputTokens(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,i.addOutputText)(e),e))}retrieve(e,t={},n){return this._client.get(p.path`/responses/${e}`,{query:t,...n,stream:t?.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,i.addOutputText)(e),e))}delete(e,t){return this._client.delete(p.path`/responses/${e}`,{...t,headers:(0,d.buildHeaders)([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>(0,i.parseResponse)(t,e))}stream(e,t){return s.ResponseStream.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(p.path`/responses/${e}/cancel`,t)}compact(e={},t){return this._client.post("/responses/compact",{body:e,...t})}}t.Responses=h,h.InputItems=c.InputItems,h.InputTokens=u.InputTokens},50583:(e,t,n)=>{var r=n(47237),i=n(17255),s=n(28586),a=n(77797);e.exports=function(e){return s(e)?r(a(e)):i(e)}},50689:(e,t,n)=>{var r=n(50002),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,o){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:i.call(t,p)))return!1}var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var m=!0;o.set(e,t),o.set(t,e);for(var y=c;++d<u;){var g=e[p=l[d]],v=t[p];if(s)var b=c?s(v,g,p,t,e,o):s(g,v,p,e,t,o);if(!(void 0===b?g===v||a(g,v,n,s,o):b)){m=!1;break}y||(y="constructor"==p)}if(m&&!y){var S=e.constructor,T=t.constructor;S==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof T&&T instanceof T||(m=!1)}return o.delete(e),o.delete(t),m}},50828:(e,t,n)=>{var r=n(24647),i=n(13222),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(s,r).replace(a,"")}},50832:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(t){return e[t]??null}const n={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"};return e=>{switch(e.code){case"invalid_type":return`Érvénytelen bemenet: a várt érték ${e.expected}, a kapott érték ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szám";case"object":if(Array.isArray(e))return"tömb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Érvénytelen bemenet: a várt érték ${a.stringifyPrimitive(e.values[0])}`:`Érvénytelen opció: valamelyik érték várt ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Túl nagy: ${e.origin??"érték"} mérete túl nagy ${n}${e.maximum.toString()} ${r.unit??"elem"}`:`Túl nagy: a bemeneti érték ${e.origin??"érték"} túl nagy: ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Túl kicsi: a bemeneti érték ${e.origin} mérete túl kicsi ${n}${e.minimum.toString()} ${r.unit}`:`Túl kicsi: a bemeneti érték ${e.origin} túl kicsi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Érvénytelen string: "${t.prefix}" értékkel kell kezdődnie`:"ends_with"===t.format?`Érvénytelen string: "${t.suffix}" értékkel kell végződnie`:"includes"===t.format?`Érvénytelen string: "${t.includes}" értéket kell tartalmaznia`:"regex"===t.format?`Érvénytelen string: ${t.pattern} mintának kell megfelelnie`:`Érvénytelen ${n[t.format]??e.format}`}case"not_multiple_of":return`Érvénytelen szám: ${e.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${e.origin}`;case"invalid_union":default:return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${e.origin}`}}};e.exports=t.default},50974:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(t){return e[t]??null}const n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input tidak valid: diharapkan ${a.stringifyPrimitive(e.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${n}${e.maximum.toString()} ${r.unit??"elemen"}`:`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Terlalu kecil: diharapkan ${e.origin} memiliki ${n}${e.minimum.toString()} ${r.unit}`:`Terlalu kecil: diharapkan ${e.origin} menjadi ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`String tidak valid: harus dimulai dengan "${t.prefix}"`:"ends_with"===t.format?`String tidak valid: harus berakhir dengan "${t.suffix}"`:"includes"===t.format?`String tidak valid: harus menyertakan "${t.includes}"`:"regex"===t.format?`String tidak valid: harus sesuai pola ${t.pattern}`:`${n[t.format]??e.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}}};e.exports=t.default},51109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputItems=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{retrieve(e,t,n){const{eval_id:r,run_id:i}=t;return this._client.get(s.path`/evals/${r}/runs/${i}/output_items/${e}`,n)}list(e,t,n){const{eval_id:r,...a}=t;return this._client.getAPIList(s.path`/evals/${r}/runs/${e}/output_items`,i.CursorPage,{query:a,...n})}}t.OutputItems=a},51420:(e,t,n)=>{var r=n(80079);e.exports=function(){this.__data__=new r,this.size=0}},51459:e=>{e.exports=function(e){return this.__data__.has(e)}},51472:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"};function n(t){return e[t]??null}function r(e){return t[e]??e}const i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldigt input: forventede ${r(e.expected)}, fik ${r((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":return Array.isArray(e)?"liste":null===e?"null":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"objekt"}return t})(e.input))}`;case"invalid_value":return 1===e.values.length?`Ugyldig værdi: forventede ${a.stringifyPrimitive(e.values[0])}`:`Ugyldigt valg: forventede en af følgende ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",i=n(e.origin),s=r(e.origin);return i?`For stor: forventede ${s??"value"} ${i.verb} ${t} ${e.maximum.toString()} ${i.unit??"elementer"}`:`For stor: forventede ${s??"value"} havde ${t} ${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",i=n(e.origin),s=r(e.origin);return i?`For lille: forventede ${s} ${i.verb} ${t} ${e.minimum.toString()} ${i.unit}`:`For lille: forventede ${s} havde ${t} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ugyldig streng: skal starte med "${t.prefix}"`:"ends_with"===t.format?`Ugyldig streng: skal ende med "${t.suffix}"`:"includes"===t.format?`Ugyldig streng: skal indeholde "${t.includes}"`:"regex"===t.format?`Ugyldig streng: skal matche mønsteret ${t.pattern}`:`Ugyldig ${i[t.format]??e.format}`}case"not_multiple_of":return`Ugyldigt tal: skal være deleligt med ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Ugyldig nøgle i ${e.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig værdi i ${e.origin}`;default:return"Ugyldigt input"}}};e.exports=t.default},51873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},51963:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(n(70134));i(n(70134),t),t.default=a.default},51980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(66596),i=n(99048),s=n(26670),a=n(99048);function o(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return r._`${o(e)}.call(${t}, ${n})`}function l(e,t,n,i){const s=r._`${t}${(0,r.getProperty)(n)} === undefined`;return i?(0,r.or)(s,(0,r.not)(c(e,t,n))):s}function u(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:s}=e;n.if(l(n,i,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()})},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},i,s){return(0,r.or)(...i.map(i=>(0,r.and)(l(e,t,i,n.ownProperties),r._`${s} = ${i}`)))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=o,t.isOwnProperty=c,t.propertyInData=function(e,t,n,i){const s=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return i?r._`${s} && ${c(e,t,n)}`:s},t.noPropertyInData=l,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter(n=>!(0,i.alwaysValidSchema)(e,t[n]))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:i,schemaPath:a,errorPath:o},it:c},l,u,d){const p=d?r._`${e}, ${t}, ${i}${a}`:t,h=[[s.default.instancePath,(0,r.strConcat)(s.default.instancePath,o)],[s.default.parentData,c.parentData],[s.default.parentDataProperty,c.parentDataProperty],[s.default.rootData,s.default.rootData]];c.opts.dynamicRef&&h.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const f=r._`${p}, ${n.object(...h)}`;return u!==r.nil?r._`${l}.call(${u}, ${f})`:r._`${l}(${f})`};const d=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const i=t.unicodeRegExp?"u":"",{regExp:s}=t.code,o=s(n,i);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:r._`${"new RegExp"===s.code?d:(0,a.useFunc)(e,s)}(${n}, ${i})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:s,it:a}=e,o=t.name("valid");if(a.allErrors){const e=t.let("valid",!0);return c(()=>t.assign(e,!1)),e}return t.var(o,!0),c(()=>t.break()),o;function c(a){const c=t.const("len",r._`${n}.length`);t.forRange("i",0,c,n=>{e.subschema({keyword:s,dataProp:n,dataPropType:i.Type.Num},o),t.if((0,r.not)(o),a)})}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:s,it:a}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(e=>(0,i.alwaysValidSchema)(a,e))&&!a.opts.unevaluated)return;const o=t.let("valid",!1),c=t.name("_valid");t.block(()=>n.forEach((n,i)=>{const a=e.subschema({keyword:s,schemaProp:i,compositeRule:!0},c);t.assign(o,r._`${o} || ${c}`),e.mergeValidEvaluated(a,c)||t.if((0,r.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}},52018:e=>{"use strict";e.exports=require("tty")},52338:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function t(t){return e[t]??null}const n={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: förväntat ${e.expected}, fick ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ogiltig inmatning: förväntat ${a.stringifyPrimitive(e.values[0])}`:`Ogiltigt val: förväntade en av ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`För stor(t): förväntade ${e.origin??"värdet"} att ha ${n}${e.maximum.toString()} ${r.unit??"element"}`:`För stor(t): förväntat ${e.origin??"värdet"} att ha ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`För lite(t): förväntade ${e.origin??"värdet"} att ha ${n}${e.minimum.toString()} ${r.unit}`:`För lite(t): förväntade ${e.origin??"värdet"} att ha ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ogiltig sträng: måste börja med "${t.prefix}"`:"ends_with"===t.format?`Ogiltig sträng: måste sluta med "${t.suffix}"`:"includes"===t.format?`Ogiltig sträng: måste innehålla "${t.includes}"`:"regex"===t.format?`Ogiltig sträng: måste matcha mönstret "${t.pattern}"`:`Ogiltig(t) ${n[t.format]??e.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"värdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${e.origin??"värdet"}`}}};e.exports=t.default},52405:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TimePrecision=void 0,t._string=function(e,t){return new e({type:"string",...l.normalizeParams(t)})},t._coercedString=function(e,t){return new e({type:"string",coerce:!0,...l.normalizeParams(t)})},t._email=function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._guid=function(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._uuid=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._uuidv4=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...l.normalizeParams(t)})},t._uuidv6=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...l.normalizeParams(t)})},t._uuidv7=function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...l.normalizeParams(t)})},t._url=function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._emoji=function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._nanoid=function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._cuid=function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._cuid2=function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._ulid=function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._xid=function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._ksuid=function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._ipv4=function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._ipv6=function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._mac=function(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._cidrv4=function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._cidrv6=function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._base64=function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._base64url=function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._e164=function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._jwt=function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...l.normalizeParams(t)})},t._isoDateTime=function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...l.normalizeParams(t)})},t._isoDate=function(e,t){return new e({type:"string",format:"date",check:"string_format",...l.normalizeParams(t)})},t._isoTime=function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...l.normalizeParams(t)})},t._isoDuration=function(e,t){return new e({type:"string",format:"duration",check:"string_format",...l.normalizeParams(t)})},t._number=function(e,t){return new e({type:"number",checks:[],...l.normalizeParams(t)})},t._coercedNumber=function(e,t){return new e({type:"number",coerce:!0,checks:[],...l.normalizeParams(t)})},t._int=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...l.normalizeParams(t)})},t._float32=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...l.normalizeParams(t)})},t._float64=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...l.normalizeParams(t)})},t._int32=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...l.normalizeParams(t)})},t._uint32=function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...l.normalizeParams(t)})},t._boolean=function(e,t){return new e({type:"boolean",...l.normalizeParams(t)})},t._coercedBoolean=function(e,t){return new e({type:"boolean",coerce:!0,...l.normalizeParams(t)})},t._bigint=function(e,t){return new e({type:"bigint",...l.normalizeParams(t)})},t._coercedBigint=function(e,t){return new e({type:"bigint",coerce:!0,...l.normalizeParams(t)})},t._int64=function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...l.normalizeParams(t)})},t._uint64=function(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...l.normalizeParams(t)})},t._symbol=function(e,t){return new e({type:"symbol",...l.normalizeParams(t)})},t._undefined=function(e,t){return new e({type:"undefined",...l.normalizeParams(t)})},t._null=function(e,t){return new e({type:"null",...l.normalizeParams(t)})},t._any=function(e){return new e({type:"any"})},t._unknown=function(e){return new e({type:"unknown"})},t._never=function(e,t){return new e({type:"never",...l.normalizeParams(t)})},t._void=function(e,t){return new e({type:"void",...l.normalizeParams(t)})},t._date=function(e,t){return new e({type:"date",...l.normalizeParams(t)})},t._coercedDate=function(e,t){return new e({type:"date",coerce:!0,...l.normalizeParams(t)})},t._nan=function(e,t){return new e({type:"nan",...l.normalizeParams(t)})},t._lt=u,t._lte=d,t._max=d,t._lte=d,t._max=d,t._gt=p,t._gte=h,t._min=h,t._gte=h,t._min=h,t._positive=function(e){return p(0,e)},t._negative=function(e){return u(0,e)},t._nonpositive=function(e){return d(0,e)},t._nonnegative=function(e){return h(0,e)},t._multipleOf=function(e,t){return new a.$ZodCheckMultipleOf({check:"multiple_of",...l.normalizeParams(t),value:e})},t._maxSize=function(e,t){return new a.$ZodCheckMaxSize({check:"max_size",...l.normalizeParams(t),maximum:e})},t._minSize=function(e,t){return new a.$ZodCheckMinSize({check:"min_size",...l.normalizeParams(t),minimum:e})},t._size=function(e,t){return new a.$ZodCheckSizeEquals({check:"size_equals",...l.normalizeParams(t),size:e})},t._maxLength=function(e,t){return new a.$ZodCheckMaxLength({check:"max_length",...l.normalizeParams(t),maximum:e})},t._minLength=function(e,t){return new a.$ZodCheckMinLength({check:"min_length",...l.normalizeParams(t),minimum:e})},t._length=function(e,t){return new a.$ZodCheckLengthEquals({check:"length_equals",...l.normalizeParams(t),length:e})},t._regex=function(e,t){return new a.$ZodCheckRegex({check:"string_format",format:"regex",...l.normalizeParams(t),pattern:e})},t._lowercase=function(e){return new a.$ZodCheckLowerCase({check:"string_format",format:"lowercase",...l.normalizeParams(e)})},t._uppercase=function(e){return new a.$ZodCheckUpperCase({check:"string_format",format:"uppercase",...l.normalizeParams(e)})},t._includes=function(e,t){return new a.$ZodCheckIncludes({check:"string_format",format:"includes",...l.normalizeParams(t),includes:e})},t._startsWith=function(e,t){return new a.$ZodCheckStartsWith({check:"string_format",format:"starts_with",...l.normalizeParams(t),prefix:e})},t._endsWith=function(e,t){return new a.$ZodCheckEndsWith({check:"string_format",format:"ends_with",...l.normalizeParams(t),suffix:e})},t._property=function(e,t,n){return new a.$ZodCheckProperty({check:"property",property:e,schema:t,...l.normalizeParams(n)})},t._mime=function(e,t){return new a.$ZodCheckMimeType({check:"mime_type",mime:e,...l.normalizeParams(t)})},t._overwrite=f,t._normalize=function(e){return f(t=>t.normalize(e))},t._trim=function(){return f(e=>e.trim())},t._toLowerCase=function(){return f(e=>e.toLowerCase())},t._toUpperCase=function(){return f(e=>e.toUpperCase())},t._slugify=function(){return f(e=>l.slugify(e))},t._array=function(e,t,n){return new e({type:"array",element:t,...l.normalizeParams(n)})},t._union=function(e,t,n){return new e({type:"union",options:t,...l.normalizeParams(n)})},t._xor=function(e,t,n){return new e({type:"union",options:t,inclusive:!1,...l.normalizeParams(n)})},t._discriminatedUnion=function(e,t,n,r){return new e({type:"union",options:n,discriminator:t,...l.normalizeParams(r)})},t._intersection=function(e,t,n){return new e({type:"intersection",left:t,right:n})},t._tuple=function(e,t,n,r){const i=n instanceof c.$ZodType,s=i?r:n;return new e({type:"tuple",items:t,rest:i?n:null,...l.normalizeParams(s)})},t._record=function(e,t,n,r){return new e({type:"record",keyType:t,valueType:n,...l.normalizeParams(r)})},t._map=function(e,t,n,r){return new e({type:"map",keyType:t,valueType:n,...l.normalizeParams(r)})},t._set=function(e,t,n){return new e({type:"set",valueType:t,...l.normalizeParams(n)})},t._enum=function(e,t,n){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...l.normalizeParams(n)})},t._nativeEnum=function(e,t,n){return new e({type:"enum",entries:t,...l.normalizeParams(n)})},t._literal=function(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...l.normalizeParams(n)})},t._file=function(e,t){return new e({type:"file",...l.normalizeParams(t)})},t._transform=function(e,t){return new e({type:"transform",transform:t})},t._optional=function(e,t){return new e({type:"optional",innerType:t})},t._nullable=function(e,t){return new e({type:"nullable",innerType:t})},t._default=function(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof n?n():l.shallowClone(n)}})},t._nonoptional=function(e,t,n){return new e({type:"nonoptional",innerType:t,...l.normalizeParams(n)})},t._success=function(e,t){return new e({type:"success",innerType:t})},t._catch=function(e,t,n){return new e({type:"catch",innerType:t,catchValue:"function"==typeof n?n:()=>n})},t._pipe=function(e,t,n){return new e({type:"pipe",in:t,out:n})},t._readonly=function(e,t){return new e({type:"readonly",innerType:t})},t._templateLiteral=function(e,t,n){return new e({type:"template_literal",parts:t,...l.normalizeParams(n)})},t._lazy=function(e,t){return new e({type:"lazy",getter:t})},t._promise=function(e,t){return new e({type:"promise",innerType:t})},t._custom=function(e,t,n){const r=l.normalizeParams(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})},t._refine=function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...l.normalizeParams(n)})},t._superRefine=function(e){const t=m(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(l.issue(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(l.issue(r))}},e(n.value,n)));return t},t._check=m,t.describe=function(e){const t=new a.$ZodCheck({check:"describe"});return t._zod.onattach=[t=>{const n=o.globalRegistry.get(t)??{};o.globalRegistry.add(t,{...n,description:e})}],t._zod.check=()=>{},t},t.meta=function(e){const t=new a.$ZodCheck({check:"meta"});return t._zod.onattach=[t=>{const n=o.globalRegistry.get(t)??{};o.globalRegistry.add(t,{...n,...e})}],t._zod.check=()=>{},t},t._stringbool=function(e,t){const n=l.normalizeParams(t);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));const s=new Set(r),a=new Set(i),o=e.Codec??c.$ZodCodec,u=e.Boolean??c.$ZodBoolean,d=new o({type:"pipe",in:new(e.String??c.$ZodString)({type:"string",error:n.error}),out:new u({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!s.has(r)||!a.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...a],input:t.value,inst:d,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":i[0]||"false",error:n.error});return d},t._stringFormat=function(e,t,n,r={}){const i=l.normalizeParams(r),s={...l.normalizeParams(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...i};return n instanceof RegExp&&(s.pattern=n),new e(s)};const a=s(n(32564)),o=s(n(91114)),c=s(n(95341)),l=s(n(90523));function u(e,t){return new a.$ZodCheckLessThan({check:"less_than",...l.normalizeParams(t),value:e,inclusive:!1})}function d(e,t){return new a.$ZodCheckLessThan({check:"less_than",...l.normalizeParams(t),value:e,inclusive:!0})}function p(e,t){return new a.$ZodCheckGreaterThan({check:"greater_than",...l.normalizeParams(t),value:e,inclusive:!1})}function h(e,t){return new a.$ZodCheckGreaterThan({check:"greater_than",...l.normalizeParams(t),value:e,inclusive:!0})}function f(e){return new a.$ZodCheckOverwrite({check:"overwrite",tx:e})}function m(e,t){const n=new a.$ZodCheck({check:"custom",...l.normalizeParams(t)});return n._zod.check=e,n}t.TimePrecision={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6}},52598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!n||!e)return e;const r=`${t}Comments`;return e[r]?"leading"===t?e[r]=n.concat(e[r]):e[r].push(...n):e[r]=n,e}},53043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.value.split(/\r\n|\n|\r/);let s=0;for(let e=0;e<n.length;e++)/[^ \t]/.exec(n[e])&&(s=e);let a="";for(let e=0;e<n.length;e++){const t=n[e],r=0===e,i=e===n.length-1,o=e===s;let c=t.replace(/\t/g," ");r||(c=c.replace(/^ +/,"")),i||(c=c.replace(/ +$/,"")),c&&(o||(c+=" "),a+=c)}a&&t.push((0,i.inherits)((0,r.stringLiteral)(a),e))};var r=n(48079),i=n(2352)},53097:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._assertUnremoved=f,t._callRemovalHooks=d,t._markRemoved=h,t._remove=p,t._removeFromScope=u,t.remove=function(){var e;f.call(this),l.resync.call(this),d.call(this)||(null!=(e=this.opts)&&e.noScope||u.call(this),this.shareCommentsWithSiblings(),p.call(this)),h.call(this)};var r=n(77860),i=n(37411),s=n(22037),a=n(29709),o=n(2352),c=n(58345),l=n(79578);function u(){const e=o.getBindingIdentifiers(this.node,!1,!1,!0);Object.keys(e).forEach(e=>this.scope.removeBinding(e))}function d(){if(this.parentPath)for(const e of r.hooks)if(e(this,this.parentPath))return!0}function p(){Array.isArray(this.container)?(this.container.splice(this.key,1),c.updateSiblingKeys.call(this,this.key,-1)):s._replaceWith.call(this,null)}function h(){var e;this._traverseFlags|=a.SHOULD_SKIP|a.REMOVED,this.parent&&(null==(e=(0,i.getCachedPaths)(this))||e.delete(this.node)),this.node=null}function f(){if(this.removed)throw this.buildCodeFrameError("NodePath has been removed so is read-only.")}},53128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUpperCase=t.toLowerCase=t.trim=t.normalize=t.overwrite=t.mime=t.property=t.endsWith=t.startsWith=t.includes=t.uppercase=t.lowercase=t.regex=t.length=t.minLength=t.maxLength=t.size=t.minSize=t.maxSize=t.multipleOf=t.nonnegative=t.nonpositive=t.negative=t.positive=t.minimum=t.gte=t.gt=t.maximum=t.lte=t.lt=void 0;var r=n(76601);Object.defineProperty(t,"lt",{enumerable:!0,get:function(){return r._lt}}),Object.defineProperty(t,"lte",{enumerable:!0,get:function(){return r._lte}}),Object.defineProperty(t,"maximum",{enumerable:!0,get:function(){return r._lte}}),Object.defineProperty(t,"gt",{enumerable:!0,get:function(){return r._gt}}),Object.defineProperty(t,"gte",{enumerable:!0,get:function(){return r._gte}}),Object.defineProperty(t,"minimum",{enumerable:!0,get:function(){return r._gte}}),Object.defineProperty(t,"positive",{enumerable:!0,get:function(){return r._positive}}),Object.defineProperty(t,"negative",{enumerable:!0,get:function(){return r._negative}}),Object.defineProperty(t,"nonpositive",{enumerable:!0,get:function(){return r._nonpositive}}),Object.defineProperty(t,"nonnegative",{enumerable:!0,get:function(){return r._nonnegative}}),Object.defineProperty(t,"multipleOf",{enumerable:!0,get:function(){return r._multipleOf}}),Object.defineProperty(t,"maxSize",{enumerable:!0,get:function(){return r._maxSize}}),Object.defineProperty(t,"minSize",{enumerable:!0,get:function(){return r._minSize}}),Object.defineProperty(t,"size",{enumerable:!0,get:function(){return r._size}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return r._maxLength}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return r._minLength}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){return r._length}}),Object.defineProperty(t,"regex",{enumerable:!0,get:function(){return r._regex}}),Object.defineProperty(t,"lowercase",{enumerable:!0,get:function(){return r._lowercase}}),Object.defineProperty(t,"uppercase",{enumerable:!0,get:function(){return r._uppercase}}),Object.defineProperty(t,"includes",{enumerable:!0,get:function(){return r._includes}}),Object.defineProperty(t,"startsWith",{enumerable:!0,get:function(){return r._startsWith}}),Object.defineProperty(t,"endsWith",{enumerable:!0,get:function(){return r._endsWith}}),Object.defineProperty(t,"property",{enumerable:!0,get:function(){return r._property}}),Object.defineProperty(t,"mime",{enumerable:!0,get:function(){return r._mime}}),Object.defineProperty(t,"overwrite",{enumerable:!0,get:function(){return r._overwrite}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return r._normalize}}),Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return r._trim}}),Object.defineProperty(t,"toLowerCase",{enumerable:!0,get:function(){return r._toLowerCase}}),Object.defineProperty(t,"toUpperCase",{enumerable:!0,get:function(){return r._toUpperCase}})},53144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s=n(85311),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:a,schema:o,schemaCode:c,it:l}=e;if(!a&&0===o.length)throw new Error("enum must have non-empty array");const u=o.length>=l.opts.loopEnum;let d;const p=()=>null!=d?d:d=(0,i.useFunc)(t,s.default);let h;if(u||a)h=t.let("valid"),e.block$data(h,function(){t.assign(h,!1),t.forOf("v",c,e=>t.if(r._`${p()}(${n}, ${e})`,()=>t.assign(h,!0).break()))});else{if(!Array.isArray(o))throw new Error("ajv implementation error");const e=t.const("vSchema",c);h=(0,r.or)(...o.map((t,i)=>function(e,t){const i=o[t];return"object"==typeof i&&null!==i?r._`${p()}(${n}, ${e}[${t}])`:r._`${n} === ${i}`}(e,i)))}e.pass(h)}};t.default=a},53231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function s(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new i(n)}t._Code=i,t.nil=new i(""),t._=s;const a=new i("+");function o(e,...t){const n=[u(e[0])];let r=0;for(;r<t.length;)n.push(a),c(n,t[r]),n.push(a,u(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===a){const n=l(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new i(n)}function c(e,t){var n;t instanceof i?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function l(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=o,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:o`${e}${t}`},t.stringify=function(e){return new i(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):s`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new i(e.toString())}},53357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"function"==typeof t&&(t={enter:t});const{enter:r,exit:s}=t;i(e,r,s,n,[])};var r=n(39793);function i(e,t,n,s,a){const o=r.VISITOR_KEYS[e.type];if(o){t&&t(e,a,s);for(const r of o){const o=e[r];if(Array.isArray(o))for(let c=0;c<o.length;c++){const l=o[c];l&&(a.push({node:e,key:r,index:c}),i(l,t,n,s,a),a.pop())}else o&&(a.push({node:e,key:r}),i(o,t,n,s,a),a.pop())}n&&n(e,a,s)}}},53438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const{metadata:a,names:o}=function(e,t,n){let r="BABEL_TPL$";const s=t.join("");do{r="$$"+r}while(s.includes(r));const{names:a,code:o}=function(e,t){const n=[];let r=e[0];for(let i=1;i<e.length;i++){const s=`${t}${i-1}`;n.push(s),r+=s+e[i]}return{names:n,code:r}}(t,r);return{metadata:(0,i.default)(e,e.code(o),{parser:n.parser,placeholderWhitelist:new Set(a.concat(n.placeholderWhitelist?Array.from(n.placeholderWhitelist):[])),placeholderPattern:n.placeholderPattern,preserveComments:n.preserveComments,syntacticPlaceholders:n.syntacticPlaceholders}),names:a}}(e,t,n);return t=>{const n={};return t.forEach((e,t)=>{n[o[t]]=e}),t=>{const i=(0,r.normalizeReplacements)(t);return i&&Object.keys(i).forEach(e=>{if(hasOwnProperty.call(n,e))throw new Error("Unexpected replacement overlap.")}),e.unwrap((0,s.default)(a,i?Object.assign(i,n):n))}}};var r=n(19815),i=n(24858),s=n(97427)},53571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;const n=r.PLACEHOLDERS_ALIAS[e];return!(null==n||!n.includes(t))};var r=n(39793)},53661:(e,t,n)=>{var r=n(63040),i=n(17670),s=n(90289),a=n(4509),o=n(72949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=o,e.exports=c},53663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51980),i=n(66596),s={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:s,schemaCode:a,it:o}=e,c=o.opts.unicodeRegExp?"u":"",l=n?i._`(new RegExp(${a}, ${c}))`:(0,r.usePattern)(e,s);e.fail$data(i._`!${l}.test(${t})`)}};t.default=s},53781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},53973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCodePoint=l,t.readInt=c,t.readStringContents=function(e,t,n,r,i,o){const c=n,l=r,u=i;let d="",p=null,h=n;const{length:f}=t;for(;;){if(n>=f){o.unterminated(c,l,u),d+=t.slice(h,n);break}const m=t.charCodeAt(n);if(s(e,m,t,n)){d+=t.slice(h,n);break}if(92===m){d+=t.slice(h,n);const s=a(t,n,r,i,"template"===e,o);null!==s.ch||p?d+=s.ch:p={pos:n,lineStart:r,curLine:i},({pos:n,lineStart:r,curLine:i}=s),h=n}else 8232===m||8233===m?(++i,r=++n):10===m||13===m?"template"===e?(d+=t.slice(h,n)+"\n",++n,13===m&&10===t.charCodeAt(n)&&++n,++i,h=r=n):o.unterminated(c,l,u):++n}return{pos:n,str:d,firstInvalidLoc:p,lineStart:r,curLine:i,containsInvalid:!!p}};var n=function(e){return e>=48&&e<=57};const r={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},i={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function s(e,t,n,r){return"template"===e?96===t||36===t&&123===n.charCodeAt(r+1):t===("double"===e?34:39)}function a(e,t,n,r,i,s){const a=!i;t++;const c=e=>({pos:t,ch:e,lineStart:n,curLine:r}),u=e.charCodeAt(t++);switch(u){case 110:return c("\n");case 114:return c("\r");case 120:{let i;return({code:i,pos:t}=o(e,t,n,r,2,!1,a,s)),c(null===i?null:String.fromCharCode(i))}case 117:{let i;return({code:i,pos:t}=l(e,t,n,r,a,s)),c(null===i?null:String.fromCodePoint(i))}case 116:return c("\t");case 98:return c("\b");case 118:return c("\v");case 102:return c("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:n=t,++r;case 8232:case 8233:return c("");case 56:case 57:if(i)return c(null);s.strictNumericEscape(t-1,n,r);default:if(u>=48&&u<=55){const a=t-1;let o=/^[0-7]+/.exec(e.slice(a,t+2))[0],l=parseInt(o,8);l>255&&(o=o.slice(0,-1),l=parseInt(o,8)),t+=o.length-1;const u=e.charCodeAt(t);if("0"!==o||56===u||57===u){if(i)return c(null);s.strictNumericEscape(a,n,r)}return c(String.fromCharCode(l))}return c(String.fromCharCode(u))}}function o(e,t,n,r,i,s,a,o){const l=t;let u;return({n:u,pos:t}=c(e,t,n,r,16,i,s,!1,o,!a)),null===u&&(a?o.invalidEscapeSequence(l,n,r):t=l-1),{code:u,pos:t}}function c(e,t,s,a,o,c,l,u,d,p){const h=t,f=16===o?r.hex:r.decBinOct,m=16===o?i.hex:10===o?i.dec:8===o?i.oct:i.bin;let y=!1,g=0;for(let r=0,i=null==c?1/0:c;r<i;++r){const r=e.charCodeAt(t);let i;if(95===r&&"bail"!==u){const n=e.charCodeAt(t-1),r=e.charCodeAt(t+1);if(u){if(Number.isNaN(r)||!m(r)||f.has(n)||f.has(r)){if(p)return{n:null,pos:t};d.unexpectedNumericSeparator(t,s,a)}}else{if(p)return{n:null,pos:t};d.numericSeparatorInEscapeSequence(t,s,a)}++t;continue}if(i=r>=97?r-97+10:r>=65?r-65+10:n(r)?r-48:1/0,i>=o){if(i<=9&&p)return{n:null,pos:t};if(i<=9&&d.invalidDigit(t,s,a,o))i=0;else{if(!l)break;i=0,y=!0}}++t,g=g*o+i}return t===h||null!=c&&t-h!==c||y?{n:null,pos:t}:{n:g,pos:t}}function l(e,t,n,r,i,s){let a;if(123===e.charCodeAt(t)){if(++t,({code:a,pos:t}=o(e,t,n,r,e.indexOf("}",t)-t,!0,i,s)),++t,null!==a&&a>1114111){if(!i)return{code:null,pos:t};s.invalidCodePoint(t,n,r)}}else({code:a,pos:t}=o(e,t,n,r,4,!1,i,s));return{code:a,pos:t}}},54003:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:o()}};const a=s(n(90523));t.parsedType=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};const o=()=>{const e={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function n(t){return e[t]??null}const r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return e=>{switch(e.code){case"invalid_type":return`Geçersiz değer: beklenen ${e.expected}, alınan ${(0,t.parsedType)(e.input)}`;case"invalid_value":return 1===e.values.length?`Geçersiz değer: beklenen ${a.stringifyPrimitive(e.values[0])}`:`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",r=n(e.origin);return r?`Çok büyük: beklenen ${e.origin??"değer"} ${t}${e.maximum.toString()} ${r.unit??"öğe"}`:`Çok büyük: beklenen ${e.origin??"değer"} ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",r=n(e.origin);return r?`Çok küçük: beklenen ${e.origin} ${t}${e.minimum.toString()} ${r.unit}`:`Çok küçük: beklenen ${e.origin} ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Geçersiz metin: "${t.prefix}" ile başlamalı`:"ends_with"===t.format?`Geçersiz metin: "${t.suffix}" ile bitmeli`:"includes"===t.format?`Geçersiz metin: "${t.includes}" içermeli`:"regex"===t.format?`Geçersiz metin: ${t.pattern} desenine uymalı`:`Geçersiz ${r[t.format]??e.format}`}case"not_multiple_of":return`Geçersiz sayı: ${e.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${e.keys.length>1?"lar":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`${e.origin} içinde geçersiz anahtar`;case"invalid_union":default:return"Geçersiz değer";case"invalid_element":return`${e.origin} içinde geçersiz değer`}}}},54128:(e,t,n)=>{var r=n(31800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},54552:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},54560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51980),i=n(66596),s=n(99048),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>i.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:a,data:o,$data:c,it:l}=e,{opts:u}=l;if(!c&&0===n.length)return;const d=n.length>=u.loopRequired;if(l.allErrors?function(){if(d||c)e.block$data(i.nil,p);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const s=t.let("missing");if(d||c){const n=t.let("valid",!0);e.block$data(n,()=>function(n,s){e.setParams({missingProperty:n}),t.forOf(n,a,()=>{t.assign(s,(0,r.propertyInData)(t,o,n,u.ownProperties)),t.if((0,i.not)(s),()=>{e.error(),t.break()})},i.nil)}(s,n)),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,s)),(0,r.reportMissingProp)(e,s),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${l.schemaEnv.baseId+l.errSchemaPath}" (strictRequired)`;(0,s.checkStrictMode)(l,t,l.opts.strictRequired)}}function p(){t.forOf("prop",a,n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,o,n,u.ownProperties),()=>e.error())})}}};t.default=a},54738:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.coerce=t.ZodMiniISODuration=t.ZodMiniISOTime=t.ZodMiniISODate=t.ZodMiniISODateTime=t.iso=t.locales=t.toJSONSchema=t.NEVER=t.util=t.TimePrecision=t.flattenError=t.formatError=t.prettifyError=t.treeifyError=t.regexes=t.clone=t.$brand=t.$input=t.$output=t.config=t.registry=t.globalRegistry=t.core=void 0,t.core=s(n(76601)),a(n(83168),t),a(n(33),t),a(n(53128),t);var o=n(76601);Object.defineProperty(t,"globalRegistry",{enumerable:!0,get:function(){return o.globalRegistry}}),Object.defineProperty(t,"registry",{enumerable:!0,get:function(){return o.registry}}),Object.defineProperty(t,"config",{enumerable:!0,get:function(){return o.config}}),Object.defineProperty(t,"$output",{enumerable:!0,get:function(){return o.$output}}),Object.defineProperty(t,"$input",{enumerable:!0,get:function(){return o.$input}}),Object.defineProperty(t,"$brand",{enumerable:!0,get:function(){return o.$brand}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return o.clone}}),Object.defineProperty(t,"regexes",{enumerable:!0,get:function(){return o.regexes}}),Object.defineProperty(t,"treeifyError",{enumerable:!0,get:function(){return o.treeifyError}}),Object.defineProperty(t,"prettifyError",{enumerable:!0,get:function(){return o.prettifyError}}),Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return o.formatError}}),Object.defineProperty(t,"flattenError",{enumerable:!0,get:function(){return o.flattenError}}),Object.defineProperty(t,"TimePrecision",{enumerable:!0,get:function(){return o.TimePrecision}}),Object.defineProperty(t,"util",{enumerable:!0,get:function(){return o.util}}),Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return o.NEVER}});var c=n(86631);Object.defineProperty(t,"toJSONSchema",{enumerable:!0,get:function(){return c.toJSONSchema}}),t.locales=s(n(45167)),t.iso=s(n(37390));var l=n(37390);Object.defineProperty(t,"ZodMiniISODateTime",{enumerable:!0,get:function(){return l.ZodMiniISODateTime}}),Object.defineProperty(t,"ZodMiniISODate",{enumerable:!0,get:function(){return l.ZodMiniISODate}}),Object.defineProperty(t,"ZodMiniISOTime",{enumerable:!0,get:function(){return l.ZodMiniISOTime}}),Object.defineProperty(t,"ZodMiniISODuration",{enumerable:!0,get:function(){return l.ZodMiniISODuration}}),t.coerce=s(n(27668))},54815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=t.createPathTagFunction=void 0,t.encodeURIPath=i;const r=n(44172);function i(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s=Object.freeze(Object.create(null));t.createPathTagFunction=(e=i)=>function(t,...n){if(1===t.length)return t[0];let i=!1;const a=[],o=t.reduce((t,r,o)=>{/[?#]/.test(r)&&(i=!0);const c=n[o];let l=(i?encodeURIComponent:e)(""+c);return o!==n.length&&(null==c||"object"==typeof c&&c.toString===Object.getPrototypeOf(Object.getPrototypeOf(c.hasOwnProperty??s)??s)?.toString)&&(l=c+"",a.push({start:t.length+r.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+r+(o===n.length?"":l)},""),c=o.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let u;for(;null!==(u=l.exec(c));)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((e,t)=>e.start-t.start),a.length>0){let e=0;const t=a.reduce((t,n)=>{const r=" ".repeat(n.start-e),i="^".repeat(n.length);return e=n.start+n.length,t+r+i},"");throw new r.OpenAIError(`Path parameters result in path with invalid segments:\n${a.map(e=>e.error).join("\n")}\n${o}\n${t}`)}return o},t.path=(0,t.createPathTagFunction)(i)},55481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},55527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},55580:(e,t,n)=>{var r=n(56110)(n(9325),"DataView");e.exports=r},55595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Permissions=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{create(e,t,n){return this._client.getAPIList(s.path`/fine_tuning/checkpoints/${e}/permissions`,i.Page,{body:t,method:"post",...n})}retrieve(e,t={},n){return this._client.get(s.path`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...n})}delete(e,t,n){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(s.path`/fine_tuning/checkpoints/${r}/permissions/${e}`,n)}}t.Permissions=a},55653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},55662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(t){return e[t]??null}const n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Input non valido: atteso ${a.stringifyPrimitive(e.values[0])}`:`Opzione non valida: atteso uno tra ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Troppo grande: ${e.origin??"valore"} deve avere ${n}${e.maximum.toString()} ${r.unit??"elementi"}`:`Troppo grande: ${e.origin??"valore"} deve essere ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Troppo piccolo: ${e.origin} deve avere ${n}${e.minimum.toString()} ${r.unit}`:`Troppo piccolo: ${e.origin} deve essere ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Stringa non valida: deve iniziare con "${t.prefix}"`:"ends_with"===t.format?`Stringa non valida: deve terminare con "${t.suffix}"`:"includes"===t.format?`Stringa non valida: deve includere "${t.includes}"`:"regex"===t.format?`Stringa non valida: deve corrispondere al pattern ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}}};e.exports=t.default},55766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("leadingComments",e,t)};var r=n(73205)},55808:(e,t,n)=>{var r=n(12507)("toUpperCase");e.exports=r},55967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnionDef=t.primitiveMappings=void 0;const r=n(73524);t.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},t.parseUnionDef=function(e,n){if("openApi3"===n.target)return i(e,n);const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in t.primitiveMappings&&(!e._def.checks||!e._def.checks.length))){const e=r.reduce((e,n)=>{const r=t.primitiveMappings[n._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){const e=r.reduce((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){const t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return i(e,n)};const i=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>(0,r.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0}},56110:(e,t,n)=>{var r=n(45083),i=n(10392);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},56449:e=>{var t=Array.isArray;e.exports=t},56549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slugify=t.toUpperCase=t.toLowerCase=t.trim=t.normalize=t.overwrite=t.mime=t.property=t.endsWith=t.startsWith=t.includes=t.uppercase=t.lowercase=t.regex=t.length=t.minLength=t.maxLength=t.size=t.minSize=t.maxSize=t.multipleOf=t.nonnegative=t.nonpositive=t.negative=t.positive=t.gte=t.gt=t.lte=t.lt=void 0;var r=n(76601);Object.defineProperty(t,"lt",{enumerable:!0,get:function(){return r._lt}}),Object.defineProperty(t,"lte",{enumerable:!0,get:function(){return r._lte}}),Object.defineProperty(t,"gt",{enumerable:!0,get:function(){return r._gt}}),Object.defineProperty(t,"gte",{enumerable:!0,get:function(){return r._gte}}),Object.defineProperty(t,"positive",{enumerable:!0,get:function(){return r._positive}}),Object.defineProperty(t,"negative",{enumerable:!0,get:function(){return r._negative}}),Object.defineProperty(t,"nonpositive",{enumerable:!0,get:function(){return r._nonpositive}}),Object.defineProperty(t,"nonnegative",{enumerable:!0,get:function(){return r._nonnegative}}),Object.defineProperty(t,"multipleOf",{enumerable:!0,get:function(){return r._multipleOf}}),Object.defineProperty(t,"maxSize",{enumerable:!0,get:function(){return r._maxSize}}),Object.defineProperty(t,"minSize",{enumerable:!0,get:function(){return r._minSize}}),Object.defineProperty(t,"size",{enumerable:!0,get:function(){return r._size}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return r._maxLength}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return r._minLength}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){return r._length}}),Object.defineProperty(t,"regex",{enumerable:!0,get:function(){return r._regex}}),Object.defineProperty(t,"lowercase",{enumerable:!0,get:function(){return r._lowercase}}),Object.defineProperty(t,"uppercase",{enumerable:!0,get:function(){return r._uppercase}}),Object.defineProperty(t,"includes",{enumerable:!0,get:function(){return r._includes}}),Object.defineProperty(t,"startsWith",{enumerable:!0,get:function(){return r._startsWith}}),Object.defineProperty(t,"endsWith",{enumerable:!0,get:function(){return r._endsWith}}),Object.defineProperty(t,"property",{enumerable:!0,get:function(){return r._property}}),Object.defineProperty(t,"mime",{enumerable:!0,get:function(){return r._mime}}),Object.defineProperty(t,"overwrite",{enumerable:!0,get:function(){return r._overwrite}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return r._normalize}}),Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return r._trim}}),Object.defineProperty(t,"toLowerCase",{enumerable:!0,get:function(){return r._toLowerCase}}),Object.defineProperty(t,"toUpperCase",{enumerable:!0,get:function(){return r._toUpperCase}}),Object.defineProperty(t,"slugify",{enumerable:!0,get:function(){return r._slugify}})},56628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentalClientTasks=void 0;const r=n(1294);t.ExperimentalClientTasks=class{constructor(e){this._client=e}async*callToolStream(e,t=r.CallToolResultSchema,n){var i;const s=this._client,a={...n,task:null!==(i=null==n?void 0:n.task)&&void 0!==i?i:s.isToolTask(e.name)?{}:void 0},o=s.requestStream({method:"tools/call",params:e},t,a),c=s.getToolOutputValidator(e.name);for await(const t of o){if("result"===t.type&&c){const n=t.result;if(!n.structuredContent&&!n.isError)return void(yield{type:"error",error:new r.McpError(r.ErrorCode.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`)});if(n.structuredContent)try{const e=c(n.structuredContent);if(!e.valid)return void(yield{type:"error",error:new r.McpError(r.ErrorCode.InvalidParams,`Structured content does not match the tool's output schema: ${e.errorMessage}`)})}catch(e){return e instanceof r.McpError?void(yield{type:"error",error:e}):void(yield{type:"error",error:new r.McpError(r.ErrorCode.InvalidParams,`Failed to validate structured content: ${e instanceof Error?e.message:String(e)}`)})}}yield t}}async getTask(e,t){return this._client.getTask({taskId:e},t)}async getTaskResult(e,t,n){return this._client.getTaskResult({taskId:e},t,n)}async listTasks(e,t){return this._client.listTasks(e?{cursor:e}:void 0,t)}async cancelTask(e,t){return this._client.cancelTask({taskId:e},t)}requestStream(e,t,n){return this._client.requestStream(e,t,n)}}},57041:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function t(t){return e[t]??null}const n={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return e=>{switch(e.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${e.expected} แต่ได้รับ ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":if(Array.isArray(e))return"อาร์เรย์ (Array)";if(null===e)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`ค่าไม่ถูกต้อง: ควรเป็น ${a.stringifyPrimitive(e.values[0])}`:`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"ไม่เกิน":"น้อยกว่า",r=t(e.origin);return r?`เกินกำหนด: ${e.origin??"ค่า"} ควรมี${n} ${e.maximum.toString()} ${r.unit??"รายการ"}`:`เกินกำหนด: ${e.origin??"ค่า"} ควรมี${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?"อย่างน้อย":"มากกว่า",r=t(e.origin);return r?`น้อยกว่ากำหนด: ${e.origin} ควรมี${n} ${e.minimum.toString()} ${r.unit}`:`น้อยกว่ากำหนด: ${e.origin} ควรมี${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${t.prefix}"`:"ends_with"===t.format?`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${t.suffix}"`:"includes"===t.format?`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${t.includes}" อยู่ในข้อความ`:"regex"===t.format?`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${t.pattern}`:`รูปแบบไม่ถูกต้อง: ${n[t.format]??e.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${e.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${e.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${e.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};e.exports=t.default},57075:e=>{"use strict";e.exports=require("node:stream")},57446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e)return;const a=r.NODE_FIELDS[e.type];if(!a)return;i(e,t,n,a[t]),s(e,t,n)},t.validateChild=s,t.validateField=i,t.validateInternal=function(e,t,n,i,s){if(null!=e&&e.validate&&(!e.optional||null!=i)&&(e.validate(t,n,i),s)){var a;const e=i.type;if(null==e)return;null==(a=r.NODE_PARENT_VALIDATIONS[e])||a.call(r.NODE_PARENT_VALIDATIONS,t,n,i)}};var r=n(39793);function i(e,t,n,r){null!=r&&r.validate&&(r.optional&&null==n||r.validate(e,t,n))}function s(e,t,n){var i;const s=null==n?void 0:n.type;null!=s&&(null==(i=r.NODE_PARENT_VALIDATIONS[s])||i.call(r.NODE_PARENT_VALIDATIONS,e,t,n))}},57733:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Steps=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(54815);class o extends r.APIResource{retrieve(e,t,n){const{thread_id:r,run_id:i,...o}=t;return this._client.get(a.path`/threads/${r}/runs/${i}/steps/${e}`,{query:o,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t,n){const{thread_id:r,...o}=t;return this._client.getAPIList(a.path`/threads/${r}/runs/${e}/steps`,i.CursorPage,{query:o,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Steps=o},57931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t="body"){const n=(0,r.default)(e[t],e);return e[t]=n,n};var r=n(25010)},57973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBindingIdentifier=function(){const{node:e,parent:t}=this,n=this.parentPath.parent;return d(e)&&i(e,t,n)},t.isBlockScoped=function(){return s(this.node)},t.isExpression=function(){return this.isIdentifier()?this.isReferencedIdentifier():o(this.node)},t.isFlow=function(){const{node:e}=this;return!(!c(e)&&(p(e)?"type"!==e.importKind&&"typeof"!==e.importKind:a(e)?"type"!==e.exportKind:!h(e)||"type"!==e.importKind&&"typeof"!==e.importKind))},t.isForAwaitStatement=function(){return E(this.node,{await:!0})},t.isGenerated=function(){return!this.isUser()},t.isPure=function(e){return this.scope.isPure(this.node,e)},t.isReferenced=function(){return v(this.node,this.parent)},t.isReferencedIdentifier=function(e){const{node:t,parent:n}=this;return(d(t,e)||!!f(t,e)&&!(!m(n)&&x(t.name)))&&v(t,n,this.parentPath.parent)},t.isReferencedMemberExpression=function(){const{node:e,parent:t}=this;return y(e)&&v(e,t)},t.isRestProperty=function(){var e;return g(this.node)&&(null==(e=this.parentPath)?void 0:e.isObjectPattern())},t.isScope=function(){return b(this.node,this.parent)},t.isSpreadProperty=function(){var e;return g(this.node)&&(null==(e=this.parentPath)?void 0:e.isObjectExpression())},t.isStatement=function(){const{node:e,parent:t}=this;if(S(e)){if(_(e)){if(u(t,{left:e}))return!1;if(l(t,{init:e}))return!1}return!0}return!1},t.isUser=function(){var e;return!(null==(e=this.node)||!e.loc)},t.isVar=function(){return T(this.node)};var r=n(2352);const{isBinding:i,isBlockScoped:s,isExportDeclaration:a,isExpression:o,isFlow:c,isForStatement:l,isForXStatement:u,isIdentifier:d,isImportDeclaration:p,isImportSpecifier:h,isJSXIdentifier:f,isJSXMemberExpression:m,isMemberExpression:y,isRestElement:g,isReferenced:v,isScope:b,isStatement:S,isVar:T,isVariableDeclaration:_,react:P,isForOfStatement:E}=r,{isCompatTag:x}=P;t.isExistentialTypeParam=function(){throw new Error("`path.isExistentialTypeParam` has been renamed to `path.isExistsTypeAnnotation()` in Babel 7.")},t.isNumericLiteralTypeAnnotation=function(){throw new Error("`path.isNumericLiteralTypeAnnotation()` has been renamed to `path.isNumberLiteralTypeAnnotation()` in Babel 7.")}},58156:(e,t,n)=>{var r=n(47422);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},58345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._containerInsert=E,t._containerInsertAfter=w,t._containerInsertBefore=x,t._verifyNodeList=C,t.insertAfter=function(e){if(a._assertUnremoved.call(this),this.isSequenceExpression())return A(this.get("expressions")).insertAfter(e);const t=C.call(this,e),{parentPath:n,parent:r}=this;if(n.isExpressionStatement()||n.isLabeledStatement()||v(r)||n.isExportDefaultDeclaration()&&this.isDeclaration())return n.insertAfter(t.map(e=>b(e)?m(e):e));if(this.isNodeType("Expression")&&!this.isJSXElement()&&!n.isJSXElement()||n.isForStatement()&&"init"===this.key){const e=this;if(e.node){const r=e.node;let{scope:i}=this;if(i.path.isPattern())return u(r),e.replaceWith(h(l([],r),[])),e.get("callee.body").insertAfter(t),[e];if(O(e))t.unshift(r);else if(g(r)&&_(r.callee))t.unshift(r),t.push(P());else if(function(e,t){if(!y(e)||!S(e.left))return!1;const n=t.getBlockParent();return n.hasOwnBinding(e.left.name)&&n.getOwnBinding(e.left.name).constantViolations.length<=1}(r,i))t.unshift(r),t.push(f(r.left));else if(i.isPure(r,!0))t.push(r);else{n.isMethod({computed:!0,key:r})&&(i=i.parent);const e=i.generateDeclaredUidIdentifier();t.unshift(m(d("=",f(e),r))),t.push(m(f(e)))}}return this.replaceExpressionWithStatements(t)}if(Array.isArray(this.container))return w.call(this,t);if(this.isStatementOrBlock()){const e=this.node,n=e&&(!this.isExpressionStatement()||null!=e.expression),[r]=this.replaceWith(p(n?[e]:[]));return r.pushContainer("body",t)}throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")},t.insertBefore=function(e){a._assertUnremoved.call(this);const t=C.call(this,e),{parentPath:n,parent:r}=this;if(n.isExpressionStatement()||n.isLabeledStatement()||v(r)||n.isExportDefaultDeclaration()&&this.isDeclaration())return n.insertBefore(t);if(this.isNodeType("Expression")&&!this.isJSXElement()||n.isForStatement()&&"init"===this.key)return this.node&&t.push(this.node),this.replaceExpressionWithStatements(t);if(Array.isArray(this.container))return x.call(this,t);if(this.isStatementOrBlock()){const e=this.node,n=e&&(!this.isExpressionStatement()||null!=e.expression),[r]=this.replaceWith(p(n?[e]:[]));return r.unshiftContainer("body",t)}throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")},t.pushContainer=function(e,t){a._assertUnremoved.call(this);const n=C.call(this,t),r=this.node[e];return i.default.get({parentPath:this,parent:this.node,container:r,listKey:e,key:r.length}).setContext(this.context).replaceWithMultiple(n)},t.unshiftContainer=function(e,t){a._assertUnremoved.call(this);const n=C.call(this,t),r=this.node[e],s=i.default.get({parentPath:this,parent:this.node,container:r,listKey:e,key:0}).setContext(this.context);return x.call(s,n)},t.updateSiblingKeys=I;var r=n(37411),i=n(29709),s=n(79578),a=n(53097),o=n(2352),c=n(27145);const{arrowFunctionExpression:l,assertExpression:u,assignmentExpression:d,blockStatement:p,callExpression:h,cloneNode:f,expressionStatement:m,isAssignmentExpression:y,isCallExpression:g,isExportNamedDeclaration:v,isExpression:b,isIdentifier:S,isSequenceExpression:T,isSuper:_,thisExpression:P}=o;function E(e,t){I.call(this,e,t.length);const n=[];this.container.splice(e,0,...t);for(let i=0;i<t.length;i++){var r;const t=e+i,a=this.getSibling(t);n.push(a),null!=(r=this.context)&&r.queue&&s.pushContext.call(a,this.context)}const i=s._getQueueContexts.call(this);for(const e of n){s.setScope.call(e),e.debug("Inserted.");for(const t of i)t.maybeQueue(e,!0)}return n}function x(e){return E.call(this,this.key,e)}function w(e){return E.call(this,this.key+1,e)}const A=e=>e[e.length-1];function O(e){return T(e.parent)&&(A(e.parent.expressions)!==e.node||O(e.parentPath))}function I(e,t){if(!this.parent)return;const n=(0,r.getCachedPaths)(this);if(n)for(const[,r]of n)"number"==typeof r.key&&r.container===this.container&&r.key>=e&&(r.key+=t)}function C(e){if(!e)return[];Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t];let r;if(n?"object"!=typeof n?r="contains a non-object node":n.type?n instanceof i.default&&(r="has a NodePath when it expected a raw object"):r="without a type":r="has falsy node",r){const e=Array.isArray(n)?"array":typeof n;throw new Error(`Node list ${r} with the index of ${t} and type of ${e}`)}}return e}t.hoist=function(e=this.scope){return new c.default(this,e).run()}},58490:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0,t._iterSSEMessages=f;const i=n(79632),s=n(44172),a=n(446),o=n(59724),c=n(446),l=n(30917),u=n(773),d=n(86188),p=n(44172);class h{constructor(e,t,n){this.iterator=e,r.set(this,void 0),this.controller=t,i.__classPrivateFieldSet(this,r,n,"f")}static fromSSEResponse(e,t,n){let r=!1;const i=n?(0,d.loggerFor)(n):console;return new h(async function*(){if(r)throw new s.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const r of f(e,t))if(!n)if(r.data.startsWith("[DONE]"))n=!0;else if(null!==r.event&&r.event.startsWith("thread.")){let e;try{e=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("error"==r.event)throw new p.APIError(void 0,e.error,e.message,void 0);yield{event:r.event,data:e}}else{let t;try{t=JSON.parse(r.data)}catch(e){throw i.error("Could not parse message into JSON:",r.data),i.error("From chunk:",r.raw),e}if(t&&t.error)throw new p.APIError(void 0,t.error,void 0,e.headers);yield t}n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}static fromReadableStream(e,t,n){let r=!1;return new h(async function*(){if(r)throw new s.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const t of async function*(){const t=new o.LineDecoder,n=(0,c.ReadableStreamToAsyncIterable)(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}[(r=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),s=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new h(()=>s(e),this.controller,i.__classPrivateFieldGet(this,r,"f")),new h(()=>s(t),this.controller,i.__classPrivateFieldGet(this,r,"f"))]}toReadableStream(){const e=this;let t;return(0,a.makeReadableStream)({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const i=(0,u.encodeUTF8)(JSON.stringify(n)+"\n");e.enqueue(i)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*f(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new s.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new s.OpenAIError("Attempted to iterate over a response with no body")}const n=new m,r=new o.LineDecoder,i=(0,c.ReadableStreamToAsyncIterable)(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(0,u.encodeUTF8)(n):n;let r,i=new Uint8Array(t.length+e.length);for(i.set(t),i.set(e,t.length),t=i;-1!==(r=(0,o.findDoubleNewlineIndex)(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(i))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}t.Stream=h;class m{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}},58847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTerminal=function(e){return"completed"===e||"failed"===e||"cancelled"===e}},58943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(39793);const i=Symbol(),s=Symbol();function a(e,t,n){if(!e)return!1;const o=r.VISITOR_KEYS[e.type];if(!o)return!1;const c=t(e,n=n||{});if(void 0!==c)switch(c){case i:return!1;case s:return!0}for(const r of o){const i=e[r];if(i)if(Array.isArray(i)){for(const e of i)if(a(e,t,n))return!0}else if(a(i,t,n))return!0}return!1}a.skip=i,a.stop=s},59187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLACEHOLDERS_FLIPPED_ALIAS=t.PLACEHOLDERS_ALIAS=t.PLACEHOLDERS=void 0;var r=n(77596);const i=t.PLACEHOLDERS=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"],s=t.PLACEHOLDERS_ALIAS={Declaration:["Statement"],Pattern:["PatternLike","LVal"]};for(const e of i){const t=r.ALIAS_KEYS[e];null!=t&&t.length&&(s[e]=t)}const a=t.PLACEHOLDERS_FLIPPED_ALIAS={};Object.keys(s).forEach(e=>{s[e].forEach(t=>{hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(e)})})},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},59724:(e,t,n)=>{"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0,t.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1};const s=n(79632),a=n(773);class o{constructor(){r.set(this,void 0),i.set(this,void 0),s.__classPrivateFieldSet(this,r,new Uint8Array,"f"),s.__classPrivateFieldSet(this,i,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(0,a.encodeUTF8)(e):e;s.__classPrivateFieldSet(this,r,(0,a.concatBytes)([s.__classPrivateFieldGet(this,r,"f"),t]),"f");const n=[];let o;for(;null!=(o=c(s.__classPrivateFieldGet(this,r,"f"),s.__classPrivateFieldGet(this,i,"f")));){if(o.carriage&&null==s.__classPrivateFieldGet(this,i,"f")){s.__classPrivateFieldSet(this,i,o.index,"f");continue}if(null!=s.__classPrivateFieldGet(this,i,"f")&&(o.index!==s.__classPrivateFieldGet(this,i,"f")+1||o.carriage)){n.push((0,a.decodeUTF8)(s.__classPrivateFieldGet(this,r,"f").subarray(0,s.__classPrivateFieldGet(this,i,"f")-1))),s.__classPrivateFieldSet(this,r,s.__classPrivateFieldGet(this,r,"f").subarray(s.__classPrivateFieldGet(this,i,"f")),"f"),s.__classPrivateFieldSet(this,i,null,"f");continue}const e=null!==s.__classPrivateFieldGet(this,i,"f")?o.preceding-1:o.preceding,t=(0,a.decodeUTF8)(s.__classPrivateFieldGet(this,r,"f").subarray(0,e));n.push(t),s.__classPrivateFieldSet(this,r,s.__classPrivateFieldGet(this,r,"f").subarray(o.index),"f"),s.__classPrivateFieldSet(this,i,null,"f")}return n}flush(){return s.__classPrivateFieldGet(this,r,"f").length?this.decode("\n"):[]}}function c(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}t.LineDecoder=o,r=new WeakMap,i=new WeakMap,o.NEWLINE_CHARS=new Set(["\n","\r"]),o.NEWLINE_REGEXP=/\r\n|[\n\r]/g},59961:e=>{"use strict";e.exports=JSON.parse('["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float16Array","Float32Array","Float64Array","Function","Infinity","Int16Array","Int32Array","Int8Array","Intl","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakRef","WeakSet"]')},60270:(e,t,n)=>{var r=n(87068),i=n(40346);e.exports=function e(t,n,s,a,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,s,a,e,o))}},60323:(e,t)=>{"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(s,a),time:n(c(!0),l),"date-time":n(p(!0),h),"iso-time":n(c(),u),"iso-date-time":n(p(),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return m.test(e)&&y.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(T.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return g.lastIndex=0,g.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=b&&e>=v}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"iso-time":n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(e){const t=r.exec(e);if(!t)return!1;const n=+t[1],s=+t[2],a=+t[3];return s>=1&&s<=12&&a>=1&&a<=(2===s&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:i[s])}function a(e,t){if(e&&t)return e>t?1:e<t?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(e){return function(t){const n=o.exec(t);if(!n)return!1;const r=+n[1],i=+n[2],s=+n[3],a=n[4],c="-"===n[5]?-1:1,l=+(n[6]||0),u=+(n[7]||0);if(l>23||u>59||e&&!a)return!1;if(r<=23&&i<=59&&s<60)return!0;const d=i-u*c,p=r-l*c-(d<0?1:0);return(23===p||-1===p)&&(59===d||-1===d)&&s<61}}function l(e,t){if(!e||!t)return;const n=new Date("2020-01-01T"+e).valueOf(),r=new Date("2020-01-01T"+t).valueOf();return n&&r?n-r:void 0}function u(e,t){if(!e||!t)return;const n=o.exec(e),r=o.exec(t);return n&&r?(e=n[1]+n[2]+n[3])>(t=r[1]+r[2]+r[3])?1:e<t?-1:0:void 0}const d=/t|\s/i;function p(e){const t=c(e);return function(e){const n=e.split(d);return 2===n.length&&s(n[0])&&t(n[1])}}function h(e,t){if(!e||!t)return;const n=new Date(e).valueOf(),r=new Date(t).valueOf();return n&&r?n-r:void 0}function f(e,t){if(!e||!t)return;const[n,r]=e.split(d),[i,s]=t.split(d),o=a(n,i);return void 0!==o?o||l(r,s):void 0}const m=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,v=-(2**31),b=2**31-1;function S(){return!0}const T=/[^\\]\\Z/},60438:(e,t,n)=>{e.exports=s,s.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(79896);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function s(e,t,n){r.stat(e,function(r,s){n(r,!r&&i(s,e,t))})}},60765:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:o()}};const a=s(n(90523));t.parsedType=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"რიცხვი";case"object":if(Array.isArray(e))return"მასივი";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return{string:"სტრინგი",boolean:"ბულეანი",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"ფუნქცია"}[t]??t};const o=()=>{const e={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}};function n(t){return e[t]??null}const r={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"};return e=>{switch(e.code){case"invalid_type":return`არასწორი შეყვანა: მოსალოდნელი ${e.expected}, მიღებული ${(0,t.parsedType)(e.input)}`;case"invalid_value":return 1===e.values.length?`არასწორი შეყვანა: მოსალოდნელი ${a.stringifyPrimitive(e.values[0])}`:`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${a.joinValues(e.values,"|")}-დან`;case"too_big":{const t=e.inclusive?"<=":"<",r=n(e.origin);return r?`ზედმეტად დიდი: მოსალოდნელი ${e.origin??"მნიშვნელობა"} ${r.verb} ${t}${e.maximum.toString()} ${r.unit}`:`ზედმეტად დიდი: მოსალოდნელი ${e.origin??"მნიშვნელობა"} იყოს ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",r=n(e.origin);return r?`ზედმეტად პატარა: მოსალოდნელი ${e.origin} ${r.verb} ${t}${e.minimum.toString()} ${r.unit}`:`ზედმეტად პატარა: მოსალოდნელი ${e.origin} იყოს ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`არასწორი სტრინგი: უნდა იწყებოდეს "${t.prefix}"-ით`:"ends_with"===t.format?`არასწორი სტრინგი: უნდა მთავრდებოდეს "${t.suffix}"-ით`:"includes"===t.format?`არასწორი სტრინგი: უნდა შეიცავდეს "${t.includes}"-ს`:"regex"===t.format?`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${t.pattern}`:`არასწორი ${r[t.format]??e.format}`}case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${e.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${e.keys.length>1?"ები":"ი"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${e.origin}-ში`;case"invalid_union":default:return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${e.origin}-ში`}}}},60826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statements=t.statement=t.smart=t.program=t.expression=void 0;var r=n(2352);const{assertExpressionStatement:i}=r;function s(e){return{code:e=>`/* @babel/template */;\n${e}`,validate:()=>{},unwrap:t=>e(t.program.body.slice(1))}}t.smart=s(e=>e.length>1?e:e[0]),t.statements=s(e=>e),t.statement=s(e=>{if(0===e.length)throw new Error("Found nothing to return.");if(e.length>1)throw new Error("Found multiple statements but wanted one");return e[0]});const a=t.expression={code:e=>`(\n${e}\n)`,validate:e=>{if(e.program.body.length>1)throw new Error("Found multiple statements but wanted one");if(0===a.unwrap(e).start)throw new Error("Parse result included parens.")},unwrap:({program:e})=>{const[t]=e.body;return i(t),t.expression}};t.program={code:e=>e,validate:()=>{},unwrap:e=>e.program}},60940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e){let t=this;do{if(e(t))return t}while(t=t.parentPath);return null},t.findParent=function(e){let t=this;for(;t=t.parentPath;)if(e(t))return t;return null},t.getAncestry=function(){let e=this;const t=[];do{t.push(e)}while(e=e.parentPath);return t},t.getDeepestCommonAncestorFrom=function(e,t){if(!e.length)return this;if(1===e.length)return e[0];let n,r,i=1/0;const s=e.map(e=>{const t=[];do{t.unshift(e)}while((e=e.parentPath)&&e!==this);return t.length<i&&(i=t.length),t}),a=s[0];e:for(let e=0;e<i;e++){const t=a[e];for(const n of s)if(n[e]!==t)break e;n=e,r=t}if(r)return t?t(r,n,s):r;throw new Error("Couldn't find intersection")},t.getEarliestCommonAncestorFrom=function(e){return this.getDeepestCommonAncestorFrom(e,function(e,t,n){let r;const s=i[e.type];for(const e of n){const n=e[t+1];r?(n.listKey&&r.listKey===n.listKey&&n.key<r.key||s.indexOf(r.parentKey)>s.indexOf(n.parentKey))&&(r=n):r=n}return r})},t.getFunctionParent=function(){return this.findParent(e=>e.isFunction())},t.getStatementParent=function(){let e=this;do{if(!e.parentPath||Array.isArray(e.container)&&e.isStatement())break;e=e.parentPath}while(e);if(e&&(e.isProgram()||e.isFile()))throw new Error("File/Program node, we can't possibly find a statement parent to this");return e},t.inType=function(...e){let t=this;for(;t;){if(e.includes(t.node.type))return!0;t=t.parentPath}return!1},t.isAncestor=function(e){return e.isDescendant(this)},t.isDescendant=function(e){return!!this.findParent(t=>t===e)};var r=n(2352);const{VISITOR_KEYS:i}=r},60983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!0){return"string"==typeof e&&((!t||!(0,r.isKeyword)(e)&&!(0,r.isStrictReservedWord)(e,!0))&&(0,r.isIdentifierName)(e))};var r=n(61e3)},61e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isIdentifierChar",{enumerable:!0,get:function(){return r.isIdentifierChar}}),Object.defineProperty(t,"isIdentifierName",{enumerable:!0,get:function(){return r.isIdentifierName}}),Object.defineProperty(t,"isIdentifierStart",{enumerable:!0,get:function(){return r.isIdentifierStart}}),Object.defineProperty(t,"isKeyword",{enumerable:!0,get:function(){return i.isKeyword}}),Object.defineProperty(t,"isReservedWord",{enumerable:!0,get:function(){return i.isReservedWord}}),Object.defineProperty(t,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return i.isStrictBindOnlyReservedWord}}),Object.defineProperty(t,"isStrictBindReservedWord",{enumerable:!0,get:function(){return i.isStrictBindReservedWord}}),Object.defineProperty(t,"isStrictReservedWord",{enumerable:!0,get:function(){return i.isStrictReservedWord}});var r=n(38721),i=n(43115)},61074:e=>{e.exports=function(e){return e.split("")}},61461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(34741),o=n(89526),c=n(12018),l=n(54815);class u extends r.APIResource{create(e,t){return this._client.post("/files",(0,c.multipartFormRequestOptions)({body:e,...t},this._client))}retrieve(e,t){return this._client.get(l.path`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",i.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/files/${e}`,t)}content(e,t){return this._client.get(l.path`/files/${e}/content`,{...t,headers:(0,s.buildHeaders)([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let s=await this.retrieve(e);for(;!s.status||!r.has(s.status);)if(await(0,a.sleep)(t),s=await this.retrieve(e),Date.now()-i>n)throw new o.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return s}}t.Files=u},61489:(e,t,n)=>{var r=n(17400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},61526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99048),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if((0,r.alwaysValidSchema)(i,n))return void e.fail();const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};t.default=i},61802:(e,t,n)=>{var r=n(62224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)}),t});e.exports=a},62006:(e,t,n)=>{var r=n(15389),i=n(64894),s=n(95950);e.exports=function(e){return function(t,n,a){var o=Object(t);if(!i(t)){var c=r(n,3);t=s(t),n=function(e){return c(o[e],e,o)}}var l=e(t,n,a);return l>-1?o[c?t[l]:l]:void 0}}},62224:(e,t,n)=>{var r=n(50104);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},62241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0;const r=n(82040);class i extends r.APIResource{}t.Methods=i},62425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!1,!0)};var r=n(85279)},62790:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function t(t){return e[t]??null}const n={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return e=>{switch(e.code){case"invalid_type":return`ناسم ورودي: باید ${e.expected} وای, مګر ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"ارې";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} ترلاسه شو`;case"invalid_value":return 1===e.values.length?`ناسم ورودي: باید ${a.stringifyPrimitive(e.values[0])} وای`:`ناسم انتخاب: باید یو له ${a.joinValues(e.values,"|")} څخه وای`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ډیر لوی: ${e.origin??"ارزښت"} باید ${n}${e.maximum.toString()} ${r.unit??"عنصرونه"} ولري`:`ډیر لوی: ${e.origin??"ارزښت"} باید ${n}${e.maximum.toString()} وي`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`ډیر کوچنی: ${e.origin} باید ${n}${e.minimum.toString()} ${r.unit} ولري`:`ډیر کوچنی: ${e.origin} باید ${n}${e.minimum.toString()} وي`}case"invalid_format":{const t=e;return"starts_with"===t.format?`ناسم متن: باید د "${t.prefix}" سره پیل شي`:"ends_with"===t.format?`ناسم متن: باید د "${t.suffix}" سره پای ته ورسيږي`:"includes"===t.format?`ناسم متن: باید "${t.includes}" ولري`:"regex"===t.format?`ناسم متن: باید د ${t.pattern} سره مطابقت ولري`:`${n[t.format]??e.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${e.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${e.keys.length>1?"کلیډونه":"کلیډ"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${e.origin} کې`;case"invalid_union":default:return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${e.origin} کې`}}};e.exports=t.default},62882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98991),i=n(65879),s=n(61e3);const a=(e,t)=>n=>e(t(n));function o(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:a(a(e.white,e.bgRed),e.bold),gutter:e.gray,marker:a(e.red,e.bold),message:a(e.red,e.bold),reset:e.reset}}const c=o(r.createColors(!0)),l=o(r.createColors(!1));function u(e){return e?c:l}const d=new Set(["as","async","from","get","of","set"]),p=/\r\n|[\n\r\u2028\u2029]/,h=/^[()[\]{}]$/;let f;{const e=/^[a-z][\w-]*$/i,t=function(t,n,r){if("name"===t.type){if(s.isKeyword(t.value)||s.isStrictReservedWord(t.value,!0)||d.has(t.value))return"keyword";if(e.test(t.value)&&("<"===r[n-1]||"</"===r.slice(n-2,n)))return"jsxIdentifier";if(t.value[0]!==t.value[0].toLowerCase())return"capitalized"}return"punctuator"===t.type&&h.test(t.value)?"bracket":"invalid"!==t.type||"@"!==t.value&&"#"!==t.value?t.type:"punctuator"};f=function*(e){let n;for(;n=i.default.exec(e);){const r=i.matchToToken(n);yield{type:t(r,n.index,e),value:r.value}}}}function m(e){if(""===e)return"";const t=u(!0);let n="";for(const{type:r,value:i}of f(e))n+=r in t?i.split(p).map(e=>t[r](e)).join("\n"):i;return n}let y=!1;const g=/\r\n|[\n\r\u2028\u2029]/;function v(e,t,n={}){const i=n.forceColor||("object"!=typeof process||"0"!==process.env.FORCE_COLOR&&"false"!==process.env.FORCE_COLOR)&&r.isColorSupported&&n.highlightCode,s=u(i),a=e.split(g),{start:o,end:c,markerLines:l}=function(e,t,n){const r=Object.assign({column:0,line:-1},e.start),i=Object.assign({},r,e.end),{linesAbove:s=2,linesBelow:a=3}=n||{},o=r.line,c=r.column,l=i.line,u=i.column;let d=Math.max(o-(s+1),0),p=Math.min(t.length,l+a);-1===o&&(d=0),-1===l&&(p=t.length);const h=l-o,f={};if(h)for(let e=0;e<=h;e++){const n=e+o;if(c)if(0===e){const e=t[n-1].length;f[n]=[c,e-c+1]}else if(e===h)f[n]=[0,u];else{const r=t[n-e].length;f[n]=[0,r]}else f[n]=!0}else f[o]=c===u?!c||[c,0]:[c,u-c];return{start:d,end:p,markerLines:f}}(t,a,n),d=t.start&&"number"==typeof t.start.column,p=String(c).length;let h=(i?m(e):e).split(g,c).slice(o,c).map((e,t)=>{const r=o+1+t,i=` ${` ${r}`.slice(-p)} |`,a=l[r],c=!l[r+1];if(a){let t="";if(Array.isArray(a)){const r=e.slice(0,Math.max(a[0]-1,0)).replace(/[^\t]/g," "),o=a[1]||1;t=["\n ",s.gutter(i.replace(/\d/g," "))," ",r,s.marker("^").repeat(o)].join(""),c&&n.message&&(t+=" "+s.message(n.message))}return[s.marker(">"),s.gutter(i),e.length>0?` ${e}`:"",t].join("")}return` ${s.gutter(i)}${e.length>0?` ${e}`:""}`}).join("\n");return n.message&&!d&&(h=`${" ".repeat(p+1)}${n.message}\n${h}`),i?s.reset(h):h}t.codeFrameColumns=v,t.default=function(e,t,n,r={}){if(!y){y=!0;const e="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";process.emitWarning?process.emitWarning(e,"DeprecationWarning"):(new Error(e).name="DeprecationWarning",console.warn(new Error(e)))}return v(e,{start:{column:n=Math.max(n,0),line:t}},r)},t.highlight=m},62909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAnyDef=void 0;const r=n(86379);t.parseAnyDef=function(e){if("openAi"!==e.target)return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?(0,r.getRelativePath)(t,e.currentPath):t.join("/")}}},62951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Calls=void 0;const r=n(82040),i=n(262),s=n(54815);class a extends r.APIResource{accept(e,t,n){return this._client.post(s.path`/realtime/calls/${e}/accept`,{body:t,...n,headers:(0,i.buildHeaders)([{Accept:"*/*"},n?.headers])})}hangup(e,t){return this._client.post(s.path`/realtime/calls/${e}/hangup`,{...t,headers:(0,i.buildHeaders)([{Accept:"*/*"},t?.headers])})}refer(e,t,n){return this._client.post(s.path`/realtime/calls/${e}/refer`,{body:t,...n,headers:(0,i.buildHeaders)([{Accept:"*/*"},n?.headers])})}reject(e,t={},n){return this._client.post(s.path`/realtime/calls/${e}/reject`,{body:t,...n,headers:(0,i.buildHeaders)([{Accept:"*/*"},n?.headers])})}}t.Calls=a},63040:(e,t,n)=>{var r=n(21549),i=n(80079),s=n(68223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},63237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNeverDef=void 0;const r=n(62909);t.parseNeverDef=function(e){return"openAi"===e.target?void 0:{not:(0,r.parseAnyDef)({...e,currentPath:[...e.currentPath,"not"]})}}},63345:e=>{e.exports=function(){return[]}},63357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isChatCompletionFunctionTool=i,t.makeParseableResponseFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.makeParseableTextFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.isAutoParsableResponseFormat=s,t.makeParseableTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=a,t.maybeParseChatCompletion=function(e,t){return t&&l(t)?o(e,t):{...e,choices:e.choices.map(e=>(u(e.message.tool_calls),{...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))}},t.parseChatCompletion=o,t.shouldParseToolCall=function(e,t){if(!e||!("tools"in e)||!e.tools)return!1;const n=e.tools?.find(e=>i(e)&&e.function?.name===t.function.name);return i(n)&&(a(n)||n?.function.strict||!1)},t.hasAutoParseableInput=l,t.assertToolCallsAreChatCompletionFunctionToolCalls=u,t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}};const r=n(89526);function i(e){return void 0!==e&&"function"in e&&void 0!==e.function}function s(e){return"auto-parseable-response-format"===e?.$brand}function a(e){return"auto-parseable-tool"===e?.$brand}function o(e,t){const n=e.choices.map(e=>{if("length"===e.finish_reason)throw new r.LengthFinishReasonError;if("content_filter"===e.finish_reason)throw new r.ContentFilterFinishReasonError;return u(e.message.tool_calls),{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>function(e,t){const n=e.tools?.find(e=>i(e)&&e.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:a(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?c(t,e.message.content):null}}});return{...e,choices:n}}function c(e,t){return"json_schema"!==e.response_format?.type?null:"json_schema"===e.response_format?.type?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function l(e){return!!s(e.response_format)||(e.tools?.some(e=>a(e)||"function"===e.type&&!0===e.function.strict)??!1)}function u(e){for(const t of e||[])if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}},63605:e=>{e.exports=function(e){return this.__data__.get(e)}},63702:e=>{e.exports=function(){this.__data__=[],this.size=0}},63762:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r="",i=e){if(n.has(i))return;n.add(i);const{internal:s,trace:a}=function(){const{stackTraceLimit:e,prepareStackTrace:t}=Error;let n;if(Error.stackTraceLimit=4,Error.prepareStackTrace=function(e,t){n=t},(new Error).stack,Error.stackTraceLimit=e,Error.prepareStackTrace=t,!n)return{internal:!1,trace:""};const r=n.slice(2,4);return{internal:/[\\/]@babel[\\/]/.test(r[1].getFileName()),trace:r.map(e=>`    at ${e}`).join("\n")}}();s||console.warn(`${r}\`${e}\` has been deprecated, please migrate to \`${t}\`\n${a}`)};const n=new Set},63847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isVariableDeclaration)(e)&&("var"!==e.kind||e[i])};var r=n(98960),i=Symbol.for("var used to be block scoped")},63862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},63912:(e,t,n)=>{var r=n(61074),i=n(49698),s=n(42054);e.exports=function(e){return i(e)?s(e):r(e)}},64014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDeprecatedGenerators=function(e){{const t={Noop(){},TSExpressionWithTypeArguments(e){this.print(e.expression),this.print(e.typeParameters)},DecimalLiteral(e){const t=this.getPossibleRaw(e);this.format.minified||void 0===t?this.word(e.value+"m"):this.word(t)}};Object.assign(e.prototype,t)}}},64026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:i,$data:s,schema:a,schemaCode:o,it:c}=e,{opts:l,errSchemaPath:u,schemaEnv:d,self:p}=c;l.validateFormats&&(s?function(){const s=n.scopeValue("formats",{ref:p.formats,code:l.code.formats}),a=n.const("fDef",r._`${s}[${o}]`),c=n.let("fType"),u=n.let("format");n.if(r._`typeof ${a} == "object" && !(${a} instanceof RegExp)`,()=>n.assign(c,r._`${a}.type || "string"`).assign(u,r._`${a}.validate`),()=>n.assign(c,r._`"string"`).assign(u,a)),e.fail$data((0,r.or)(!1===l.strictSchema?r.nil:r._`${o} && !${u}`,function(){const e=d.$async?r._`(${a}.async ? await ${u}(${i}) : ${u}(${i}))`:r._`${u}(${i})`,n=r._`(typeof ${u} == "function" ? ${e} : ${u}.test(${i}))`;return r._`${u} && ${u} !== true && ${c} === ${t} && !${n}`}()))}():function(){const s=p.formats[a];if(!s)return void function(){if(!1!==l.strictSchema)throw new Error(e());function e(){return`unknown format "${a}" ignored in schema at path "${u}"`}p.logger.warn(e())}();if(!0===s)return;const[o,c,h]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):l.code.formats?r._`${l.code.formats}${(0,r.getProperty)(a)}`:void 0,i=n.scopeValue("formats",{key:a,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,i]:[e.type||"string",e.validate,r._`${i}.validate`]}(s);o===t&&e.pass(function(){if("object"==typeof s&&!(s instanceof RegExp)&&s.async){if(!d.$async)throw new Error("async format in sync schema");return r._`await ${h}(${i})`}return"function"==typeof c?r._`${h}(${i})`:r._`${h}.test(${i})`}())}())}};t.default=i},64084:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.safeDecodeAsync=t._safeDecodeAsync=t.safeEncodeAsync=t._safeEncodeAsync=t.safeDecode=t._safeDecode=t.safeEncode=t._safeEncode=t.decodeAsync=t._decodeAsync=t.encodeAsync=t._encodeAsync=t.decode=t._decode=t.encode=t._encode=t.safeParseAsync=t._safeParseAsync=t.safeParse=t._safeParse=t.parseAsync=t._parseAsync=t.parse=t._parse=void 0;const a=s(n(98706)),o=s(n(24362)),c=s(n(90523));t._parse=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new a.$ZodAsyncError;if(o.issues.length){const t=new(i?.Err??e)(o.issues.map(e=>c.finalizeIssue(e,s,a.config())));throw c.captureStackTrace(t,i?.callee),t}return o.value},t.parse=(0,t._parse)(o.$ZodRealError),t._parseAsync=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const t=new(i?.Err??e)(o.issues.map(e=>c.finalizeIssue(e,s,a.config())));throw c.captureStackTrace(t,i?.callee),t}return o.value},t.parseAsync=(0,t._parseAsync)(o.$ZodRealError),t._safeParse=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new a.$ZodAsyncError;return s.issues.length?{success:!1,error:new(e??o.$ZodError)(s.issues.map(e=>c.finalizeIssue(e,i,a.config())))}:{success:!0,data:s.value}},t.safeParse=(0,t._safeParse)(o.$ZodRealError),t._safeParseAsync=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>c.finalizeIssue(e,i,a.config())))}:{success:!0,data:s.value}},t.safeParseAsync=(0,t._safeParseAsync)(o.$ZodRealError),t._encode=e=>(n,r,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return(0,t._parse)(e)(n,r,s)},t.encode=(0,t._encode)(o.$ZodRealError),t._decode=e=>(n,r,i)=>(0,t._parse)(e)(n,r,i),t.decode=(0,t._decode)(o.$ZodRealError),t._encodeAsync=e=>async(n,r,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return(0,t._parseAsync)(e)(n,r,s)},t.encodeAsync=(0,t._encodeAsync)(o.$ZodRealError),t._decodeAsync=e=>async(n,r,i)=>(0,t._parseAsync)(e)(n,r,i),t.decodeAsync=(0,t._decodeAsync)(o.$ZodRealError),t._safeEncode=e=>(n,r,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return(0,t._safeParse)(e)(n,r,s)},t.safeEncode=(0,t._safeEncode)(o.$ZodRealError),t._safeDecode=e=>(n,r,i)=>(0,t._safeParse)(e)(n,r,i),t.safeDecode=(0,t._safeDecode)(o.$ZodRealError),t._safeEncodeAsync=e=>async(n,r,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return(0,t._safeParseAsync)(e)(n,r,s)},t.safeEncodeAsync=(0,t._safeEncodeAsync)(o.$ZodRealError),t._safeDecodeAsync=e=>async(n,r,i)=>(0,t._safeParseAsync)(e)(n,r,i),t.safeDecodeAsync=(0,t._safeDecodeAsync)(o.$ZodRealError)},64133:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.EntryPointDetector=void 0;const o=a(n(91398)),c=a(n(16928));t.EntryPointDetector=class{async detectEntryPoints(e){const t=[],n=["**/*[Mm]ain.{java,ts,tsx,js,jsx,py}","**/*[Aa]pp.{tsx,ts,jsx,js,py}","**/*[Ii]ndex.{tsx,ts,jsx,js}","**/*[Aa]pplication.java","**/src/index.{tsx,ts,jsx,js}","**/src/App.{tsx,ts,jsx,js}","**/src/main/java/**/*Application.java","**/__main__.py","**/manage.py","**/app.py","**/run.py","**/wsgi.py","**/asgi.py"];for(const e of n){const n=await o.workspace.findFiles(e,"**/node_modules/**");for(const e of n){const n=this.calculateEntryPointScore(e);n>0&&t.push({filePath:e.fsPath,type:this.detectEntryPointType(e),score:n})}}const r=await this.findFilesWithMainMethod(e);t.push(...r);const i=this.deduplicateEntryPoints(t);return i.sort((e,t)=>t.score-e.score),this.markPrimaryEntryPoint(i),i.sort((e,t)=>e.isPrimaryEntry&&!t.isPrimaryEntry?-1:!e.isPrimaryEntry&&t.isPrimaryEntry?1:t.score-e.score),i.slice(0,10)}markPrimaryEntryPoint(e){const t=[/[\\/]src[\\/]index\.(tsx|ts|jsx|js)$/i,/[\\/]src[\\/]main\.(tsx|ts|jsx|js)$/i,/[\\/]index\.(tsx|ts|jsx|js)$/i,/[\\/]main\.(tsx|ts|jsx|js)$/i];for(const n of t){const t=e.find(e=>n.test(e.filePath));if(t)return t.isPrimaryEntry=!0,t.score+=100,void console.log(`Primary entry point detected: ${t.filePath}`)}const n=e.find(e=>"main"===e.type&&e.filePath.endsWith(".java"));if(n)return n.isPrimaryEntry=!0,n.score+=100,void console.log(`Primary entry point detected (Java main): ${n.filePath}`);const r=[/__main__\.py$/i,/[\/]main\.py$/i,/[\/]app\.py$/i,/[\/]manage\.py$/i,/[\/]run\.py$/i,/[\/]wsgi\.py$/i,/[\/]asgi\.py$/i];for(const t of r){const n=e.find(e=>t.test(e.filePath));if(n)return n.isPrimaryEntry=!0,n.score+=100,void console.log(`Primary entry point detected (Python): ${n.filePath}`)}e.length>0&&(e[0].isPrimaryEntry=!0,console.log(`Primary entry point fallback: ${e[0].filePath}`))}calculateEntryPointScore(e){const t=c.basename(e.fsPath).toLowerCase(),n=e.fsPath.toLowerCase();let r=0;return"index.tsx"!==t&&"index.ts"!==t||(r+=10),"app.tsx"!==t&&"app.ts"!==t||(r+=9),"main.tsx"!==t&&"main.ts"!==t||(r+=8),t.includes("main.java")&&(r+=10),t.includes("application.java")&&(r+=9),"__main__.py"===t&&(r+=10),"main.py"===t&&(r+=9),"app.py"===t&&(r+=8),"manage.py"===t&&(r+=9),"wsgi.py"!==t&&"asgi.py"!==t||(r+=7),"run.py"===t&&(r+=7),n.includes("src/index")&&(r+=5),n.includes("src/app")&&(r+=4),n.includes("src/main")&&(r+=4),n.includes("public/")&&(r+=3),n.includes("/pages/")&&(r+=2),e.fsPath.split(c.sep).length<=5&&(r+=2),r}detectEntryPointType(e){const t=c.basename(e.fsPath).toLowerCase();return t.includes("main")?"main":t.includes("index")?"index":t.includes("app")?"app":"config"}async findFilesWithMainMethod(e){const t=[],n=await o.workspace.findFiles("**/*.java","**/node_modules/**",100);for(const e of n){const n=await this.hasMainMethod(e),r=await this.hasSpringBootAnnotation(e);(n||r)&&(t.push({filePath:e.fsPath,type:"main",score:r?15:10}),r&&console.log(`Spring Boot entry point detected: ${e.fsPath}`))}const r=await o.workspace.findFiles("**/*.py","{**/node_modules/**,**/__pycache__/**,**/venv/**,**/.venv/**,**/env/**}",100);for(const e of r)await this.hasPythonMainBlock(e)&&t.push({filePath:e.fsPath,type:"main",score:8});return t}async hasPythonMainBlock(e){try{const t=(await o.workspace.openTextDocument(e)).getText();return/if\s+__name__\s*==\s*['"]__main__['"]\s*:/.test(t)}catch(e){return!1}}async hasMainMethod(e){try{const t=(await o.workspace.openTextDocument(e)).getText();return[/public\s+static\s+void\s+main\s*\(\s*String\s*\[\s*\]\s*\w*\s*\)/,/public\s+static\s+void\s+main\s*\(\s*String\s+\w*\s*\[\s*\]\s*\)/,/public\s+static\s+void\s+main\s*\(\s*String\s*\.\.\.\s*\w*\s*\)/].some(e=>e.test(t))}catch(e){return!1}}async hasSpringBootAnnotation(e){try{const t=(await o.workspace.openTextDocument(e)).getText();return[/@SpringBootApplication/,/@EnableAutoConfiguration/].some(e=>e.test(t))}catch(e){return!1}}deduplicateEntryPoints(e){const t=new Set,n=[];for(const r of e)t.has(r.filePath)||(t.add(r.filePath),n.push(r));return n}}},64212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(22268)),a=n(22268);class o extends i.APIResource{constructor(){super(...arguments),this.graders=new s.Graders(this._client)}}t.Alpha=o,o.Graders=a.Graders},64362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(66596),i=n(99048),s=n(51980);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const i=1===t?"property":"properties";return r.str`must have ${i} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:i}})=>r._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${n}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:n)[r]=e[r]);return[t,n]}(e);o(e,t),c(e,n)}};function o(e,t=e.schema){const{gen:n,data:i,it:a}=e;if(0===Object.keys(t).length)return;const o=n.let("missing");for(const c in t){const l=t[c];if(0===l.length)continue;const u=(0,s.propertyInData)(n,i,c,a.opts.ownProperties);e.setParams({property:c,depsCount:l.length,deps:l.join(", ")}),a.allErrors?n.if(u,()=>{for(const t of l)(0,s.checkReportMissingProp)(e,t)}):(n.if(r._`${u} && (${(0,s.checkMissingProp)(e,l,o)})`),(0,s.reportMissingProp)(e,o),n.else())}}function c(e,t=e.schema){const{gen:n,data:r,keyword:a,it:o}=e,c=n.name("valid");for(const l in t)(0,i.alwaysValidSchema)(o,t[l])||(n.if((0,s.propertyInData)(n,r,l,o.opts.ownProperties),()=>{const t=e.subschema({keyword:a,schemaProp:l},c);e.mergeValidEvaluated(t,c)},()=>n.var(c,!0)),e.ok(c))}t.validatePropertyDeps=o,t.validateSchemaDeps=c,t.default=a},64691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingToolFunction=void 0,t.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse},t.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},64894:(e,t,n)=>{var r=n(1882),i=n(30294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},64994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:s,it:a}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(a.opts.discriminator&&s.discriminator)return;const o=n,c=t.let("valid",!1),l=t.let("passing",null),u=t.name("_valid");e.setParams({passing:l}),t.block(function(){o.forEach((n,s)=>{let o;(0,i.alwaysValidSchema)(a,n)?t.var(u,!0):o=e.subschema({keyword:"oneOf",schemaProp:s,compositeRule:!0},u),s>0&&t.if(r._`${u} && ${c}`).assign(c,!1).assign(l,r._`[${l}, ${s}]`).else(),t.if(u,()=>{t.assign(c,!0),t.assign(l,s),o&&e.mergeEvaluated(o,r.Name)})})}),e.result(c,()=>e.reset(),()=>e.error(!0))}};t.default=s},65105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(78851),i=n(4076),s=n(22010),a=n(53663),o=n(66359),c=n(54560),l=n(25584),u=n(41828),d=n(31234),p=n(53144),h=[r.default,i.default,s.default,a.default,o.default,c.default,l.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,p.default];t.default=h},65867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptionalDef=void 0;const r=n(73524),i=n(62909);t.parseOptionalDef=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return(0,r.parseDef)(e.innerType._def,t);const n=(0,r.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:(0,i.parseAnyDef)(t)},n]}:(0,i.parseAnyDef)(t)}},65879:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},66068:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function t(t){return e[t]??null}const n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ugyldig verdi: forventet ${a.stringifyPrimitive(e.values[0])}`:`Ugyldig valg: forventet en av ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`For stor(t): forventet ${e.origin??"value"} til å ha ${n}${e.maximum.toString()} ${r.unit??"elementer"}`:`For stor(t): forventet ${e.origin??"value"} til å ha ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`For lite(n): forventet ${e.origin} til å ha ${n}${e.minimum.toString()} ${r.unit}`:`For lite(n): forventet ${e.origin} til å ha ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ugyldig streng: må starte med "${t.prefix}"`:"ends_with"===t.format?`Ugyldig streng: må ende med "${t.suffix}"`:"includes"===t.format?`Ugyldig streng: må inneholde "${t.includes}"`:"regex"===t.format?`Ugyldig streng: må matche mønsteret ${t.pattern}`:`Ugyldig ${n[t.format]??e.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}}};e.exports=t.default},66359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,s="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${s} ${i}`)}};t.default=i},66596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(53231),i=n(66692);var s=n(53231);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}});var a=n(66692);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class o{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends o{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?i.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=k(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class l extends o{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=k(this.rhs,e,t),this}get names(){return C(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends l{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class p extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends o{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends o{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=k(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends o{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,n)=>t+n.render(e),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const i=n[r];i.optimizeNames(e,t)||(N(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>I(e,t.names),{})}}class y extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends m{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(L(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=k(this.condition,e,t),this}get names(){const e=super.names;return C(e,this.condition),this.else&&I(e,this.else.names),e}}b.kind="if";class S extends y{}S.kind="for";class T extends S{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=k(this.iteration,e,t),this}get names(){return I(super.names,this.iteration.names)}}class _ extends S{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:n,from:r,to:s}=this;return`for(${t} ${n}=${r}; ${n}<${s}; ${n}++)`+super.render(e)}get names(){const e=C(super.names,this.from);return C(e,this.to)}}class P extends S{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=k(this.iterable,e,t),this}get names(){return I(super.names,this.iterable.names)}}class E extends y{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class x extends m{render(e){return"return "+super.render(e)}}x.kind="return";class w extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&I(e,this.catch.names),this.finally&&I(e,this.finally.names),e}}class A extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}A.kind="catch";class O extends y{render(e){return"finally"+super.render(e)}}function I(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function C(e,t){return t instanceof r._CodeOrName?I(e,t.names):e}function k(e,t,n){return e instanceof r.Name?s(e):(i=e)instanceof r._Code&&i._items.some(e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str])?new r._Code(e._items.reduce((e,t)=>(t instanceof r.Name&&(t=s(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e),[])):e;var i;function s(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function N(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function L(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${j(e)}`}O.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new c(e,i,n)),i}const(e,t,n){return this._def(i.varKinds.const,e,t,n)}let(e,t,n){return this._def(i.varKinds.let,e,t,n)}var(e,t,n){return this._def(i.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new l(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,i]of e)t.length>1&&t.push(","),t.push(n),(n!==i||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,i));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new T(e),t)}forRange(e,t,n,r,s=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const a=this._scope.toName(e);return this._for(new _(s,a,t,n),()=>r(a))}forOf(e,t,n,s=i.varKinds.const){const a=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,t=>{this.var(a,r._`${e}[${t}]`),n(a)})}return this._for(new P("of",s,a,t),()=>n(a))}forIn(e,t,n,s=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const a=this._scope.toName(e);return this._for(new P("in",s,a,t),()=>n(a))}endFor(){return this._endBlockNode(S)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new p(e))}return(e){const t=new x;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new w;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new A(e),t(e)}return n&&(this._currNode=r.finally=new O,this.code(n)),this._endBlockNode(A,O)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,i){return this._blockNode(new E(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=L;const $=R(t.operators.AND);t.and=function(...e){return e.reduce($)};const M=R(t.operators.OR);function R(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${j(t)} ${e} ${j(n)}`}function j(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(M)}},66636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(74960),i=n(31373),s=i,a=n(2352),o=n(49594),c=n(66735),l=n(64014);const{isExpression:u,isFunction:d,isStatement:p,isClassBody:h,isTSInterfaceBody:f,isTSEnumMember:m}=a,y=/e/i,g=/\.0+$/,v=/[\n\r\u2028\u2029]/,b=/[\n\r\u2028\u2029]|\*\//;function S(e){return"CommentLine"===e.type||v.test(e.value)}const{needsParens:T}=s;class _{constructor(e,t,n=null,s=null){this.tokenContext=i.TokenContext.normal,this._tokens=null,this._originalCode=null,this._currentNode=null,this._indent=0,this._indentRepeat=0,this._insideAux=!1,this._noLineTerminator=!1,this._noLineTerminatorAfterNode=null,this._printAuxAfterOnNextUserNode=!1,this._printedComments=new Set,this._endsWithInteger=!1,this._endsWithWord=!1,this._endsWithDiv=!1,this._lastCommentLine=0,this._endsWithInnerRaw=!1,this._indentInnerComments=!0,this.tokenMap=null,this._boundGetRawIdentifier=this._getRawIdentifier.bind(this),this._printSemicolonBeforeNextNode=-1,this._printSemicolonBeforeNextToken=-1,this.format=e,this._tokens=n,this._originalCode=s,this._indentRepeat=e.indent.style.length,this._inputMap=(null==t?void 0:t._inputMap)||null,this._buf=new r.default(t,e.indent.style[0])}enterForStatementInit(){return this.tokenContext|=i.TokenContext.forInitHead|i.TokenContext.forInOrInitHeadAccumulate,()=>this.tokenContext=i.TokenContext.normal}enterForXStatementInit(e){return e?(this.tokenContext|=i.TokenContext.forOfHead,null):(this.tokenContext|=i.TokenContext.forInHead|i.TokenContext.forInOrInitHeadAccumulate,()=>this.tokenContext=i.TokenContext.normal)}enterDelimited(){const e=this.tokenContext,t=this._noLineTerminatorAfterNode;return e&i.TokenContext.forInOrInitHeadAccumulate||null!==t?(this._noLineTerminatorAfterNode=null,this.tokenContext=i.TokenContext.normal,()=>{this._noLineTerminatorAfterNode=t,this.tokenContext=e}):()=>{}}generate(e){return this.format.preserveFormat&&(this.tokenMap=new o.TokenMap(e,this._tokens,this._originalCode)),this.print(e),this._maybeAddAuxComment(),this._buf.get()}indent(){const{format:e}=this;e.preserveFormat||e.compact||e.concise||this._indent++}dedent(){const{format:e}=this;e.preserveFormat||e.compact||e.concise||this._indent--}semicolon(e=!1){if(this._maybeAddAuxComment(),e)return this._appendChar(59),void(this._noLineTerminator=!1);if(this.tokenMap){const e=this._currentNode;if(null!=e.start&&null!=e.end){if(!this.tokenMap.endMatches(e,";"))return void(this._printSemicolonBeforeNextNode=this._buf.getCurrentLine());const t=this.tokenMap.getIndexes(this._currentNode);this._catchUpTo(this._tokens[t[t.length-1]].loc.start)}}this._queue(59),this._noLineTerminator=!1}rightBrace(e){this.format.minified&&this._buf.removeLastSemicolon(),this.sourceWithOffset("end",e.loc,-1),this.tokenChar(125)}rightParens(e){this.sourceWithOffset("end",e.loc,-1),this.tokenChar(41)}space(e=!1){const{format:t}=this;if(!t.compact&&!t.preserveFormat)if(e)this._space();else if(this._buf.hasContent()){const e=this.getLastChar();32!==e&&10!==e&&this._space()}}word(e,t=!1){this.tokenContext&=i.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(e),this._maybeAddAuxComment(),this.tokenMap&&this._catchUpToCurrentToken(e),(this._endsWithWord||this._endsWithDiv&&47===e.charCodeAt(0))&&this._space(),this._append(e,!1),this._endsWithWord=!0,this._noLineTerminator=t}number(e,t){this.word(e),this._endsWithInteger=Number.isInteger(t)&&!function(e){if(e.length>2&&48===e.charCodeAt(0)){const t=e.charCodeAt(1);return 98===t||111===t||120===t}return!1}(e)&&!y.test(e)&&!g.test(e)&&46!==e.charCodeAt(e.length-1)}token(e,t=!1,n=0){this.tokenContext&=i.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(e,n),this._maybeAddAuxComment(),this.tokenMap&&this._catchUpToCurrentToken(e,n);const r=this.getLastChar(),s=e.charCodeAt(0);(33===r&&("--"===e||61===s)||43===s&&43===r||45===s&&45===r||46===s&&this._endsWithInteger)&&this._space(),this._append(e,t),this._noLineTerminator=!1}tokenChar(e){this.tokenContext&=i.TokenContext.forInOrInitHeadAccumulatePassThroughMask;const t=String.fromCharCode(e);this._maybePrintInnerComments(t),this._maybeAddAuxComment(),this.tokenMap&&this._catchUpToCurrentToken(t);const n=this.getLastChar();(43===e&&43===n||45===e&&45===n||46===e&&this._endsWithInteger)&&this._space(),this._appendChar(e),this._noLineTerminator=!1}newline(e=1,t){if(!(e<=0)){if(!t){if(this.format.retainLines||this.format.compact)return;if(this.format.concise)return void this.space()}e>2&&(e=2),e-=this._buf.getNewlineCount();for(let t=0;t<e;t++)this._newline()}}endsWith(e){return this.getLastChar()===e}getLastChar(){return this._buf.getLastChar()}endsWithCharAndNewline(){return this._buf.endsWithCharAndNewline()}removeTrailingNewline(){this._buf.removeTrailingNewline()}exactSource(e,t){e?(this._catchUp("start",e),this._buf.exactSource(e,t)):t()}source(e,t){t&&(this._catchUp(e,t),this._buf.source(e,t))}sourceWithOffset(e,t,n){t&&!this.format.preserveFormat&&(this._catchUp(e,t),this._buf.sourceWithOffset(e,t,n))}sourceIdentifierName(e,t){if(!this._buf._canMarkIdName)return;const n=this._buf._sourcePosition;n.identifierNamePos=t,n.identifierName=e}_space(){this._queue(32)}_newline(){this._queue(10)}_catchUpToCurrentToken(e,t=0){const n=this.tokenMap.findMatching(this._currentNode,e,t);n&&this._catchUpTo(n.loc.start),-1!==this._printSemicolonBeforeNextToken&&this._printSemicolonBeforeNextToken===this._buf.getCurrentLine()&&(this._buf.appendChar(59),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1),this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1}_append(e,t){this._maybeIndent(e.charCodeAt(0)),this._buf.append(e,t),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1}_appendChar(e){this._maybeIndent(e),this._buf.appendChar(e),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1}_queue(e){this._maybeIndent(e),this._buf.queue(e),this._endsWithWord=!1,this._endsWithInteger=!1}_maybeIndent(e){this._indent&&10!==e&&this.endsWith(10)&&this._buf.queueIndentation(this._getIndent())}_shouldIndent(e){if(this._indent&&10!==e&&this.endsWith(10))return!0}catchUp(e){if(!this.format.retainLines)return;const t=e-this._buf.getCurrentLine();for(let e=0;e<t;e++)this._newline()}_catchUp(e,t){const{format:n}=this;if(!n.preserveFormat)return void(n.retainLines&&null!=t&&t[e]&&this.catchUp(t[e].line));const r=null==t?void 0:t[e];null!=r&&this._catchUpTo(r)}_catchUpTo({line:e,column:t,index:n}){const r=e-this._buf.getCurrentLine();if(r>0&&this._noLineTerminator)return;for(let e=0;e<r;e++)this._newline();const i=r>0?t:t-this._buf.getCurrentColumn();if(i>0){const e=this._originalCode?this._originalCode.slice(n-i,n).replace(/[^\t\x0B\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]/gu," "):" ".repeat(i);this._append(e,!1)}}_getIndent(){return this._indentRepeat*this._indent}printTerminatorless(e){this._noLineTerminator=!0,this.print(e)}print(e,t=!1,n){var r,a,o;if(!e)return;this._endsWithInnerRaw=!1;const c=e.type,l=this.format,d=l.concise;e._compact&&(l.concise=!0);const p=this[c];if(void 0===p)throw new ReferenceError(`unknown node of type ${JSON.stringify(c)} with constructor ${JSON.stringify(e.constructor.name)}`);const h=this._currentNode;this._currentNode=e,this.tokenMap&&(this._printSemicolonBeforeNextToken=this._printSemicolonBeforeNextNode);const f=this._insideAux;this._insideAux=null==e.loc,this._maybeAddAuxComment(this._insideAux&&!f);const m=null==(r=e.extra)?void 0:r.parenthesized;let y=m&&l.preserveFormat||m&&l.retainFunctionParens&&"FunctionExpression"===c||T(e,h,this.tokenContext,l.preserveFormat?this._boundGetRawIdentifier:void 0);if(!y&&m&&null!=(a=e.leadingComments)&&a.length&&"CommentBlock"===e.leadingComments[0].type)switch(null==h?void 0:h.type){case"ExpressionStatement":case"VariableDeclarator":case"AssignmentExpression":case"ReturnStatement":break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":if(h.callee!==e)break;default:y=!0}let g,v,b=!1;var _;!y&&this._noLineTerminator&&(null!=(o=e.leadingComments)&&o.some(S)||this.format.retainLines&&e.loc&&e.loc.start.line>this._buf.getCurrentLine())&&(y=!0,b=!0),y||(t||(t=!!h&&this._noLineTerminatorAfterNode===h&&s.isLastChild(h,e)),t&&(null!=(_=e.trailingComments)&&_.some(S)?u(e)&&(y=!0):(g=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=e))),y&&(this.tokenChar(40),b&&this.indent(),this._endsWithInnerRaw=!1,this.tokenContext&i.TokenContext.forInOrInitHeadAccumulate&&(v=this.tokenContext,this.tokenContext=i.TokenContext.normal),g=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=null),this._lastCommentLine=0,this._printLeadingComments(e,h);const P="Program"===c||"File"===c?null:e.loc;this.exactSource(P,p.bind(this,e,h)),y?(this._printTrailingComments(e,h),b&&(this.dedent(),this.newline()),this.tokenChar(41),this._noLineTerminator=t,v&&(this.tokenContext=v)):t&&!this._noLineTerminator?(this._noLineTerminator=!0,this._printTrailingComments(e,h)):this._printTrailingComments(e,h,n),this._currentNode=h,l.concise=d,this._insideAux=f,void 0!==g&&(this._noLineTerminatorAfterNode=g),this._endsWithInnerRaw=!1}_maybeAddAuxComment(e){e&&this._printAuxBeforeComment(),this._insideAux||this._printAuxAfterComment()}_printAuxBeforeComment(){if(this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!0;const e=this.format.auxiliaryCommentBefore;e&&this._printComment({type:"CommentBlock",value:e},0)}_printAuxAfterComment(){if(!this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!1;const e=this.format.auxiliaryCommentAfter;e&&this._printComment({type:"CommentBlock",value:e},0)}getPossibleRaw(e){const t=e.extra;if(null!=(null==t?void 0:t.raw)&&null!=t.rawValue&&e.value===t.rawValue)return t.raw}printJoin(e,t,n,r,i,s,a){if(null==e||!e.length)return;if(null==n&&this.format.retainLines){var o;const t=null==(o=e[0].loc)?void 0:o.start.line;null!=t&&t!==this._buf.getCurrentLine()&&(n=!0)}n&&this.indent();const c={nextNodeStartLine:0},l=null==r?void 0:r.bind(this),u=e.length;for(let n=0;n<u;n++){const r=e[n];var d;if(r&&(t&&this._printNewline(0===n,c),this.print(r,void 0,a||0),null==s||s(r,n),null!=l&&(n<u-1?l(n,!1):i&&l(n,!0)),t))if(null!=(d=r.trailingComments)&&d.length||(this._lastCommentLine=0),n+1===u)this.newline(1);else{var p;const t=e[n+1];c.nextNodeStartLine=(null==(p=t.loc)?void 0:p.start.line)||0,this._printNewline(!0,c)}}n&&this.dedent()}printAndIndentOnComments(e){const t=e.leadingComments&&e.leadingComments.length>0;t&&this.indent(),this.print(e),t&&this.dedent()}printBlock(e){const t=e.body;"EmptyStatement"!==t.type&&this.space(),this.print(t)}_printTrailingComments(e,t,n){const{innerComments:r,trailingComments:i}=e;null!=r&&r.length&&this._printComments(2,r,e,t,n),null!=i&&i.length&&this._printComments(2,i,e,t,n)}_printLeadingComments(e,t){const n=e.leadingComments;null!=n&&n.length&&this._printComments(0,n,e,t)}_maybePrintInnerComments(e,t){var n;this._endsWithInnerRaw&&this.printInnerComments(null==(n=this.tokenMap)?void 0:n.findMatching(this._currentNode,e,t)),this._endsWithInnerRaw=!0,this._indentInnerComments=!0}printInnerComments(e){const t=this._currentNode,n=t.innerComments;if(null==n||!n.length)return;const r=this.endsWith(32),i=this._indentInnerComments,s=this._printedComments.size;i&&this.indent(),this._printComments(1,n,t,void 0,void 0,e),r&&s!==this._printedComments.size&&this.space(),i&&this.dedent()}noIndentInnerCommentsHere(){this._indentInnerComments=!1}printSequence(e,t,n){this.printJoin(e,!0,null!=t&&t,void 0,void 0,void 0,n)}printList(e,t,n,r,i,s){this.printJoin(e,n,r,null!=i?i:P,t,s)}shouldPrintTrailingComma(e){if(!this.tokenMap)return null;const t=this.tokenMap.findLastIndex(this._currentNode,t=>this.tokenMap.matchesOriginal(t,e));return t<=0?null:this.tokenMap.matchesOriginal(this._tokens[t-1],",")}_printNewline(e,t){const n=this.format;if(n.retainLines||n.compact)return;if(n.concise)return void this.space();if(!e)return;const r=t.nextNodeStartLine,i=this._lastCommentLine;if(r>0&&i>0){const e=r-i;if(e>=0)return void this.newline(e||1)}this._buf.hasContent()&&this.newline(1)}_shouldPrintComment(e,t){if(e.ignore)return 0;if(this._printedComments.has(e))return 0;if(this._noLineTerminator&&b.test(e.value))return 2;if(t&&this.tokenMap){const n=this.tokenMap.find(this._currentNode,t=>t.value===e.value);if(n&&n.start>t.start)return 2}return this._printedComments.add(e),this.format.shouldPrintComment(e.value)?1:0}_printComment(e,t){const n=this._noLineTerminator,r="CommentBlock"===e.type,i=r&&1!==t&&!this._noLineTerminator;i&&this._buf.hasContent()&&2!==t&&this.newline(1);const s=this.getLastChar();let a;if(91!==s&&123!==s&&40!==s&&this.space(),r){if(a=`/*${e.value}*/`,this.format.indent.adjustMultilineComment){var o;const t=null==(o=e.loc)?void 0:o.start.column;if(t){const e=new RegExp("\\n\\s{1,"+t+"}","g");a=a.replace(e,"\n")}if(this.format.concise)a=a.replace(/\n(?!$)/g,"\n");else{let e=this.format.retainLines?0:this._buf.getCurrentColumn();(this._shouldIndent(47)||this.format.retainLines)&&(e+=this._getIndent()),a=a.replace(/\n(?!$)/g,`\n${" ".repeat(e)}`)}}}else a=n?`/*${e.value}*/`:`//${e.value}`;if(this._endsWithDiv&&this._space(),this.tokenMap){const{_printSemicolonBeforeNextToken:t,_printSemicolonBeforeNextNode:n}=this;this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1,this.source("start",e.loc),this._append(a,r),this._printSemicolonBeforeNextNode=n,this._printSemicolonBeforeNextToken=t}else this.source("start",e.loc),this._append(a,r);r||n||this.newline(1,!0),i&&3!==t&&this.newline(1)}_printComments(e,t,n,r,i=0,s){const a=n.loc,o=t.length;let c=!!a;const l=c?a.start.line:0,u=c?a.end.line:0;let y=0,g=0;const b=this._noLineTerminator?function(){}:this.newline.bind(this);for(let a=0;a<o;a++){const S=t[a],T=this._shouldPrintComment(S,s);if(2===T){c=!1;break}if(c&&S.loc&&1===T){const t=S.loc.start.line,n=S.loc.end.line;if(0===e){let e=0;0===a?!this._buf.hasContent()||"CommentLine"!==S.type&&t===n||(e=g=1):e=t-y,y=n,b(e),this._printComment(S,1),a+1===o&&(b(Math.max(l-y,g)),y=l)}else if(1===e){const e=t-(0===a?l:y);y=n,b(e),this._printComment(S,1),a+1===o&&(b(Math.min(1,u-y)),y=u)}else{const e=t-(0===a?u-i:y);y=n,b(e),this._printComment(S,1)}}else{if(c=!1,1!==T)continue;if(1===o){const t=S.loc?S.loc.start.line===S.loc.end.line:!v.test(S.value),i=t&&!p(n)&&!h(r)&&!f(r)&&!m(n);0===e?this._printComment(S,i&&"ObjectExpression"!==n.type||t&&d(r,{body:n})?1:0):i&&2===e?this._printComment(S,1):this._printComment(S,0)}else 1!==e||"ObjectExpression"===n.type&&n.properties.length>1||"ClassBody"===n.type||"TSInterfaceBody"===n.type?this._printComment(S,0):this._printComment(S,0===a?2:a===o-1?3:0)}}2===e&&c&&y&&(this._lastCommentLine=y)}}function P(e,t){this.token(",",!1,e),t||this.space()}Object.assign(_.prototype,c),(0,l.addDeprecatedGenerators)(_),t.default=_},66645:(e,t,n)=>{var r=n(1733),i=n(45434),s=n(13222),a=n(22225);e.exports=function(e,t,n){return e=s(e),void 0===(t=n?void 0:t)?i(e)?a(e):r(e):e.match(t)||[]}},66692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(53231);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var s;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(s||(t.UsedValueState=s={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class a{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=a;class o extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=o;const c=r._`\n`;t.ValueScope=class extends a{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:r.nil}}get(){return this._scope}name(e){return new o(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:i}=r,s=null!==(n=t.key)&&void 0!==n?n:t.ref;let a=this._values[i];if(a){const e=a.get(s);if(e)return e}else a=this._values[i]=new Map;a.set(s,r);const o=this._scope[i]||(this._scope[i]=[]),c=o.length;return o[c]=t.ref,r.setValue(t,{property:i,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`})}scopeCode(e=this._values,t,n){return this._reduceValues(e,e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,n)}_reduceValues(e,n,a={},o){let c=r.nil;for(const l in e){const u=e[l];if(!u)continue;const d=a[l]=a[l]||new Map;u.forEach(e=>{if(d.has(e))return;d.set(e,s.Started);let a=n(e);if(a){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=r._`${c}${n} ${e} = ${a};${this.opts._n}`}else{if(!(a=null==o?void 0:o(e)))throw new i(e);c=r._`${c}${a}${this.opts._n}`}d.set(e,s.Completed)})}return c}}},66721:(e,t,n)=>{var r=n(81042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},66735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12226);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var i=n(34436);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var s=n(70521);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var a=n(76271);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var o=n(2861);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var c=n(89638);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=n(7942);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var u=n(72259);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var d=n(90546);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var p=n(73962);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))});var h=n(9276);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))})},67197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},67316:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function t(t){return e[t]??null}const n={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return e=>{switch(e.code){case"invalid_type":return`غلط ان پٹ: ${e.expected} متوقع تھا، ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"نمبر";case"object":if(Array.isArray(e))return"آرے";if(null===e)return"نل";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} موصول ہوا`;case"invalid_value":return 1===e.values.length?`غلط ان پٹ: ${a.stringifyPrimitive(e.values[0])} متوقع تھا`:`غلط آپشن: ${a.joinValues(e.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`بہت بڑا: ${e.origin??"ویلیو"} کے ${n}${e.maximum.toString()} ${r.unit??"عناصر"} ہونے متوقع تھے`:`بہت بڑا: ${e.origin??"ویلیو"} کا ${n}${e.maximum.toString()} ہونا متوقع تھا`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`بہت چھوٹا: ${e.origin} کے ${n}${e.minimum.toString()} ${r.unit} ہونے متوقع تھے`:`بہت چھوٹا: ${e.origin} کا ${n}${e.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{const t=e;return"starts_with"===t.format?`غلط سٹرنگ: "${t.prefix}" سے شروع ہونا چاہیے`:"ends_with"===t.format?`غلط سٹرنگ: "${t.suffix}" پر ختم ہونا چاہیے`:"includes"===t.format?`غلط سٹرنگ: "${t.includes}" شامل ہونا چاہیے`:"regex"===t.format?`غلط سٹرنگ: پیٹرن ${t.pattern} سے میچ ہونا چاہیے`:`غلط ${n[t.format]??e.format}`}case"not_multiple_of":return`غلط نمبر: ${e.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${e.keys.length>1?"ز":""}: ${a.joinValues(e.keys,"، ")}`;case"invalid_key":return`${e.origin} میں غلط کی`;case"invalid_union":default:return"غلط ان پٹ";case"invalid_element":return`${e.origin} میں غلط ویلیو`}}};e.exports=t.default},67458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackEncoder=void 0,t.FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)})},67730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStreamingRunner=void 0;const r=n(95126);class i extends r.ChatCompletionStream{static fromReadableStream(e){const t=new i(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,n){const r=new i(t),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,s)),r}}t.ChatCompletionStreamingRunner=i},67924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(15062)),a=n(15062),o=n(75552),c=n(262),l=n(12018),u=n(54815);class d extends i.APIResource{constructor(){super(...arguments),this.content=new s.Content(this._client)}create(e,t,n){return this._client.post(u.path`/containers/${e}/files`,(0,l.multipartFormRequestOptions)({body:t,...n},this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(u.path`/containers/${r}/files/${e}`,n)}list(e,t={},n){return this._client.getAPIList(u.path`/containers/${e}/files`,o.CursorPage,{query:t,...n})}delete(e,t,n){const{container_id:r}=t;return this._client.delete(u.path`/containers/${r}/files/${e}`,{...n,headers:(0,c.buildHeaders)([{Accept:"*/*"},n?.headers])})}}t.Files=d,d.Content=a.Content},67980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHILE_TYPES=t.USERWHITESPACABLE_TYPES=t.UNARYLIKE_TYPES=t.TYPESCRIPT_TYPES=t.TSTYPE_TYPES=t.TSTYPEELEMENT_TYPES=t.TSENTITYNAME_TYPES=t.TSBASETYPE_TYPES=t.TERMINATORLESS_TYPES=t.STATEMENT_TYPES=t.STANDARDIZED_TYPES=t.SCOPABLE_TYPES=t.PUREISH_TYPES=t.PROPERTY_TYPES=t.PRIVATE_TYPES=t.PATTERN_TYPES=t.PATTERNLIKE_TYPES=t.OBJECTMEMBER_TYPES=t.MODULESPECIFIER_TYPES=t.MODULEDECLARATION_TYPES=t.MISCELLANEOUS_TYPES=t.METHOD_TYPES=t.LVAL_TYPES=t.LOOP_TYPES=t.LITERAL_TYPES=t.JSX_TYPES=t.IMPORTOREXPORTDECLARATION_TYPES=t.IMMUTABLE_TYPES=t.FUNCTION_TYPES=t.FUNCTIONPARENT_TYPES=t.FUNCTIONPARAMETER_TYPES=t.FOR_TYPES=t.FORXSTATEMENT_TYPES=t.FLOW_TYPES=t.FLOWTYPE_TYPES=t.FLOWPREDICATE_TYPES=t.FLOWDECLARATION_TYPES=t.FLOWBASEANNOTATION_TYPES=t.EXPRESSION_TYPES=t.EXPRESSIONWRAPPER_TYPES=t.EXPORTDECLARATION_TYPES=t.ENUMMEMBER_TYPES=t.ENUMBODY_TYPES=t.DECLARATION_TYPES=t.CONDITIONAL_TYPES=t.COMPLETIONSTATEMENT_TYPES=t.CLASS_TYPES=t.BLOCK_TYPES=t.BLOCKPARENT_TYPES=t.BINARY_TYPES=t.ACCESSOR_TYPES=void 0;var r=n(39793);t.STANDARDIZED_TYPES=r.FLIPPED_ALIAS_KEYS.Standardized,t.EXPRESSION_TYPES=r.FLIPPED_ALIAS_KEYS.Expression,t.BINARY_TYPES=r.FLIPPED_ALIAS_KEYS.Binary,t.SCOPABLE_TYPES=r.FLIPPED_ALIAS_KEYS.Scopable,t.BLOCKPARENT_TYPES=r.FLIPPED_ALIAS_KEYS.BlockParent,t.BLOCK_TYPES=r.FLIPPED_ALIAS_KEYS.Block,t.STATEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.Statement,t.TERMINATORLESS_TYPES=r.FLIPPED_ALIAS_KEYS.Terminatorless,t.COMPLETIONSTATEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.CompletionStatement,t.CONDITIONAL_TYPES=r.FLIPPED_ALIAS_KEYS.Conditional,t.LOOP_TYPES=r.FLIPPED_ALIAS_KEYS.Loop,t.WHILE_TYPES=r.FLIPPED_ALIAS_KEYS.While,t.EXPRESSIONWRAPPER_TYPES=r.FLIPPED_ALIAS_KEYS.ExpressionWrapper,t.FOR_TYPES=r.FLIPPED_ALIAS_KEYS.For,t.FORXSTATEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.ForXStatement,t.FUNCTION_TYPES=r.FLIPPED_ALIAS_KEYS.Function,t.FUNCTIONPARENT_TYPES=r.FLIPPED_ALIAS_KEYS.FunctionParent,t.PUREISH_TYPES=r.FLIPPED_ALIAS_KEYS.Pureish,t.DECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.Declaration,t.FUNCTIONPARAMETER_TYPES=r.FLIPPED_ALIAS_KEYS.FunctionParameter,t.PATTERNLIKE_TYPES=r.FLIPPED_ALIAS_KEYS.PatternLike,t.LVAL_TYPES=r.FLIPPED_ALIAS_KEYS.LVal,t.TSENTITYNAME_TYPES=r.FLIPPED_ALIAS_KEYS.TSEntityName,t.LITERAL_TYPES=r.FLIPPED_ALIAS_KEYS.Literal,t.IMMUTABLE_TYPES=r.FLIPPED_ALIAS_KEYS.Immutable,t.USERWHITESPACABLE_TYPES=r.FLIPPED_ALIAS_KEYS.UserWhitespacable,t.METHOD_TYPES=r.FLIPPED_ALIAS_KEYS.Method,t.OBJECTMEMBER_TYPES=r.FLIPPED_ALIAS_KEYS.ObjectMember,t.PROPERTY_TYPES=r.FLIPPED_ALIAS_KEYS.Property,t.UNARYLIKE_TYPES=r.FLIPPED_ALIAS_KEYS.UnaryLike,t.PATTERN_TYPES=r.FLIPPED_ALIAS_KEYS.Pattern,t.CLASS_TYPES=r.FLIPPED_ALIAS_KEYS.Class;const i=t.IMPORTOREXPORTDECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.ImportOrExportDeclaration;t.EXPORTDECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.ExportDeclaration,t.MODULESPECIFIER_TYPES=r.FLIPPED_ALIAS_KEYS.ModuleSpecifier,t.ACCESSOR_TYPES=r.FLIPPED_ALIAS_KEYS.Accessor,t.PRIVATE_TYPES=r.FLIPPED_ALIAS_KEYS.Private,t.FLOW_TYPES=r.FLIPPED_ALIAS_KEYS.Flow,t.FLOWTYPE_TYPES=r.FLIPPED_ALIAS_KEYS.FlowType,t.FLOWBASEANNOTATION_TYPES=r.FLIPPED_ALIAS_KEYS.FlowBaseAnnotation,t.FLOWDECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.FlowDeclaration,t.FLOWPREDICATE_TYPES=r.FLIPPED_ALIAS_KEYS.FlowPredicate,t.ENUMBODY_TYPES=r.FLIPPED_ALIAS_KEYS.EnumBody,t.ENUMMEMBER_TYPES=r.FLIPPED_ALIAS_KEYS.EnumMember,t.JSX_TYPES=r.FLIPPED_ALIAS_KEYS.JSX,t.MISCELLANEOUS_TYPES=r.FLIPPED_ALIAS_KEYS.Miscellaneous,t.TYPESCRIPT_TYPES=r.FLIPPED_ALIAS_KEYS.TypeScript,t.TSTYPEELEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.TSTypeElement,t.TSTYPE_TYPES=r.FLIPPED_ALIAS_KEYS.TSType,t.TSBASETYPE_TYPES=r.FLIPPED_ALIAS_KEYS.TSBaseType,t.MODULEDECLARATION_TYPES=i},68009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(54815);class o extends r.APIResource{retrieve(e,t){return this._client.get(a.path`/chatkit/threads/${e}`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}list(e={},t){return this._client.getAPIList("/chatkit/threads",i.ConversationCursorPage,{query:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}delete(e,t){return this._client.delete(a.path`/chatkit/threads/${e}`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}listItems(e,t={},n){return this._client.getAPIList(a.path`/chatkit/threads/${e}/items`,i.ConversationCursorPage,{query:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}t.Threads=o},68223:(e,t,n)=>{var r=n(56110)(n(9325),"Map");e.exports=r},68385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEffectsDef=void 0;const r=n(73524),i=n(62909);t.parseEffectsDef=function(e,t){return"input"===t.effectStrategy?(0,r.parseDef)(e.schema._def,t):(0,i.parseAnyDef)(t)}},69617:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.BranchAwareGraphManager=void 0,t.getBranchManager=function(){return h||(h=new p),h};const o=a(n(91398)),c=a(n(16928)),l=a(n(79896)),u=n(85296),d=n(563);class p{workspaceRoot="";cacheDir="";branchStatesPath="";branchStates=new Map;currentBranch="";previousBranch="";currentGraph=null;hashCache;incrementalUpdater;gitExtension;gitApi;headWatcher;branchWatcher;callbacks=[];isInitialized=!1;debounceTimer;static DEBOUNCE_MS=500;static CACHE_VERSION="1.0.0";constructor(){this.hashCache=(0,u.getFileHashCache)(),this.incrementalUpdater=(0,d.getIncrementalUpdater)()}async initialize(e){this.workspaceRoot=e,this.cacheDir=c.join(e,".doc_sync","branch_cache"),this.branchStatesPath=c.join(this.cacheDir,"branch_states.json");const t=c.join(e,".git");return l.existsSync(t)?(l.existsSync(this.cacheDir)||l.mkdirSync(this.cacheDir,{recursive:!0}),await this.hashCache.initialize(e),await this.incrementalUpdater.initialize(e),await this.loadBranchStates(),this.gitExtension=o.extensions.getExtension("vscode.git"),this.gitExtension?.isActive&&(this.gitApi=this.gitExtension.exports.getAPI(1)),this.currentBranch=await this.getCurrentBranchName(),this.setupWatchers(),this.isInitialized=!0,console.log(`BranchAwareGraphManager initialized on branch: ${this.currentBranch}`),!0):(console.log("Not a git repository"),!1)}setupWatchers(){const e=c.join(this.workspaceRoot,".git"),t=new o.RelativePattern(e,"HEAD");this.headWatcher=o.workspace.createFileSystemWatcher(t),this.headWatcher.onDidChange(()=>this.handleHeadChange());const n=new o.RelativePattern(e,"refs/heads/**");this.branchWatcher=o.workspace.createFileSystemWatcher(n),this.branchWatcher.onDidChange(()=>this.handleRefChange()),this.branchWatcher.onDidCreate(()=>this.handleRefChange()),this.branchWatcher.onDidDelete(()=>this.handleRefChange())}async handleHeadChange(){const e=await this.getCurrentBranchName();if(e!==this.currentBranch)this.previousBranch=this.currentBranch,this.currentBranch=e,console.log(`Branch switch: ${this.previousBranch} -> ${this.currentBranch}`),await this.handleBranchSwitch();else{const e=await this.getCurrentCommitHash(),t=this.branchStates.get(this.currentBranch);t&&e!==t.lastCommitHash&&(console.log(`New commit on ${this.currentBranch}: ${e}`),await this.handleNewCommit(e))}}handleRefChange(){this.debouncedCheck()}debouncedCheck(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(async()=>{await this.checkForChanges()},p.DEBOUNCE_MS)}async handleBranchSwitch(){this.previousBranch&&this.currentGraph&&await this.saveBranchState(this.previousBranch);const e=this.branchStates.get(this.currentBranch);let t;e&&e.graphSnapshot?(t={type:"branch-switch",files:[],fromBranch:this.previousBranch,toBranch:this.currentBranch,timestamp:new Date,requiresFullRefresh:!1},await this.restoreBranchCache(e)):t={type:"branch-switch",files:[],fromBranch:this.previousBranch,toBranch:this.currentBranch,timestamp:new Date,requiresFullRefresh:!0},this.notifyCallbacks(t)}async handleNewCommit(e){const t={type:"commit",files:await this.getCommitChangedFiles(e),commitHash:e,timestamp:new Date,requiresFullRefresh:!1},n=this.branchStates.get(this.currentBranch);n&&(n.lastCommitHash=e,n.lastUpdateTime=(new Date).toISOString()),await this.saveBranchStates(),this.notifyCallbacks(t)}async checkForChanges(){const e=await this.hashCache.detectChanges(await this.getAllSourceFiles());if(0===e.changedCount)return null;const t=[...e.added,...e.modified,...e.deleted];return{type:e.added.length>0?"file-created":e.deleted.length>0?"file-deleted":"file-modified",files:t,timestamp:new Date,requiresFullRefresh:!1}}determineUpdateStrategy(e){switch(e.type){case"branch-switch":const t=this.branchStates.get(e.toBranch||"");return t?.graphSnapshot?"branch-cache":"full-refresh";case"merge":case"rebase":case"cherry-pick":return"full-refresh";case"commit":case"file-modified":case"file-created":case"file-deleted":return e.files.length>50?"full-refresh":"incremental";case"stash-apply":return e.files.length>20?"full-refresh":"incremental";default:return"incremental"}}async saveBranchState(e){if(!this.currentGraph)return;const t=await this.getCurrentCommitHash(),n=c.join(this.cacheDir,`graph_${this.sanitizeBranchName(e)}.json`);l.writeFileSync(n,JSON.stringify(this.currentGraph,null,2));const r=new Map,i=await this.getAllSourceFiles();for(const e of i){const t=await this.hashCache.getFileHash(e);t&&r.set(e,t)}const s={branchName:e,lastCommitHash:t,lastUpdateTime:(new Date).toISOString(),fileHashes:r,graphSnapshot:n,nodeCount:this.currentGraph.nodes.length,edgeCount:this.currentGraph.edges.length};this.branchStates.set(e,s),await this.saveBranchStates(),console.log(`Saved branch state for ${e}: ${s.nodeCount} nodes, ${s.edgeCount} edges`)}async restoreBranchCache(e){if(e.graphSnapshot&&l.existsSync(e.graphSnapshot))try{const t=l.readFileSync(e.graphSnapshot,"utf-8");this.currentGraph=JSON.parse(t);for(const[t,n]of e.fileHashes)await this.hashCache.setFileHash(t,n);console.log(`Restored cache for ${e.branchName}: ${e.nodeCount} nodes`);const n=await this.hashCache.detectChanges(await this.getAllSourceFiles());n.changedCount>0&&console.log(`${n.changedCount} files changed since cache, incremental update needed`)}catch(e){console.error(`Failed to restore branch cache: ${e}`)}else console.log(`No valid cache for branch ${e.branchName}`)}async loadBranchStates(){if(l.existsSync(this.branchStatesPath))try{const e=l.readFileSync(this.branchStatesPath,"utf-8"),t=JSON.parse(e);for(const[e,n]of Object.entries(t.states||{})){const t=n;this.branchStates.set(e,{...t,fileHashes:new Map(Object.entries(t.fileHashes||{}))})}console.log(`Loaded ${this.branchStates.size} branch states`)}catch(e){console.error("Failed to load branch states:",e)}}async saveBranchStates(){const e={};for(const[t,n]of this.branchStates)e[t]={...n,fileHashes:Object.fromEntries(n.fileHashes)};const t={version:p.CACHE_VERSION,lastUpdated:(new Date).toISOString(),states:e};l.writeFileSync(this.branchStatesPath,JSON.stringify(t,null,2))}async getCurrentBranchName(){try{if(this.gitApi?.repositories?.[0]){const e=this.gitApi.repositories[0];return e.state.HEAD?.name||"unknown"}const e=c.join(this.workspaceRoot,".git","HEAD");if(l.existsSync(e)){const t=l.readFileSync(e,"utf-8").trim(),n=t.match(/ref: refs\/heads\/(.+)/);return n?n[1]:t.substring(0,8)}}catch(e){console.error("Failed to get branch name:",e)}return"unknown"}async getCurrentCommitHash(){try{if(this.gitApi?.repositories?.[0]){const e=this.gitApi.repositories[0];return e.state.HEAD?.commit||""}const e=c.join(this.workspaceRoot,".git","HEAD");if(l.existsSync(e)){let t=l.readFileSync(e,"utf-8").trim();if(t.startsWith("ref:")){const e=c.join(this.workspaceRoot,".git",t.replace("ref: ",""));l.existsSync(e)&&(t=l.readFileSync(e,"utf-8").trim())}return t}}catch(e){console.error("Failed to get commit hash:",e)}return""}async getCommitChangedFiles(e){return[]}async getAllSourceFiles(){const e=["**/*.ts","**/*.tsx","**/*.js","**/*.jsx","**/*.java","**/*.py"],t=["**/node_modules/**","**/dist/**","**/build/**","**/.git/**","**/.doc_sync/**"],n=[];for(const r of e){const e=await o.workspace.findFiles(r,`{${t.join(",")}}`);n.push(...e.map(e=>e.fsPath))}return n}sanitizeBranchName(e){return e.replace(/[/\\:*?"<>|]/g,"_")}onChangeEvent(e){return this.callbacks.push(e),new o.Disposable(()=>{const t=this.callbacks.indexOf(e);t>=0&&this.callbacks.splice(t,1)})}notifyCallbacks(e){for(const t of this.callbacks)try{t(e)}catch(e){console.error("Callback error:",e)}}setCurrentGraph(e){this.currentGraph=e}getBranch(){return this.currentBranch}getCachedBranches(){return Array.from(this.branchStates.keys())}async clearBranchCache(e){const t=this.branchStates.get(e);t?.graphSnapshot&&l.existsSync(t.graphSnapshot)&&l.unlinkSync(t.graphSnapshot),this.branchStates.delete(e),await this.saveBranchStates()}async clearAllCaches(){for(const e of this.branchStates.values())e.graphSnapshot&&l.existsSync(e.graphSnapshot)&&l.unlinkSync(e.graphSnapshot);this.branchStates.clear(),await this.saveBranchStates()}dispose(){this.headWatcher?.dispose(),this.branchWatcher?.dispose(),this.debounceTimer&&clearTimeout(this.debounceTimer)}}t.BranchAwareGraphManager=p;let h=null},70080:(e,t,n)=>{var r=n(26025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},70134:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const o=s(n(33279));t.z=o,a(n(33279),t),t.default=o},70329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(98960);function i(e,t,n,s){const a=[].concat(e),o=Object.create(null);for(;a.length;){const e=a.shift();if(!e)continue;if(s&&((0,r.isAssignmentExpression)(e)||(0,r.isUnaryExpression)(e)||(0,r.isUpdateExpression)(e)))continue;if((0,r.isIdentifier)(e)){t?(o[e.name]=o[e.name]||[]).push(e):o[e.name]=e;continue}if((0,r.isExportDeclaration)(e)&&!(0,r.isExportAllDeclaration)(e)){(0,r.isDeclaration)(e.declaration)&&a.push(e.declaration);continue}if(n){if((0,r.isFunctionDeclaration)(e)){a.push(e.id);continue}if((0,r.isFunctionExpression)(e))continue}const c=i.keys[e.type];if(c)for(let t=0;t<c.length;t++){const n=e[c[t]];n&&(Array.isArray(n)?a.push(...n):a.push(n))}}return o}i.keys={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],TSImportEqualsDeclaration:["id"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ClassPrivateMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]}},70354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!this.isReferenced())return;const t=this.scope.getBinding(e.name);return t?t.identifier.typeAnnotation?t.identifier.typeAnnotation:function(e,t,n){const r=[],s=[];let a=l(e,t,s);const o=d(e,t,n);if(o){const t=l(e,o.ifStatement);a=a.filter(e=>!t.includes(e)),r.push(o.typeAnnotation)}if(a.length){a.push(...s);for(const e of a)r.push(e.getTypeAnnotation())}if(r.length)return(0,i.createUnionType)(r)}(t,this,e.name):"undefined"===e.name?c():"NaN"===e.name||"Infinity"===e.name?o():void e.name};var r=n(2352),i=n(3141);const{BOOLEAN_NUMBER_BINARY_OPERATORS:s,createTypeAnnotationBasedOnTypeof:a,numberTypeAnnotation:o,voidTypeAnnotation:c}=r;function l(e,t,n){const r=e.constantViolations.slice();return r.unshift(e.path),r.filter(e=>{const r=(e=e.resolve())._guessExecutionStatusRelativeTo(t);return n&&"unknown"===r&&n.push(e),"before"===r})}function u(e,t){const n=t.node.operator,r=t.get("right").resolve(),i=t.get("left").resolve();let c,l,u;if(i.isIdentifier({name:e})?c=r:r.isIdentifier({name:e})&&(c=i),c)return"==="===n?c.getTypeAnnotation():s.includes(n)?o():void 0;if("==="!==n&&"=="!==n)return;if(i.isUnaryExpression({operator:"typeof"})?(l=i,u=r):r.isUnaryExpression({operator:"typeof"})&&(l=r,u=i),!l)return;if(!l.get("argument").isIdentifier({name:e}))return;if(u=u.resolve(),!u.isLiteral())return;const d=u.node.value;return"string"==typeof d?a(d):void 0}function d(e,t,n){const r=function(e,t,n){let r;for(;r=t.parentPath;){if(r.isIfStatement()||r.isConditionalExpression()){if("test"===t.key)return;return r}if(r.isFunction()&&(null==n||r.parentPath.scope.getBinding(n)!==e))return;t=r}}(e,t,n);if(!r)return;const s=[r.get("test")],a=[];for(let e=0;e<s.length;e++){const t=s[e];if(t.isLogicalExpression())"&&"===t.node.operator&&(s.push(t.get("left")),s.push(t.get("right")));else if(t.isBinaryExpression()){const e=u(n,t);e&&a.push(e)}}return a.length?{typeAnnotation:(0,i.createUnionType)(a),ifStatement:r}:d(e,r,n)}},70485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStandardJSONSchemaMethod=t.createToJSONSchemaMethod=void 0,t.initializeContext=i,t.process=s,t.extractDefs=a,t.finalize=o;const r=n(91114);function i(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??r.globalRegistry,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function s(e,t,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const l=e._zod.toJSONSchema?.();if(l)o.schema=l;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path},a=e._zod.parent;if(a)o.ref=a,s(a,t,r),t.seen.get(a).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,r);else{const n=o.schema,s=t.processors[i.type];if(!s)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);s(e,t,n,r)}}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),"input"===t.io&&c(e)&&(delete o.schema.examples,delete o.schema.default),"input"===t.io&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function a(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=t=>{if(t[1].schema.$ref)return;const r=t[1],{ref:i,defId:s}=(t=>{const r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const n=e.external.registry.get(t[0])?.id,i=e.external.uri??(e=>e);if(n)return{ref:i(n)};const s=t[1].defId??t[1].schema.id??"schema"+e.counter++;return t[1].defId=s,{defId:s,ref:`${i("__shared")}#/${r}/${s}`}}if(t[1]===n)return{ref:"#"};const i=`#/${r}/`,s=t[1].schema.id??"__schema"+e.counter++;return{defId:s,ref:i+s}})(t);r.def={...r.schema},s&&(r.defId=s);const a=r.schema;for(const e in a)delete a[e];a.$ref=i};if("throw"===e.cycles)for(const t of e.seen.entries()){const e=t[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const n of e.seen.entries()){const i=n[1];if(t===n[0]){r(n);continue}if(e.external){const i=e.external.registry.get(n[0])?.id;if(t!==n[0]&&i){r(n);continue}}const s=e.metadataRegistry.get(n[0])?.id;(s||i.cycle||i.count>1&&"ref"===e.reused)&&r(n)}}function o(e,n){const r=e.seen.get(n);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=t=>{const n=e.seen.get(t),r=n.def??n.schema,s={...r};if(null===n.ref)return;const a=n.ref;if(n.ref=null,a){i(a);const t=e.seen.get(a).schema;!t.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?(Object.assign(r,t),Object.assign(r,s)):(r.allOf=r.allOf??[],r.allOf.push(t))}n.isParent||e.override({zodSchema:t,jsonSchema:r,path:n.path??[]})};for(const t of[...e.seen.entries()].reverse())i(t[0]);const s={};if("draft-2020-12"===e.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?s.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const t=e.external.registry.get(n)?.id;if(!t)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(t)}Object.assign(s,r.def??r.schema);const a=e.external?.defs??{};for(const t of e.seen.entries()){const e=t[1];e.def&&e.defId&&(a[e.defId]=e.def)}e.external||Object.keys(a).length>0&&("draft-2020-12"===e.target?s.$defs=a:s.definitions=a);try{const e=JSON.parse(JSON.stringify(s));return Object.defineProperty(e,"~standard",{value:{...n["~standard"],jsonSchema:{input:(0,t.createStandardJSONSchemaMethod)(n,"input"),output:(0,t.createStandardJSONSchemaMethod)(n,"output")}},enumerable:!1,writable:!1}),e}catch(e){throw new Error("Error converting schema to JSON.")}}function c(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return c(r.element,n);if("set"===r.type)return c(r.valueType,n);if("lazy"===r.type)return c(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return c(r.innerType,n);if("intersection"===r.type)return c(r.left,n)||c(r.right,n);if("record"===r.type||"map"===r.type)return c(r.keyType,n)||c(r.valueType,n);if("pipe"===r.type)return c(r.in,n)||c(r.out,n);if("object"===r.type){for(const e in r.shape)if(c(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(c(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(c(e,n))return!0;return!(!r.rest||!c(r.rest,n))}return!1}t.createToJSONSchemaMethod=(e,t={})=>n=>{const r=i({...n,processors:t});return s(e,r),a(r,e),o(r,e)},t.createStandardJSONSchemaMethod=(e,t)=>n=>{const{libraryOptions:r,target:c}=n??{},l=i({...r??{},target:c,io:t,processors:{}});return s(e,l),a(l,e),o(l,e)}},70499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isVariableDeclaration)(e,{kind:"var"})&&!e[i]};var r=n(98960),i=Symbol.for("var used to be block scoped")},70513:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},70521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakStatement=function(e){this.word("break"),u(this,e.label)},t.CatchClause=function(e){this.word("catch"),this.space(),e.param&&(this.tokenChar(40),this.print(e.param),this.print(e.param.typeAnnotation),this.tokenChar(41),this.space()),this.print(e.body)},t.ContinueStatement=function(e){this.word("continue"),u(this,e.label)},t.DebuggerStatement=function(){this.word("debugger"),this.semicolon()},t.DoWhileStatement=function(e){this.word("do"),this.space(),this.print(e.body),this.space(),this.word("while"),this.space(),this.tokenChar(40),this.print(e.test),this.tokenChar(41),this.semicolon()},t.ForOfStatement=t.ForInStatement=void 0,t.ForStatement=function(e){this.word("for"),this.space(),this.tokenChar(40);{const t=this.enterForStatementInit();this.print(e.init),t()}this.tokenChar(59),e.test&&(this.space(),this.print(e.test)),this.token(";",!1,1),e.update&&(this.space(),this.print(e.update)),this.tokenChar(41),this.printBlock(e)},t.IfStatement=function(e){this.word("if"),this.space(),this.tokenChar(40),this.print(e.test),this.tokenChar(41),this.space();const t=e.alternate&&a(c(e.consequent));t&&(this.tokenChar(123),this.newline(),this.indent()),this.printAndIndentOnComments(e.consequent),t&&(this.dedent(),this.newline(),this.tokenChar(125)),e.alternate&&(this.endsWith(125)&&this.space(),this.word("else"),this.space(),this.printAndIndentOnComments(e.alternate))},t.LabeledStatement=function(e){this.print(e.label),this.tokenChar(58),this.space(),this.print(e.body)},t.ReturnStatement=function(e){this.word("return"),u(this,e.argument)},t.SwitchCase=function(e){e.test?(this.word("case"),this.space(),this.print(e.test),this.tokenChar(58)):(this.word("default"),this.tokenChar(58)),e.consequent.length&&(this.newline(),this.printSequence(e.consequent,!0))},t.SwitchStatement=function(e){this.word("switch"),this.space(),this.tokenChar(40),this.print(e.discriminant),this.tokenChar(41),this.space(),this.tokenChar(123),this.printSequence(e.cases,!0),this.rightBrace(e)},t.ThrowStatement=function(e){this.word("throw"),u(this,e.argument)},t.TryStatement=function(e){this.word("try"),this.space(),this.print(e.block),this.space(),e.handlers?this.print(e.handlers[0]):this.print(e.handler),e.finalizer&&(this.space(),this.word("finally"),this.space(),this.print(e.finalizer))},t.VariableDeclaration=function(e,t){e.declare&&(this.word("declare"),this.space());const{kind:n}=e;"await using"===n?(this.word("await"),this.space(),this.word("using",!0)):this.word(n,"using"===n),this.space();let r=!1;if(!i(t))for(const t of e.declarations)t.init&&(r=!0);if(this.printList(e.declarations,void 0,void 0,e.declarations.length>1,r?function(e){this.token(",",!1,e),this.newline()}:void 0),i(t))if(s(t)){if(t.init===e)return}else if(t.left===e)return;this.semicolon()},t.VariableDeclarator=function(e){this.print(e.id),e.definite&&this.tokenChar(33),this.print(e.id.typeAnnotation),e.init&&(this.space(),this.tokenChar(61),this.space(),this.print(e.init))},t.WhileStatement=function(e){this.word("while"),this.space(),this.tokenChar(40),this.print(e.test),this.tokenChar(41),this.printBlock(e)},t.WithStatement=function(e){this.word("with"),this.space(),this.tokenChar(40),this.print(e.object),this.tokenChar(41),this.printBlock(e)};var r=n(2352);const{isFor:i,isForStatement:s,isIfStatement:a,isStatement:o}=r;function c(e){const{body:t}=e;return!1===o(t)?e:c(t)}function l(e){this.word("for"),this.space();const t="ForOfStatement"===e.type;t&&e.await&&(this.word("await"),this.space()),this.noIndentInnerCommentsHere(),this.tokenChar(40);{const n=this.enterForXStatementInit(t);this.print(e.left),null==n||n()}this.space(),this.word(t?"of":"in"),this.space(),this.print(e.right),this.tokenChar(41),this.printBlock(e)}function u(e,t){t&&(e.space(),e.printTerminatorless(t)),e.semicolon()}t.ForInStatement=l,t.ForOfStatement=l},70695:(e,t,n)=>{var r=n(78096),i=n(72428),s=n(56449),a=n(3656),o=n(30361),c=n(37167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),d=!n&&!u&&a(e),p=!n&&!u&&!d&&c(e),h=n||u||d||p,f=h?r(e.length,String):[],m=f.length;for(var y in e)!t&&!l.call(e,y)||h&&("length"==y||d&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||o(y,m))||f.push(y);return f}},70857:e=>{"use strict";e.exports=require("os")},71118:(e,t,n)=>{"use strict";var r,i,s,a,o,c,l,u;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractChatCompletionRunner=void 0;const d=n(79632),p=n(89526),h=n(63357),f=n(46289),m=n(50460),y=n(64691),g=10;class v extends m.EventStream{constructor(){super(...arguments),r.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(0,f.isToolMessage)(e)&&e.content)this._emit("functionToolCallResult",e.content);else if((0,f.isAssistantMessage)(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionToolCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),d.__classPrivateFieldGet(this,r,"m",i).call(this)}async finalMessage(){return await this.done(),d.__classPrivateFieldGet(this,r,"m",s).call(this)}async finalFunctionToolCall(){return await this.done(),d.__classPrivateFieldGet(this,r,"m",a).call(this)}async finalFunctionToolCallResult(){return await this.done(),d.__classPrivateFieldGet(this,r,"m",o).call(this)}async totalUsage(){return await this.done(),d.__classPrivateFieldGet(this,r,"m",c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=d.__classPrivateFieldGet(this,r,"m",s).call(this);t&&this._emit("finalMessage",t);const n=d.__classPrivateFieldGet(this,r,"m",i).call(this);n&&this._emit("finalContent",n);const l=d.__classPrivateFieldGet(this,r,"m",a).call(this);l&&this._emit("finalFunctionToolCall",l);const u=d.__classPrivateFieldGet(this,r,"m",o).call(this);null!=u&&this._emit("finalFunctionToolCallResult",u),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",d.__classPrivateFieldGet(this,r,"m",c).call(this))}async _createChatCompletion(e,t,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),d.__classPrivateFieldGet(this,r,"m",l).call(this,t);const s=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,h.parseChatCompletion)(s,t))}async _runChatCompletion(e,t,n){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){const i="tool",{tool_choice:s="auto",stream:a,...o}=t,c="string"!=typeof s&&"function"===s.type&&s?.function?.name,{maxChatCompletions:l=g}=n||{},f=t.tools.map(e=>{if((0,h.isAutoParsableTool)(e)){if(!e.$callback)throw new p.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),m={};for(const e of f)"function"===e.type&&(m[e.function.name||e.function.function.name]=e.function);const v="tools"in t?f.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){const t=await this._createChatCompletion(e,{...o,tool_choice:s,tools:v,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new p.OpenAIError("missing message in ChatCompletion response");if(!a.tool_calls?.length)return;for(const e of a.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:s}=e.function,a=m[n];if(!a){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(m).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:t,content:e});continue}if(c&&c!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:t,content:e});continue}let o;try{o=(0,y.isRunnableFunctionWithParse)(a)?await a.parse(s):s}catch(e){const n=e instanceof Error?e.message:String(e);this._addMessage({role:i,tool_call_id:t,content:n});continue}const l=await a.function(o,this),p=d.__classPrivateFieldGet(this,r,"m",u).call(this,l);if(this._addMessage({role:i,tool_call_id:t,content:p}),c)return}}}}t.AbstractChatCompletionRunner=v,r=new WeakSet,i=function(){return d.__classPrivateFieldGet(this,r,"m",s).call(this).content??null},s=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if((0,f.isAssistantMessage)(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new p.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},a=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,f.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.filter(e=>"function"===e.type).at(-1)?.function}},o=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,f.isToolMessage)(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},c=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},l=function(e){if(null!=e.n&&e.n>1)throw new p.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},u=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},71718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jobs=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(33955)),a=n(33955),o=n(75552),c=n(54815);class l extends i.APIResource{constructor(){super(...arguments),this.checkpoints=new s.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",o.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return this._client.getAPIList(c.path`/fine_tuning/jobs/${e}/events`,o.CursorPage,{query:t,...n})}pause(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/resume`,t)}}t.Jobs=l,l.Checkpoints=a.Checkpoints},72014:(e,t,n)=>{"use strict";const r=n(16928),i=n(99045),s=n(94483),a=n(29182),o="win32"===process.platform,c=/\.(?:com|exe)$/i,l=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;e.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const u={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?u:function(e){if(!o)return e;const t=function(e){e.file=i(e);const t=e.file&&a(e.file);return t?(e.args.unshift(e.file),e.command=t,i(e)):e.file}(e),n=!c.test(t);if(e.options.forceShell||n){const n=l.test(t);e.command=r.normalize(e.command),e.command=s.command(e.command),e.args=e.args.map(e=>s.argument(e,n));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(u)}},72246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertAccessor=function(e,t){s("Accessor",e,t)},t.assertAnyTypeAnnotation=function(e,t){s("AnyTypeAnnotation",e,t)},t.assertArgumentPlaceholder=function(e,t){s("ArgumentPlaceholder",e,t)},t.assertArrayExpression=function(e,t){s("ArrayExpression",e,t)},t.assertArrayPattern=function(e,t){s("ArrayPattern",e,t)},t.assertArrayTypeAnnotation=function(e,t){s("ArrayTypeAnnotation",e,t)},t.assertArrowFunctionExpression=function(e,t){s("ArrowFunctionExpression",e,t)},t.assertAssignmentExpression=function(e,t){s("AssignmentExpression",e,t)},t.assertAssignmentPattern=function(e,t){s("AssignmentPattern",e,t)},t.assertAwaitExpression=function(e,t){s("AwaitExpression",e,t)},t.assertBigIntLiteral=function(e,t){s("BigIntLiteral",e,t)},t.assertBinary=function(e,t){s("Binary",e,t)},t.assertBinaryExpression=function(e,t){s("BinaryExpression",e,t)},t.assertBindExpression=function(e,t){s("BindExpression",e,t)},t.assertBlock=function(e,t){s("Block",e,t)},t.assertBlockParent=function(e,t){s("BlockParent",e,t)},t.assertBlockStatement=function(e,t){s("BlockStatement",e,t)},t.assertBooleanLiteral=function(e,t){s("BooleanLiteral",e,t)},t.assertBooleanLiteralTypeAnnotation=function(e,t){s("BooleanLiteralTypeAnnotation",e,t)},t.assertBooleanTypeAnnotation=function(e,t){s("BooleanTypeAnnotation",e,t)},t.assertBreakStatement=function(e,t){s("BreakStatement",e,t)},t.assertCallExpression=function(e,t){s("CallExpression",e,t)},t.assertCatchClause=function(e,t){s("CatchClause",e,t)},t.assertClass=function(e,t){s("Class",e,t)},t.assertClassAccessorProperty=function(e,t){s("ClassAccessorProperty",e,t)},t.assertClassBody=function(e,t){s("ClassBody",e,t)},t.assertClassDeclaration=function(e,t){s("ClassDeclaration",e,t)},t.assertClassExpression=function(e,t){s("ClassExpression",e,t)},t.assertClassImplements=function(e,t){s("ClassImplements",e,t)},t.assertClassMethod=function(e,t){s("ClassMethod",e,t)},t.assertClassPrivateMethod=function(e,t){s("ClassPrivateMethod",e,t)},t.assertClassPrivateProperty=function(e,t){s("ClassPrivateProperty",e,t)},t.assertClassProperty=function(e,t){s("ClassProperty",e,t)},t.assertCompletionStatement=function(e,t){s("CompletionStatement",e,t)},t.assertConditional=function(e,t){s("Conditional",e,t)},t.assertConditionalExpression=function(e,t){s("ConditionalExpression",e,t)},t.assertContinueStatement=function(e,t){s("ContinueStatement",e,t)},t.assertDebuggerStatement=function(e,t){s("DebuggerStatement",e,t)},t.assertDecimalLiteral=function(e,t){s("DecimalLiteral",e,t)},t.assertDeclaration=function(e,t){s("Declaration",e,t)},t.assertDeclareClass=function(e,t){s("DeclareClass",e,t)},t.assertDeclareExportAllDeclaration=function(e,t){s("DeclareExportAllDeclaration",e,t)},t.assertDeclareExportDeclaration=function(e,t){s("DeclareExportDeclaration",e,t)},t.assertDeclareFunction=function(e,t){s("DeclareFunction",e,t)},t.assertDeclareInterface=function(e,t){s("DeclareInterface",e,t)},t.assertDeclareModule=function(e,t){s("DeclareModule",e,t)},t.assertDeclareModuleExports=function(e,t){s("DeclareModuleExports",e,t)},t.assertDeclareOpaqueType=function(e,t){s("DeclareOpaqueType",e,t)},t.assertDeclareTypeAlias=function(e,t){s("DeclareTypeAlias",e,t)},t.assertDeclareVariable=function(e,t){s("DeclareVariable",e,t)},t.assertDeclaredPredicate=function(e,t){s("DeclaredPredicate",e,t)},t.assertDecorator=function(e,t){s("Decorator",e,t)},t.assertDirective=function(e,t){s("Directive",e,t)},t.assertDirectiveLiteral=function(e,t){s("DirectiveLiteral",e,t)},t.assertDoExpression=function(e,t){s("DoExpression",e,t)},t.assertDoWhileStatement=function(e,t){s("DoWhileStatement",e,t)},t.assertEmptyStatement=function(e,t){s("EmptyStatement",e,t)},t.assertEmptyTypeAnnotation=function(e,t){s("EmptyTypeAnnotation",e,t)},t.assertEnumBody=function(e,t){s("EnumBody",e,t)},t.assertEnumBooleanBody=function(e,t){s("EnumBooleanBody",e,t)},t.assertEnumBooleanMember=function(e,t){s("EnumBooleanMember",e,t)},t.assertEnumDeclaration=function(e,t){s("EnumDeclaration",e,t)},t.assertEnumDefaultedMember=function(e,t){s("EnumDefaultedMember",e,t)},t.assertEnumMember=function(e,t){s("EnumMember",e,t)},t.assertEnumNumberBody=function(e,t){s("EnumNumberBody",e,t)},t.assertEnumNumberMember=function(e,t){s("EnumNumberMember",e,t)},t.assertEnumStringBody=function(e,t){s("EnumStringBody",e,t)},t.assertEnumStringMember=function(e,t){s("EnumStringMember",e,t)},t.assertEnumSymbolBody=function(e,t){s("EnumSymbolBody",e,t)},t.assertExistsTypeAnnotation=function(e,t){s("ExistsTypeAnnotation",e,t)},t.assertExportAllDeclaration=function(e,t){s("ExportAllDeclaration",e,t)},t.assertExportDeclaration=function(e,t){s("ExportDeclaration",e,t)},t.assertExportDefaultDeclaration=function(e,t){s("ExportDefaultDeclaration",e,t)},t.assertExportDefaultSpecifier=function(e,t){s("ExportDefaultSpecifier",e,t)},t.assertExportNamedDeclaration=function(e,t){s("ExportNamedDeclaration",e,t)},t.assertExportNamespaceSpecifier=function(e,t){s("ExportNamespaceSpecifier",e,t)},t.assertExportSpecifier=function(e,t){s("ExportSpecifier",e,t)},t.assertExpression=function(e,t){s("Expression",e,t)},t.assertExpressionStatement=function(e,t){s("ExpressionStatement",e,t)},t.assertExpressionWrapper=function(e,t){s("ExpressionWrapper",e,t)},t.assertFile=function(e,t){s("File",e,t)},t.assertFlow=function(e,t){s("Flow",e,t)},t.assertFlowBaseAnnotation=function(e,t){s("FlowBaseAnnotation",e,t)},t.assertFlowDeclaration=function(e,t){s("FlowDeclaration",e,t)},t.assertFlowPredicate=function(e,t){s("FlowPredicate",e,t)},t.assertFlowType=function(e,t){s("FlowType",e,t)},t.assertFor=function(e,t){s("For",e,t)},t.assertForInStatement=function(e,t){s("ForInStatement",e,t)},t.assertForOfStatement=function(e,t){s("ForOfStatement",e,t)},t.assertForStatement=function(e,t){s("ForStatement",e,t)},t.assertForXStatement=function(e,t){s("ForXStatement",e,t)},t.assertFunction=function(e,t){s("Function",e,t)},t.assertFunctionDeclaration=function(e,t){s("FunctionDeclaration",e,t)},t.assertFunctionExpression=function(e,t){s("FunctionExpression",e,t)},t.assertFunctionParameter=function(e,t){s("FunctionParameter",e,t)},t.assertFunctionParent=function(e,t){s("FunctionParent",e,t)},t.assertFunctionTypeAnnotation=function(e,t){s("FunctionTypeAnnotation",e,t)},t.assertFunctionTypeParam=function(e,t){s("FunctionTypeParam",e,t)},t.assertGenericTypeAnnotation=function(e,t){s("GenericTypeAnnotation",e,t)},t.assertIdentifier=function(e,t){s("Identifier",e,t)},t.assertIfStatement=function(e,t){s("IfStatement",e,t)},t.assertImmutable=function(e,t){s("Immutable",e,t)},t.assertImport=function(e,t){s("Import",e,t)},t.assertImportAttribute=function(e,t){s("ImportAttribute",e,t)},t.assertImportDeclaration=function(e,t){s("ImportDeclaration",e,t)},t.assertImportDefaultSpecifier=function(e,t){s("ImportDefaultSpecifier",e,t)},t.assertImportExpression=function(e,t){s("ImportExpression",e,t)},t.assertImportNamespaceSpecifier=function(e,t){s("ImportNamespaceSpecifier",e,t)},t.assertImportOrExportDeclaration=function(e,t){s("ImportOrExportDeclaration",e,t)},t.assertImportSpecifier=function(e,t){s("ImportSpecifier",e,t)},t.assertIndexedAccessType=function(e,t){s("IndexedAccessType",e,t)},t.assertInferredPredicate=function(e,t){s("InferredPredicate",e,t)},t.assertInterfaceDeclaration=function(e,t){s("InterfaceDeclaration",e,t)},t.assertInterfaceExtends=function(e,t){s("InterfaceExtends",e,t)},t.assertInterfaceTypeAnnotation=function(e,t){s("InterfaceTypeAnnotation",e,t)},t.assertInterpreterDirective=function(e,t){s("InterpreterDirective",e,t)},t.assertIntersectionTypeAnnotation=function(e,t){s("IntersectionTypeAnnotation",e,t)},t.assertJSX=function(e,t){s("JSX",e,t)},t.assertJSXAttribute=function(e,t){s("JSXAttribute",e,t)},t.assertJSXClosingElement=function(e,t){s("JSXClosingElement",e,t)},t.assertJSXClosingFragment=function(e,t){s("JSXClosingFragment",e,t)},t.assertJSXElement=function(e,t){s("JSXElement",e,t)},t.assertJSXEmptyExpression=function(e,t){s("JSXEmptyExpression",e,t)},t.assertJSXExpressionContainer=function(e,t){s("JSXExpressionContainer",e,t)},t.assertJSXFragment=function(e,t){s("JSXFragment",e,t)},t.assertJSXIdentifier=function(e,t){s("JSXIdentifier",e,t)},t.assertJSXMemberExpression=function(e,t){s("JSXMemberExpression",e,t)},t.assertJSXNamespacedName=function(e,t){s("JSXNamespacedName",e,t)},t.assertJSXOpeningElement=function(e,t){s("JSXOpeningElement",e,t)},t.assertJSXOpeningFragment=function(e,t){s("JSXOpeningFragment",e,t)},t.assertJSXSpreadAttribute=function(e,t){s("JSXSpreadAttribute",e,t)},t.assertJSXSpreadChild=function(e,t){s("JSXSpreadChild",e,t)},t.assertJSXText=function(e,t){s("JSXText",e,t)},t.assertLVal=function(e,t){s("LVal",e,t)},t.assertLabeledStatement=function(e,t){s("LabeledStatement",e,t)},t.assertLiteral=function(e,t){s("Literal",e,t)},t.assertLogicalExpression=function(e,t){s("LogicalExpression",e,t)},t.assertLoop=function(e,t){s("Loop",e,t)},t.assertMemberExpression=function(e,t){s("MemberExpression",e,t)},t.assertMetaProperty=function(e,t){s("MetaProperty",e,t)},t.assertMethod=function(e,t){s("Method",e,t)},t.assertMiscellaneous=function(e,t){s("Miscellaneous",e,t)},t.assertMixedTypeAnnotation=function(e,t){s("MixedTypeAnnotation",e,t)},t.assertModuleDeclaration=function(e,t){(0,i.default)("assertModuleDeclaration","assertImportOrExportDeclaration"),s("ModuleDeclaration",e,t)},t.assertModuleExpression=function(e,t){s("ModuleExpression",e,t)},t.assertModuleSpecifier=function(e,t){s("ModuleSpecifier",e,t)},t.assertNewExpression=function(e,t){s("NewExpression",e,t)},t.assertNoop=function(e,t){s("Noop",e,t)},t.assertNullLiteral=function(e,t){s("NullLiteral",e,t)},t.assertNullLiteralTypeAnnotation=function(e,t){s("NullLiteralTypeAnnotation",e,t)},t.assertNullableTypeAnnotation=function(e,t){s("NullableTypeAnnotation",e,t)},t.assertNumberLiteral=function(e,t){(0,i.default)("assertNumberLiteral","assertNumericLiteral"),s("NumberLiteral",e,t)},t.assertNumberLiteralTypeAnnotation=function(e,t){s("NumberLiteralTypeAnnotation",e,t)},t.assertNumberTypeAnnotation=function(e,t){s("NumberTypeAnnotation",e,t)},t.assertNumericLiteral=function(e,t){s("NumericLiteral",e,t)},t.assertObjectExpression=function(e,t){s("ObjectExpression",e,t)},t.assertObjectMember=function(e,t){s("ObjectMember",e,t)},t.assertObjectMethod=function(e,t){s("ObjectMethod",e,t)},t.assertObjectPattern=function(e,t){s("ObjectPattern",e,t)},t.assertObjectProperty=function(e,t){s("ObjectProperty",e,t)},t.assertObjectTypeAnnotation=function(e,t){s("ObjectTypeAnnotation",e,t)},t.assertObjectTypeCallProperty=function(e,t){s("ObjectTypeCallProperty",e,t)},t.assertObjectTypeIndexer=function(e,t){s("ObjectTypeIndexer",e,t)},t.assertObjectTypeInternalSlot=function(e,t){s("ObjectTypeInternalSlot",e,t)},t.assertObjectTypeProperty=function(e,t){s("ObjectTypeProperty",e,t)},t.assertObjectTypeSpreadProperty=function(e,t){s("ObjectTypeSpreadProperty",e,t)},t.assertOpaqueType=function(e,t){s("OpaqueType",e,t)},t.assertOptionalCallExpression=function(e,t){s("OptionalCallExpression",e,t)},t.assertOptionalIndexedAccessType=function(e,t){s("OptionalIndexedAccessType",e,t)},t.assertOptionalMemberExpression=function(e,t){s("OptionalMemberExpression",e,t)},t.assertParenthesizedExpression=function(e,t){s("ParenthesizedExpression",e,t)},t.assertPattern=function(e,t){s("Pattern",e,t)},t.assertPatternLike=function(e,t){s("PatternLike",e,t)},t.assertPipelineBareFunction=function(e,t){s("PipelineBareFunction",e,t)},t.assertPipelinePrimaryTopicReference=function(e,t){s("PipelinePrimaryTopicReference",e,t)},t.assertPipelineTopicExpression=function(e,t){s("PipelineTopicExpression",e,t)},t.assertPlaceholder=function(e,t){s("Placeholder",e,t)},t.assertPrivate=function(e,t){s("Private",e,t)},t.assertPrivateName=function(e,t){s("PrivateName",e,t)},t.assertProgram=function(e,t){s("Program",e,t)},t.assertProperty=function(e,t){s("Property",e,t)},t.assertPureish=function(e,t){s("Pureish",e,t)},t.assertQualifiedTypeIdentifier=function(e,t){s("QualifiedTypeIdentifier",e,t)},t.assertRecordExpression=function(e,t){s("RecordExpression",e,t)},t.assertRegExpLiteral=function(e,t){s("RegExpLiteral",e,t)},t.assertRegexLiteral=function(e,t){(0,i.default)("assertRegexLiteral","assertRegExpLiteral"),s("RegexLiteral",e,t)},t.assertRestElement=function(e,t){s("RestElement",e,t)},t.assertRestProperty=function(e,t){(0,i.default)("assertRestProperty","assertRestElement"),s("RestProperty",e,t)},t.assertReturnStatement=function(e,t){s("ReturnStatement",e,t)},t.assertScopable=function(e,t){s("Scopable",e,t)},t.assertSequenceExpression=function(e,t){s("SequenceExpression",e,t)},t.assertSpreadElement=function(e,t){s("SpreadElement",e,t)},t.assertSpreadProperty=function(e,t){(0,i.default)("assertSpreadProperty","assertSpreadElement"),s("SpreadProperty",e,t)},t.assertStandardized=function(e,t){s("Standardized",e,t)},t.assertStatement=function(e,t){s("Statement",e,t)},t.assertStaticBlock=function(e,t){s("StaticBlock",e,t)},t.assertStringLiteral=function(e,t){s("StringLiteral",e,t)},t.assertStringLiteralTypeAnnotation=function(e,t){s("StringLiteralTypeAnnotation",e,t)},t.assertStringTypeAnnotation=function(e,t){s("StringTypeAnnotation",e,t)},t.assertSuper=function(e,t){s("Super",e,t)},t.assertSwitchCase=function(e,t){s("SwitchCase",e,t)},t.assertSwitchStatement=function(e,t){s("SwitchStatement",e,t)},t.assertSymbolTypeAnnotation=function(e,t){s("SymbolTypeAnnotation",e,t)},t.assertTSAnyKeyword=function(e,t){s("TSAnyKeyword",e,t)},t.assertTSArrayType=function(e,t){s("TSArrayType",e,t)},t.assertTSAsExpression=function(e,t){s("TSAsExpression",e,t)},t.assertTSBaseType=function(e,t){s("TSBaseType",e,t)},t.assertTSBigIntKeyword=function(e,t){s("TSBigIntKeyword",e,t)},t.assertTSBooleanKeyword=function(e,t){s("TSBooleanKeyword",e,t)},t.assertTSCallSignatureDeclaration=function(e,t){s("TSCallSignatureDeclaration",e,t)},t.assertTSConditionalType=function(e,t){s("TSConditionalType",e,t)},t.assertTSConstructSignatureDeclaration=function(e,t){s("TSConstructSignatureDeclaration",e,t)},t.assertTSConstructorType=function(e,t){s("TSConstructorType",e,t)},t.assertTSDeclareFunction=function(e,t){s("TSDeclareFunction",e,t)},t.assertTSDeclareMethod=function(e,t){s("TSDeclareMethod",e,t)},t.assertTSEntityName=function(e,t){s("TSEntityName",e,t)},t.assertTSEnumBody=function(e,t){s("TSEnumBody",e,t)},t.assertTSEnumDeclaration=function(e,t){s("TSEnumDeclaration",e,t)},t.assertTSEnumMember=function(e,t){s("TSEnumMember",e,t)},t.assertTSExportAssignment=function(e,t){s("TSExportAssignment",e,t)},t.assertTSExpressionWithTypeArguments=function(e,t){s("TSExpressionWithTypeArguments",e,t)},t.assertTSExternalModuleReference=function(e,t){s("TSExternalModuleReference",e,t)},t.assertTSFunctionType=function(e,t){s("TSFunctionType",e,t)},t.assertTSImportEqualsDeclaration=function(e,t){s("TSImportEqualsDeclaration",e,t)},t.assertTSImportType=function(e,t){s("TSImportType",e,t)},t.assertTSIndexSignature=function(e,t){s("TSIndexSignature",e,t)},t.assertTSIndexedAccessType=function(e,t){s("TSIndexedAccessType",e,t)},t.assertTSInferType=function(e,t){s("TSInferType",e,t)},t.assertTSInstantiationExpression=function(e,t){s("TSInstantiationExpression",e,t)},t.assertTSInterfaceBody=function(e,t){s("TSInterfaceBody",e,t)},t.assertTSInterfaceDeclaration=function(e,t){s("TSInterfaceDeclaration",e,t)},t.assertTSIntersectionType=function(e,t){s("TSIntersectionType",e,t)},t.assertTSIntrinsicKeyword=function(e,t){s("TSIntrinsicKeyword",e,t)},t.assertTSLiteralType=function(e,t){s("TSLiteralType",e,t)},t.assertTSMappedType=function(e,t){s("TSMappedType",e,t)},t.assertTSMethodSignature=function(e,t){s("TSMethodSignature",e,t)},t.assertTSModuleBlock=function(e,t){s("TSModuleBlock",e,t)},t.assertTSModuleDeclaration=function(e,t){s("TSModuleDeclaration",e,t)},t.assertTSNamedTupleMember=function(e,t){s("TSNamedTupleMember",e,t)},t.assertTSNamespaceExportDeclaration=function(e,t){s("TSNamespaceExportDeclaration",e,t)},t.assertTSNeverKeyword=function(e,t){s("TSNeverKeyword",e,t)},t.assertTSNonNullExpression=function(e,t){s("TSNonNullExpression",e,t)},t.assertTSNullKeyword=function(e,t){s("TSNullKeyword",e,t)},t.assertTSNumberKeyword=function(e,t){s("TSNumberKeyword",e,t)},t.assertTSObjectKeyword=function(e,t){s("TSObjectKeyword",e,t)},t.assertTSOptionalType=function(e,t){s("TSOptionalType",e,t)},t.assertTSParameterProperty=function(e,t){s("TSParameterProperty",e,t)},t.assertTSParenthesizedType=function(e,t){s("TSParenthesizedType",e,t)},t.assertTSPropertySignature=function(e,t){s("TSPropertySignature",e,t)},t.assertTSQualifiedName=function(e,t){s("TSQualifiedName",e,t)},t.assertTSRestType=function(e,t){s("TSRestType",e,t)},t.assertTSSatisfiesExpression=function(e,t){s("TSSatisfiesExpression",e,t)},t.assertTSStringKeyword=function(e,t){s("TSStringKeyword",e,t)},t.assertTSSymbolKeyword=function(e,t){s("TSSymbolKeyword",e,t)},t.assertTSTemplateLiteralType=function(e,t){s("TSTemplateLiteralType",e,t)},t.assertTSThisType=function(e,t){s("TSThisType",e,t)},t.assertTSTupleType=function(e,t){s("TSTupleType",e,t)},t.assertTSType=function(e,t){s("TSType",e,t)},t.assertTSTypeAliasDeclaration=function(e,t){s("TSTypeAliasDeclaration",e,t)},t.assertTSTypeAnnotation=function(e,t){s("TSTypeAnnotation",e,t)},t.assertTSTypeAssertion=function(e,t){s("TSTypeAssertion",e,t)},t.assertTSTypeElement=function(e,t){s("TSTypeElement",e,t)},t.assertTSTypeLiteral=function(e,t){s("TSTypeLiteral",e,t)},t.assertTSTypeOperator=function(e,t){s("TSTypeOperator",e,t)},t.assertTSTypeParameter=function(e,t){s("TSTypeParameter",e,t)},t.assertTSTypeParameterDeclaration=function(e,t){s("TSTypeParameterDeclaration",e,t)},t.assertTSTypeParameterInstantiation=function(e,t){s("TSTypeParameterInstantiation",e,t)},t.assertTSTypePredicate=function(e,t){s("TSTypePredicate",e,t)},t.assertTSTypeQuery=function(e,t){s("TSTypeQuery",e,t)},t.assertTSTypeReference=function(e,t){s("TSTypeReference",e,t)},t.assertTSUndefinedKeyword=function(e,t){s("TSUndefinedKeyword",e,t)},t.assertTSUnionType=function(e,t){s("TSUnionType",e,t)},t.assertTSUnknownKeyword=function(e,t){s("TSUnknownKeyword",e,t)},t.assertTSVoidKeyword=function(e,t){s("TSVoidKeyword",e,t)},t.assertTaggedTemplateExpression=function(e,t){s("TaggedTemplateExpression",e,t)},t.assertTemplateElement=function(e,t){s("TemplateElement",e,t)},t.assertTemplateLiteral=function(e,t){s("TemplateLiteral",e,t)},t.assertTerminatorless=function(e,t){s("Terminatorless",e,t)},t.assertThisExpression=function(e,t){s("ThisExpression",e,t)},t.assertThisTypeAnnotation=function(e,t){s("ThisTypeAnnotation",e,t)},t.assertThrowStatement=function(e,t){s("ThrowStatement",e,t)},t.assertTopicReference=function(e,t){s("TopicReference",e,t)},t.assertTryStatement=function(e,t){s("TryStatement",e,t)},t.assertTupleExpression=function(e,t){s("TupleExpression",e,t)},t.assertTupleTypeAnnotation=function(e,t){s("TupleTypeAnnotation",e,t)},t.assertTypeAlias=function(e,t){s("TypeAlias",e,t)},t.assertTypeAnnotation=function(e,t){s("TypeAnnotation",e,t)},t.assertTypeCastExpression=function(e,t){s("TypeCastExpression",e,t)},t.assertTypeParameter=function(e,t){s("TypeParameter",e,t)},t.assertTypeParameterDeclaration=function(e,t){s("TypeParameterDeclaration",e,t)},t.assertTypeParameterInstantiation=function(e,t){s("TypeParameterInstantiation",e,t)},t.assertTypeScript=function(e,t){s("TypeScript",e,t)},t.assertTypeofTypeAnnotation=function(e,t){s("TypeofTypeAnnotation",e,t)},t.assertUnaryExpression=function(e,t){s("UnaryExpression",e,t)},t.assertUnaryLike=function(e,t){s("UnaryLike",e,t)},t.assertUnionTypeAnnotation=function(e,t){s("UnionTypeAnnotation",e,t)},t.assertUpdateExpression=function(e,t){s("UpdateExpression",e,t)},t.assertUserWhitespacable=function(e,t){s("UserWhitespacable",e,t)},t.assertV8IntrinsicIdentifier=function(e,t){s("V8IntrinsicIdentifier",e,t)},t.assertVariableDeclaration=function(e,t){s("VariableDeclaration",e,t)},t.assertVariableDeclarator=function(e,t){s("VariableDeclarator",e,t)},t.assertVariance=function(e,t){s("Variance",e,t)},t.assertVoidPattern=function(e,t){s("VoidPattern",e,t)},t.assertVoidTypeAnnotation=function(e,t){s("VoidTypeAnnotation",e,t)},t.assertWhile=function(e,t){s("While",e,t)},t.assertWhileStatement=function(e,t){s("WhileStatement",e,t)},t.assertWithStatement=function(e,t){s("WithStatement",e,t)},t.assertYieldExpression=function(e,t){s("YieldExpression",e,t)};var r=n(93828),i=n(63762);function s(e,t,n){if(!(0,r.default)(e,t,n))throw new Error(`Expected type "${e}" with option ${JSON.stringify(n)}, but instead got "${t.type}".`)}},72259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnyTypeAnnotation=function(){this.word("any")},t.ArrayTypeAnnotation=function(e){this.print(e.elementType,!0),this.tokenChar(91),this.tokenChar(93)},t.BooleanLiteralTypeAnnotation=function(e){this.word(e.value?"true":"false")},t.BooleanTypeAnnotation=function(){this.word("boolean")},t.DeclareClass=function(e,t){o(t)||(this.word("declare"),this.space()),this.word("class"),this.space(),this._interfaceish(e)},t.DeclareExportAllDeclaration=function(e){this.word("declare"),this.space(),i.ExportAllDeclaration.call(this,e)},t.DeclareExportDeclaration=function(e){this.word("declare"),this.space(),this.word("export"),this.space(),e.default&&(this.word("default"),this.space()),p.call(this,e)},t.DeclareFunction=function(e,t){o(t)||(this.word("declare"),this.space()),this.word("function"),this.space(),this.print(e.id),this.print(e.id.typeAnnotation.typeAnnotation),e.predicate&&(this.space(),this.print(e.predicate)),this.semicolon()},t.DeclareInterface=function(e){this.word("declare"),this.space(),this.InterfaceDeclaration(e)},t.DeclareModule=function(e){this.word("declare"),this.space(),this.word("module"),this.space(),this.print(e.id),this.space(),this.print(e.body)},t.DeclareModuleExports=function(e){this.word("declare"),this.space(),this.word("module"),this.tokenChar(46),this.word("exports"),this.print(e.typeAnnotation)},t.DeclareOpaqueType=function(e,t){o(t)||(this.word("declare"),this.space()),this.OpaqueType(e)},t.DeclareTypeAlias=function(e){this.word("declare"),this.space(),this.TypeAlias(e)},t.DeclareVariable=function(e,t){o(t)||(this.word("declare"),this.space()),this.word("var"),this.space(),this.print(e.id),this.print(e.id.typeAnnotation),this.semicolon()},t.DeclaredPredicate=function(e){this.tokenChar(37),this.word("checks"),this.tokenChar(40),this.print(e.value),this.tokenChar(41)},t.EmptyTypeAnnotation=function(){this.word("empty")},t.EnumBooleanBody=function(e){const{explicitType:t}=e;l(this,"boolean",t),u(this,e)},t.EnumBooleanMember=function(e){d(this,e)},t.EnumDeclaration=function(e){const{id:t,body:n}=e;this.word("enum"),this.space(),this.print(t),this.print(n)},t.EnumDefaultedMember=function(e){const{id:t}=e;this.print(t),this.tokenChar(44)},t.EnumNumberBody=function(e){const{explicitType:t}=e;l(this,"number",t),u(this,e)},t.EnumNumberMember=function(e){d(this,e)},t.EnumStringBody=function(e){const{explicitType:t}=e;l(this,"string",t),u(this,e)},t.EnumStringMember=function(e){d(this,e)},t.EnumSymbolBody=function(e){l(this,"symbol",!0),u(this,e)},t.ExistsTypeAnnotation=function(){this.tokenChar(42)},t.FunctionTypeAnnotation=function(e,t){this.print(e.typeParameters),this.tokenChar(40),e.this&&(this.word("this"),this.tokenChar(58),this.space(),this.print(e.this.typeAnnotation),(e.params.length||e.rest)&&(this.tokenChar(44),this.space())),this.printList(e.params),e.rest&&(e.params.length&&(this.tokenChar(44),this.space()),this.token("..."),this.print(e.rest)),this.tokenChar(41);const n=null==t?void 0:t.type;null!=n&&("ObjectTypeCallProperty"===n||"ObjectTypeInternalSlot"===n||"DeclareFunction"===n||"ObjectTypeProperty"===n&&t.method)?this.tokenChar(58):(this.space(),this.token("=>")),this.space(),this.print(e.returnType)},t.FunctionTypeParam=function(e){this.print(e.name),e.optional&&this.tokenChar(63),e.name&&(this.tokenChar(58),this.space()),this.print(e.typeAnnotation)},t.IndexedAccessType=function(e){this.print(e.objectType,!0),this.tokenChar(91),this.print(e.indexType),this.tokenChar(93)},t.InferredPredicate=function(){this.tokenChar(37),this.word("checks")},t.InterfaceDeclaration=function(e){this.word("interface"),this.space(),this._interfaceish(e)},t.GenericTypeAnnotation=t.ClassImplements=t.InterfaceExtends=function(e){this.print(e.id),this.print(e.typeParameters,!0)},t.InterfaceTypeAnnotation=function(e){var t;this.word("interface"),null!=(t=e.extends)&&t.length&&(this.space(),this.word("extends"),this.space(),this.printList(e.extends)),this.space(),this.print(e.body)},t.IntersectionTypeAnnotation=function(e){this.printJoin(e.types,void 0,void 0,h)},t.MixedTypeAnnotation=function(){this.word("mixed")},t.NullLiteralTypeAnnotation=function(){this.word("null")},t.NullableTypeAnnotation=function(e){this.tokenChar(63),this.print(e.typeAnnotation)},Object.defineProperty(t,"NumberLiteralTypeAnnotation",{enumerable:!0,get:function(){return a.NumericLiteral}}),t.NumberTypeAnnotation=function(){this.word("number")},t.ObjectTypeAnnotation=function(e){e.exact?this.token("{|"):this.tokenChar(123);const t=[...e.properties,...e.callProperties||[],...e.indexers||[],...e.internalSlots||[]];t.length&&(this.newline(),this.space(),this.printJoin(t,!0,!0,void 0,void 0,()=>{(1!==t.length||e.inexact)&&(this.tokenChar(44),this.space())}),this.space()),e.inexact&&(this.indent(),this.token("..."),t.length&&this.newline(),this.dedent()),e.exact?this.token("|}"):this.tokenChar(125)},t.ObjectTypeCallProperty=function(e){e.static&&(this.word("static"),this.space()),this.print(e.value)},t.ObjectTypeIndexer=function(e){e.static&&(this.word("static"),this.space()),this._variance(e),this.tokenChar(91),e.id&&(this.print(e.id),this.tokenChar(58),this.space()),this.print(e.key),this.tokenChar(93),this.tokenChar(58),this.space(),this.print(e.value)},t.ObjectTypeInternalSlot=function(e){e.static&&(this.word("static"),this.space()),this.tokenChar(91),this.tokenChar(91),this.print(e.id),this.tokenChar(93),this.tokenChar(93),e.optional&&this.tokenChar(63),e.method||(this.tokenChar(58),this.space()),this.print(e.value)},t.ObjectTypeProperty=function(e){e.proto&&(this.word("proto"),this.space()),e.static&&(this.word("static"),this.space()),"get"!==e.kind&&"set"!==e.kind||(this.word(e.kind),this.space()),this._variance(e),this.print(e.key),e.optional&&this.tokenChar(63),e.method||(this.tokenChar(58),this.space()),this.print(e.value)},t.ObjectTypeSpreadProperty=function(e){this.token("..."),this.print(e.argument)},t.OpaqueType=function(e){this.word("opaque"),this.space(),this.word("type"),this.space(),this.print(e.id),this.print(e.typeParameters),e.supertype&&(this.tokenChar(58),this.space(),this.print(e.supertype)),e.impltype&&(this.space(),this.tokenChar(61),this.space(),this.print(e.impltype)),this.semicolon()},t.OptionalIndexedAccessType=function(e){this.print(e.objectType),e.optional&&this.token("?."),this.tokenChar(91),this.print(e.indexType),this.tokenChar(93)},t.QualifiedTypeIdentifier=function(e){this.print(e.qualification),this.tokenChar(46),this.print(e.id)},Object.defineProperty(t,"StringLiteralTypeAnnotation",{enumerable:!0,get:function(){return a.StringLiteral}}),t.StringTypeAnnotation=function(){this.word("string")},t.SymbolTypeAnnotation=function(){this.word("symbol")},t.ThisTypeAnnotation=function(){this.word("this")},t.TupleTypeAnnotation=function(e){this.tokenChar(91),this.printList(e.types),this.tokenChar(93)},t.TypeAlias=function(e){this.word("type"),this.space(),this.print(e.id),this.print(e.typeParameters),this.space(),this.tokenChar(61),this.space(),this.print(e.right),this.semicolon()},t.TypeAnnotation=function(e,t){this.tokenChar(58),this.space(),"ArrowFunctionExpression"===t.type?this.tokenContext|=s.TokenContext.arrowFlowReturnType:e.optional&&this.tokenChar(63),this.print(e.typeAnnotation)},t.TypeCastExpression=function(e){this.tokenChar(40),this.print(e.expression),this.print(e.typeAnnotation),this.tokenChar(41)},t.TypeParameter=function(e){this._variance(e),this.word(e.name),e.bound&&this.print(e.bound),e.default&&(this.space(),this.tokenChar(61),this.space(),this.print(e.default))},t.TypeParameterDeclaration=t.TypeParameterInstantiation=function(e){this.tokenChar(60),this.printList(e.params),this.tokenChar(62)},t.TypeofTypeAnnotation=function(e){this.word("typeof"),this.space(),this.print(e.argument)},t.UnionTypeAnnotation=function(e){this.printJoin(e.types,void 0,void 0,f)},t.Variance=function(e){"plus"===e.kind?this.tokenChar(43):this.tokenChar(45)},t.VoidTypeAnnotation=function(){this.word("void")},t._interfaceish=function(e){var t,n,r;(this.print(e.id),this.print(e.typeParameters),null!=(t=e.extends)&&t.length&&(this.space(),this.word("extends"),this.space(),this.printList(e.extends)),"DeclareClass"===e.type)&&(null!=(n=e.mixins)&&n.length&&(this.space(),this.word("mixins"),this.space(),this.printList(e.mixins)),null!=(r=e.implements)&&r.length&&(this.space(),this.word("implements"),this.space(),this.printList(e.implements)));this.space(),this.print(e.body)},t._variance=function(e){var t;const n=null==(t=e.variance)?void 0:t.kind;null!=n&&("plus"===n?this.tokenChar(43):"minus"===n&&this.tokenChar(45))};var r=n(2352),i=n(89638),s=n(31373),a=n(7942);const{isDeclareExportDeclaration:o,isStatement:c}=r;function l(e,t,n){n&&(e.space(),e.word("of"),e.space(),e.word(t)),e.space()}function u(e,t){const{members:n}=t;e.token("{"),e.indent(),e.newline();for(const t of n)e.print(t),e.newline();t.hasUnknownMembers&&(e.token("..."),e.newline()),e.dedent(),e.token("}")}function d(e,t){e.print(t.id),e.space(),e.token("="),e.space(),e.print(t.init),e.token(",")}function p(e){if(e.declaration){const t=e.declaration;this.print(t),c(t)||this.semicolon()}else this.tokenChar(123),e.specifiers.length&&(this.space(),this.printList(e.specifiers),this.space()),this.tokenChar(125),e.source&&(this.space(),this.word("from"),this.space(),this.print(e.source)),this.semicolon()}function h(e){this.space(),this.token("&",!1,e),this.space()}function f(e){this.space(),this.token("|",!1,e),this.space()}},72392:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZodFirstPartyTypeKind=t.config=t.$brand=t.ZodIssueCode=void 0,t.setErrorMap=function(e){a.config({customError:e})},t.getErrorMap=function(){return a.config().customError};const a=s(n(76601));t.ZodIssueCode={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};var o,c=n(76601);Object.defineProperty(t,"$brand",{enumerable:!0,get:function(){return c.$brand}}),Object.defineProperty(t,"config",{enumerable:!0,get:function(){return c.config}}),o||(t.ZodFirstPartyTypeKind=o={})},72402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(98960),i=n(85279),s=n(87639);function a(e,t=e.key){let n;return"method"===e.kind?a.increment()+"":(n=(0,r.isIdentifier)(t)?t.name:(0,r.isStringLiteral)(t)?JSON.stringify(t.value):JSON.stringify((0,s.default)((0,i.default)(t))),e.computed&&(n=`[${n}]`),e.static&&(n=`static:${n}`),n)}a.uid=0,a.increment=function(){return a.uid>=Number.MAX_SAFE_INTEGER?a.uid=0:a.uid++}},72428:(e,t,n)=>{var r=n(27534),i=n(40346),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=c},72552:(e,t,n)=>{var r=n(51873),i=n(659),s=n(59350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):s(e)}},72949:(e,t,n)=>{var r=n(12651);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},73054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=t.ChatCompletionStream=t.ParsingToolFunction=t.ChatCompletionStreamingRunner=t.Completions=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(19501)),a=n(19501),o=n(75552),c=n(54815),l=n(44648),u=n(67730),d=n(95126),p=n(63357);class h extends i.APIResource{constructor(){super(...arguments),this.messages=new s.Messages(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(c.path`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(c.path`/chat/completions/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/chat/completions",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/chat/completions/${e}`,t)}parse(e,t){return(0,p.validateInputTools)(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(t=>(0,p.parseChatCompletion)(t,e))}runTools(e,t){return e.stream?u.ChatCompletionStreamingRunner.runTools(this._client,e,t):l.ChatCompletionRunner.runTools(this._client,e,t)}stream(e,t){return d.ChatCompletionStream.createChatCompletion(this._client,e,t)}}t.Completions=h;var f=n(67730);Object.defineProperty(t,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return f.ChatCompletionStreamingRunner}});var m=n(64691);Object.defineProperty(t,"ParsingToolFunction",{enumerable:!0,get:function(){return m.ParsingToolFunction}});var y=n(95126);Object.defineProperty(t,"ChatCompletionStream",{enumerable:!0,get:function(){return y.ChatCompletionStream}});var g=n(44648);Object.defineProperty(t,"ChatCompletionRunner",{enumerable:!0,get:function(){return g.ChatCompletionRunner}}),h.Messages=a.Messages},73178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringDef=t.zodPatterns=void 0;const r=n(98950);let i;function s(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)a.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}t.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===i&&(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/},t.parseStringDef=function(e,n){const i={type:"string"};if(e.checks)for(const a of e.checks)switch(a.kind){case"min":(0,r.setResponseValueAndErrors)(i,"minLength","number"==typeof i.minLength?Math.max(i.minLength,a.value):a.value,a.message,n);break;case"max":(0,r.setResponseValueAndErrors)(i,"maxLength","number"==typeof i.maxLength?Math.min(i.maxLength,a.value):a.value,a.message,n);break;case"email":switch(n.emailStrategy){case"format:email":o(i,"email",a.message,n);break;case"format:idn-email":o(i,"idn-email",a.message,n);break;case"pattern:zod":c(i,t.zodPatterns.email,a.message,n)}break;case"url":o(i,"uri",a.message,n);break;case"uuid":o(i,"uuid",a.message,n);break;case"regex":c(i,a.regex,a.message,n);break;case"cuid":c(i,t.zodPatterns.cuid,a.message,n);break;case"cuid2":c(i,t.zodPatterns.cuid2,a.message,n);break;case"startsWith":c(i,RegExp(`^${s(a.value,n)}`),a.message,n);break;case"endsWith":c(i,RegExp(`${s(a.value,n)}$`),a.message,n);break;case"datetime":o(i,"date-time",a.message,n);break;case"date":o(i,"date",a.message,n);break;case"time":o(i,"time",a.message,n);break;case"duration":o(i,"duration",a.message,n);break;case"length":(0,r.setResponseValueAndErrors)(i,"minLength","number"==typeof i.minLength?Math.max(i.minLength,a.value):a.value,a.message,n),(0,r.setResponseValueAndErrors)(i,"maxLength","number"==typeof i.maxLength?Math.min(i.maxLength,a.value):a.value,a.message,n);break;case"includes":c(i,RegExp(s(a.value,n)),a.message,n);break;case"ip":"v6"!==a.version&&o(i,"ipv4",a.message,n),"v4"!==a.version&&o(i,"ipv6",a.message,n);break;case"base64url":c(i,t.zodPatterns.base64url,a.message,n);break;case"jwt":c(i,t.zodPatterns.jwt,a.message,n);break;case"cidr":"v6"!==a.version&&c(i,t.zodPatterns.ipv4Cidr,a.message,n),"v4"!==a.version&&c(i,t.zodPatterns.ipv6Cidr,a.message,n);break;case"emoji":c(i,t.zodPatterns.emoji(),a.message,n);break;case"ulid":c(i,t.zodPatterns.ulid,a.message,n);break;case"base64":switch(n.base64Strategy){case"format:binary":o(i,"binary",a.message,n);break;case"contentEncoding:base64":(0,r.setResponseValueAndErrors)(i,"contentEncoding","base64",a.message,n);break;case"pattern:zod":c(i,t.zodPatterns.base64,a.message,n)}break;case"nanoid":c(i,t.zodPatterns.nanoid,a.message,n);case"toLowerCase":case"toUpperCase":case"trim":break;default:(()=>{})()}return i};const a=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function o(e,t,n,i){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&i.errorMessages&&{errorMessage:{format:n}}})):(0,r.setResponseValueAndErrors)(e,"format",t,n,i)}function c(e,t,n,i){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:l(t,i),...n&&i.errorMessages&&{errorMessage:{pattern:n}}})):(0,r.setResponseValueAndErrors)(e,"pattern",l(t,i),n,i)}function l(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const n=e.flags.includes("i"),r=e.flags.includes("m"),i=e.flags.includes("s"),s=n?e.source.toLowerCase():e.source;let a="",o=!1,c=!1,l=!1;for(let e=0;e<s.length;e++)if(o)a+=s[e],o=!1;else{if(n)if(c){if(s[e].match(/[a-z]/)){l?(a+=s[e],a+=`${s[e-2]}-${s[e]}`.toUpperCase(),l=!1):"-"===s[e+1]&&s[e+2]?.match(/[a-z]/)?(a+=s[e],l=!0):a+=`${s[e]}${s[e].toUpperCase()}`;continue}}else if(s[e].match(/[a-z]/)){a+=`[${s[e]}${s[e].toUpperCase()}]`;continue}if(r){if("^"===s[e]){a+="(^|(?<=[\r\n]))";continue}if("$"===s[e]){a+="($|(?=[\r\n]))";continue}}i&&"."===s[e]?a+=c?`${s[e]}\r\n`:`[${s[e]}\r\n]`:(a+=s[e],"\\"===s[e]?o=!0:c&&"]"===s[e]?c=!1:c||"["!==s[e]||(c=!0))}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}},73205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){t&&n&&(t[e]=Array.from(new Set([].concat(t[e],n[e]).filter(Boolean))))}},73346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettledWithThrow=void 0,t.allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),n=t.filter(e=>"rejected"===e.status);if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const e of t)"fulfilled"===e.status&&r.push(e.value);return r}},73514:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportAnalyzer=void 0;const c=a(n(91398)),l=a(n(22172)),u=o(n(25781)),d=a(n(16928));t.ImportAnalyzer=class{async analyzeImports(e){const t=(await c.workspace.openTextDocument(e)).getText(),n=[];try{const e=l.parse(t,{sourceType:"module",plugins:["jsx","typescript","classProperties","dynamicImport","decorators-legacy"]});(0,u.default)(e,{ImportDeclaration:e=>{const t=e.node,r=[];let i=!1,s=!1;t.specifiers.forEach(e=>{"ImportDefaultSpecifier"===e.type?(r.push(e.local.name),i=!0):"ImportNamespaceSpecifier"===e.type?(r.push(e.local.name),s=!0):"ImportSpecifier"===e.type&&r.push(e.imported.name)}),n.push({source:t.source.value,specifiers:r,isDefault:i,isNamespace:s,line:t.loc?.start.line||0})},Import:e=>{const t=e.parent;if("CallExpression"===t.type&&t.arguments[0]){const r=t.arguments[0].value;r&&n.push({source:r,specifiers:[],isDefault:!1,isNamespace:!1,line:e.node.loc?.start.line||0})}},CallExpression:e=>{const t=e.node;"Identifier"===t.callee.type&&"require"===t.callee.name&&t.arguments[0]&&"StringLiteral"===t.arguments[0].type&&n.push({source:t.arguments[0].value,specifiers:[],isDefault:!0,isNamespace:!1,line:t.loc?.start.line||0})}})}catch(t){console.error(`Failed to analyze imports in ${e.fsPath}:`,t)}return n}async analyzeJavaImports(e){const t=(await c.workspace.openTextDocument(e)).getText(),n=[],r=/import\s+(static\s+)?([a-zA-Z0-9_.]+(\.\*)?);/g;let i;for(;null!==(i=r.exec(t));){const e=i[2],r=e.split(".").pop()||e;n.push({source:e,specifiers:[r],isDefault:!1,isNamespace:e.endsWith(".*"),line:t.substring(0,i.index).split("\n").length})}return n}async resolveImportPath(e,t,n){if(e.endsWith(".java"))return this.resolveJavaImportPath(t,n);if(!t.startsWith(".")&&!t.startsWith("/")&&!t.startsWith("@/"))return null;const r=d.dirname(e);let i="";i=t.startsWith("@/")?d.join(n,"src",t.substring(2)):d.resolve(r,t);const s=[".ts",".tsx",".js",".jsx",".java","/index.ts","/index.tsx","/index.js","/index.jsx"];for(const e of s){const t=i+e;if(await this.fileExists(t))return t}return await this.fileExists(i)?i:null}async buildDependencyMap(e,t){const n=[];let r;r=".java"===d.extname(e.fsPath)?await this.analyzeJavaImports(e):await this.analyzeImports(e);for(const i of r){const r=await this.resolveImportPath(e.fsPath,i.source,t);r&&n.push({sourceFile:e.fsPath,targetFile:r,importedItems:i.specifiers,type:"import"})}return n}async fileExists(e){try{const t=c.Uri.file(e);return await c.workspace.fs.stat(t),!0}catch{return!1}}async resolveJavaImportPath(e,t){if(e.startsWith("java.")||e.startsWith("javax.")||e.startsWith("org.springframework.")||e.startsWith("lombok.")||e.startsWith("org.junit.")||e.startsWith("org.mockito.")||e.startsWith("org.slf4j.")||e.startsWith("org.apache."))return null;const n=e.replace(/\./g,"/");if(n.endsWith("/*"))return null;const r=["src/main/java","src","app/src/main/java","main/java",""];for(const e of r){const r=d.join(t,e,n+".java");if(await this.fileExists(r))return r}try{const t=e.split(".").pop();if(t){const e=await c.workspace.findFiles(`**/${t}.java`,"**/node_modules/**",1);if(e.length>0)return e[0].fsPath}}catch(t){console.error(`Failed to search for Java class ${e}:`,t)}return null}}},73524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDef=void 0;const r=n(92626),i=n(32465),s=n(86379),a=n(62909);t.parseDef=function e(t,n,s=!1){const a=n.seen.get(t);if(n.override){const e=n.override?.(t,n,a,s);if(e!==r.ignoreOverride)return e}if(a&&!s){const e=o(a,n);if(void 0!==e)return e}const l={def:t,path:n.currentPath,jsonSchema:void 0};n.seen.set(t,l);const u=(0,i.selectParser)(t,t.typeName,n),d="function"==typeof u?e(u(),n):u;if(d&&c(t,n,d),n.postProcess){const e=n.postProcess(d,t,n);return l.jsonSchema=d,e}return l.jsonSchema=d,d};const o=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:(0,s.getRelativePath)(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),(0,a.parseAnyDef)(t)):"seen"===t.$refStrategy?(0,a.parseAnyDef)(t):void 0}},c=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n)},73850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sessions=void 0;const r=n(82040),i=n(262);class s extends r.APIResource{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Sessions=s},73908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!(!e||!r.VISITOR_KEYS[e.type])};var r=n(39793)},73962:(e,t)=>{"use strict";function n(){this.space()}Object.defineProperty(t,"__esModule",{value:!0}),t.JSXAttribute=function(e){this.print(e.name),e.value&&(this.tokenChar(61),this.print(e.value))},t.JSXClosingElement=function(e){this.tokenChar(60),this.tokenChar(47),this.print(e.name),this.tokenChar(62)},t.JSXClosingFragment=function(){this.token("</"),this.tokenChar(62)},t.JSXElement=function(e){const t=e.openingElement;if(this.print(t),!t.selfClosing){this.indent();for(const t of e.children)this.print(t);this.dedent(),this.print(e.closingElement)}},t.JSXEmptyExpression=function(){this.printInnerComments()},t.JSXExpressionContainer=function(e){this.tokenChar(123),this.print(e.expression),this.rightBrace(e)},t.JSXFragment=function(e){this.print(e.openingFragment),this.indent();for(const t of e.children)this.print(t);this.dedent(),this.print(e.closingFragment)},t.JSXIdentifier=function(e){this.word(e.name)},t.JSXMemberExpression=function(e){this.print(e.object),this.tokenChar(46),this.print(e.property)},t.JSXNamespacedName=function(e){this.print(e.namespace),this.tokenChar(58),this.print(e.name)},t.JSXOpeningElement=function(e){this.tokenChar(60),this.print(e.name),e.typeArguments&&this.print(e.typeArguments),this.print(e.typeParameters),e.attributes.length>0&&(this.space(),this.printJoin(e.attributes,void 0,void 0,n)),e.selfClosing&&(this.space(),this.tokenChar(47)),this.tokenChar(62)},t.JSXOpeningFragment=function(){this.tokenChar(60),this.tokenChar(62)},t.JSXSpreadAttribute=function(e){this.tokenChar(123),this.token("..."),this.print(e.argument),this.rightBrace(e)},t.JSXSpreadChild=function(e){this.tokenChar(123),this.token("..."),this.print(e.expression),this.rightBrace(e)},t.JSXText=function(e){const t=this.getPossibleRaw(e);void 0!==t?this.token(t,!0):this.token(e.value,!0)}},74001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n=!1){return e.object=(0,r.memberExpression)(e.object,e.property,e.computed),e.property=t,e.computed=!!n,e};var r=n(48079)},74218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},74313:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function t(t){return e[t]??null}const n={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return e=>{switch(e.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${e.expected} ប៉ុន្តែទទួលបាន ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":if(Array.isArray(e))return"អារេ (Array)";if(null===e)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${a.stringifyPrimitive(e.values[0])}`:`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`ធំពេក៖ ត្រូវការ ${e.origin??"តម្លៃ"} ${n} ${e.maximum.toString()} ${r.unit??"ធាតុ"}`:`ធំពេក៖ ត្រូវការ ${e.origin??"តម្លៃ"} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`តូចពេក៖ ត្រូវការ ${e.origin} ${n} ${e.minimum.toString()} ${r.unit}`:`តូចពេក៖ ត្រូវការ ${e.origin} ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${t.prefix}"`:"ends_with"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${t.suffix}"`:"includes"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${t.includes}"`:"regex"===t.format?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${t.pattern}`:`មិនត្រឹមត្រូវ៖ ${n[t.format]??e.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${e.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${e.origin}`;case"invalid_union":default:return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${e.origin}`}}};e.exports=t.default},74335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},74460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputTokens=void 0;const r=n(82040);class i extends r.APIResource{count(e={},t){return this._client.post("/responses/input_tokens",{body:e,...t})}}t.InputTokens=i},74466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){const c=new WeakMap,l=new WeakMap,u=n||(0,r.validate)(null);return Object.assign((n,...a)=>{if("string"==typeof n){if(a.length>1)throw new Error("Unexpected extra params.");return o((0,i.default)(t,n,(0,r.merge)(u,(0,r.validate)(a[0]))))}if(Array.isArray(n)){let e=c.get(n);return e||(e=(0,s.default)(t,n,u),c.set(n,e)),o(e(a))}if("object"==typeof n&&n){if(a.length>0)throw new Error("Unexpected extra params.");return e(t,(0,r.merge)(u,(0,r.validate)(n)))}throw new Error("Unexpected template param "+typeof n)},{ast:(e,...n)=>{if("string"==typeof e){if(n.length>1)throw new Error("Unexpected extra params.");return(0,i.default)(t,e,(0,r.merge)((0,r.merge)(u,(0,r.validate)(n[0])),a))()}if(Array.isArray(e)){let i=l.get(e);return i||(i=(0,s.default)(t,e,(0,r.merge)(u,a)),l.set(e,i)),i(n)()}throw new Error("Unexpected template param "+typeof e)}})};var r=n(19815),i=n(95252),s=n(53438);const a=(0,r.validate)({placeholderPattern:!1});function o(e){let t="";try{throw new Error}catch(e){e.stack&&(t=e.stack.split("\n").slice(3).join("\n"))}return n=>{try{return e(n)}catch(e){throw e.stack+=`\n    =============\n${t}`,e}}}},74769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Evals=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(86003)),a=n(86003),o=n(75552),c=n(54815);class l extends i.APIResource{constructor(){super(...arguments),this.runs=new s.Runs(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/evals/${e}`,t)}update(e,t,n){return this._client.post(c.path`/evals/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/evals",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/evals/${e}`,t)}}t.Evals=l,l.Runs=a.Runs},74960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{constructor(e,t){this._map=null,this._buf="",this._str="",this._appendCount=0,this._last=0,this._queue=[],this._queueCursor=0,this._canMarkIdName=!0,this._indentChar="",this._fastIndentations=[],this._position={line:1,column:0},this._sourcePosition={identifierName:void 0,identifierNamePos:void 0,line:void 0,column:void 0,filename:void 0},this._map=e,this._indentChar=t;for(let e=0;e<64;e++)this._fastIndentations.push(t.repeat(e));this._allocQueue()}_allocQueue(){const e=this._queue;for(let t=0;t<16;t++)e.push({char:0,repeat:1,line:void 0,column:void 0,identifierName:void 0,identifierNamePos:void 0,filename:""})}_pushQueue(e,t,n,r,i){const s=this._queueCursor;s===this._queue.length&&this._allocQueue();const a=this._queue[s];a.char=e,a.repeat=t,a.line=n,a.column=r,a.filename=i,this._queueCursor++}_popQueue(){if(0===this._queueCursor)throw new Error("Cannot pop from empty queue");return this._queue[--this._queueCursor]}get(){this._flush();const e=this._map,t={code:(this._buf+this._str).trimRight(),decodedMap:null==e?void 0:e.getDecoded(),get __mergedMap(){return this.map},get map(){const n=e?e.get():null;return t.map=n,n},set map(e){Object.defineProperty(t,"map",{value:e,writable:!0})},get rawMappings(){const n=null==e?void 0:e.getRawMappings();return t.rawMappings=n,n},set rawMappings(e){Object.defineProperty(t,"rawMappings",{value:e,writable:!0})}};return t}append(e,t){this._flush(),this._append(e,this._sourcePosition,t)}appendChar(e){this._flush(),this._appendChar(e,1,this._sourcePosition)}queue(e){if(10===e)for(;0!==this._queueCursor;){const e=this._queue[this._queueCursor-1].char;if(32!==e&&9!==e)break;this._queueCursor--}const t=this._sourcePosition;this._pushQueue(e,1,t.line,t.column,t.filename)}queueIndentation(e){0!==e&&this._pushQueue(-1,e,void 0,void 0,void 0)}_flush(){const e=this._queueCursor,t=this._queue;for(let n=0;n<e;n++){const e=t[n];this._appendChar(e.char,e.repeat,e)}this._queueCursor=0}_appendChar(e,t,n){if(this._last=e,-1===e){const e=this._fastIndentations[t];this._str+=void 0!==e?e:t>1?this._indentChar.repeat(t):this._indentChar}else this._str+=t>1?String.fromCharCode(e).repeat(t):String.fromCharCode(e);10!==e?(this._mark(n.line,n.column,n.identifierName,n.identifierNamePos,n.filename),this._position.column+=t):(this._position.line++,this._position.column=0),this._canMarkIdName&&(n.identifierName=void 0,n.identifierNamePos=void 0)}_append(e,t,n){const r=e.length,i=this._position;if(this._last=e.charCodeAt(r-1),++this._appendCount>4096?(this._str,this._buf+=this._str,this._str=e,this._appendCount=0):this._str+=e,!n&&!this._map)return void(i.column+=r);const{column:s,identifierName:a,identifierNamePos:o,filename:c}=t;let l=t.line;null==a&&null==o||!this._canMarkIdName||(t.identifierName=void 0,t.identifierNamePos=void 0);let u=e.indexOf("\n"),d=0;for(0!==u&&this._mark(l,s,a,o,c);-1!==u;)i.line++,i.column=0,d=u+1,d<r&&void 0!==l&&this._mark(++l,0,void 0,void 0,c),u=e.indexOf("\n",d);i.column+=r-d}_mark(e,t,n,r,i){var s;null==(s=this._map)||s.mark(this._position,e,t,n,r,i)}removeTrailingNewline(){const e=this._queueCursor;0!==e&&10===this._queue[e-1].char&&this._queueCursor--}removeLastSemicolon(){const e=this._queueCursor;0!==e&&59===this._queue[e-1].char&&this._queueCursor--}getLastChar(){const e=this._queueCursor;return 0!==e?this._queue[e-1].char:this._last}getNewlineCount(){const e=this._queueCursor;let t=0;if(0===e)return 10===this._last?1:0;for(let n=e-1;n>=0&&10===this._queue[n].char;n--)t++;return t===e&&10===this._last?t+1:t}endsWithCharAndNewline(){const e=this._queue,t=this._queueCursor;if(0!==t){if(10!==e[t-1].char)return;return t>1?e[t-2].char:this._last}}hasContent(){return 0!==this._queueCursor||!!this._last}exactSource(e,t){if(!this._map)return void t();this.source("start",e);const n=e.identifierName,r=this._sourcePosition;n&&(this._canMarkIdName=!1,r.identifierName=n),t(),n&&(this._canMarkIdName=!0,r.identifierName=void 0,r.identifierNamePos=void 0),this.source("end",e)}source(e,t){this._map&&this._normalizePosition(e,t,0)}sourceWithOffset(e,t,n){this._map&&this._normalizePosition(e,t,n)}_normalizePosition(e,t,n){const r=t[e],i=this._sourcePosition;r&&(i.line=r.line,i.column=Math.max(r.column+n,0),i.filename=t.filename)}getCurrentColumn(){const e=this._queue,t=this._queueCursor;let n=-1,r=0;for(let i=0;i<t;i++){const t=e[i];10===t.char&&(n=r),r+=t.repeat}return-1===n?this._position.column+r:r-1-n}getCurrentLine(){let e=0;const t=this._queue;for(let n=0;n<this._queueCursor;n++)10===t[n].char&&e++;return this._position.line+e}}},74993:(e,t,n)=>{"use strict";const r=n(35317),i=n(72014),s=n(83436);function a(e,t,n){const a=i(e,t,n),o=r.spawn(a.command,a.args,a.options);return s.hookChildProcess(o,a),o}e.exports=a,e.exports.spawn=a,e.exports.sync=function(e,t,n){const a=i(e,t,n),o=r.spawnSync(a.command,a.args,a.options);return o.error=o.error||s.verifyENOENTSync(o.status,a),o},e.exports._parse=i,e.exports._enoent=s},75288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},75552:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationCursorPage=t.CursorPage=t.Page=t.PagePromise=t.AbstractPage=void 0;const i=n(79632),s=n(44172),a=n(98151),o=n(81482),c=n(15734);class l{constructor(e,t,n,s){r.set(this,void 0),i.__classPrivateFieldSet(this,r,e,"f"),this.options=s,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new s.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await i.__classPrivateFieldGet(this,r,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=l;class u extends o.APIPromise{constructor(e,t,n){super(e,t,async(e,t)=>new n(e,t.response,await(0,a.defaultParseResponse)(e,t),t.options))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=u,t.Page=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},t.CursorPage=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after:t}}:null}},t.ConversationCursorPage=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after:e}}:null}}},75562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Var=t.User=t.Statement=t.SpreadProperty=t.Scope=t.RestProperty=t.ReferencedMemberExpression=t.ReferencedIdentifier=t.Referenced=t.Pure=t.NumericLiteralTypeAnnotation=t.Generated=t.ForAwaitStatement=t.Flow=t.Expression=t.ExistentialTypeParam=t.BlockScoped=t.BindingIdentifier=void 0,t.ReferencedIdentifier=["Identifier","JSXIdentifier"],t.ReferencedMemberExpression=["MemberExpression"],t.BindingIdentifier=["Identifier"],t.Statement=["Statement"],t.Expression=["Expression"],t.Scope=["Scopable","Pattern"],t.Referenced=null,t.BlockScoped=["FunctionDeclaration","ClassDeclaration","VariableDeclaration"],t.Var=["VariableDeclaration"],t.User=null,t.Generated=null,t.Pure=null,t.Flow=["Flow","ImportDeclaration","ExportDeclaration","ImportSpecifier"],t.RestProperty=["RestElement"],t.SpreadProperty=["RestElement"],t.ExistentialTypeParam=["ExistsTypeAnnotation"],t.NumericLiteralTypeAnnotation=["NumberLiteralTypeAnnotation"],t.ForAwaitStatement=["ForOfStatement"]},75653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28651),i=n(92034);t.default=(e,t)=>{let n;switch(e.code){case r.ZodIssueCode.invalid_type:n=e.received===i.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case r.ZodIssueCode.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,i.util.jsonStringifyReplacer)}`;break;case r.ZodIssueCode.unrecognized_keys:n=`Unrecognized key(s) in object: ${i.util.joinValues(e.keys,", ")}`;break;case r.ZodIssueCode.invalid_union:n="Invalid input";break;case r.ZodIssueCode.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${i.util.joinValues(e.options)}`;break;case r.ZodIssueCode.invalid_enum_value:n=`Invalid enum value. Expected ${i.util.joinValues(e.options)}, received '${e.received}'`;break;case r.ZodIssueCode.invalid_arguments:n="Invalid function arguments";break;case r.ZodIssueCode.invalid_return_type:n="Invalid function return type";break;case r.ZodIssueCode.invalid_date:n="Invalid date";break;case r.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:i.util.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case r.ZodIssueCode.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case r.ZodIssueCode.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case r.ZodIssueCode.custom:n="Invalid input";break;case r.ZodIssueCode.invalid_intersection_types:n="Intersection results could not be merged";break;case r.ZodIssueCode.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case r.ZodIssueCode.not_finite:n="Number must be finite";break;default:n=t.defaultError,i.util.assertNever(e)}return{message:n}},e.exports=t.default},75657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentationGenerator=void 0;const r=n(99147);t.DocumentationGenerator=class{litellm;useLLM=!0;constructor(){this.litellm=(0,r.getLiteLLMService)()}generateForNode(e,t){return this.getPersonaGenerator(t)(e)}async generateForNodeAsync(e,t){if(this.useLLM&&this.litellm.isReady())try{return await this.litellm.generateDocumentation(e,t)}catch(e){console.error("LiteLLM generation failed, falling back to rule-based:",e)}return this.generateForNode(e,t)}async generateSummaryAsync(e){if(this.useLLM&&this.litellm.isReady())try{return await this.litellm.generateSummary(e)}catch(e){console.error("LiteLLM summary failed, falling back to rule-based:",e)}return this.generateSmartSummary(e)}async generateTechnicalDetailsAsync(e){if(this.useLLM&&this.litellm.isReady())try{return await this.litellm.generateTechnicalDetails(e)}catch(e){console.error("LiteLLM technical details failed:",e)}return null}isLLMAvailable(){return this.litellm.isReady()}getLiteLLMService(){return this.litellm}enrichDocumentation(e){const t={...e};return t.documentation||(t.documentation={summary:`${e.type} ${e.label}`,description:"",persona:{}}),t.documentation.persona={developer:this.generateDeveloperDoc(e),"product-manager":this.generateProductManagerDoc(e),architect:this.generateArchitectDoc(e),"business-analyst":this.generateBusinessAnalystDoc(e)},t}async enrichDocumentationAsync(e){const t={...e};if(t.documentation||(t.documentation={summary:`${e.type} ${e.label}`,description:"",persona:{}}),this.useLLM&&this.litellm.isReady())try{const[n,r,i,s]=await Promise.all([this.litellm.generateDocumentation(e,"developer"),this.litellm.generateDocumentation(e,"product-manager"),this.litellm.generateDocumentation(e,"architect"),this.litellm.generateDocumentation(e,"business-analyst")]);t.documentation.persona={developer:n,"product-manager":r,architect:i,"business-analyst":s};const a=await this.litellm.generateSummary(e);return t.documentation.summary=a,t}catch(e){console.error("LiteLLM enrichment failed, falling back to rule-based:",e)}return this.enrichDocumentation(e)}getPersonaGenerator(e){return{developer:this.generateDeveloperDoc.bind(this),"product-manager":this.generateProductManagerDoc.bind(this),architect:this.generateArchitectDoc.bind(this),"business-analyst":this.generateBusinessAnalystDoc.bind(this)}[e]}generateDeveloperDoc(e){const t=[];t.push(`📦 ${e.label}`),t.push("");const n=e.filePath.split(/[\\/]/).pop()||e.filePath;t.push(`📁 File: ${n}`),t.push(`📍 Lines: ${e.startLine} - ${e.endLine}`),t.push(`🏷️ Type: ${e.type}`),t.push(`💻 Language: ${e.language}`),t.push("");const r=[];if(e.visibility&&r.push(`${e.visibility}`),e.isAsync&&r.push("async"),e.isStatic&&r.push("static"),r.length>0&&(t.push(`⚙️ Modifiers: ${r.join(", ")}`),t.push("")),e.parameters&&e.parameters.length>0&&(t.push(""),t.push("### Parameters"),e.parameters.forEach(e=>{t.push(`- \`${e.name}\`: ${e.type}${e.optional?" (optional)":""}`)})),e.returnType&&(t.push(""),t.push("### Returns"),t.push(`\`${e.returnType}\``)),"component"===e.type&&(e.props&&e.props.length>0&&(t.push(""),t.push("### Props"),e.props.forEach(e=>{t.push(`- ${e}`)})),e.hooks&&e.hooks.length>0&&(t.push(""),t.push("### Hooks Used"),e.hooks.forEach(e=>{t.push(`- ${e}`)}))),e.sourceCode){t.push(""),t.push("📝 Code Preview:");const n=e.sourceCode.split("\n").slice(0,15);n.length>0&&(t.push("```"+e.language),t.push(n.join("\n")),e.sourceCode.split("\n").length>15&&t.push("// ... (truncated)"),t.push("```"))}return t.push(""),t.push("📋 Summary:"),t.push(this.generateSmartSummary(e)),t.join("\n")}generateSmartSummary(e){const t=[],n=this.analyzeFunctionPurpose(e);if("component"===e.type){if(t.push(n||`This React component renders the ${this.humanizeName(e.label)} interface.`),e.hooks&&e.hooks.length>0){const n=e.hooks.filter(e=>"useState"===e||"useReducer"===e),r=e.hooks.filter(e=>"useEffect"===e||"useLayoutEffect"===e);n.length>0&&t.push("It manages local state to track UI interactions and data."),r.length>0&&t.push("It performs side effects like data fetching or DOM updates when dependencies change.")}e.props&&e.props.length>0&&t.push(`The component is configurable through ${e.props.length} props that control its behavior and appearance.`)}else if("class"===e.type)t.push(n||`This class encapsulates ${this.humanizeName(e.label)} functionality, providing methods and properties for its domain operations.`);else if("function"===e.type||"method"===e.type){if(t.push(n||`This ${e.isAsync?"asynchronous ":""}${e.type} handles ${this.humanizeName(e.label)} operations.`),e.parameters&&e.parameters.length>0){const n=this.describeParameters(e.parameters);n&&t.push(n)}e.returnType&&"void"!==e.returnType&&t.push(this.describeReturnValue(e.returnType,e.label))}else"module"===e.type?t.push(n||"This module serves as the entry point, orchestrating the application initialization and component mounting."):t.push(n||`This ${e.type} implements ${this.humanizeName(e.label)} logic.`);if(e.sourceCode){const n=e.sourceCode,r=[];(n.includes("fetch(")||n.includes("axios")||n.includes("http"))&&r.push("Makes HTTP requests"),(n.includes("useState")||n.includes("setState"))&&r.push("Manages state"),(n.includes("useEffect")||n.includes("componentDidMount"))&&r.push("Has side effects/lifecycle"),(n.includes("async ")||n.includes("await ")||n.includes(".then("))&&r.push("Uses async operations"),n.includes("try")&&n.includes("catch")&&r.push("Has error handling"),(n.includes("localStorage")||n.includes("sessionStorage"))&&r.push("Uses browser storage"),(n.includes("dispatch")||n.includes("useReducer")||n.includes("Redux"))&&r.push("Uses state management"),r.length>0&&(t.push(""),t.push("🔍 Key patterns detected: "+r.join(", ")+"."))}return t.join(" ")}analyzeFunctionPurpose(e){if(!e.sourceCode)return"";const t=e.sourceCode,n=[];if((t.includes("fetch(")||t.includes("axios")||t.includes(".get(")||t.includes(".post("))&&(t.includes(".get(")||t.match(/fetch\([^,]+\)\s*(?!.*method)/)?n.push("fetches data from an external API or server"):t.includes(".post(")||t.includes("POST")?n.push("sends data to a server"):n.push("communicates with an API")),(t.includes("onSubmit")||t.includes("handleSubmit")||t.includes("form"))&&n.push("processes form submissions"),(t.includes("navigate")||t.includes("push(")||t.includes("router")||t.includes("redirect"))&&n.push("handles navigation between pages"),(t.includes(".map(")||t.includes(".filter(")||t.includes(".reduce("))&&n.push("transforms or filters data collections"),t.match(/valid|check|verify|assert|ensure/i)&&n.push("validates input data"),(t.includes("onClick")||t.includes("onChange")||t.includes("onPress")||t.includes("addEventListener"))&&n.push("responds to user interactions"),(t.includes("setState")||t.match(/set[A-Z]\w+\(/))&&n.push("updates application state"),t.includes(".map(")&&(t.includes("<")||t.includes("return"))&&n.push("renders a list of items"),t.match(/login|logout|auth|token|session|credential/i)&&n.push("handles user authentication"),t.includes("try")&&t.includes("catch")&&n.push("includes error handling for robust execution"),(t.includes("Provider")||t.includes("Context"))&&n.push("provides shared state or functionality to child components"),t.match(/modal|dialog|popup|overlay/i)&&n.push("manages a modal or dialog interface"),0===n.length)return"";const r=[...new Set(n)];if(1===r.length)return`This ${e.type} ${r[0]}.`;if(2===r.length)return`This ${e.type} ${r[0]} and ${r[1]}.`;{const t=r.pop();return`This ${e.type} ${r.join(", ")}, and ${t}.`}}describeParameters(e){if(0===e.length)return"";if(1===e.length){const t=e[0];return`It takes a ${t.type||"value"} parameter (${t.name}) as input.`}if(e.length<=3){const t=e.map(e=>`${e.name}${e.optional?" (optional)":""}`).join(", ");return`It accepts ${e.length} parameters: ${t}.`}return`It accepts ${e.length} parameters to configure its behavior.`}describeReturnValue(e,t){const n=e.toLowerCase();return n.includes("promise")?"It returns a Promise that resolves with the result of the async operation.":n.includes("boolean")||"bool"===n?"It returns a boolean indicating success or a condition check result.":n.includes("array")||n.includes("[]")?"It returns an array of processed results.":n.includes("string")?"It returns a string value as output.":n.includes("number")||"int"===n||"float"===n?"It returns a numeric result.":"void"===n||"undefined"===n?"":n.includes("jsx")||n.includes("element")||n.includes("react")?"It returns JSX elements for rendering.":`It returns a ${e} object.`}generateSignature(e){const t=[];if(e.visibility&&t.push(e.visibility),e.isStatic&&t.push("static"),e.isAsync&&t.push("async"),"function"===e.type||"method"===e.type?t.push("function"):"component"===e.type?t.push("const"):"class"===e.type&&t.push("class"),t.push(e.label),"class"!==e.type)if(e.parameters&&e.parameters.length>0){const n=e.parameters.map(e=>{let t=e.name;return e.optional&&(t+="?"),e.type&&(t+=`: ${e.type}`),e.defaultValue&&(t+=` = ${e.defaultValue}`),t}).join(", ");t.push(`(${n})`)}else t.push("()");return e.returnType&&t.push(`: ${e.returnType}`),t.join(" ")}generateProductManagerDoc(e){const t=[];return t.push(`## ${e.label}`),t.push(""),t.push("### What It Does"),t.push(this.extractBusinessPurpose(e)),t.push(""),t.push("### User Impact"),t.push(this.generateUserImpact(e)),t.push(""),t.push("### Features"),t.push(this.listFeatures(e)),t.join("\n")}generateArchitectDoc(e){const t=[];return t.push(`## ${e.label}`),t.push(""),t.push("### Architectural Role"),t.push(this.describeArchitecturalRole(e)),t.push(""),t.push("### Design Patterns"),t.push(this.identifyDesignPatterns(e)),t.push(""),t.push("### Architecture Considerations"),t.push(this.generateArchitectureNotes(e)),t.join("\n")}generateBusinessAnalystDoc(e){const t=[];return t.push(`## ${e.label}`),t.push(""),t.push("### Business Process"),t.push(this.describeBusinessProcess(e)),t.push(""),t.push("### Requirements Addressed"),t.push(this.listRequirements(e)),t.push(""),t.push("### Business Rules"),t.push(this.extractBusinessRules(e)),t.join("\n")}generateImplementationNotes(e){const t=[];return"class"===e.type?t.push("This class encapsulates related functionality and data."):"function"===e.type||"method"===e.type?t.push("This function performs a specific operation and returns a result."):"component"===e.type&&t.push("This React component renders UI elements and manages its state."),"java"===e.language?t.push("Written in Java, following object-oriented principles."):"typescript"!==e.language&&"javascript"!==e.language||t.push("Implemented using modern JavaScript/TypeScript features."),t.join(" ")}extractBusinessPurpose(e){return{class:`The ${e.label} class provides business logic for ${this.humanizeName(e.label)}.`,function:`This function enables ${this.humanizeName(e.label)} functionality.`,method:`This method handles ${this.humanizeName(e.label)} operations.`,component:`This component displays ${this.humanizeName(e.label)} to users.`}[e.type]||`This ${e.type} implements ${this.humanizeName(e.label)}.`}generateUserImpact(e){return"component"===e.type?`Users interact with this component as part of the user interface. It affects the user experience by providing ${this.humanizeName(e.label)} functionality.`:`This component indirectly impacts users by ensuring ${this.humanizeName(e.label)} works correctly.`}listFeatures(e){const t=[];return e.parameters&&e.parameters.length>0&&t.push(`- Accepts ${e.parameters.length} input parameter(s)`),e.returnType&&t.push(`- Returns ${e.returnType} data`),"component"===e.type&&e.props&&t.push(`- Configurable with ${e.props.length} prop(s)`),t.length>0?t.join("\n"):"- Core functionality implementation"}describeArchitecturalRole(e){return{class:"Serves as a reusable module encapsulating business logic and data structures.",component:"Acts as a UI layer component in the presentation tier.",function:"Provides a utility or service function used across the application.",method:"Implements specific behavior as part of a larger class structure."}[e.type]||"Contributes to the overall system architecture."}identifyDesignPatterns(e){const t=[];return e.label.includes("Factory")&&t.push("- **Factory Pattern**: Creates objects without specifying exact classes"),e.label.includes("Builder")&&t.push("- **Builder Pattern**: Constructs complex objects step by step"),e.label.includes("Singleton")&&t.push("- **Singleton Pattern**: Ensures single instance exists"),"component"===e.type&&e.label.includes("Provider")&&t.push("- **Provider Pattern**: Provides data/functionality to child components"),t.length>0?t.join("\n"):"- Standard implementation pattern"}generateArchitectureNotes(e){return`This ${e.type} follows ${e.language} best practices and integrates with the overall system architecture. It maintains separation of concerns and can be tested independently.`}describeBusinessProcess(e){return`This component is part of the ${this.humanizeName(e.label)} business process. It handles specific workflow steps that contribute to the overall business objective.`}listRequirements(e){return`- Implements ${this.humanizeName(e.label)} functionality as specified\n- Ensures data integrity and business rule compliance\n- Provides necessary inputs/outputs for the business process`}extractBusinessRules(e){return`Business rules are enforced through validation logic and constraints implemented in this ${e.type}. The implementation ensures compliance with business requirements.`}humanizeName(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim().toLowerCase()}}},75776:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationPanelReact=void 0;const o=a(n(91398)),c=n(75657),l=n(77623),u=a(n(16928));t.VisualizationPanelReact=class{panel;context;clineAdapter;ragService;docGenerator;graphBuilder;currentPersona="developer";currentAnalysis;disposables=[];webviewReady=!1;pendingMessages=[];_isDisposed=!1;_onDisposeCallback;constructor(e,t,n){this.context=e,this.clineAdapter=t,this.ragService=n,this.docGenerator=new c.DocumentationGenerator,this.graphBuilder=new l.GraphBuilder,this.createPanel()}createPanel(){this.panel=o.window.createWebviewPanel("codebaseVisualization","Codebase Visualization",o.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[o.Uri.joinPath(this.context.extensionUri,"dist")]}),this.panel.webview.html=this.getHtmlContent(),this.panel.webview.onDidReceiveMessage(e=>this.handleMessage(e),null,this.disposables),this.panel.onDidDispose(()=>this.dispose(),null,this.disposables)}async handleMessage(e){switch(e.command){case"webviewReady":console.log("Webview is ready, flushing pending messages..."),this.webviewReady=!0,this.pendingMessages.forEach(e=>{this.panel?.webview.postMessage(e)}),this.pendingMessages=[],this.sendCurrentBranchInfo(),await this.loadAndSendDocs();break;case"getGraph":this.currentAnalysis&&this.sendGraphData(),this.sendCurrentBranchInfo(),await this.loadAndSendDocs();break;case"getNodeDetails":case"nodeClicked":await this.handleNodeClick(e.nodeId);break;case"sendToCline":await this.handleSendToCline(e.nodeId,e.query);break;case"askQuestion":await this.handleAskQuestion(e.question);break;case"changePersona":await this.changePersona(e.persona);break;case"loadDocs":await this.loadAndSendDocs();break;case"openFile":await this.openFileAtLocation(e.filePath,e.line);break;case"generateDocs":await this.handleGenerateDocs(e.persona||"developer");break;case"viewDocsWithPersona":await this.handleViewDocsWithPersona(e.persona,e.codebaseSummary);break;case"configureApiKey":await this.handleConfigureApiKey();break;case"checkApiKey":this.sendApiKeyStatus();break;case"refreshGraph":break;case"syncChanges":await this.handleSyncChanges()}}sendApiKeyStatus(){const e=o.workspace.getConfiguration("codebaseVisualizer").get("litellm.apiKey")||process.env.OPENAI_API_KEY;this.panel?.webview.postMessage({command:"apiKeyStatus",configured:!!e})}async loadAndSendDocs(){try{const e=o.workspace.workspaceFolders;if(!e||0===e.length)return;const t=u.join(e[0].uri.fsPath,".doc_sync","docs.json"),r=await Promise.resolve().then(()=>a(n(79896)));if(r.existsSync(t)){const e=r.readFileSync(t,"utf8"),n=JSON.parse(e);console.log(`Loaded docs.json with ${Object.keys(n.nodes||{}).length} nodes`),this.panel?.webview.postMessage({command:"docsLoaded",docs:n})}}catch(e){console.error("Failed to load docs.json:",e)}}async handleConfigureApiKey(){const e=await o.window.showInputBox({prompt:"Enter your OpenAI/LiteLLM API Key",placeHolder:"sk-...",password:!0,ignoreFocusOut:!0});if(e){const t=o.workspace.getConfiguration("codebaseVisualizer");await t.update("litellm.apiKey",e,o.ConfigurationTarget.Global);const{getLiteLLMService:r}=await Promise.resolve().then(()=>a(n(99147)));r().reinitialize(),o.window.showInformationMessage("✅ API Key configured successfully! You can now generate AI-powered documentation."),this.sendApiKeyStatus()}}async handleViewDocsWithPersona(e,t){try{const{getLiteLLMService:r}=await Promise.resolve().then(()=>a(n(99147))),i=r();i.reinitialize();const s=o.workspace.workspaceFolders;if(s&&s.length>0&&!this.ragService){const{RAGService:e}=await Promise.resolve().then(()=>a(n(90875)));this.ragService=new e,await this.ragService.initialize(s[0].uri),console.log("RAG initialized from existing .doc_sync")}if(i.isReady()){const n=await i.generatePersonaOverview(t,e);this.panel?.webview.postMessage({command:"personaDocsReady",content:n,persona:e})}else this.panel?.webview.postMessage({command:"personaDocsError"}),o.window.showErrorMessage("API key required for View Docs. Please configure your API key.")}catch(e){console.error("Failed to generate persona docs:",e),this.panel?.webview.postMessage({command:"personaDocsError"}),o.window.showErrorMessage(`Failed to generate documentation: ${e}`)}}async handleGenerateDocs(e="developer"){if(this.currentAnalysis){this.panel?.webview.postMessage({command:"docsGenerationStarted"});try{const{getLiteLLMService:t}=await Promise.resolve().then(()=>a(n(99147)));t().reinitialize();const{CodebaseDocGenerator:r}=await Promise.resolve().then(()=>a(n(6185))),i=new r;if(!i.isLLMAvailable())return this.panel?.webview.postMessage({command:"docsGenerationError"}),void("Configure API Key"===await o.window.showErrorMessage("🔑 API Key Required: AI-powered documentation requires a valid API key. Please configure your OpenAI or LiteLLM API key to generate comprehensive, persona-specific documentation.","Configure API Key","Cancel")&&await this.handleConfigureApiKey());const s=o.workspace.workspaceFolders;if(!s||0===s.length)throw new Error("No workspace folder found");const c=await i.generateCodebaseDocs(this.currentAnalysis,s[0].uri,!0,e),l=u.join(s[0].uri.fsPath,".doc_sync","docs");this.panel?.webview.postMessage({command:"docsGenerationComplete",docsCount:c.components.length,usedAI:c.generatedWithLLM||c.generatedWithAgent,persona:e}),await this.loadAndSendDocs();const d=e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ");o.window.showInformationMessage(`✅ ${d} documentation generated for ${c.components.length} components! Click on any node to see detailed docs.`,"Open Docs Folder").then(e=>{if("Open Docs Folder"===e){const e=o.Uri.file(l);o.commands.executeCommand("revealInExplorer",e)}})}catch(e){console.error("Failed to generate documentation:",e),this.panel?.webview.postMessage({command:"docsGenerationError"}),o.window.showErrorMessage(`Failed to generate documentation: ${e instanceof Error?e.message:"Unknown error"}`)}}else o.window.showErrorMessage("No analysis data available. Please run analysis first.")}async handleSyncChanges(){if(this.currentAnalysis){this.panel?.webview.postMessage({command:"syncStarted"});try{const{getIncrementalUpdater:e}=await Promise.resolve().then(()=>a(n(563))),t=o.workspace.workspaceFolders;if(!t||0===t.length)throw new Error("No workspace folder found");const r=t[0].uri.fsPath,i=e();await i.initialize(r,this.currentAnalysis.graph);const s=await i.performIncrementalUpdate(this.currentAnalysis,(e,t)=>{console.log(`Sync progress: ${t}% - ${e}`)});if(s.nodesAdded>0||s.nodesModified>0||s.nodesRemoved>0){const e=i.getCurrentGraph();e&&this.currentAnalysis&&(this.currentAnalysis.graph=e,console.log(`Updated graph now has ${e.nodes.length} nodes and ${e.edges.length} edges`)),this.sendGraphData(),await this.regenerateDocsAfterSync(),o.window.showInformationMessage(`🔄 Synced: ${s.nodesAdded} added, ${s.nodesModified} modified, ${s.nodesRemoved} removed. Docs updated.`)}else o.window.showInformationMessage("✅ No changes detected. Graph is up to date.");this.panel?.webview.postMessage({command:"syncComplete",nodesAdded:s.nodesAdded,nodesModified:s.nodesModified,nodesRemoved:s.nodesRemoved,skippedFiles:s.skippedFiles})}catch(e){console.error("Failed to sync changes:",e),this.panel?.webview.postMessage({command:"syncError"}),o.window.showErrorMessage(`Failed to sync changes: ${e instanceof Error?e.message:"Unknown error"}`)}}else o.window.showErrorMessage("No analysis data available. Please run analysis first.")}async regenerateDocsAfterSync(){if(this.currentAnalysis)try{const{CodebaseDocGenerator:e}=await Promise.resolve().then(()=>a(n(6185))),t=new e,r=o.workspace.workspaceFolders;if(!r||0===r.length)return;const i=await t.generateCodebaseDocsWithAST(this.currentAnalysis,r[0].uri,!0);if(this.ragService){const e=t.generateRAGChunks(i);await this.ragService.indexDocuments(e),console.log("RAG re-indexed after sync:",e.length,"chunks")}console.log("Documentation regenerated after sync (AST-only)")}catch(e){console.error("Failed to regenerate docs after sync:",e)}}sendGraphData(){if(!this.currentAnalysis)return;const e=this.currentAnalysis.graph.nodes.map(e=>({id:e.id,label:e.label,type:e.type,filePath:e.filePath,description:"object"==typeof e.documentation?e.documentation.summary:e.documentation||"",parentId:e.parentId||this.findParentId(e),metadata:{lineStart:e.startLine,lineEnd:e.endLine,parameters:e.parameters?.map(e=>`${e.name}: ${e.type}`),returnType:e.returnType,docstring:"object"==typeof e.documentation?e.documentation.description:void 0,imports:[],exports:[]}})),t={nodes:e,edges:this.currentAnalysis.graph.edges.map(e=>({source:e.from,target:e.to,label:e.label,type:e.type}))};console.log("Sending graph data:",{nodes:t.nodes.length,edges:t.edges.length,nodesWithParent:e.filter(e=>e.parentId).length}),this.panel?.webview.postMessage({command:"loadGraph",data:t})}findParentId(e){if(this.currentAnalysis){if("method"===e.type||"function"===e.type){const t=this.currentAnalysis.graph.nodes.find(t=>("class"===t.type||"component"===t.type||"module"===t.type)&&t.filePath===e.filePath&&t.startLine<=e.startLine&&t.endLine>=e.endLine&&t.id!==e.id);return t?.id}if("class"===e.type||"component"===e.type){const t=this.currentAnalysis.graph.nodes.find(t=>"module"===t.type&&t.filePath===e.filePath);return t?.id}}}buildHierarchy(e){if(!this.currentAnalysis)return[];const t=[];let n=this.currentAnalysis.graph.nodes.find(t=>t.id===e);const r=new Set;for(;n;){const e=this.findParentId(n);if(!e||r.has(e))break;r.add(e);const i=this.currentAnalysis.graph.nodes.find(t=>t.id===e);if(!i)break;t.unshift(i.label),n=i}return t}async handleNodeClick(e){if(!this.currentAnalysis)return;const t=this.currentAnalysis.graph.nodes.find(t=>t.id===e);if(!t)return;const n=this.findParentId(t),r=n?this.currentAnalysis.graph.nodes.find(e=>e.id===n):void 0,i=this.buildHierarchy(e);let s;if(this.ragService)try{const n=await this.ragService.loadNodeDetails(e);if(n){const e=this.docGenerator.generateSignature(t);s={name:n.name,type:n.type,summary:n.summary||n.aiSummary,aiSummary:n.aiSummary||n.summary,description:n.description,details:n.technicalDetails||`File: ${n.relativePath}\nLines: ${n.startLine}-${n.endLine}\nLanguage: ${n.language}`,technicalDetails:n.technicalDetails,dependencies:n.dependencies||[],dependents:n.dependents||[],patterns:n.patterns||[],usageExamples:n.usageExamples||[],keywords:n.keywords||[],filePath:n.filePath||t.filePath,sourcePreview:e,sourceCode:n.sourceCode},console.log("Loaded node details from .doc_sync JSON:",n.name)}}catch(e){console.error("Failed to load node details from JSON:",e)}if(!s&&this.ragService)try{const e=await this.ragService.getComponentInfo(t.label);if(e){const n=this.docGenerator.generateSignature(t);s={name:e.name,type:e.type,summary:e.summary,aiSummary:e.summary,description:"",details:e.details,technicalDetails:e.details,dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns,usageExamples:[],keywords:[],filePath:e.filePath||t.filePath,sourcePreview:n}}}catch(e){console.error("RAG lookup failed:",e)}if(!s){const n=this.graphBuilder.getDependencies(this.currentAnalysis.graph,e),r=this.graphBuilder.getDependents(this.currentAnalysis.graph,e),i=this.docGenerator.generateForNode(t,this.currentPersona),a=this.docGenerator.generateSignature(t),o=this.detectPatterns(t.sourceCode);s={name:t.label,type:t.type,summary:i,aiSummary:i,description:t.documentation?.description||"",details:`File: ${u.basename(t.filePath)}\nLines: ${t.startLine}-${t.endLine}\nLanguage: ${t.language}`,technicalDetails:`File: ${u.basename(t.filePath)}\nLines: ${t.startLine}-${t.endLine}\nLanguage: ${t.language}`,dependencies:n.map(e=>e.label),dependents:r.map(e=>e.label),patterns:o,usageExamples:[],keywords:[],filePath:t.filePath,sourcePreview:a}}this.panel?.webview.postMessage({command:"nodeDetails",content:s.summary||s.details,description:s.summary,metadata:{lineStart:t.startLine,lineEnd:t.endLine,parameters:t.parameters,returnType:t.returnType,docstring:s.summary||t.documentation?.summary,aiSummary:s.aiSummary||s.summary,aiDescription:s.description,technicalDetails:s.technicalDetails||s.details,imports:s.dependencies,exports:s.dependents,patterns:s.patterns,usageExamples:s.usageExamples,keywords:s.keywords},parentId:n,parentLabel:r?.label,hierarchy:i})}detectPatterns(e){const t=[];return e?(e.includes("useState")&&t.push("State Management"),e.includes("useEffect")&&t.push("Side Effects"),(e.includes("fetch(")||e.includes("axios"))&&t.push("HTTP Requests"),e.includes("async ")&&e.includes("await ")&&t.push("Async/Await"),e.includes("try")&&e.includes("catch")&&t.push("Error Handling"),e.includes("useContext")&&t.push("Context API"),(e.includes("useRouter")||e.includes("useNavigate"))&&t.push("Routing"),t):t}async handleSendToCline(e,t){if(!this.currentAnalysis)return;const n=this.currentAnalysis.graph.nodes.find(t=>t.id===e);if(!n)return;if(!this.clineAdapter.isClineAvailable())return void o.window.showWarningMessage("Cline extension is not installed. Please install Cline (saoudrizwan.claude-dev) to use this feature.","Install Cline").then(e=>{"Install Cline"===e&&o.commands.executeCommand("workbench.extensions.search","saoudrizwan.claude-dev")});const r={nodeId:n.id,nodeName:n.label,nodeType:n.type,sourceCode:n.sourceCode,filePath:n.filePath,startLine:n.startLine,endLine:n.endLine,dependencies:this.graphBuilder.getDependencies(this.currentAnalysis.graph,e).map(e=>e.label),usedBy:this.graphBuilder.getDependents(this.currentAnalysis.graph,e).map(e=>e.label),query:t},i=await this.clineAdapter.sendModificationRequest(r);i.success?o.window.showInformationMessage(i.explanation||"Request copied to clipboard. Paste (Ctrl+V) in Cline to start!"):o.window.showErrorMessage(i.error||"Failed to send to Cline")}async handleAskQuestion(e){if(console.log("handleAskQuestion called with:",e),!this.ragService){console.log("RAG service not available, trying to initialize...");const e=o.workspace.workspaceFolders;if(e&&e.length>0)try{const{RAGService:t}=await Promise.resolve().then(()=>a(n(90875)));this.ragService=new t,await this.ragService.initialize(e[0].uri),console.log("RAG service initialized on-demand")}catch(e){console.error("Failed to initialize RAG service:",e)}if(!this.ragService)return void this.panel?.webview.postMessage({command:"questionAnswer",answer:'RAG service is not available. Please analyze the workspace first by running "Analyze Codebase" command.',relevantNodes:[],confidence:"low"})}try{console.log("Sending loading state..."),this.panel?.webview.postMessage({command:"questionLoading",loading:!0}),console.log("Searching local and external sources...");const{local:t,external:n}=await this.ragService.searchWithExternal(e,5);let r=[];if(t.length>0){r.push("## Current Project Results:\n");for(const e of t){const t=e.metadata?.name||"Unknown",n=e.metadata?.type||"unknown",i=e.metadata?.aiSummary||e.content?.substring(0,200)||"";r.push(`- **${t}** (${n}): ${i}\n`)}}for(const{source:e,results:t}of n)if(t.length>0){r.push(`\n## ${e} Results:\n`);for(const e of t.slice(0,5))r.push(`- **${e.name}** (${e.type}): ${e.summary||""}\n`)}console.log("Calling RAG service with context...");const i=await this.ragService.answerQuestion(e);let s=i.answer;n.length>0&&n.some(e=>e.results.length>0)&&(s+=`\n\n---\n*Also searched: ${n.filter(e=>e.results.length>0).map(e=>e.source).join(", ")}*`),console.log("RAG service returned:",i.answer?.substring(0,100)),this.panel?.webview.postMessage({command:"questionAnswer",answer:s,relevantNodes:i.relevantNodes,confidence:i.confidence,externalSources:n.filter(e=>e.results.length>0).map(e=>e.source)})}catch(e){console.error("Error answering question:",e),this.panel?.webview.postMessage({command:"questionAnswer",answer:"An error occurred while searching. Please try again.",relevantNodes:[],confidence:"low"})}}async changePersona(e){this.currentPersona=e,o.window.showInformationMessage(`Switched to ${e} persona`)}async openFileAtLocation(e,t){const n=o.Uri.file(e),r=await o.workspace.openTextDocument(n),i=await o.window.showTextDocument(r),s=new o.Position(Math.max(0,t-1),0);i.selection=new o.Selection(s,s),i.revealRange(new o.Range(s,s),o.TextEditorRevealType.InCenter)}updateGraph(e){this.currentAnalysis=e,console.log("Updating graph in webview:",{nodesCount:e.graph.nodes.length,edgesCount:e.graph.edges.length,sampleNode:e.graph.nodes[0]?.label}),this.webviewReady?(this.sendGraphData(),this.sendCurrentBranchInfo(),console.log("Graph data and branch info sent to webview")):console.log("Webview not ready yet, will send when getGraph is requested...")}show(){this.panel?.reveal()}updateRagService(e){this.ragService=e,console.log("RAG service updated on visualization panel")}get isDisposed(){return this._isDisposed}set onDispose(e){this._onDisposeCallback=e}dispose(){this._isDisposed=!0,this.panel?.dispose(),this.disposables.forEach(e=>e.dispose()),this.disposables=[],this.panel=void 0,this._onDisposeCallback&&this._onDisposeCallback()}notifyChangesDetected(e){!this._isDisposed&&this.panel&&this.panel.webview.postMessage({command:"changesDetected",count:e.length,files:e})}async reloadDocs(){!this._isDisposed&&this.panel&&await this.loadAndSendDocs()}async sendCurrentBranchInfo(){if(!this._isDisposed&&this.panel)try{const{getGitWatcher:e}=await Promise.resolve().then(()=>a(n(16640))),t=e(),r=await t.getCurrentBranch();this.panel.webview.postMessage({command:"branchSwitch",branch:r||"unknown"})}catch(e){console.log("Could not get current branch:",e)}}async notifyBranchSwitch(e){!this._isDisposed&&this.panel&&(this.branchSwitchDebounce&&clearTimeout(this.branchSwitchDebounce),this.branchSwitchDebounce=setTimeout(async()=>{this.panel?.webview.postMessage({command:"branchSwitch",branch:e});try{console.log(`Branch switched to ${e}, triggering re-analysis...`),await o.commands.executeCommand("codebase-visualizer.refreshVisualization")}catch(e){console.error("Failed to refresh after branch switch:",e)}},300))}branchSwitchDebounce;getHtmlContent(){const e=this.panel.webview.asWebviewUri(o.Uri.joinPath(this.context.extensionUri,"dist","webview.js"));return console.log("Webview script URI:",e.toString()),console.log("Extension URI:",this.context.extensionUri.toString()),`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Codebase Visualization</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n      background-color: #ffffff;\n      overflow: hidden;\n    }\n\n    #root {\n      width: 100%;\n      height: 100vh;\n      overflow: hidden;\n    }\n    \n    .loading-error {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n      color: #666;\n      font-size: 16px;\n    }\n  </style>\n</head>\n<body>\n  <div id="root">\n    <div class="loading-error">\n      <p>Loading visualization...</p>\n      <p style="font-size: 12px; margin-top: 8px; color: #999;">If this persists, check Developer Tools (Help → Toggle Developer Tools)</p>\n    </div>\n  </div>\n  <script>\n    console.log('Webview HTML loaded, attempting to load script...');\n    window.onerror = function(msg, url, line, col, error) {\n      console.error('Webview error:', msg, url, line, col, error);\n      document.getElementById('root').innerHTML = '<div class="loading-error"><p style="color: red;">Error loading: ' + msg + '</p></div>';\n      return false;\n    };\n  <\/script>\n  <script src="${e}" onerror="console.error('Failed to load webview.js from:', '${e}'); document.getElementById('root').innerHTML = '<div class=\\'loading-error\\'><p style=\\'color: red;\\'>Failed to load webview.js</p><p style=\\'font-size: 12px;\\'>Script: ${e}</p></div>';"><\/script>\n</body>\n</html>`}}},75911:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.default)()};const i=r(n(31637));e.exports=t.default},76020:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version={major:4,minor:2,patch:0}},76033:(e,t,n)=>{const r=n(52018),i=n(39023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),s=`  ${i};1m${r} [0m`;n[0]=s+n[0].split("\n").join("\n"+s),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(40736)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},76111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(73054)),a=n(73054);class o extends i.APIResource{constructor(){super(...arguments),this.completions=new s.Completions(this._client)}}t.Chat=o,o.Completions=a.Completions},76211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){return(0,r.default)(e,t,[{type:i?"CommentLine":"CommentBlock",value:n}])};var r=n(52598)},76271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassAccessorProperty=function(e){var t;this.printJoin(e.decorators);const n=null==(t=e.key.loc)||null==(t=t.end)?void 0:t.line;n&&this.catchUp(n),this.tsPrintClassMemberModifiers(e),this.word("accessor",!0),this.space(),e.computed?(this.tokenChar(91),this.print(e.key),this.tokenChar(93)):(this._variance(e),this.print(e.key)),e.optional&&this.tokenChar(63),e.definite&&this.tokenChar(33),this.print(e.typeAnnotation),e.value&&(this.space(),this.tokenChar(61),this.space(),this.print(e.value)),this.semicolon()},t.ClassBody=function(e){if(this.tokenChar(123),0===e.body.length)this.tokenChar(125);else{this.newline();const t=function(e,t){if(!e.tokenMap||null==t.start||null==t.end)return null;const n=e.tokenMap.getIndexes(t);if(!n)return null;let r=1,i=0,s=0;const a=()=>{for(;s<t.body.length&&null==t.body[s].start;)s++};return a(),o=>{s<=o&&(s=o+1,a());const c=s===t.body.length?t.end:t.body[s].start;let l;for(;r<n.length&&e.tokenMap.matchesOriginal(l=e._tokens[n[r]],";")&&l.start<c;)e.token(";",void 0,i++),r++}}(this,e);null==t||t(-1);const n=this.enterDelimited();this.printJoin(e.body,!0,!0,t,!0),n(),this.endsWith(10)||this.newline(),this.rightBrace(e)}},t.ClassExpression=t.ClassDeclaration=function(e,t){(i(t)||s(t))&&this._shouldPrintDecoratorsBeforeExport(t)||this.printJoin(e.decorators),e.declare&&(this.word("declare"),this.space()),e.abstract&&(this.word("abstract"),this.space()),this.word("class"),e.id&&(this.space(),this.print(e.id)),this.print(e.typeParameters),e.superClass&&(this.space(),this.word("extends"),this.space(),this.print(e.superClass),this.print(e.superTypeParameters)),e.implements&&(this.space(),this.word("implements"),this.space(),this.printList(e.implements)),this.space(),this.print(e.body)},t.ClassMethod=function(e){this._classMethodHead(e),this.space(),this.print(e.body)},t.ClassPrivateMethod=function(e){this._classMethodHead(e),this.space(),this.print(e.body)},t.ClassPrivateProperty=function(e){this.printJoin(e.decorators),this.tsPrintClassMemberModifiers(e),this.print(e.key),e.optional&&this.tokenChar(63),e.definite&&this.tokenChar(33),this.print(e.typeAnnotation),e.value&&(this.space(),this.tokenChar(61),this.space(),this.print(e.value)),this.semicolon()},t.ClassProperty=function(e){if(this.printJoin(e.decorators),!e.static&&!this.format.preserveFormat){var t;const n=null==(t=e.key.loc)||null==(t=t.end)?void 0:t.line;n&&this.catchUp(n)}this.tsPrintClassMemberModifiers(e),e.computed?(this.tokenChar(91),this.print(e.key),this.tokenChar(93)):(this._variance(e),this.print(e.key)),e.optional&&this.tokenChar(63),e.definite&&this.tokenChar(33),this.print(e.typeAnnotation),e.value&&(this.space(),this.tokenChar(61),this.space(),this.print(e.value)),this.semicolon()},t.StaticBlock=function(e){this.word("static"),this.space(),this.tokenChar(123),0===e.body.length?this.tokenChar(125):(this.newline(),this.printSequence(e.body,!0),this.rightBrace(e))},t._classMethodHead=function(e){if(this.printJoin(e.decorators),!this.format.preserveFormat){var t;const n=null==(t=e.key.loc)||null==(t=t.end)?void 0:t.line;n&&this.catchUp(n)}this.tsPrintClassMemberModifiers(e),this._methodHead(e)};var r=n(2352);const{isExportDefaultDeclaration:i,isExportNamedDeclaration:s}=r},76545:(e,t,n)=>{var r=n(56110)(n(9325),"Set");e.exports=r},76601:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JSONSchema=t.JSONSchemaGenerator=t.toJSONSchema=t.locales=t.regexes=t.util=void 0,s(n(98706),t),s(n(64084),t),s(n(24362),t),s(n(95341),t),s(n(32564),t),s(n(76020),t),t.util=a(n(90523)),t.regexes=a(n(91988)),t.locales=a(n(45167)),s(n(91114),t),s(n(87319),t),s(n(52405),t),s(n(70485),t);var o=n(86631);Object.defineProperty(t,"toJSONSchema",{enumerable:!0,get:function(){return o.toJSONSchema}});var c=n(93655);Object.defineProperty(t,"JSONSchemaGenerator",{enumerable:!0,get:function(){return c.JSONSchemaGenerator}}),t.JSONSchema=a(n(8359))},76666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=async function(e,t,n){if((0,i.checkFileSupport)(),e=await e,a(e))return e instanceof File?e:(0,r.makeFile)([await e.arrayBuffer()],e.name);if(o(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),(0,r.makeFile)(await c(i),t,n)}const s=await c(e);if(t||(t=(0,r.getName)(e)),!n?.type){const e=s.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n={...n,type:e})}return(0,r.makeFile)(s,t,n)};const r=n(12018),i=n(12018),s=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,a=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&s(e),o=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function c(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(s(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(0,r.isAsyncIterable)(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";return`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(", ")}]`}(e)}`)}for await(const n of e)t.push(...await c(n))}return t}},76750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnumDef=void 0,t.parseEnumDef=function(e){return{type:"string",enum:Array.from(e.values)}}},76779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXIdentifier=t.JSXFragment=t.JSXExpressionContainer=t.JSXEmptyExpression=t.JSXElement=t.JSXClosingFragment=t.JSXClosingElement=t.JSXAttribute=t.IntersectionTypeAnnotation=t.InterpreterDirective=t.InterfaceTypeAnnotation=t.InterfaceExtends=t.InterfaceDeclaration=t.InferredPredicate=t.IndexedAccessType=t.ImportSpecifier=t.ImportNamespaceSpecifier=t.ImportExpression=t.ImportDefaultSpecifier=t.ImportDeclaration=t.ImportAttribute=t.Import=t.IfStatement=t.Identifier=t.GenericTypeAnnotation=t.FunctionTypeParam=t.FunctionTypeAnnotation=t.FunctionExpression=t.FunctionDeclaration=t.ForStatement=t.ForOfStatement=t.ForInStatement=t.File=t.ExpressionStatement=t.ExportSpecifier=t.ExportNamespaceSpecifier=t.ExportNamedDeclaration=t.ExportDefaultSpecifier=t.ExportDefaultDeclaration=t.ExportAllDeclaration=t.ExistsTypeAnnotation=t.EnumSymbolBody=t.EnumStringMember=t.EnumStringBody=t.EnumNumberMember=t.EnumNumberBody=t.EnumDefaultedMember=t.EnumDeclaration=t.EnumBooleanMember=t.EnumBooleanBody=t.EmptyTypeAnnotation=t.EmptyStatement=t.DoWhileStatement=t.DoExpression=t.DirectiveLiteral=t.Directive=t.Decorator=t.DeclaredPredicate=t.DeclareVariable=t.DeclareTypeAlias=t.DeclareOpaqueType=t.DeclareModuleExports=t.DeclareModule=t.DeclareInterface=t.DeclareFunction=t.DeclareExportDeclaration=t.DeclareExportAllDeclaration=t.DeclareClass=t.DecimalLiteral=t.DebuggerStatement=t.ContinueStatement=t.ConditionalExpression=t.ClassProperty=t.ClassPrivateProperty=t.ClassPrivateMethod=t.ClassMethod=t.ClassImplements=t.ClassExpression=t.ClassDeclaration=t.ClassBody=t.ClassAccessorProperty=t.CatchClause=t.CallExpression=t.BreakStatement=t.BooleanTypeAnnotation=t.BooleanLiteralTypeAnnotation=t.BooleanLiteral=t.BlockStatement=t.BindExpression=t.BinaryExpression=t.BigIntLiteral=t.AwaitExpression=t.AssignmentPattern=t.AssignmentExpression=t.ArrowFunctionExpression=t.ArrayTypeAnnotation=t.ArrayPattern=t.ArrayExpression=t.ArgumentPlaceholder=t.AnyTypeAnnotation=void 0,t.TSNumberKeyword=t.TSNullKeyword=t.TSNonNullExpression=t.TSNeverKeyword=t.TSNamespaceExportDeclaration=t.TSNamedTupleMember=t.TSModuleDeclaration=t.TSModuleBlock=t.TSMethodSignature=t.TSMappedType=t.TSLiteralType=t.TSIntrinsicKeyword=t.TSIntersectionType=t.TSInterfaceDeclaration=t.TSInterfaceBody=t.TSInstantiationExpression=t.TSInferType=t.TSIndexedAccessType=t.TSIndexSignature=t.TSImportType=t.TSImportEqualsDeclaration=t.TSFunctionType=t.TSExternalModuleReference=t.TSExpressionWithTypeArguments=t.TSExportAssignment=t.TSEnumMember=t.TSEnumDeclaration=t.TSEnumBody=t.TSDeclareMethod=t.TSDeclareFunction=t.TSConstructorType=t.TSConstructSignatureDeclaration=t.TSConditionalType=t.TSCallSignatureDeclaration=t.TSBooleanKeyword=t.TSBigIntKeyword=t.TSAsExpression=t.TSArrayType=t.TSAnyKeyword=t.SymbolTypeAnnotation=t.SwitchStatement=t.SwitchCase=t.Super=t.StringTypeAnnotation=t.StringLiteralTypeAnnotation=t.StringLiteral=t.StaticBlock=t.SpreadProperty=t.SpreadElement=t.SequenceExpression=t.ReturnStatement=t.RestProperty=t.RestElement=t.RegexLiteral=t.RegExpLiteral=t.RecordExpression=t.QualifiedTypeIdentifier=t.Program=t.PrivateName=t.Placeholder=t.PipelineTopicExpression=t.PipelinePrimaryTopicReference=t.PipelineBareFunction=t.ParenthesizedExpression=t.OptionalMemberExpression=t.OptionalIndexedAccessType=t.OptionalCallExpression=t.OpaqueType=t.ObjectTypeSpreadProperty=t.ObjectTypeProperty=t.ObjectTypeInternalSlot=t.ObjectTypeIndexer=t.ObjectTypeCallProperty=t.ObjectTypeAnnotation=t.ObjectProperty=t.ObjectPattern=t.ObjectMethod=t.ObjectExpression=t.NumericLiteral=t.NumberTypeAnnotation=t.NumberLiteralTypeAnnotation=t.NumberLiteral=t.NullableTypeAnnotation=t.NullLiteralTypeAnnotation=t.NullLiteral=t.Noop=t.NewExpression=t.ModuleExpression=t.MixedTypeAnnotation=t.MetaProperty=t.MemberExpression=t.LogicalExpression=t.LabeledStatement=t.JSXText=t.JSXSpreadChild=t.JSXSpreadAttribute=t.JSXOpeningFragment=t.JSXOpeningElement=t.JSXNamespacedName=t.JSXMemberExpression=void 0,t.YieldExpression=t.WithStatement=t.WhileStatement=t.VoidTypeAnnotation=t.VoidPattern=t.Variance=t.VariableDeclarator=t.VariableDeclaration=t.V8IntrinsicIdentifier=t.UpdateExpression=t.UnionTypeAnnotation=t.UnaryExpression=t.TypeofTypeAnnotation=t.TypeParameterInstantiation=t.TypeParameterDeclaration=t.TypeParameter=t.TypeCastExpression=t.TypeAnnotation=t.TypeAlias=t.TupleTypeAnnotation=t.TupleExpression=t.TryStatement=t.TopicReference=t.ThrowStatement=t.ThisTypeAnnotation=t.ThisExpression=t.TemplateLiteral=t.TemplateElement=t.TaggedTemplateExpression=t.TSVoidKeyword=t.TSUnknownKeyword=t.TSUnionType=t.TSUndefinedKeyword=t.TSTypeReference=t.TSTypeQuery=t.TSTypePredicate=t.TSTypeParameterInstantiation=t.TSTypeParameterDeclaration=t.TSTypeParameter=t.TSTypeOperator=t.TSTypeLiteral=t.TSTypeAssertion=t.TSTypeAnnotation=t.TSTypeAliasDeclaration=t.TSTupleType=t.TSThisType=t.TSTemplateLiteralType=t.TSSymbolKeyword=t.TSStringKeyword=t.TSSatisfiesExpression=t.TSRestType=t.TSQualifiedName=t.TSPropertySignature=t.TSParenthesizedType=t.TSParameterProperty=t.TSOptionalType=t.TSObjectKeyword=void 0;var r=n(23286);function i(e){return r[e]}n(63762),t.ArrayExpression=i("arrayExpression"),t.AssignmentExpression=i("assignmentExpression"),t.BinaryExpression=i("binaryExpression"),t.InterpreterDirective=i("interpreterDirective"),t.Directive=i("directive"),t.DirectiveLiteral=i("directiveLiteral"),t.BlockStatement=i("blockStatement"),t.BreakStatement=i("breakStatement"),t.CallExpression=i("callExpression"),t.CatchClause=i("catchClause"),t.ConditionalExpression=i("conditionalExpression"),t.ContinueStatement=i("continueStatement"),t.DebuggerStatement=i("debuggerStatement"),t.DoWhileStatement=i("doWhileStatement"),t.EmptyStatement=i("emptyStatement"),t.ExpressionStatement=i("expressionStatement"),t.File=i("file"),t.ForInStatement=i("forInStatement"),t.ForStatement=i("forStatement"),t.FunctionDeclaration=i("functionDeclaration"),t.FunctionExpression=i("functionExpression"),t.Identifier=i("identifier"),t.IfStatement=i("ifStatement"),t.LabeledStatement=i("labeledStatement"),t.StringLiteral=i("stringLiteral"),t.NumericLiteral=i("numericLiteral"),t.NullLiteral=i("nullLiteral"),t.BooleanLiteral=i("booleanLiteral"),t.RegExpLiteral=i("regExpLiteral"),t.LogicalExpression=i("logicalExpression"),t.MemberExpression=i("memberExpression"),t.NewExpression=i("newExpression"),t.Program=i("program"),t.ObjectExpression=i("objectExpression"),t.ObjectMethod=i("objectMethod"),t.ObjectProperty=i("objectProperty"),t.RestElement=i("restElement"),t.ReturnStatement=i("returnStatement"),t.SequenceExpression=i("sequenceExpression"),t.ParenthesizedExpression=i("parenthesizedExpression"),t.SwitchCase=i("switchCase"),t.SwitchStatement=i("switchStatement"),t.ThisExpression=i("thisExpression"),t.ThrowStatement=i("throwStatement"),t.TryStatement=i("tryStatement"),t.UnaryExpression=i("unaryExpression"),t.UpdateExpression=i("updateExpression"),t.VariableDeclaration=i("variableDeclaration"),t.VariableDeclarator=i("variableDeclarator"),t.WhileStatement=i("whileStatement"),t.WithStatement=i("withStatement"),t.AssignmentPattern=i("assignmentPattern"),t.ArrayPattern=i("arrayPattern"),t.ArrowFunctionExpression=i("arrowFunctionExpression"),t.ClassBody=i("classBody"),t.ClassExpression=i("classExpression"),t.ClassDeclaration=i("classDeclaration"),t.ExportAllDeclaration=i("exportAllDeclaration"),t.ExportDefaultDeclaration=i("exportDefaultDeclaration"),t.ExportNamedDeclaration=i("exportNamedDeclaration"),t.ExportSpecifier=i("exportSpecifier"),t.ForOfStatement=i("forOfStatement"),t.ImportDeclaration=i("importDeclaration"),t.ImportDefaultSpecifier=i("importDefaultSpecifier"),t.ImportNamespaceSpecifier=i("importNamespaceSpecifier"),t.ImportSpecifier=i("importSpecifier"),t.ImportExpression=i("importExpression"),t.MetaProperty=i("metaProperty"),t.ClassMethod=i("classMethod"),t.ObjectPattern=i("objectPattern"),t.SpreadElement=i("spreadElement"),t.Super=i("super"),t.TaggedTemplateExpression=i("taggedTemplateExpression"),t.TemplateElement=i("templateElement"),t.TemplateLiteral=i("templateLiteral"),t.YieldExpression=i("yieldExpression"),t.AwaitExpression=i("awaitExpression"),t.Import=i("import"),t.BigIntLiteral=i("bigIntLiteral"),t.ExportNamespaceSpecifier=i("exportNamespaceSpecifier"),t.OptionalMemberExpression=i("optionalMemberExpression"),t.OptionalCallExpression=i("optionalCallExpression"),t.ClassProperty=i("classProperty"),t.ClassAccessorProperty=i("classAccessorProperty"),t.ClassPrivateProperty=i("classPrivateProperty"),t.ClassPrivateMethod=i("classPrivateMethod"),t.PrivateName=i("privateName"),t.StaticBlock=i("staticBlock"),t.ImportAttribute=i("importAttribute"),t.AnyTypeAnnotation=i("anyTypeAnnotation"),t.ArrayTypeAnnotation=i("arrayTypeAnnotation"),t.BooleanTypeAnnotation=i("booleanTypeAnnotation"),t.BooleanLiteralTypeAnnotation=i("booleanLiteralTypeAnnotation"),t.NullLiteralTypeAnnotation=i("nullLiteralTypeAnnotation"),t.ClassImplements=i("classImplements"),t.DeclareClass=i("declareClass"),t.DeclareFunction=i("declareFunction"),t.DeclareInterface=i("declareInterface"),t.DeclareModule=i("declareModule"),t.DeclareModuleExports=i("declareModuleExports"),t.DeclareTypeAlias=i("declareTypeAlias"),t.DeclareOpaqueType=i("declareOpaqueType"),t.DeclareVariable=i("declareVariable"),t.DeclareExportDeclaration=i("declareExportDeclaration"),t.DeclareExportAllDeclaration=i("declareExportAllDeclaration"),t.DeclaredPredicate=i("declaredPredicate"),t.ExistsTypeAnnotation=i("existsTypeAnnotation"),t.FunctionTypeAnnotation=i("functionTypeAnnotation"),t.FunctionTypeParam=i("functionTypeParam"),t.GenericTypeAnnotation=i("genericTypeAnnotation"),t.InferredPredicate=i("inferredPredicate"),t.InterfaceExtends=i("interfaceExtends"),t.InterfaceDeclaration=i("interfaceDeclaration"),t.InterfaceTypeAnnotation=i("interfaceTypeAnnotation"),t.IntersectionTypeAnnotation=i("intersectionTypeAnnotation"),t.MixedTypeAnnotation=i("mixedTypeAnnotation"),t.EmptyTypeAnnotation=i("emptyTypeAnnotation"),t.NullableTypeAnnotation=i("nullableTypeAnnotation"),t.NumberLiteralTypeAnnotation=i("numberLiteralTypeAnnotation"),t.NumberTypeAnnotation=i("numberTypeAnnotation"),t.ObjectTypeAnnotation=i("objectTypeAnnotation"),t.ObjectTypeInternalSlot=i("objectTypeInternalSlot"),t.ObjectTypeCallProperty=i("objectTypeCallProperty"),t.ObjectTypeIndexer=i("objectTypeIndexer"),t.ObjectTypeProperty=i("objectTypeProperty"),t.ObjectTypeSpreadProperty=i("objectTypeSpreadProperty"),t.OpaqueType=i("opaqueType"),t.QualifiedTypeIdentifier=i("qualifiedTypeIdentifier"),t.StringLiteralTypeAnnotation=i("stringLiteralTypeAnnotation"),t.StringTypeAnnotation=i("stringTypeAnnotation"),t.SymbolTypeAnnotation=i("symbolTypeAnnotation"),t.ThisTypeAnnotation=i("thisTypeAnnotation"),t.TupleTypeAnnotation=i("tupleTypeAnnotation"),t.TypeofTypeAnnotation=i("typeofTypeAnnotation"),t.TypeAlias=i("typeAlias"),t.TypeAnnotation=i("typeAnnotation"),t.TypeCastExpression=i("typeCastExpression"),t.TypeParameter=i("typeParameter"),t.TypeParameterDeclaration=i("typeParameterDeclaration"),t.TypeParameterInstantiation=i("typeParameterInstantiation"),t.UnionTypeAnnotation=i("unionTypeAnnotation"),t.Variance=i("variance"),t.VoidTypeAnnotation=i("voidTypeAnnotation"),t.EnumDeclaration=i("enumDeclaration"),t.EnumBooleanBody=i("enumBooleanBody"),t.EnumNumberBody=i("enumNumberBody"),t.EnumStringBody=i("enumStringBody"),t.EnumSymbolBody=i("enumSymbolBody"),t.EnumBooleanMember=i("enumBooleanMember"),t.EnumNumberMember=i("enumNumberMember"),t.EnumStringMember=i("enumStringMember"),t.EnumDefaultedMember=i("enumDefaultedMember"),t.IndexedAccessType=i("indexedAccessType"),t.OptionalIndexedAccessType=i("optionalIndexedAccessType"),t.JSXAttribute=i("jsxAttribute"),t.JSXClosingElement=i("jsxClosingElement"),t.JSXElement=i("jsxElement"),t.JSXEmptyExpression=i("jsxEmptyExpression"),t.JSXExpressionContainer=i("jsxExpressionContainer"),t.JSXSpreadChild=i("jsxSpreadChild"),t.JSXIdentifier=i("jsxIdentifier"),t.JSXMemberExpression=i("jsxMemberExpression"),t.JSXNamespacedName=i("jsxNamespacedName"),t.JSXOpeningElement=i("jsxOpeningElement"),t.JSXSpreadAttribute=i("jsxSpreadAttribute"),t.JSXText=i("jsxText"),t.JSXFragment=i("jsxFragment"),t.JSXOpeningFragment=i("jsxOpeningFragment"),t.JSXClosingFragment=i("jsxClosingFragment"),t.Noop=i("noop"),t.Placeholder=i("placeholder"),t.V8IntrinsicIdentifier=i("v8IntrinsicIdentifier"),t.ArgumentPlaceholder=i("argumentPlaceholder"),t.BindExpression=i("bindExpression"),t.Decorator=i("decorator"),t.DoExpression=i("doExpression"),t.ExportDefaultSpecifier=i("exportDefaultSpecifier"),t.RecordExpression=i("recordExpression"),t.TupleExpression=i("tupleExpression"),t.DecimalLiteral=i("decimalLiteral"),t.ModuleExpression=i("moduleExpression"),t.TopicReference=i("topicReference"),t.PipelineTopicExpression=i("pipelineTopicExpression"),t.PipelineBareFunction=i("pipelineBareFunction"),t.PipelinePrimaryTopicReference=i("pipelinePrimaryTopicReference"),t.VoidPattern=i("voidPattern"),t.TSParameterProperty=i("tsParameterProperty"),t.TSDeclareFunction=i("tsDeclareFunction"),t.TSDeclareMethod=i("tsDeclareMethod"),t.TSQualifiedName=i("tsQualifiedName"),t.TSCallSignatureDeclaration=i("tsCallSignatureDeclaration"),t.TSConstructSignatureDeclaration=i("tsConstructSignatureDeclaration"),t.TSPropertySignature=i("tsPropertySignature"),t.TSMethodSignature=i("tsMethodSignature"),t.TSIndexSignature=i("tsIndexSignature"),t.TSAnyKeyword=i("tsAnyKeyword"),t.TSBooleanKeyword=i("tsBooleanKeyword"),t.TSBigIntKeyword=i("tsBigIntKeyword"),t.TSIntrinsicKeyword=i("tsIntrinsicKeyword"),t.TSNeverKeyword=i("tsNeverKeyword"),t.TSNullKeyword=i("tsNullKeyword"),t.TSNumberKeyword=i("tsNumberKeyword"),t.TSObjectKeyword=i("tsObjectKeyword"),t.TSStringKeyword=i("tsStringKeyword"),t.TSSymbolKeyword=i("tsSymbolKeyword"),t.TSUndefinedKeyword=i("tsUndefinedKeyword"),t.TSUnknownKeyword=i("tsUnknownKeyword"),t.TSVoidKeyword=i("tsVoidKeyword"),t.TSThisType=i("tsThisType"),t.TSFunctionType=i("tsFunctionType"),t.TSConstructorType=i("tsConstructorType"),t.TSTypeReference=i("tsTypeReference"),t.TSTypePredicate=i("tsTypePredicate"),t.TSTypeQuery=i("tsTypeQuery"),t.TSTypeLiteral=i("tsTypeLiteral"),t.TSArrayType=i("tsArrayType"),t.TSTupleType=i("tsTupleType"),t.TSOptionalType=i("tsOptionalType"),t.TSRestType=i("tsRestType"),t.TSNamedTupleMember=i("tsNamedTupleMember"),t.TSUnionType=i("tsUnionType"),t.TSIntersectionType=i("tsIntersectionType"),t.TSConditionalType=i("tsConditionalType"),t.TSInferType=i("tsInferType"),t.TSParenthesizedType=i("tsParenthesizedType"),t.TSTypeOperator=i("tsTypeOperator"),t.TSIndexedAccessType=i("tsIndexedAccessType"),t.TSMappedType=i("tsMappedType"),t.TSTemplateLiteralType=i("tsTemplateLiteralType"),t.TSLiteralType=i("tsLiteralType"),t.TSExpressionWithTypeArguments=i("tsExpressionWithTypeArguments"),t.TSInterfaceDeclaration=i("tsInterfaceDeclaration"),t.TSInterfaceBody=i("tsInterfaceBody"),t.TSTypeAliasDeclaration=i("tsTypeAliasDeclaration"),t.TSInstantiationExpression=i("tsInstantiationExpression"),t.TSAsExpression=i("tsAsExpression"),t.TSSatisfiesExpression=i("tsSatisfiesExpression"),t.TSTypeAssertion=i("tsTypeAssertion"),t.TSEnumBody=i("tsEnumBody"),t.TSEnumDeclaration=i("tsEnumDeclaration"),t.TSEnumMember=i("tsEnumMember"),t.TSModuleDeclaration=i("tsModuleDeclaration"),t.TSModuleBlock=i("tsModuleBlock"),t.TSImportType=i("tsImportType"),t.TSImportEqualsDeclaration=i("tsImportEqualsDeclaration"),t.TSExternalModuleReference=i("tsExternalModuleReference"),t.TSNonNullExpression=i("tsNonNullExpression"),t.TSExportAssignment=i("tsExportAssignment"),t.TSNamespaceExportDeclaration=i("tsNamespaceExportDeclaration"),t.TSTypeAnnotation=i("tsTypeAnnotation"),t.TSTypeParameterInstantiation=i("tsTypeParameterInstantiation"),t.TSTypeParameterDeclaration=i("tsTypeParameterDeclaration"),t.TSTypeParameter=i("tsTypeParameter"),t.NumberLiteral=r.numberLiteral,t.RegexLiteral=r.regexLiteral,t.RestProperty=r.restProperty,t.SpreadProperty=r.spreadProperty},76972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(51980).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},76982:e=>{"use strict";e.exports=require("crypto")},77344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(66596),i=n(99048);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:s,schemaPath:a,errSchemaPath:o,topSchemaRef:c}){if(void 0!==t&&void 0!==s)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const s=e.schema[t];return void 0===n?{schema:s,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(n)}`}}if(void 0!==s){if(void 0===a||void 0===o||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:a,topSchemaRef:c,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:s,data:a,dataTypes:o,propertyName:c}){if(void 0!==a&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(void 0!==n){const{errorPath:a,dataPathArr:o,opts:c}=t;u(l.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${a}${(0,i.getErrorPath)(n,s,c.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...o,e.parentDataProperty]}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==a&&(u(a instanceof r.Name?a:l.let("data",a,!0)),void 0!==c&&(e.propertyName=c)),o&&(e.dataTypes=o)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){void 0!==r&&(e.compositeRule=r),void 0!==i&&(e.createErrors=i),void 0!==s&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}},77533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Protocol=t.DEFAULT_REQUEST_TIMEOUT_MSEC=void 0,t.mergeCapabilities=function(e,t){const n={...e};for(const e in t){const r=e,i=t[r];if(void 0===i)continue;const s=n[r];o(s)&&o(i)?n[r]={...s,...i}:n[r]=i}return n};const r=n(49029),i=n(1294),s=n(58847),a=n(17472);function o(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}t.DEFAULT_REQUEST_TIMEOUT_MSEC=6e4,t.Protocol=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(i.CancelledNotificationSchema,e=>{this._oncancel(e)}),this.setNotificationHandler(i.ProgressNotificationSchema,e=>{this._onprogress(e)}),this.setRequestHandler(i.PingRequestSchema,e=>({})),this._taskStore=null==e?void 0:e.taskStore,this._taskMessageQueue=null==e?void 0:e.taskMessageQueue,this._taskStore&&(this.setRequestHandler(i.GetTaskRequestSchema,async(e,t)=>{const n=await this._taskStore.getTask(e.params.taskId,t.sessionId);if(!n)throw new i.McpError(i.ErrorCode.InvalidParams,"Failed to retrieve task: Task not found");return{...n}}),this.setRequestHandler(i.GetTaskPayloadRequestSchema,async(e,t)=>{const n=async()=>{var r;const a=e.params.taskId;if(this._taskMessageQueue){let e;for(;e=await this._taskMessageQueue.dequeue(a,t.sessionId);){if("response"===e.type||"error"===e.type){const t=e.message,n=t.id,r=this._requestResolvers.get(n);if(r)if(this._requestResolvers.delete(n),"response"===e.type)r(t);else{const e=t;r(new i.McpError(e.error.code,e.error.message,e.error.data))}else{const t="response"===e.type?"Response":"Error";this._onerror(new Error(`${t} handler missing for request ${n}`))}continue}await(null===(r=this._transport)||void 0===r?void 0:r.send(e.message,{relatedRequestId:t.requestId}))}}const o=await this._taskStore.getTask(a,t.sessionId);if(!o)throw new i.McpError(i.ErrorCode.InvalidParams,`Task not found: ${a}`);if(!(0,s.isTerminal)(o.status))return await this._waitForTaskUpdate(a,t.signal),await n();if((0,s.isTerminal)(o.status)){const e=await this._taskStore.getTaskResult(a,t.sessionId);return this._clearTaskQueue(a),{...e,_meta:{...e._meta,[i.RELATED_TASK_META_KEY]:{taskId:a}}}}return await n()};return await n()}),this.setRequestHandler(i.ListTasksRequestSchema,async(e,t)=>{var n;try{const{tasks:r,nextCursor:i}=await this._taskStore.listTasks(null===(n=e.params)||void 0===n?void 0:n.cursor,t.sessionId);return{tasks:r,nextCursor:i,_meta:{}}}catch(e){throw new i.McpError(i.ErrorCode.InvalidParams,`Failed to list tasks: ${e instanceof Error?e.message:String(e)}`)}}),this.setRequestHandler(i.CancelTaskRequestSchema,async(e,t)=>{try{const n=await this._taskStore.getTask(e.params.taskId,t.sessionId);if(!n)throw new i.McpError(i.ErrorCode.InvalidParams,`Task not found: ${e.params.taskId}`);if((0,s.isTerminal)(n.status))throw new i.McpError(i.ErrorCode.InvalidParams,`Cannot cancel task in terminal status: ${n.status}`);await this._taskStore.updateTaskStatus(e.params.taskId,"cancelled","Client cancelled task execution.",t.sessionId),this._clearTaskQueue(e.params.taskId);const r=await this._taskStore.getTask(e.params.taskId,t.sessionId);if(!r)throw new i.McpError(i.ErrorCode.InvalidParams,`Task not found after cancellation: ${e.params.taskId}`);return{_meta:{},...r}}catch(e){if(e instanceof i.McpError)throw e;throw new i.McpError(i.ErrorCode.InvalidRequest,`Failed to cancel task: ${e instanceof Error?e.message:String(e)}`)}}))}async _oncancel(e){const t=this._requestHandlerAbortControllers.get(e.params.requestId);null==t||t.abort(e.params.reason)}_setupTimeout(e,t,n,r,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(r,t),startTime:Date.now(),timeout:t,maxTotalTimeout:n,resetTimeoutOnProgress:i,onTimeout:r})}_resetTimeout(e){const t=this._timeoutInfo.get(e);if(!t)return!1;const n=Date.now()-t.startTime;if(t.maxTotalTimeout&&n>=t.maxTotalTimeout)throw this._timeoutInfo.delete(e),i.McpError.fromError(i.ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:t.maxTotalTimeout,totalElapsed:n});return clearTimeout(t.timeoutId),t.timeoutId=setTimeout(t.onTimeout,t.timeout),!0}_cleanupTimeout(e){const t=this._timeoutInfo.get(e);t&&(clearTimeout(t.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var t,n,r;this._transport=e;const s=null===(t=this.transport)||void 0===t?void 0:t.onclose;this._transport.onclose=()=>{null==s||s(),this._onclose()};const a=null===(n=this.transport)||void 0===n?void 0:n.onerror;this._transport.onerror=e=>{null==a||a(e),this._onerror(e)};const o=null===(r=this._transport)||void 0===r?void 0:r.onmessage;this._transport.onmessage=(e,t)=>{null==o||o(e,t),(0,i.isJSONRPCResponse)(e)||(0,i.isJSONRPCError)(e)?this._onresponse(e):(0,i.isJSONRPCRequest)(e)?this._onrequest(e,t):(0,i.isJSONRPCNotification)(e)?this._onnotification(e):this._onerror(new Error(`Unknown message type: ${JSON.stringify(e)}`))},await this._transport.start()}_onclose(){var e;const t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();const n=i.McpError.fromError(i.ErrorCode.ConnectionClosed,"Connection closed");this._transport=void 0,null===(e=this.onclose)||void 0===e||e.call(this);for(const e of t.values())e(n)}_onerror(e){var t;null===(t=this.onerror)||void 0===t||t.call(this,e)}_onnotification(e){var t;const n=null!==(t=this._notificationHandlers.get(e.method))&&void 0!==t?t:this.fallbackNotificationHandler;void 0!==n&&Promise.resolve().then(()=>n(e)).catch(e=>this._onerror(new Error(`Uncaught error in notification handler: ${e}`)))}_onrequest(e,t){var n,r,s,a,o,c;const l=null!==(n=this._requestHandlers.get(e.method))&&void 0!==n?n:this.fallbackRequestHandler,u=this._transport,d=null===(a=null===(s=null===(r=e.params)||void 0===r?void 0:r._meta)||void 0===s?void 0:s[i.RELATED_TASK_META_KEY])||void 0===a?void 0:a.taskId;if(void 0===l){const t={jsonrpc:"2.0",id:e.id,error:{code:i.ErrorCode.MethodNotFound,message:"Method not found"}};return void(d&&this._taskMessageQueue?this._enqueueTaskMessage(d,{type:"error",message:t,timestamp:Date.now()},null==u?void 0:u.sessionId).catch(e=>this._onerror(new Error(`Failed to enqueue error response: ${e}`))):null==u||u.send(t).catch(e=>this._onerror(new Error(`Failed to send an error response: ${e}`))))}const p=new AbortController;this._requestHandlerAbortControllers.set(e.id,p);const h=null===(o=e.params)||void 0===o?void 0:o.task,f=this._taskStore?this.requestTaskStore(e,null==u?void 0:u.sessionId):void 0,m={signal:p.signal,sessionId:null==u?void 0:u.sessionId,_meta:null===(c=e.params)||void 0===c?void 0:c._meta,sendNotification:async t=>{const n={relatedRequestId:e.id};d&&(n.relatedTask={taskId:d}),await this.notification(t,n)},sendRequest:async(t,n,r)=>{var i,s;const a={...r,relatedRequestId:e.id};d&&!a.relatedTask&&(a.relatedTask={taskId:d});const o=null!==(s=null===(i=a.relatedTask)||void 0===i?void 0:i.taskId)&&void 0!==s?s:d;return o&&f&&await f.updateTaskStatus(o,"input_required"),await this.request(t,n,a)},authInfo:null==t?void 0:t.authInfo,requestId:e.id,requestInfo:null==t?void 0:t.requestInfo,taskId:d,taskStore:f,taskRequestedTtl:null==h?void 0:h.ttl,closeSSEStream:null==t?void 0:t.closeSSEStream,closeStandaloneSSEStream:null==t?void 0:t.closeStandaloneSSEStream};Promise.resolve().then(()=>{h&&this.assertTaskHandlerCapability(e.method)}).then(()=>l(e,m)).then(async t=>{if(p.signal.aborted)return;const n={result:t,jsonrpc:"2.0",id:e.id};d&&this._taskMessageQueue?await this._enqueueTaskMessage(d,{type:"response",message:n,timestamp:Date.now()},null==u?void 0:u.sessionId):await(null==u?void 0:u.send(n))},async t=>{var n;if(p.signal.aborted)return;const r={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(t.code)?t.code:i.ErrorCode.InternalError,message:null!==(n=t.message)&&void 0!==n?n:"Internal error",...void 0!==t.data&&{data:t.data}}};d&&this._taskMessageQueue?await this._enqueueTaskMessage(d,{type:"error",message:r,timestamp:Date.now()},null==u?void 0:u.sessionId):await(null==u?void 0:u.send(r))}).catch(e=>this._onerror(new Error(`Failed to send response: ${e}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){const{progressToken:t,...n}=e.params,r=Number(t),i=this._progressHandlers.get(r);if(!i)return void this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));const s=this._responseHandlers.get(r),a=this._timeoutInfo.get(r);if(a&&s&&a.resetTimeoutOnProgress)try{this._resetTimeout(r)}catch(e){return this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),void s(e)}i(n)}_onresponse(e){const t=Number(e.id),n=this._requestResolvers.get(t);if(n)return this._requestResolvers.delete(t),void((0,i.isJSONRPCResponse)(e)?n(e):n(new i.McpError(e.error.code,e.error.message,e.error.data)));const r=this._responseHandlers.get(t);if(void 0===r)return void this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));this._responseHandlers.delete(t),this._cleanupTimeout(t);let s=!1;if((0,i.isJSONRPCResponse)(e)&&e.result&&"object"==typeof e.result){const n=e.result;if(n.task&&"object"==typeof n.task){const e=n.task;"string"==typeof e.taskId&&(s=!0,this._taskProgressTokens.set(e.taskId,t))}}s||this._progressHandlers.delete(t),(0,i.isJSONRPCResponse)(e)?r(e):r(i.McpError.fromError(e.error.code,e.error.message,e.error.data))}get transport(){return this._transport}async close(){var e;await(null===(e=this._transport)||void 0===e?void 0:e.close())}async*requestStream(e,t,n){var r,a,o,c;const{task:l}=null!=n?n:{};if(!l){try{const r=await this.request(e,t,n);yield{type:"result",result:r}}catch(e){yield{type:"error",error:e instanceof i.McpError?e:new i.McpError(i.ErrorCode.InternalError,String(e))}}return}let u;try{const l=await this.request(e,i.CreateTaskResultSchema,n);if(!l.task)throw new i.McpError(i.ErrorCode.InternalError,"Task creation did not return a task");for(u=l.task.taskId,yield{type:"taskCreated",task:l.task};;){const e=await this.getTask({taskId:u},n);if(yield{type:"taskStatus",task:e},(0,s.isTerminal)(e.status)){if("completed"===e.status){const e=await this.getTaskResult({taskId:u},t,n);yield{type:"result",result:e}}else"failed"===e.status?yield{type:"error",error:new i.McpError(i.ErrorCode.InternalError,`Task ${u} failed`)}:"cancelled"===e.status&&(yield{type:"error",error:new i.McpError(i.ErrorCode.InternalError,`Task ${u} was cancelled`)});return}if("input_required"===e.status){const e=await this.getTaskResult({taskId:u},t,n);return void(yield{type:"result",result:e})}const l=null!==(o=null!==(r=e.pollInterval)&&void 0!==r?r:null===(a=this._options)||void 0===a?void 0:a.defaultTaskPollInterval)&&void 0!==o?o:1e3;await new Promise(e=>setTimeout(e,l)),null===(c=null==n?void 0:n.signal)||void 0===c||c.throwIfAborted()}}catch(e){yield{type:"error",error:e instanceof i.McpError?e:new i.McpError(i.ErrorCode.InternalError,String(e))}}}request(e,n,s){const{relatedRequestId:a,resumptionToken:o,onresumptiontoken:c,task:l,relatedTask:u}=null!=s?s:{};return new Promise((d,p)=>{var h,f,m,y,g,v,b;const S=e=>{p(e)};if(!this._transport)return void S(new Error("Not connected"));if(!0===(null===(h=this._options)||void 0===h?void 0:h.enforceStrictCapabilities))try{this.assertCapabilityForMethod(e.method),l&&this.assertTaskCapability(e.method)}catch(e){return void S(e)}null===(f=null==s?void 0:s.signal)||void 0===f||f.throwIfAborted();const T=this._requestMessageId++,_={...e,jsonrpc:"2.0",id:T};(null==s?void 0:s.onprogress)&&(this._progressHandlers.set(T,s.onprogress),_.params={...e.params,_meta:{...(null===(m=e.params)||void 0===m?void 0:m._meta)||{},progressToken:T}}),l&&(_.params={..._.params,task:l}),u&&(_.params={..._.params,_meta:{...(null===(y=_.params)||void 0===y?void 0:y._meta)||{},[i.RELATED_TASK_META_KEY]:u}});const P=e=>{var t;this._responseHandlers.delete(T),this._progressHandlers.delete(T),this._cleanupTimeout(T),null===(t=this._transport)||void 0===t||t.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:T,reason:String(e)}},{relatedRequestId:a,resumptionToken:o,onresumptiontoken:c}).catch(e=>this._onerror(new Error(`Failed to send cancellation: ${e}`)));const n=e instanceof i.McpError?e:new i.McpError(i.ErrorCode.RequestTimeout,String(e));p(n)};this._responseHandlers.set(T,e=>{var t;if(!(null===(t=null==s?void 0:s.signal)||void 0===t?void 0:t.aborted)){if(e instanceof Error)return p(e);try{const t=(0,r.safeParse)(n,e.result);t.success?d(t.data):p(t.error)}catch(e){p(e)}}}),null===(g=null==s?void 0:s.signal)||void 0===g||g.addEventListener("abort",()=>{var e;P(null===(e=null==s?void 0:s.signal)||void 0===e?void 0:e.reason)});const E=null!==(v=null==s?void 0:s.timeout)&&void 0!==v?v:t.DEFAULT_REQUEST_TIMEOUT_MSEC;this._setupTimeout(T,E,null==s?void 0:s.maxTotalTimeout,()=>P(i.McpError.fromError(i.ErrorCode.RequestTimeout,"Request timed out",{timeout:E})),null!==(b=null==s?void 0:s.resetTimeoutOnProgress)&&void 0!==b&&b);const x=null==u?void 0:u.taskId;if(x){const e=e=>{const t=this._responseHandlers.get(T);t?t(e):this._onerror(new Error(`Response handler missing for side-channeled request ${T}`))};this._requestResolvers.set(T,e),this._enqueueTaskMessage(x,{type:"request",message:_,timestamp:Date.now()}).catch(e=>{this._cleanupTimeout(T),p(e)})}else this._transport.send(_,{relatedRequestId:a,resumptionToken:o,onresumptiontoken:c}).catch(e=>{this._cleanupTimeout(T),p(e)})})}async getTask(e,t){return this.request({method:"tasks/get",params:e},i.GetTaskResultSchema,t)}async getTaskResult(e,t,n){return this.request({method:"tasks/result",params:e},t,n)}async listTasks(e,t){return this.request({method:"tasks/list",params:e},i.ListTasksResultSchema,t)}async cancelTask(e,t){return this.request({method:"tasks/cancel",params:e},i.CancelTaskResultSchema,t)}async notification(e,t){var n,r,s,a,o;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);const c=null===(n=null==t?void 0:t.relatedTask)||void 0===n?void 0:n.taskId;if(c){const n={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...(null===(r=e.params)||void 0===r?void 0:r._meta)||{},[i.RELATED_TASK_META_KEY]:t.relatedTask}}};return void await this._enqueueTaskMessage(c,{type:"notification",message:n,timestamp:Date.now()})}if((null!==(a=null===(s=this._options)||void 0===s?void 0:s.debouncedNotificationMethods)&&void 0!==a?a:[]).includes(e.method)&&!e.params&&!(null==t?void 0:t.relatedRequestId)&&!(null==t?void 0:t.relatedTask)){if(this._pendingDebouncedNotifications.has(e.method))return;return this._pendingDebouncedNotifications.add(e.method),void Promise.resolve().then(()=>{var n,r;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let s={...e,jsonrpc:"2.0"};(null==t?void 0:t.relatedTask)&&(s={...s,params:{...s.params,_meta:{...(null===(n=s.params)||void 0===n?void 0:n._meta)||{},[i.RELATED_TASK_META_KEY]:t.relatedTask}}}),null===(r=this._transport)||void 0===r||r.send(s,t).catch(e=>this._onerror(e))})}let l={...e,jsonrpc:"2.0"};(null==t?void 0:t.relatedTask)&&(l={...l,params:{...l.params,_meta:{...(null===(o=l.params)||void 0===o?void 0:o._meta)||{},[i.RELATED_TASK_META_KEY]:t.relatedTask}}}),await this._transport.send(l,t)}setRequestHandler(e,t){const n=(0,a.getMethodLiteral)(e);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(n,r)=>{const i=(0,a.parseWithCompat)(e,n);return Promise.resolve(t(i,r))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,t){const n=(0,a.getMethodLiteral)(e);this._notificationHandlers.set(n,n=>{const r=(0,a.parseWithCompat)(e,n);return Promise.resolve(t(r))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){const t=this._taskProgressTokens.get(e);void 0!==t&&(this._progressHandlers.delete(t),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,t,n){var r;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const i=null===(r=this._options)||void 0===r?void 0:r.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,t,n,i)}async _clearTaskQueue(e,t){if(this._taskMessageQueue){const n=await this._taskMessageQueue.dequeueAll(e,t);for(const t of n)if("request"===t.type&&(0,i.isJSONRPCRequest)(t.message)){const n=t.message.id,r=this._requestResolvers.get(n);r?(r(new i.McpError(i.ErrorCode.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(n)):this._onerror(new Error(`Resolver missing for request ${n} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,t){var n,r,s;let a=null!==(r=null===(n=this._options)||void 0===n?void 0:n.defaultTaskPollInterval)&&void 0!==r?r:1e3;try{const t=await(null===(s=this._taskStore)||void 0===s?void 0:s.getTask(e));(null==t?void 0:t.pollInterval)&&(a=t.pollInterval)}catch(e){}return new Promise((e,n)=>{if(t.aborted)return void n(new i.McpError(i.ErrorCode.InvalidRequest,"Request cancelled"));const r=setTimeout(e,a);t.addEventListener("abort",()=>{clearTimeout(r),n(new i.McpError(i.ErrorCode.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,t){const n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async r=>{if(!e)throw new Error("No request provided");return await n.createTask(r,e.id,{method:e.method,params:e.params},t)},getTask:async e=>{const r=await n.getTask(e,t);if(!r)throw new i.McpError(i.ErrorCode.InvalidParams,"Failed to retrieve task: Task not found");return r},storeTaskResult:async(e,r,a)=>{await n.storeTaskResult(e,r,a,t);const o=await n.getTask(e,t);if(o){const t=i.TaskStatusNotificationSchema.parse({method:"notifications/tasks/status",params:o});await this.notification(t),(0,s.isTerminal)(o.status)&&this._cleanupTaskProgressHandler(e)}},getTaskResult:e=>n.getTaskResult(e,t),updateTaskStatus:async(e,r,a)=>{const o=await n.getTask(e,t);if(!o)throw new i.McpError(i.ErrorCode.InvalidParams,`Task "${e}" not found - it may have been cleaned up`);if((0,s.isTerminal)(o.status))throw new i.McpError(i.ErrorCode.InvalidParams,`Cannot update task "${e}" from terminal status "${o.status}" to "${r}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(e,r,a,t);const c=await n.getTask(e,t);if(c){const t=i.TaskStatusNotificationSchema.parse({method:"notifications/tasks/status",params:c});await this.notification(t),(0,s.isTerminal)(c.status)&&this._cleanupTaskProgressHandler(e)}},listTasks:e=>n.listTasks(e,t)}}}},77556:(e,t,n)=>{var r=n(51873),i=n(34932),s=n(56449),a=n(44394),o=r?r.prototype:void 0,c=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},77596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allExpandedTypes=t.VISITOR_KEYS=t.NODE_UNION_SHAPES__PRIVATE=t.NODE_PARENT_VALIDATIONS=t.NODE_FIELDS=t.FLIPPED_ALIAS_KEYS=t.DEPRECATED_KEYS=t.BUILDER_KEYS=t.ALIAS_KEYS=void 0,t.arrayOf=m,t.arrayOfType=y,t.assertEach=g,t.assertNodeOrValueType=function(...e){function t(t,n,s){const a=h(s);for(const o of e)if(a===o||(0,r.default)(o,s))return void(0,i.validateChild)(t,n,s);throw new TypeError(`Property ${n} of ${t.type} expected node to be of a type ${JSON.stringify(e)} but instead got ${JSON.stringify(null==s?void 0:s.type)}`)}return t.oneOfNodeOrValueTypes=e,t},t.assertNodeType=b,t.assertOneOf=function(...e){function t(t,n,r){if(!e.includes(r))throw new TypeError(`Property ${n} expected value to be one of ${JSON.stringify(e)} but got ${JSON.stringify(r)}`)}return t.oneOf=e,t},t.assertOptionalChainStart=function(){return function(e){var t;let n=e;for(;e;){const{type:e}=n;if("OptionalCallExpression"!==e){if("OptionalMemberExpression"!==e)break;if(n.optional)return;n=n.object}else{if(n.optional)return;n=n.callee}}throw new TypeError(`Non-optional ${e.type} must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from ${null==(t=n)?void 0:t.type}`)}},t.assertShape=function(e){const t=Object.keys(e);function n(n,r,s){const a=[];for(const r of t)try{(0,i.validateField)(n,r,s[r],e[r])}catch(e){if(e instanceof TypeError){a.push(e.message);continue}throw e}if(a.length)throw new TypeError(`Property ${r} of ${n.type} expected to have the following:\n${a.join("\n")}`)}return n.shapeOf=e,n},t.assertValueType=S,t.chain=T,t.default=x,t.defineAliasedType=function(...e){return(t,n={})=>{let r=n.aliases;var i;r||(n.inherits&&(r=null==(i=E[n.inherits].aliases)?void 0:i.slice()),null!=r||(r=[]),n.aliases=r);const s=e.filter(e=>!r.includes(e));r.unshift(...s),x(t,n)}},t.validate=f,t.validateArrayOfType=function(...e){return f(y(...e))},t.validateOptional=function(e){return{validate:e,optional:!0}},t.validateOptionalType=function(...e){return{validate:b(...e),optional:!0}},t.validateType=function(...e){return f(b(...e))};var r=n(93828),i=n(57446);const s=t.VISITOR_KEYS={},a=t.ALIAS_KEYS={},o=t.FLIPPED_ALIAS_KEYS={},c=t.NODE_FIELDS={},l=t.BUILDER_KEYS={},u=t.DEPRECATED_KEYS={},d=t.NODE_PARENT_VALIDATIONS={},p=t.NODE_UNION_SHAPES__PRIVATE={};function h(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function f(e){return{validate:e}}function m(e){return T(S("array"),g(e))}function y(...e){return m(b(...e))}function g(e){const t=process.env.BABEL_TYPES_8_BREAKING?i.validateChild:()=>{};function n(n,r,i){if(!Array.isArray(i))return;let s=0;const a={toString:()=>`${r}[${s}]`};for(;s<i.length;s++){const r=i[s];e(n,a,r),t(n,a,r)}}return n.each=e,n}const v=t.allExpandedTypes=[];function b(...e){const t=new Set;function n(n,s,a){const o=null==a?void 0:a.type;if(null!=o){if(t.has(o))return void(0,i.validateChild)(n,s,a);if("Placeholder"===o)for(const t of e)if((0,r.default)(t,a))return void(0,i.validateChild)(n,s,a)}throw new TypeError(`Property ${s} of ${n.type} expected node to be of a type ${JSON.stringify(e)} but instead got ${JSON.stringify(o)}`)}return v.push({types:e,set:t}),n.oneOfNodeTypes=e,n}function S(e){function t(t,n,r){if(h(r)!==e)throw new TypeError(`Property ${n} expected type of ${e} but got ${h(r)}`)}return t.type=e,t}function T(...e){function t(...t){for(const n of e)n(...t)}if(t.chainOf=e,e.length>=2&&"type"in e[0]&&"array"===e[0].type&&!("each"in e[1]))throw new Error('An assertValueType("array") validator can only be followed by an assertEach(...) validator.');return t}const _=new Set(["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate","unionShape"]),P=new Set(["default","optional","deprecated","validate"]),E={};function x(e,t={}){const n=t.inherits&&E[t.inherits]||{};let r=t.fields;if(!r&&(r={},n.fields)){const e=Object.getOwnPropertyNames(n.fields);for(const t of e){const e=n.fields[t],i=e.default;if(Array.isArray(i)?i.length>0:i&&"object"==typeof i)throw new Error("field defaults can only be primitives or empty arrays currently");r[t]={default:Array.isArray(i)?[]:i,optional:e.optional,deprecated:e.deprecated,validate:e.validate}}}const i=t.visitor||n.visitor||[],f=t.aliases||n.aliases||[],m=t.builder||n.builder||t.visitor||[];for(const n of Object.keys(t))if(!_.has(n))throw new Error(`Unknown type option "${n}" on ${e}`);t.deprecatedAlias&&(u[t.deprecatedAlias]=e);for(const e of i.concat(m))r[e]=r[e]||{};for(const t of Object.keys(r)){const n=r[t];void 0===n.default||m.includes(t)||(n.optional=!0),void 0===n.default?n.default=null:n.validate||null==n.default||(n.validate=S(h(n.default)));for(const r of Object.keys(n))if(!P.has(r))throw new Error(`Unknown field key "${r}" on ${e}.${t}`)}s[e]=t.visitor=i,l[e]=t.builder=m,c[e]=t.fields=r,a[e]=t.aliases=f,f.forEach(t=>{o[t]=o[t]||[],o[t].push(e)}),t.validate&&(d[e]=t.validate),t.unionShape&&(p[e]=t.unionShape),E[e]=t}},77623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphBuilder=void 0,t.GraphBuilder=class{build(e,t,n){const r=this.deduplicateNodes(e),i=this.deduplicateEdges(t),s={totalFiles:new Set(r.map(e=>e.filePath)).size,totalNodes:r.length,languages:[...new Set(r.map(e=>e.language))],rootPath:n,analyzedAt:new Date};return{nodes:r,edges:i,metadata:s}}buildFromEntryPoints(e,t,n,r){const i=this.deduplicateNodes(e),s=this.deduplicateEdges(t),a={totalFiles:new Set(i.map(e=>e.filePath)).size,totalNodes:i.length,languages:[...new Set(i.map(e=>e.language))],rootPath:n,analyzedAt:new Date,entryPoints:r};return{nodes:i,edges:s,metadata:a}}deduplicateNodes(e){const t=new Map;return e.forEach(e=>{t.has(e.id)||t.set(e.id,e)}),Array.from(t.values())}deduplicateEdges(e){const t=new Set;return e.filter(e=>{const n=`${e.from}-${e.to}-${e.type}`;return!t.has(n)&&(t.add(n),!0)})}filterByDepth(e,t,n){const r=new Set,i=new Set,s=[],a=(t,o)=>{o>n||r.has(t)||(r.add(t),i.add(t),e.edges.filter(e=>e.from===t).forEach(e=>{s.push(e),a(e.to,o+1)}))};return a(t,0),{nodes:e.nodes.filter(e=>i.has(e.id)),edges:s,metadata:{...e.metadata,totalNodes:i.size}}}getDependencies(e,t){const n=e.nodes.find(e=>e.id===t);if(!n)return[];const r=e.edges.filter(e=>e.from===n.filePath).map(e=>e.to);return e.nodes.filter(e=>r.includes(e.filePath))}getDependents(e,t){const n=e.nodes.find(e=>e.id===t);if(!n)return[];const r=e.edges.filter(e=>e.to===n.filePath).map(e=>e.from);return e.nodes.filter(e=>r.includes(e.filePath))}}},77797:(e,t,n)=>{var r=n(44394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},77860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0,t.hooks=[function(e,t){if("test"===e.key&&(t.isWhile()||t.isSwitchCase())||"declaration"===e.key&&t.isExportDeclaration()||"body"===e.key&&t.isLabeledStatement()||"declarations"===e.listKey&&t.isVariableDeclaration()&&1===t.node.declarations.length||"expression"===e.key&&t.isExpressionStatement())return t.remove(),!0},function(e,t){if(t.isSequenceExpression()&&1===t.node.expressions.length)return t.replaceWith(t.node.expressions[0]),!0},function(e,t){if(t.isBinary())return"left"===e.key?t.replaceWith(t.node.right):t.replaceWith(t.node.left),!0},function(e,t){if(t.isIfStatement()&&"consequent"===e.key||"body"===e.key&&(t.isLoop()||t.isArrowFunctionExpression()))return e.replaceWith({type:"BlockStatement",directives:[],body:[]}),!0}]},78096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},78348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.has=void 0,t.merge=function e(n,r,s={}){if(!r)return n;if("object"!=typeof r){if((0,i.isArray)(n))n.push(r);else{if(!n||"object"!=typeof n)return[n,r];(s&&(s.plainObjects||s.allowPrototypes)||!(0,t.has)(Object.prototype,r))&&(n[r]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(r);let a=n;return(0,i.isArray)(n)&&!(0,i.isArray)(r)&&(a=function(e,t){const n=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(n[t]=e[t]);return n}(n,s)),(0,i.isArray)(n)&&(0,i.isArray)(r)?(r.forEach(function(r,i){if((0,t.has)(n,i)){const t=n[i];t&&"object"==typeof t&&r&&"object"==typeof r?n[i]=e(t,r,s):n.push(r)}else n[i]=r}),n):Object.keys(r).reduce(function(n,i){const a=r[i];return(0,t.has)(n,i)?n[i]=e(n[i],a,s):n[i]=a,n},a)},t.assign_single_source=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e,t,n){const r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},t.compact=function(e){const t=[{obj:{o:e},prop:"o"}],n=[];for(let e=0;e<t.length;++e){const r=t[e],i=r.obj[r.prop],s=Object.keys(i);for(let e=0;e<s.length;++e){const r=s[e],a=i[r];"object"==typeof a&&null!==a&&-1===n.indexOf(a)&&(t.push({obj:i,prop:r}),n.push(a))}}return function(e){for(;e.length>1;){const t=e.pop();if(!t)continue;const n=t.obj[t.prop];if((0,i.isArray)(n)){const e=[];for(let t=0;t<n.length;++t)void 0!==n[t]&&e.push(n[t]);t.obj[t.prop]=e}}}(t),e},t.is_regexp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.is_buffer=function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},t.combine=function(e,t){return[].concat(e,t)},t.maybe_map=function(e,t){if((0,i.isArray)(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};const r=n(95257),i=n(15734);t.has=(e,n)=>(t.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,t.has)(e,n));const s=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),a=1024;t.encode=(e,t,n,i,o)=>{if(0===e.length)return e;let c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let l="";for(let e=0;e<c.length;e+=a){const t=c.length>=a?c.slice(e,e+a):c,n=[];for(let e=0;e<t.length;++e){let i=t.charCodeAt(e);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||o===r.RFC1738&&(40===i||41===i)?n[n.length]=t.charAt(e):i<128?n[n.length]=s[i]:i<2048?n[n.length]=s[192|i>>6]+s[128|63&i]:i<55296||i>=57344?n[n.length]=s[224|i>>12]+s[128|i>>6&63]+s[128|63&i]:(e+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(e)),n[n.length]=s[240|i>>18]+s[128|i>>12&63]+s[128|i>>6&63]+s[128|63&i])}l+=n.join("")}return l}},78520:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(t){return e[t]??null}const n={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${e.expected}, prejeto ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"število";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Neveljaven vnos: pričakovano ${a.stringifyPrimitive(e.values[0])}`:`Neveljavna možnost: pričakovano eno izmed ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Preveliko: pričakovano, da bo ${e.origin??"vrednost"} imelo ${n}${e.maximum.toString()} ${r.unit??"elementov"}`:`Preveliko: pričakovano, da bo ${e.origin??"vrednost"} ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Premajhno: pričakovano, da bo ${e.origin} imelo ${n}${e.minimum.toString()} ${r.unit}`:`Premajhno: pričakovano, da bo ${e.origin} ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Neveljaven niz: mora se začeti z "${t.prefix}"`:"ends_with"===t.format?`Neveljaven niz: mora se končati z "${t.suffix}"`:"includes"===t.format?`Neveljaven niz: mora vsebovati "${t.includes}"`:"regex"===t.format?`Neveljaven niz: mora ustrezati vzorcu ${t.pattern}`:`Neveljaven ${n[t.format]??e.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i ključi":" ključ"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}}};e.exports=t.default},78728:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=void 0;var r=n(76666);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return r.toFile}})},78812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){const n=Array.from(t),s=new Map,a=new Map,o=new Set,c=[];for(let t=0;t<n.length;t++){const l=n[t];if(!l)continue;if(c.includes(l))continue;if((0,r.isTSAnyKeyword)(l))return[l];if((0,r.isTSBaseType)(l)){a.set(l.type,l);continue}if((0,r.isTSUnionType)(l)){o.has(l.types)||(n.push(...l.types),o.add(l.types));continue}const u="typeParameters";if((0,r.isTSTypeReference)(l)&&l[u]){const t=l[u],n=i(l.typeName);if(s.has(n)){let r=s.get(n);const i=r[u];i?(i.params.push(...t.params),i.params=e(i.params)):r=t}else s.set(n,l);continue}c.push(l)}for(const[,e]of a)c.push(e);for(const[,e]of s)c.push(e);return c};var r=n(98960);function i(e){return(0,r.isIdentifier)(e)?e.name:(0,r.isThisExpression)(e)?"this":`${e.right.name}.${i(e.left)}`}},78851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=r.operators,s={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},a={message:({keyword:e,schemaCode:t})=>r.str`must be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${s[e].okStr}, limit: ${t}}`},o={keyword:Object.keys(s),type:"number",schemaType:"number",$data:!0,error:a,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`${n} ${s[t].fail} ${i} || isNaN(${n})`)}};t.default=o},78992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.generate=a;var r=n(44068),i=n(66636);function s(e,t,n){if(t.experimental_preserveFormat){if("string"!=typeof e)throw new Error("`experimental_preserveFormat` requires the original `code` to be passed to @babel/generator as a string");if(!t.retainLines)throw new Error("`experimental_preserveFormat` requires `retainLines` to be set to `true`");if(t.compact&&"auto"!==t.compact)throw new Error("`experimental_preserveFormat` is not compatible with the `compact` option");if(t.minified)throw new Error("`experimental_preserveFormat` is not compatible with the `minified` option");if(t.jsescOption)throw new Error("`experimental_preserveFormat` is not compatible with the `jsescOption` option");if(!Array.isArray(n.tokens))throw new Error("`experimental_preserveFormat` requires the AST to have attached the token of the input code. Make sure to enable the `tokens: true` parser option.")}const r={auxiliaryCommentBefore:t.auxiliaryCommentBefore,auxiliaryCommentAfter:t.auxiliaryCommentAfter,shouldPrintComment:t.shouldPrintComment,preserveFormat:t.experimental_preserveFormat,retainLines:t.retainLines,retainFunctionParens:t.retainFunctionParens,comments:null==t.comments||t.comments,compact:t.compact,minified:t.minified,concise:t.concise,indent:{adjustMultilineComment:!0,style:"  "},jsescOption:Object.assign({quotes:"double",wrap:!0,minimal:!1},t.jsescOption),topicToken:t.topicToken,importAttributesKeyword:t.importAttributesKeyword};var i;r.decoratorsBeforeExport=t.decoratorsBeforeExport,r.jsescOption.json=t.jsonCompatibleStrings,r.recordAndTupleSyntaxType=null!=(i=t.recordAndTupleSyntaxType)?i:"hash",r.minified?(r.compact=!0,r.shouldPrintComment=r.shouldPrintComment||(()=>r.comments)):r.shouldPrintComment=r.shouldPrintComment||(e=>r.comments||e.includes("@license")||e.includes("@preserve")),"auto"===r.compact&&(r.compact="string"==typeof e&&e.length>5e5,r.compact&&console.error(`[BABEL] Note: The code generator has deoptimised the styling of ${t.filename} as it exceeds the max of 500KB.`)),(r.compact||r.preserveFormat)&&(r.indent.adjustMultilineComment=!1);const{auxiliaryCommentBefore:s,auxiliaryCommentAfter:a,shouldPrintComment:o}=r;return s&&!o(s)&&(r.auxiliaryCommentBefore=void 0),a&&!o(a)&&(r.auxiliaryCommentAfter=void 0),r}function a(e,t={},n){const a=s(n,t,e),o=t.sourceMaps?new r.default(t,n):null;return new i.default(a,o,e.tokens,"string"==typeof n?n:null).generate(e)}t.CodeGenerator=class{constructor(e,t={},n){this._ast=void 0,this._format=void 0,this._map=void 0,this._ast=e,this._format=s(n,t,e),this._map=t.sourceMaps?new r.default(t,n):null}generate(){return new i.default(this._format,this._map).generate(this._ast)}},t.default=a},79045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=n(82040);class i extends r.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=i},79225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePipelineDef=void 0;const r=n(73524);t.parsePipelineDef=(e,t)=>{if("input"===t.pipeStrategy)return(0,r.parseDef)(e.in._def,t);if("output"===t.pipeStrategy)return(0,r.parseDef)(e.out._def,t);const n=(0,r.parseDef)(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,(0,r.parseDef)(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter(e=>void 0!==e)}}},79299:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZodRealError=t.ZodError=void 0;const a=s(n(76601)),o=n(76601),c=s(n(90523)),l=(e,t)=>{o.$ZodError.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>a.formatError(e,t)},flatten:{value:t=>a.flattenError(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,c.jsonStringifyReplacer,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,c.jsonStringifyReplacer,2)}},isEmpty:{get:()=>0===e.issues.length}})};t.ZodError=a.$constructor("ZodError",l),t.ZodRealError=a.$constructor("ZodError",l,{Parent:Error})},79325:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(99317),t),i(n(90819),t),i(n(96370),t),i(n(92034),t),i(n(80491),t),i(n(28651),t)},79376:e=>{"use strict";const t=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};e.exports=t,e.exports.default=t},79578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._call=c,t._getQueueContexts=function(){let e=this,t=this.contexts;for(;!t.length&&(e=e.parentPath,e);)t=e.contexts;return t},t._resyncKey=h,t._resyncList=f,t._resyncParent=p,t._resyncRemoved=function(){null!=this.key&&this.container&&this.container[this.key]===this.node||s._markRemoved.call(this)},t.call=o,t.isDenylisted=l,t.popContext=function(){this.contexts.pop(),this.contexts.length>0?this.setContext(this.contexts[this.contexts.length-1]):this.setContext(void 0)},t.pushContext=function(e){this.contexts.push(e),this.setContext(e)},t.requeue=function(e=this){if(e.removed)return;const t=this.contexts;for(const n of t)n.maybeQueue(e)},t.requeueComputedKeyAndDecorators=function(){const{context:e,node:t}=this;if(!a.isPrivate(t)&&t.computed&&e.maybeQueue(this.get("key")),t.decorators)for(const t of this.get("decorators"))e.maybeQueue(t)},t.resync=function(){this.removed||(p.call(this),f.call(this),h.call(this))},t.setContext=function(e){return null!=this.skipKeys&&(this.skipKeys={}),this._traverseFlags=0,e&&(this.context=e,this.state=e.state,this.opts=e.opts),d.call(this),this},t.setKey=m,t.setScope=d,t.setup=function(e,t,n,r){this.listKey=n,this.container=t,this.parentPath=e||this.parentPath,m.call(this,r)},t.skip=function(){this.shouldSkip=!0},t.skipKey=function(e){null==this.skipKeys&&(this.skipKeys={}),this.skipKeys[e]=!0},t.stop=function(){this._traverseFlags|=i.SHOULD_SKIP|i.SHOULD_STOP},t.visit=function(){var e,t;if(!this.node)return!1;if(this.isDenylisted())return!1;if(null!=(e=(t=this.opts).shouldSkip)&&e.call(t,this))return!1;const n=this.context;return this.shouldSkip||o.call(this,"enter")?(this.debug("Skip..."),this.shouldStop):(u(this,n),this.debug("Recursing into..."),this.shouldStop=(0,r.traverseNode)(this.node,this.opts,this.scope,this.state,this,this.skipKeys),u(this,n),o.call(this,"exit"),this.shouldStop)};var r=n(22264),i=n(29709),s=n(53097),a=n(2352);function o(e){const t=this.opts;return this.debug(e),!(!this.node||!c.call(this,t[e]))||!!this.node&&c.call(this,null==(n=t[this.node.type])?void 0:n[e]);var n}function c(e){if(!e)return!1;for(const t of e){if(!t)continue;const e=this.node;if(!e)return!0;const n=t.call(this.state,this,this.state);if(n&&"object"==typeof n&&"function"==typeof n.then)throw new Error("You appear to be using a plugin with an async traversal visitor, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");if(n)throw new Error(`Unexpected return value from visitor method ${t}`);if(this.node!==e)return!0;if(this._traverseFlags>0)return!0}return!1}function l(){var e;const t=null!=(e=this.opts.denylist)?e:this.opts.blacklist;return null==t?void 0:t.includes(this.node.type)}function u(e,t){e.context!==t&&(e.context=t,e.state=t.state,e.opts=t.opts)}function d(){var e,t;if(null!=(e=this.opts)&&e.noScope)return;let n,r=this.parentPath;for((("key"===this.key||"decorators"===this.listKey)&&r.isMethod()||"discriminant"===this.key&&r.isSwitchStatement())&&(r=r.parentPath);r&&!n;){var i;if(null!=(i=r.opts)&&i.noScope)return;n=r.scope,r=r.parentPath}this.scope=this.getScope(n),null==(t=this.scope)||t.init()}function p(){this.parentPath&&(this.parent=this.parentPath.node)}function h(){if(this.container&&this.node!==this.container[this.key]){if(Array.isArray(this.container)){for(let e=0;e<this.container.length;e++)if(this.container[e]===this.node)return void m.call(this,e)}else for(const e of Object.keys(this.container))if(this.container[e]===this.node)return void m.call(this,e);this.key=null}}function f(){if(!this.parent||!this.inList)return;const e=this.parent[this.listKey];this.container!==e&&(this.container=e||null)}function m(e){var t;this.key=e,this.node=this.container[this.key],this.type=null==(t=this.node)?void 0:t.type}t.isBlacklisted=l},79632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__setModuleDefault=t.__createBinding=void 0,t.__classPrivateFieldSet=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},t.__classPrivateFieldGet=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},t.__exportStar=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=i(e),a=0;a<s.length;a++)"default"!==s[a]&&n(t,e,s[a]);return r(t,e),t};var n=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};t.__createBinding=n;var r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};t.__setModuleDefault=r;var i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)}},79770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}},79777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(35137)),a=n(35137);class o extends i.APIResource{constructor(){super(...arguments),this.graderModels=new s.GraderModels(this._client)}}t.Graders=o,o.GraderModels=a.GraderModels},79877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(70513),i=n(91140),s=n(24971),a=n(66596),o=n(99048);var c;function l(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c||(t.DataType=c={})),t.getSchemaTypes=function(e){const t=l(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=l,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:s}=e,o=function(e,t){return t?e.filter(e=>u.has(e)||"array"===t&&"array"===e):[]}(t,s.coerceTypes),l=t.length>0&&!(0===o.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(l){const i=p(t,r,s.strictNumbers,c.Wrong);n.if(i,()=>{o.length?function(e,t,n){const{gen:r,data:i,opts:s}=e,o=r.let("dataType",a._`typeof ${i}`),c=r.let("coerced",a._`undefined`);"array"===s.coerceTypes&&r.if(a._`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,a._`${i}[0]`).assign(o,a._`typeof ${i}`).if(p(t,i,s.strictNumbers),()=>r.assign(c,i))),r.if(a._`${c} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===s.coerceTypes)&&l(e);function l(e){switch(e){case"string":return void r.elseIf(a._`${o} == "number" || ${o} == "boolean"`).assign(c,a._`"" + ${i}`).elseIf(a._`${i} === null`).assign(c,a._`""`);case"number":return void r.elseIf(a._`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(c,a._`+${i}`);case"integer":return void r.elseIf(a._`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(c,a._`+${i}`);case"boolean":return void r.elseIf(a._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(c,!1).elseIf(a._`${i} === "true" || ${i} === 1`).assign(c,!0);case"null":return r.elseIf(a._`${i} === "" || ${i} === 0 || ${i} === false`),void r.assign(c,null);case"array":r.elseIf(a._`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(c,a._`[${i}]`)}}r.else(),f(e),r.endIf(),r.if(a._`${c} !== undefined`,()=>{r.assign(i,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(a._`${t} !== undefined`,()=>e.assign(a._`${t}[${n}]`,r))}(e,c)})}(e,t,o):f(e)})}return l};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,r=c.Correct){const i=r===c.Correct?a.operators.EQ:a.operators.NEQ;let s;switch(e){case"null":return a._`${t} ${i} null`;case"array":s=a._`Array.isArray(${t})`;break;case"object":s=a._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o(a._`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return a._`typeof ${t} ${i} ${e}`}return r===c.Correct?s:(0,a.not)(s);function o(e=a.nil){return(0,a.and)(a._`typeof ${t} == "number"`,e,n?a._`isFinite(${t})`:a.nil)}}function p(e,t,n,r){if(1===e.length)return d(e[0],t,n,r);let i;const s=(0,o.toHash)(e);if(s.array&&s.object){const e=a._`typeof ${t} != "object"`;i=s.null?e:a._`!${t} || ${e}`,delete s.null,delete s.array,delete s.object}else i=a.nil;s.number&&delete s.integer;for(const e in s)i=(0,a.and)(i,d(e,t,n,r));return i}t.checkDataType=d,t.checkDataTypes=p;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?a._`{type: ${e}}`:a._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:r}=e,i=(0,o.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);(0,s.reportError)(t,h)}t.reportTypeError=f},79896:e=>{"use strict";e.exports=require("fs")},79981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(93697);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var i=n(66596);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const s=n(53781),a=n(7346),o=n(70513),c=n(81430),l=n(66596),u=n(90978),d=n(79877),p=n(99048),h=n(11808),f=n(86501),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function S(e){var t,n,r,i,s,a,o,c,l,u,d,p,h,y,g,v,b,S,T,_,P,E,x,w,A;const O=e.strict,I=null===(t=e.code)||void 0===t?void 0:t.optimize,C=!0===I||void 0===I?1:I||0,k=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,N=null!==(i=e.uriResolver)&&void 0!==i?i:f.default;return{strictSchema:null===(a=null!==(s=e.strictSchema)&&void 0!==s?s:O)||void 0===a||a,strictNumbers:null===(c=null!==(o=e.strictNumbers)&&void 0!==o?o:O)||void 0===c||c,strictTypes:null!==(u=null!==(l=e.strictTypes)&&void 0!==l?l:O)&&void 0!==u?u:"log",strictTuples:null!==(p=null!==(d=e.strictTuples)&&void 0!==d?d:O)&&void 0!==p?p:"log",strictRequired:null!==(y=null!==(h=e.strictRequired)&&void 0!==h?h:O)&&void 0!==y&&y,code:e.code?{...e.code,optimize:C,regExp:k}:{optimize:C,regExp:k},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(S=e.messages)||void 0===S||S,inlineRefs:null===(T=e.inlineRefs)||void 0===T||T,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(P=e.addUsedSchema)||void 0===P||P,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(x=e.validateFormats)||void 0===x||x,unicodeRegExp:null===(w=e.unicodeRegExp)||void 0===w||w,int32range:null===(A=e.int32range)||void 0===A||A,uriResolver:N}}class T{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...S(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:g,es5:t,lines:n}),this.logger=function(e){if(!1===e)return O;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,o.getRules)(),_.call(this,v,e,"NOT SUPPORTED"),_.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=A.call(this),e.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=h;"id"===n&&(r={...h},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await i.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||s.call(this,n)}async function i(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function s(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof a.default))throw t;return o.call(this,t),await c.call(this,t.missingSchema),s.call(this,e)}}function o({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await l.call(this,e);this.refs[e]||await i.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function l(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let i;if("object"==typeof e){const{schemaId:t}=this.opts;if(i=e[t],void 0!==i&&"string"!=typeof i)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=P.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=P.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(C.call(this,n,t),!t)return(0,p.eachItem)(n,e=>k.call(this,e)),this;L.call(this,t);const r={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,p.eachItem)(n,0===r.type.length?e=>k.call(this,e,r):e=>r.type.forEach(t=>k.call(this,e,r,t))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex(t=>t.keyword===e);t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map(e=>`${n}${e.instancePath} ${e.message}`).reduce((e,n)=>e+t+n):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,s=i[e];r&&s&&(i[e]=M(s))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,i=this.opts.addUsedSchema){let s;const{schemaId:a}=this.opts;if("object"==typeof e)s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let o=this._cache.get(e);if(void 0!==o)return o;n=(0,u.normalizeId)(s||n);const l=u.getSchemaRefs.call(this,e,n);return o=new c.SchemaEnv({schema:e,schemaId:a,meta:t,baseId:n,localRefs:l}),this._cache.set(o.schema,o),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=o),r&&this.validateSchema(e,!0),o}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,r="error"){for(const i in e){const s=i;s in t&&this.logger[r](`${n}: option ${i}. ${e[s]}`)}}function P(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function x(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function w(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function A(){const e={...this.opts};for(const t of y)delete e[t];return e}T.ValidationError=s.default,T.MissingRefError=a.default,t.default=T;const O={log(){},warn(){},error(){}},I=/^[a-z_$][a-z0-9_$:-]*$/i;function C(e,t){const{RULES:n}=this;if((0,p.eachItem)(e,e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!I.test(e))throw new Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function k(e,t,n){var r;const i=null==t?void 0:t.post;if(n&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:s}=this;let a=i?s.post:s.rules.find(({type:e})=>e===n);if(a||(a={type:n,rules:[]},s.rules.push(a)),s.keywords[e]=!0,!t)return;const o={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?N.call(this,a,o,t.before):a.rules.push(o),s.all[e]=o,null===(r=t.implements)||void 0===r||r.forEach(e=>this.addKeyword(e))}function N(e,t,n){const r=e.rules.findIndex(e=>e.keyword===n);r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function L(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=M(t)),e.validateSchema=this.compile(t,!0))}const $={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(e){return{anyOf:[e,$]}}},80079:(e,t,n)=>{var r=n(63702),i=n(70080),s=n(24739),a=n(48655),o=n(31175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=o,e.exports=c},80093:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}};function t(t){return e[t]??null}const n={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"};return e=>{switch(e.code){case"invalid_type":return`Ìbáwọlé aṣìṣe: a ní láti fi ${e.expected}, àmọ̀ a rí ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nọ́mbà";case"object":if(Array.isArray(e))return"akopọ";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Ìbáwọlé aṣìṣe: a ní láti fi ${a.stringifyPrimitive(e.values[0])}`:`Àṣàyàn aṣìṣe: yan ọ̀kan lára ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Tó pọ̀ jù: a ní láti jẹ́ pé ${e.origin??"iye"} ${r.verb} ${n}${e.maximum} ${r.unit}`:`Tó pọ̀ jù: a ní láti jẹ́ ${n}${e.maximum}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Kéré ju: a ní láti jẹ́ pé ${e.origin} ${r.verb} ${n}${e.minimum} ${r.unit}`:`Kéré ju: a ní láti jẹ́ ${n}${e.minimum}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú "${t.prefix}"`:"ends_with"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú "${t.suffix}"`:"includes"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní "${t.includes}"`:"regex"===t.format?`Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${t.pattern}`:`Aṣìṣe: ${n[t.format]??e.format}`}case"not_multiple_of":return`Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${e.divisor}`;case"unrecognized_keys":return`Bọtìnì àìmọ̀: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Bọtìnì aṣìṣe nínú ${e.origin}`;case"invalid_union":default:return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣìṣe nínú ${e.origin}`}}};e.exports=t.default},80120:e=>{"use strict";e.exports=JSON.parse('["decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","globalThis","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"]')},80491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.discriminatedUnion=t.date=t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=void 0,t.datetimeRegex=k,t.custom=Pe;const r=n(28651),i=n(99317),s=n(43368),a=n(90819),o=n(92034);class c{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const l=(e,t)=>{if((0,a.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new r.ZodError(e.common.issues);return this._error=t,this._error}}};function u(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{const{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??r??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??n??i.defaultError}},description:i}}class d{get description(){return this._def.description}_getType(e){return(0,o.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,o.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new a.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,o.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if((0,a.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,o.getParsedType)(e)},r=this._parseSync({data:e,path:n.path,parent:n});return l(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,o.getParsedType)(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return(0,a.isValid)(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>(0,a.isValid)(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,o.getParsedType)(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await((0,a.isAsync)(r)?r:Promise.resolve(r));return l(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{const s=e(t),a=()=>i.addIssue({code:r.ZodIssueCode.custom,...n(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(a(),!1)):!!s||(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new he({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return fe.create(this,this._def)}nullable(){return me.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return G.create(this)}promise(){return pe.create(this,this._def)}or(e){return Y.create([this,e],this._def)}and(e){return te.create(this,e,this._def)}transform(e){return new he({...u(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ye({...u(this._def),innerType:this,defaultValue:t,typeName:Ee.ZodDefault})}brand(){return new be({typeName:Ee.ZodBranded,type:this,...u(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ge({...u(this._def),innerType:this,catchValue:t,typeName:Ee.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Se.create(this,e)}readonly(){return Te.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=d,t.Schema=d,t.ZodSchema=d;const p=/^c[^\s-]{8,}$/i,h=/^[0-9a-z]+$/,f=/^[0-9A-HJKMNP-TV-Z]{26}$/i,m=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y=/^[a-z0-9_-]{21}$/i,g=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,v=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,b=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let S;const T=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,P=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,E=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,x=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,w=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O=new RegExp(`^${A}$`);function I(e){let t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function C(e){return new RegExp(`^${I(e)}$`)}function k(e){let t=`${A}T${I(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function N(e,t){return!("v4"!==t&&t||!T.test(e))||!("v6"!==t&&t||!P.test(e))}function L(e,t){if(!g.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!("object"!=typeof i||null===i||"typ"in i&&"JWT"!==i?.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function $(e,t){return!("v4"!==t&&t||!_.test(e))||!("v6"!==t&&t||!E.test(e))}class M extends d{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==o.ZodParsedType.string){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.string,received:t.parsedType}),a.INVALID}const t=new a.ParseStatus;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(n=this._getOrReturnCtx(e,n),s?(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)b.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"email",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)S||(S=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),S.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"emoji",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)m.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"uuid",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)y.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"nanoid",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)p.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"cuid",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)h.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"cuid2",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)f.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"ulid",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"url",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"regex",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty()):"datetime"===i.kind?k(i).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),t.dirty()):"date"===i.kind?O.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_string,validation:"date",message:i.message}),t.dirty()):"time"===i.kind?C(i).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_string,validation:"time",message:i.message}),t.dirty()):"duration"===i.kind?v.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"duration",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?N(e.data,i.version)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"ip",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"jwt"===i.kind?L(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"jwt",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?$(e.data,i.version)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"cidr",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?x.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"base64",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?w.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{validation:"base64url",code:r.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):o.util.assertNever(i);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:r.ZodIssueCode.invalid_string,...s.errorUtil.errToObj(n)})}_addCheck(e){return new M({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...s.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...s.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...s.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...s.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...s.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...s.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...s.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...s.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...s.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...s.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...s.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...s.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...s.errorUtil.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...s.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...s.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...s.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...s.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...s.errorUtil.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...s.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...s.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...s.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...s.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...s.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,s.errorUtil.errToObj(e))}trim(){return new M({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function R(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}t.ZodString=M,M.create=e=>new M({checks:[],typeName:Ee.ZodString,coerce:e?.coerce??!1,...u(e)});class j extends d{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==o.ZodParsedType.number){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.number,received:t.parsedType}),a.INVALID}let t;const n=new a.ParseStatus;for(const i of this._def.checks)"int"===i.kind?o.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"multipleOf"===i.kind?0!==R(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.not_finite,message:i.message}),n.dirty()):o.util.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.errorUtil.toString(t))}setLimit(e,t,n,r){return new j({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:s.errorUtil.toString(r)}]})}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:s.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:s.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:s.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:s.errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&o.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=j,j.create=e=>new j({checks:[],typeName:Ee.ZodNumber,coerce:e?.coerce||!1,...u(e)});class D extends d{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==o.ZodParsedType.bigint)return this._getInvalidInput(e);let t;const n=new a.ParseStatus;for(const i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):o.util.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.bigint,received:t.parsedType}),a.INVALID}gte(e,t){return this.setLimit("min",e,!0,s.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.errorUtil.toString(t))}setLimit(e,t,n,r){return new D({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:s.errorUtil.toString(r)}]})}_addCheck(e){return new D({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:s.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:s.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:s.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:s.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=D,D.create=e=>new D({checks:[],typeName:Ee.ZodBigInt,coerce:e?.coerce??!1,...u(e)});class U extends d{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==o.ZodParsedType.boolean){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.boolean,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}t.ZodBoolean=U,U.create=e=>new U({typeName:Ee.ZodBoolean,coerce:e?.coerce||!1,...u(e)});class F extends d{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==o.ZodParsedType.date){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.date,received:t.parsedType}),a.INVALID}if(Number.isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_date}),a.INVALID}const t=new a.ParseStatus;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):o.util.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:s.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:s.errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=F,F.create=e=>new F({checks:[],coerce:e?.coerce||!1,typeName:Ee.ZodDate,...u(e)});class B extends d{_parse(e){if(this._getType(e)!==o.ZodParsedType.symbol){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.symbol,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}t.ZodSymbol=B,B.create=e=>new B({typeName:Ee.ZodSymbol,...u(e)});class Z extends d{_parse(e){if(this._getType(e)!==o.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.undefined,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}t.ZodUndefined=Z,Z.create=e=>new Z({typeName:Ee.ZodUndefined,...u(e)});class z extends d{_parse(e){if(this._getType(e)!==o.ZodParsedType.null){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.null,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}t.ZodNull=z,z.create=e=>new z({typeName:Ee.ZodNull,...u(e)});class V extends d{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,a.OK)(e.data)}}t.ZodAny=V,V.create=e=>new V({typeName:Ee.ZodAny,...u(e)});class q extends d{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,a.OK)(e.data)}}t.ZodUnknown=q,q.create=e=>new q({typeName:Ee.ZodUnknown,...u(e)});class K extends d{_parse(e){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.never,received:t.parsedType}),a.INVALID}}t.ZodNever=K,K.create=e=>new K({typeName:Ee.ZodNever,...u(e)});class W extends d{_parse(e){if(this._getType(e)!==o.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.void,received:t.parsedType}),a.INVALID}return(0,a.OK)(e.data)}}t.ZodVoid=W,W.create=e=>new W({typeName:Ee.ZodVoid,...u(e)});class G extends d{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==o.ZodParsedType.array)return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.array,received:t.parsedType}),a.INVALID;if(null!==i.exactLength){const e=t.data.length>i.exactLength.value,s=t.data.length<i.exactLength.value;(e||s)&&((0,a.addIssueToContext)(t,{code:e?r.ZodIssueCode.too_big:r.ZodIssueCode.too_small,minimum:s?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&((0,a.addIssueToContext)(t,{code:r.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&((0,a.addIssueToContext)(t,{code:r.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>i.type._parseAsync(new c(t,e,t.path,n)))).then(e=>a.ParseStatus.mergeArray(n,e));const s=[...t.data].map((e,n)=>i.type._parseSync(new c(t,e,t.path,n)));return a.ParseStatus.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new G({...this._def,minLength:{value:e,message:s.errorUtil.toString(t)}})}max(e,t){return new G({...this._def,maxLength:{value:e,message:s.errorUtil.toString(t)}})}length(e,t){return new G({...this._def,exactLength:{value:e,message:s.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function J(e){if(e instanceof H){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=fe.create(J(r))}return new H({...e._def,shape:()=>t})}return e instanceof G?new G({...e._def,type:J(e.element)}):e instanceof fe?fe.create(J(e.unwrap())):e instanceof me?me.create(J(e.unwrap())):e instanceof ne?ne.create(e.items.map(e=>J(e))):e}t.ZodArray=G,G.create=(e,t)=>new G({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...u(t)});class H extends d{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=o.util.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==o.ZodParsedType.object){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.object,received:t.parsedType}),a.INVALID}const{status:t,ctx:n}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof K&&"strip"===this._def.unknownKeys))for(const e in n.data)s.includes(e)||l.push(e);const u=[];for(const e of s){const t=i[e],r=n.data[e];u.push({key:{status:"valid",value:e},value:t._parse(new c(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof K){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of l)u.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)l.length>0&&((0,a.addIssueToContext)(n,{code:r.ZodIssueCode.unrecognized_keys,keys:l}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of l){const r=n.data[t];u.push({key:{status:"valid",value:t},value:e._parse(new c(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of u){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>a.ParseStatus.mergeObjectSync(t,e)):a.ParseStatus.mergeObjectSync(t,u)}get shape(){return this._def.shape()}strict(e){return s.errorUtil.errToObj,new H({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:s.errorUtil.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new H({...this._def,unknownKeys:"strip"})}passthrough(){return new H({...this._def,unknownKeys:"passthrough"})}extend(e){return new H({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new H({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new H({...this._def,catchall:e})}pick(e){const t={};for(const n of o.util.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new H({...this._def,shape:()=>t})}omit(e){const t={};for(const n of o.util.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new H({...this._def,shape:()=>t})}deepPartial(){return J(this)}partial(e){const t={};for(const n of o.util.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new H({...this._def,shape:()=>t})}required(e){const t={};for(const n of o.util.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof fe;)e=e._def.innerType;t[n]=e}return new H({...this._def,shape:()=>t})}keyof(){return le(o.util.objectKeys(this.shape))}}t.ZodObject=H,H.create=(e,t)=>new H({shape:()=>e,unknownKeys:"strip",catchall:K.create(),typeName:Ee.ZodObject,...u(t)}),H.strictCreate=(e,t)=>new H({shape:()=>e,unknownKeys:"strict",catchall:K.create(),typeName:Ee.ZodObject,...u(t)}),H.lazycreate=(e,t)=>new H({shape:e,unknownKeys:"strip",catchall:K.create(),typeName:Ee.ZodObject,...u(t)});class Y extends d{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map(e=>new r.ZodError(e.ctx.common.issues));return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_union,unionErrors:n}),a.INVALID});{let e;const i=[];for(const r of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=i.map(e=>new r.ZodError(e));return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_union,unionErrors:s}),a.INVALID}}get options(){return this._def.options}}t.ZodUnion=Y,Y.create=(e,t)=>new Y({options:e,typeName:Ee.ZodUnion,...u(t)});const X=e=>e instanceof oe?X(e.schema):e instanceof he?X(e.innerType()):e instanceof ce?[e.value]:e instanceof ue?e.options:e instanceof de?o.util.objectValues(e.enum):e instanceof ye?X(e._def.innerType):e instanceof Z?[void 0]:e instanceof z?[null]:e instanceof fe?[void 0,...X(e.unwrap())]:e instanceof me?[null,...X(e.unwrap())]:e instanceof be||e instanceof Te?X(e.unwrap()):e instanceof ge?X(e._def.innerType):[];class Q extends d{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.ZodParsedType.object)return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.object,received:t.parsedType}),a.INVALID;const n=this.discriminator,i=t.data[n],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):((0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),a.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=X(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new Q({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...u(n)})}}function ee(e,t){const n=(0,o.getParsedType)(e),r=(0,o.getParsedType)(t);if(e===t)return{valid:!0,data:e};if(n===o.ZodParsedType.object&&r===o.ZodParsedType.object){const n=o.util.objectKeys(t),r=o.util.objectKeys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const n of r){const r=ee(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===o.ZodParsedType.array&&r===o.ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=ee(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===o.ZodParsedType.date&&r===o.ZodParsedType.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}t.ZodDiscriminatedUnion=Q;class te extends d{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if((0,a.isAborted)(e)||(0,a.isAborted)(i))return a.INVALID;const s=ee(e.value,i.value);return s.valid?(((0,a.isDirty)(e)||(0,a.isDirty)(i))&&t.dirty(),{status:t.value,value:s.data}):((0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_intersection_types}),a.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}t.ZodIntersection=te,te.create=(e,t,n)=>new te({left:e,right:t,typeName:Ee.ZodIntersection,...u(n)});class ne extends d{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.ZodParsedType.array)return(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.array,received:n.parsedType}),a.INVALID;if(n.data.length<this._def.items.length)return(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new c(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(i).then(e=>a.ParseStatus.mergeArray(t,e)):a.ParseStatus.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new ne({...this._def,rest:e})}}t.ZodTuple=ne,ne.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ne({items:e,typeName:Ee.ZodTuple,rest:null,...u(t)})};class re extends d{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.ZodParsedType.object)return(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.object,received:n.parsedType}),a.INVALID;const i=[],s=this._def.keyType,l=this._def.valueType;for(const e in n.data)i.push({key:s._parse(new c(n,e,n.path,e)),value:l._parse(new c(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?a.ParseStatus.mergeObjectAsync(t,i):a.ParseStatus.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return new re(t instanceof d?{keyType:e,valueType:t,typeName:Ee.ZodRecord,...u(n)}:{keyType:M.create(),valueType:e,typeName:Ee.ZodRecord,...u(t)})}}t.ZodRecord=re;class ie extends d{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.ZodParsedType.map)return(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.map,received:n.parsedType}),a.INVALID;const i=this._def.keyType,s=this._def.valueType,l=[...n.data.entries()].map(([e,t],r)=>({key:i._parse(new c(n,e,n.path,[r,"key"])),value:s._parse(new c(n,t,n.path,[r,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of l){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return a.INVALID;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of l){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return a.INVALID;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}t.ZodMap=ie,ie.create=(e,t,n)=>new ie({valueType:t,keyType:e,typeName:Ee.ZodMap,...u(n)});class se extends d{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.ZodParsedType.set)return(0,a.addIssueToContext)(n,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.set,received:n.parsedType}),a.INVALID;const i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&((0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&((0,a.addIssueToContext)(n,{code:r.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function l(e){const n=new Set;for(const r of e){if("aborted"===r.status)return a.INVALID;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const u=[...n.data.values()].map((e,t)=>s._parse(new c(n,e,n.path,t)));return n.common.async?Promise.all(u).then(e=>l(e)):l(u)}min(e,t){return new se({...this._def,minSize:{value:e,message:s.errorUtil.toString(t)}})}max(e,t){return new se({...this._def,maxSize:{value:e,message:s.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=se,se.create=(e,t)=>new se({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...u(t)});class ae extends d{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.ZodParsedType.function)return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.function,received:t.parsedType}),a.INVALID;function n(e,n){return(0,a.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,i.getErrorMap)(),i.defaultErrorMap].filter(e=>!!e),issueData:{code:r.ZodIssueCode.invalid_arguments,argumentsError:n}})}function s(e,n){return(0,a.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,i.getErrorMap)(),i.defaultErrorMap].filter(e=>!!e),issueData:{code:r.ZodIssueCode.invalid_return_type,returnTypeError:n}})}const c={errorMap:t.common.contextualErrorMap},l=t.data;if(this._def.returns instanceof pe){const e=this;return(0,a.OK)(async function(...t){const i=new r.ZodError([]),a=await e._def.args.parseAsync(t,c).catch(e=>{throw i.addIssue(n(t,e)),i}),o=await Reflect.apply(l,this,a);return await e._def.returns._def.type.parseAsync(o,c).catch(e=>{throw i.addIssue(s(o,e)),i})})}{const e=this;return(0,a.OK)(function(...t){const i=e._def.args.safeParse(t,c);if(!i.success)throw new r.ZodError([n(t,i.error)]);const a=Reflect.apply(l,this,i.data),o=e._def.returns.safeParse(a,c);if(!o.success)throw new r.ZodError([s(a,o.error)]);return o.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ae({...this._def,args:ne.create(e).rest(q.create())})}returns(e){return new ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ae({args:e||ne.create([]).rest(q.create()),returns:t||q.create(),typeName:Ee.ZodFunction,...u(n)})}}t.ZodFunction=ae;class oe extends d{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=oe,oe.create=(e,t)=>new oe({getter:e,typeName:Ee.ZodLazy,...u(t)});class ce extends d{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{received:t.data,code:r.ZodIssueCode.invalid_literal,expected:this._def.value}),a.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function le(e,t){return new ue({values:e,typeName:Ee.ZodEnum,...u(t)})}t.ZodLiteral=ce,ce.create=(e,t)=>new ce({value:e,typeName:Ee.ZodLiteral,...u(t)});class ue extends d{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,a.addIssueToContext)(t,{expected:o.util.joinValues(n),received:t.parsedType,code:r.ZodIssueCode.invalid_type}),a.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,a.addIssueToContext)(t,{received:t.data,code:r.ZodIssueCode.invalid_enum_value,options:n}),a.INVALID}return(0,a.OK)(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ue.create(e,{...this._def,...t})}exclude(e,t=this._def){return ue.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}t.ZodEnum=ue,ue.create=le;class de extends d{_parse(e){const t=o.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==o.ZodParsedType.string&&n.parsedType!==o.ZodParsedType.number){const e=o.util.objectValues(t);return(0,a.addIssueToContext)(n,{expected:o.util.joinValues(e),received:n.parsedType,code:r.ZodIssueCode.invalid_type}),a.INVALID}if(this._cache||(this._cache=new Set(o.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=o.util.objectValues(t);return(0,a.addIssueToContext)(n,{received:n.data,code:r.ZodIssueCode.invalid_enum_value,options:e}),a.INVALID}return(0,a.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=de,de.create=(e,t)=>new de({values:e,typeName:Ee.ZodNativeEnum,...u(t)});class pe extends d{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.ZodParsedType.promise&&!1===t.common.async)return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.promise,received:t.parsedType}),a.INVALID;const n=t.parsedType===o.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,a.OK)(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t.ZodPromise=pe,pe.create=(e,t)=>new pe({type:e,typeName:Ee.ZodPromise,...u(t)});class he extends d{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{(0,a.addIssueToContext)(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return a.INVALID;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?a.INVALID:"dirty"===r.status||"dirty"===t.value?(0,a.DIRTY)(r.value):r});{if("aborted"===t.value)return a.INVALID;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?a.INVALID:"dirty"===r.status||"dirty"===t.value?(0,a.DIRTY)(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?a.INVALID:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?a.INVALID:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,a.isValid)(e))return a.INVALID;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>(0,a.isValid)(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):a.INVALID)}o.util.assertNever(r)}}t.ZodEffects=he,t.ZodTransformer=he,he.create=(e,t,n)=>new he({schema:e,typeName:Ee.ZodEffects,effect:t,...u(n)}),he.createWithPreprocess=(e,t,n)=>new he({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...u(n)});class fe extends d{_parse(e){return this._getType(e)===o.ZodParsedType.undefined?(0,a.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=fe,fe.create=(e,t)=>new fe({innerType:e,typeName:Ee.ZodOptional,...u(t)});class me extends d{_parse(e){return this._getType(e)===o.ZodParsedType.null?(0,a.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=me,me.create=(e,t)=>new me({innerType:e,typeName:Ee.ZodNullable,...u(t)});class ye extends d{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===o.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=ye,ye.create=(e,t)=>new ye({innerType:e,typeName:Ee.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...u(t)});class ge extends d{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,a.isAsync)(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new r.ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new r.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=ge,ge.create=(e,t)=>new ge({innerType:e,typeName:Ee.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...u(t)});class ve extends d{_parse(e){if(this._getType(e)!==o.ZodParsedType.nan){const t=this._getOrReturnCtx(e);return(0,a.addIssueToContext)(t,{code:r.ZodIssueCode.invalid_type,expected:o.ZodParsedType.nan,received:t.parsedType}),a.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=ve,ve.create=e=>new ve({typeName:Ee.ZodNaN,...u(e)}),t.BRAND=Symbol("zod_brand");class be extends d{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=be;class Se extends d{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?a.INVALID:"dirty"===e.status?(t.dirty(),(0,a.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?a.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Se({in:e,out:t,typeName:Ee.ZodPipeline})}}t.ZodPipeline=Se;class Te extends d{_parse(e){const t=this._def.innerType._parse(e),n=e=>((0,a.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,a.isAsync)(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function _e(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function Pe(e,t={},n){return e?V.create().superRefine((r,i)=>{const s=e(r);if(s instanceof Promise)return s.then(e=>{if(!e){const e=_e(t,r),s=e.fatal??n??!0;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){const e=_e(t,r),s=e.fatal??n??!0;i.addIssue({code:"custom",...e,fatal:s})}}):V.create()}var Ee;t.ZodReadonly=Te,Te.create=(e,t)=>new Te({innerType:e,typeName:Ee.ZodReadonly,...u(t)}),t.late={object:H.lazycreate},function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Ee||(t.ZodFirstPartyTypeKind=Ee={})),t.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>Pe(t=>t instanceof e,t);const xe=M.create;t.string=xe;const we=j.create;t.number=we;const Ae=ve.create;t.nan=Ae;const Oe=D.create;t.bigint=Oe;const Ie=U.create;t.boolean=Ie;const Ce=F.create;t.date=Ce;const ke=B.create;t.symbol=ke;const Ne=Z.create;t.undefined=Ne;const Le=z.create;t.null=Le;const $e=V.create;t.any=$e;const Me=q.create;t.unknown=Me;const Re=K.create;t.never=Re;const je=W.create;t.void=je;const De=G.create;t.array=De;const Ue=H.create;t.object=Ue;const Fe=H.strictCreate;t.strictObject=Fe;const Be=Y.create;t.union=Be;const Ze=Q.create;t.discriminatedUnion=Ze;const ze=te.create;t.intersection=ze;const Ve=ne.create;t.tuple=Ve;const qe=re.create;t.record=qe;const Ke=ie.create;t.map=Ke;const We=se.create;t.set=We;const Ge=ae.create;t.function=Ge;const Je=oe.create;t.lazy=Je;const He=ce.create;t.literal=He;const Ye=ue.create;t.enum=Ye;const Xe=de.create;t.nativeEnum=Xe;const Qe=pe.create;t.promise=Qe;const et=he.create;t.effect=et,t.transformer=et;const tt=fe.create;t.optional=tt;const nt=me.create;t.nullable=nt;const rt=he.createWithPreprocess;t.preprocess=rt;const it=Se.create;t.pipeline=it,t.ostring=()=>xe().optional(),t.onumber=()=>we().optional(),t.oboolean=()=>Ie().optional(),t.coerce={string:e=>M.create({...e,coerce:!0}),number:e=>j.create({...e,coerce:!0}),boolean:e=>U.create({...e,coerce:!0}),bigint:e=>D.create({...e,coerce:!0}),date:e=>F.create({...e,coerce:!0})},t.NEVER=a.INVALID},80631:(e,t,n)=>{var r=n(28077),i=n(49326);e.exports=function(e,t){return null!=e&&i(e,t,r)}},80945:(e,t,n)=>{var r=n(80079),i=n(68223),s=n(53661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}},81042:(e,t,n)=>{var r=n(56110)(Object,"create");e.exports=r},81430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(66596),i=n(53781),s=n(26670),a=n(90978),o=n(99048),c=n(93697);class l{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,a.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=p.call(this,e);if(t)return t;const n=(0,a.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:o,lines:l}=this.opts.code,{ownProperties:u}=this.opts,d=new r.CodeGen(this.scope,{es5:o,lines:l,ownProperties:u});let h;e.$async&&(h=d.scopeValue("Error",{ref:i.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:s.default.data,parentData:s.default.parentData,parentDataProperty:s.default.parentDataProperty,dataNames:[s.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();y=`${d.scopeRefs(s.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const n=new Function(`${s.default.self}`,`${s.default.scope}`,y)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),t}finally{this._compilations.delete(e)}}function d(e){return(0,a.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function p(e){for(const t of this._compilations)if(h(t,e))return t}function h(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function f(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||m.call(this,e,t)}function m(e,t){const n=this.opts.uriResolver.parse(t),r=(0,a._getFullPath)(this.opts.uriResolver,n);let i=(0,a.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return g.call(this,n,e);const s=(0,a.normalizeId)(r),o=this.refs[s]||this.schemas[s];if("string"==typeof o){const t=m.call(this,e,o);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==o?void 0:o.schema)){if(o.validate||u.call(this,o),s===(0,a.normalizeId)(t)){const{schema:t}=o,{schemaId:n}=this.opts,r=t[n];return r&&(i=(0,a.resolveUrl)(this.opts.uriResolver,i,r)),new l({schema:t,schemaId:n,root:e,baseId:i})}return g.call(this,n,o)}}t.SchemaEnv=l,t.compileSchema=u,t.resolveRef=function(e,t,n){var r;n=(0,a.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=f.call(this,e,n);if(void 0===s){const i=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:a}=this.opts;i&&(s=new l({schema:i,schemaId:a,root:e,baseId:t}))}return void 0!==s?e.refs[n]=d.call(this,s):void 0},t.getCompilingSchema=p,t.resolveSchema=m;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:r}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,o.unescapeFragment)(r)];if(void 0===e)return;const i="object"==typeof(n=e)&&n[this.opts.schemaId];!y.has(r)&&i&&(t=(0,a.resolveUrl)(this.opts.uriResolver,t,i))}let s;if("boolean"!=typeof n&&n.$ref&&!(0,o.schemaHasRulesButRef)(n,this.RULES)){const e=(0,a.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=m.call(this,r,e)}const{schemaId:c}=this.opts;return s=s||new l({schema:n,schemaId:c,root:r,baseId:t}),s.schema!==s.root.schema?s:void 0}},81482:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.APIPromise=void 0;const i=n(79632),s=n(98151);class a extends Promise{constructor(e,t,n=s.defaultParseResponse){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,r.set(this,void 0),i.__classPrivateFieldSet(this,r,e,"f")}_thenUnwrap(e){return new a(i.__classPrivateFieldGet(this,r,"f"),this.responsePromise,async(t,n)=>(0,s.addRequestID)(e(await this.parseResponse(t,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(i.__classPrivateFieldGet(this,r,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=a,r=new WeakMap},82040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0,t.APIResource=class{constructor(e){this._client=e}}},82144:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=async function(e){T=new d.FileLogger(e),T.log("Codebase Visualizer extension activated"),console.log("Codebase Visualizer extension activated"),b=new l.WorkspaceAnalyzer,S=new u.ClineAdapter,_=new p.CodebaseDocGenerator,P=new h.RAGService;const t=o.workspace.workspaceFolders;if(t&&t.length>0){const r=t[0].uri.fsPath,{getFileHashCache:i}=await Promise.resolve().then(()=>a(n(85296)));if(x=i(),await x.initialize(r),T.log("File hash cache initialized"),E=new m.GitWatcher,await E.initialize(r)){const t=E.onGitChange(e=>{T.log("Git event detected",{type:e.type,branch:e.branch,count:e.files.length,files:e.files.slice(0,5)}),"branch-switch"===e.type?(T.log(`Branch switched to: ${e.branch}`),v&&!v.isDisposed&&v.notifyBranchSwitch(e.branch||"unknown")):v&&!v.isDisposed&&v.notifyChangesDetected(e.files)});E.startWatching();const n=await E.getCurrentBranch();if(T.log("Git watcher started",{branch:n}),e.subscriptions.push(t),e.subscriptions.push({dispose:()=>{E&&E.dispose()}}),w=(0,y.getHooksManager)(),await w.initialize(r)){const t=w.getInstalledHooks();if(0===t.length){if("Install Hooks"===await o.window.showInformationMessage("Would you like to install Git hooks for better codebase tracking?","Install Hooks","Not Now")){const e=await w.installAllHooks();e.success.length>0&&o.window.showInformationMessage(`Git hooks installed: ${e.success.join(", ")}`)}}else T.log("Git hooks already installed",{hooks:t});const n=w.startWatchingHookTriggers();e.subscriptions.push(n);const r=w.onHookTriggered(async e=>{T.log("Git hook triggered",{type:e.type}),"post-commit"===e.type||"post-merge"===e.type?v&&!v.isDisposed&&(v.notifyChangesDetected([]),await O()):"post-checkout"===e.type&&v&&!v.isDisposed&&E?.getCurrentBranch().then(e=>{v?.notifyBranchSwitch(e||"unknown")})});e.subscriptions.push(r),e.subscriptions.push({dispose:()=>w?.dispose()}),T.log("Git hooks manager initialized")}}else T.log("Git watcher could not be initialized (not a git repository)")}T.log("Extension services initialized"),T.log("Log file location",{path:T.getLogFilePath()});const r=o.commands.registerCommand("codebase-visualizer.showVisualization",async()=>{await A(e)}),i=o.commands.registerCommand("codebase-visualizer.refreshVisualization",async()=>{v?await O():o.window.showWarningMessage("Visualization panel is not open")}),s=o.commands.registerCommand("codebase-visualizer.changePersona",async()=>{await async function(){const e=await o.window.showQuickPick([{label:"👨‍💻 Developer",value:"developer",description:"Technical implementation details"},{label:"📊 Product Manager",value:"product-manager",description:"Business features and user stories"},{label:"🏗️ Architect",value:"architect",description:"System design and patterns"},{label:"📈 Business Analyst",value:"business-analyst",description:"Process flows and requirements"}],{placeHolder:"Select documentation persona"});e&&o.window.showInformationMessage(`Persona changed to ${e.label}`)}()}),c=o.commands.registerCommand("codebase-visualizer.openLogFile",async()=>{const e=T.getLogFilePath(),t=await o.workspace.openTextDocument(e);await o.window.showTextDocument(t),o.window.showInformationMessage(`Log file: ${e}`)}),I=o.commands.registerCommand("codebase-visualizer.configureLiteLLM",async()=>{const e=(0,f.getLiteLLMService)();await e.promptForConfiguration()&&o.window.showInformationMessage("✅ LiteLLM configured successfully! AI-powered documentation is now enabled.")}),C=o.commands.registerCommand("codebase-visualizer.generateDocsWithAI",async()=>{const t=(0,f.getLiteLLMService)();(t.isReady()||("Configure"===await o.window.showWarningMessage("LiteLLM is not configured. Would you like to set it up now?","Configure","Cancel")&&await t.promptForConfiguration(),t.isReady()))&&await A(e,!0)}),k=o.commands.registerCommand("codebase-visualizer.installGitHooks",async()=>{if(!w)return void o.window.showWarningMessage("Git hooks manager not initialized. Not a git repository?");const e=await w.installAllHooks();e.success.length>0&&o.window.showInformationMessage(`Git hooks installed: ${e.success.join(", ")}`),e.failed.length>0&&o.window.showWarningMessage(`Failed to install hooks: ${e.failed.join(", ")}`)}),N=o.commands.registerCommand("codebase-visualizer.uninstallGitHooks",async()=>{w?(await w.uninstallAllHooks(),o.window.showInformationMessage("Git hooks uninstalled")):o.window.showWarningMessage("Git hooks manager not initialized.")}),L=(0,g.getMCPClientManager)(),$=o.commands.registerCommand("codebaseVisualizer.showMCPStatus",async()=>{await L.showStatus()}),M=o.commands.registerCommand("codebaseVisualizer.connectMCPServers",async()=>{await L.connectAll()}),R=o.commands.registerCommand("codebaseVisualizer.disconnectMCPServers",async()=>{await L.disconnectAll()});e.subscriptions.push(r,i,s,c,I,C,k,N,$,M,R,{dispose:()=>(0,g.disposeMCPClientManager)()},T),o.extensions.getExtension("saoudrizwan.claude-dev")||o.window.showWarningMessage("Cline extension not found. Code modification features will be disabled. Install Cline from the marketplace.","Install Cline").then(e=>{"Install Cline"===e&&o.commands.executeCommand("workbench.extensions.search","saoudrizwan.claude-dev")})},t.deactivate=function(){console.log("Codebase Visualizer extension deactivated")};const o=a(n(91398)),c=n(75776),l=n(5738),u=n(28886),d=n(19289),p=n(6185),h=n(90875),f=n(99147),m=n(16640),y=n(19479),g=n(12946);let v,b,S,T,_,P,E,x,w;async function A(e,t=!1){T.log("\n"+"=".repeat(80)),T.log("showVisualization command triggered");const n=o.workspace.workspaceFolders;if(!n||0===n.length)return T.error("No workspace folder open"),void o.window.showErrorMessage("Please open a workspace folder first");const r=n[0].uri;T.log("Workspace folder",{path:r.fsPath}),await o.window.withProgress({location:o.ProgressLocation.Notification,title:"Analyzing Codebase",cancellable:!1},async t=>{let n,i;t.report({increment:0,message:"Starting analysis..."}),T.log("Starting workspace analysis...");try{n=await b.analyze(r),T.log("Workspace analysis completed successfully")}catch(e){throw T.error("Workspace analysis failed",e),e}t.report({increment:30,message:"Generating documentation..."});try{i=await _.generateCodebaseDocsWithAST(n,r,!1),T.log("Documentation generated with AST",{folder:_.getDocsFolder(),components:i.components.length}),o.window.showInformationMessage(`📚 Codebase scanned: ${i.components.length} components indexed in .doc_sync`)}catch(e){T.error("Documentation generation failed",e)}t.report({increment:50,message:"Indexing for RAG..."});try{if(await P.initialize(r),i){const e=_.generateRAGChunks(i);await P.indexDocuments(e),T.log("RAG indexing complete (In-Memory ChromaDB)",{chunks:e.length})}}catch(e){T.error("RAG indexing failed",e)}t.report({increment:70,message:"Building visualization..."}),v&&!v.isDisposed?(P&&v.updateRagService(P),v.show()):(v=new c.VisualizationPanelReact(e,S,P),v.onDispose=()=>{v=void 0,T.log("Visualization panel disposed")});const s={nodes:n.graph.nodes.length,edges:n.graph.edges.length,errors:n.errors.length,warnings:n.warnings.length,entryPoints:n.graph.metadata.entryPoints?.length||0};T.log("Analysis complete",s),console.log("Analysis complete:",s),0===n.graph.nodes.length?(T.error("WARNING: No nodes found in analysis!"),T.log("Analysis warnings",n.warnings),T.log("Analysis errors",n.errors)):T.log("Sample nodes",n.graph.nodes.slice(0,3)),T.log("Updating visualization panel with graph data..."),v.updateGraph(n),T.log("Graph update sent to panel"),t.report({increment:100,message:"Done!"})})}async function O(){if(!v)return;const e=o.workspace.workspaceFolders;if(!e||0===e.length)return;const t=await b.analyze(e[0].uri);v.updateGraph(t);try{await _.generateCodebaseDocsWithAST(t,e[0].uri,!0),v.reloadDocs()}catch(e){console.error("Failed to regenerate docs on refresh:",e)}}},82199:(e,t,n)=>{var r=n(14528),i=n(56449);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},82234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"eval"!==(e=(0,r.default)(e))&&"arguments"!==e||(e="_"+e),e};var r=n(36744)},82363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(66596),i=n(99048);function s(e,t,n){const{gen:s,compositeRule:a,data:o,opts:c}=e;if(void 0===n)return;const l=r._`${o}${(0,r.getProperty)(t)}`;if(a)return void(0,i.checkStrictMode)(e,`default is ignored for: ${l}`);let u=r._`${l} === undefined`;"empty"===c.useDefaults&&(u=r._`${u} || ${l} === null || ${l} === ""`),s.if(u,r._`${l} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const t in n)s(e,t,n[t].default);else"array"===t&&Array.isArray(r)&&r.forEach((t,n)=>s(e,n,t.default))}},82546:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},82848:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{label:"מחרוזת",gender:"f"},number:{label:"מספר",gender:"m"},boolean:{label:"ערך בוליאני",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"תאריך",gender:"m"},array:{label:"מערך",gender:"m"},object:{label:"אובייקט",gender:"m"},null:{label:"ערך ריק (null)",gender:"m"},undefined:{label:"ערך לא מוגדר (undefined)",gender:"m"},symbol:{label:"סימבול (Symbol)",gender:"m"},function:{label:"פונקציה",gender:"f"},map:{label:"מפה (Map)",gender:"f"},set:{label:"קבוצה (Set)",gender:"f"},file:{label:"קובץ",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"ערך לא ידוע",gender:"m"},value:{label:"ערך",gender:"m"}},t={string:{unit:"תווים",shortLabel:"קצר",longLabel:"ארוך"},file:{unit:"בייטים",shortLabel:"קטן",longLabel:"גדול"},array:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},set:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},number:{unit:"",shortLabel:"קטן",longLabel:"גדול"}},n=t=>t?e[t]:void 0,r=t=>{const r=n(t);return r?r.label:t??e.unknown.label},i=e=>`ה${r(e)}`,s=e=>{const t=n(e);return"f"===(t?.gender??"m")?"צריכה להיות":"צריך להיות"},o=e=>e?t[e]??null:null,c={regex:{label:"קלט",gender:"m"},email:{label:"כתובת אימייל",gender:"f"},url:{label:"כתובת רשת",gender:"f"},emoji:{label:"אימוג'י",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"תאריך וזמן ISO",gender:"m"},date:{label:"תאריך ISO",gender:"m"},time:{label:"זמן ISO",gender:"m"},duration:{label:"משך זמן ISO",gender:"m"},ipv4:{label:"כתובת IPv4",gender:"f"},ipv6:{label:"כתובת IPv6",gender:"f"},cidrv4:{label:"טווח IPv4",gender:"m"},cidrv6:{label:"טווח IPv6",gender:"m"},base64:{label:"מחרוזת בבסיס 64",gender:"f"},base64url:{label:"מחרוזת בבסיס 64 לכתובות רשת",gender:"f"},json_string:{label:"מחרוזת JSON",gender:"f"},e164:{label:"מספר E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"קלט",gender:"m"},includes:{label:"קלט",gender:"m"},lowercase:{label:"קלט",gender:"m"},starts_with:{label:"קלט",gender:"m"},uppercase:{label:"קלט",gender:"m"}};return t=>{switch(t.code){case"invalid_type":{const n=t.expected,i=r(n),s=(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":return Array.isArray(e)?"array":null===e?"null":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"object";default:return t}})(t.input);return`קלט לא תקין: צריך להיות ${i}, התקבל ${e[s]?.label??s}`}case"invalid_value":{if(1===t.values.length)return`ערך לא תקין: הערך חייב להיות ${a.stringifyPrimitive(t.values[0])}`;const e=t.values.map(e=>a.stringifyPrimitive(e));if(2===t.values.length)return`ערך לא תקין: האפשרויות המתאימות הן ${e[0]} או ${e[1]}`;const n=e[e.length-1];return`ערך לא תקין: האפשרויות המתאימות הן ${e.slice(0,-1).join(", ")} או ${n}`}case"too_big":{const e=o(t.origin),n=i(t.origin??"value");if("string"===t.origin)return`${e?.longLabel??"ארוך"} מדי: ${n} צריכה להכיל ${t.maximum.toString()} ${e?.unit??""} ${t.inclusive?"או פחות":"לכל היותר"}`.trim();if("number"===t.origin)return`גדול מדי: ${n} צריך להיות ${t.inclusive?`קטן או שווה ל-${t.maximum}`:`קטן מ-${t.maximum}`}`;if("array"===t.origin||"set"===t.origin)return`גדול מדי: ${n} ${"set"===t.origin?"צריכה":"צריך"} להכיל ${t.inclusive?`${t.maximum} ${e?.unit??""} או פחות`:`פחות מ-${t.maximum} ${e?.unit??""}`}`.trim();const r=t.inclusive?"<=":"<",a=s(t.origin??"value");return e?.unit?`${e.longLabel} מדי: ${n} ${a} ${r}${t.maximum.toString()} ${e.unit}`:`${e?.longLabel??"גדול"} מדי: ${n} ${a} ${r}${t.maximum.toString()}`}case"too_small":{const e=o(t.origin),n=i(t.origin??"value");if("string"===t.origin)return`${e?.shortLabel??"קצר"} מדי: ${n} צריכה להכיל ${t.minimum.toString()} ${e?.unit??""} ${t.inclusive?"או יותר":"לפחות"}`.trim();if("number"===t.origin)return`קטן מדי: ${n} צריך להיות ${t.inclusive?`גדול או שווה ל-${t.minimum}`:`גדול מ-${t.minimum}`}`;if("array"===t.origin||"set"===t.origin){const r="set"===t.origin?"צריכה":"צריך";return 1===t.minimum&&t.inclusive?`קטן מדי: ${n} ${r} להכיל ${t.origin,"לפחות פריט אחד"}`:`קטן מדי: ${n} ${r} להכיל ${t.inclusive?`${t.minimum} ${e?.unit??""} או יותר`:`יותר מ-${t.minimum} ${e?.unit??""}`}`.trim()}const r=t.inclusive?">=":">",a=s(t.origin??"value");return e?.unit?`${e.shortLabel} מדי: ${n} ${a} ${r}${t.minimum.toString()} ${e.unit}`:`${e?.shortLabel??"קטן"} מדי: ${n} ${a} ${r}${t.minimum.toString()}`}case"invalid_format":{const e=t;if("starts_with"===e.format)return`המחרוזת חייבת להתחיל ב "${e.prefix}"`;if("ends_with"===e.format)return`המחרוזת חייבת להסתיים ב "${e.suffix}"`;if("includes"===e.format)return`המחרוזת חייבת לכלול "${e.includes}"`;if("regex"===e.format)return`המחרוזת חייבת להתאים לתבנית ${e.pattern}`;const n=c[e.format];return`${n?.label??e.format} לא ${"f"===(n?.gender??"m")?"תקינה":"תקין"}`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${t.divisor}`;case"unrecognized_keys":return`מפתח${t.keys.length>1?"ות":""} לא מזוה${t.keys.length>1?"ים":"ה"}: ${a.joinValues(t.keys,", ")}`;case"invalid_key":return"שדה לא תקין באובייקט";case"invalid_union":default:return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${i(t.origin??"array")}`}}};e.exports=t.default},83168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeDecodeAsync=t.safeEncodeAsync=t.safeDecode=t.safeEncode=t.decodeAsync=t.encodeAsync=t.decode=t.encode=t.safeParseAsync=t.parseAsync=t.safeParse=t.parse=void 0;var r=n(76601);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(t,"safeParse",{enumerable:!0,get:function(){return r.safeParse}}),Object.defineProperty(t,"parseAsync",{enumerable:!0,get:function(){return r.parseAsync}}),Object.defineProperty(t,"safeParseAsync",{enumerable:!0,get:function(){return r.safeParseAsync}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return r.encode}}),Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return r.decode}}),Object.defineProperty(t,"encodeAsync",{enumerable:!0,get:function(){return r.encodeAsync}}),Object.defineProperty(t,"decodeAsync",{enumerable:!0,get:function(){return r.decodeAsync}}),Object.defineProperty(t,"safeEncode",{enumerable:!0,get:function(){return r.safeEncode}}),Object.defineProperty(t,"safeDecode",{enumerable:!0,get:function(){return r.safeDecode}}),Object.defineProperty(t,"safeEncodeAsync",{enumerable:!0,get:function(){return r.safeEncodeAsync}}),Object.defineProperty(t,"safeDecodeAsync",{enumerable:!0,get:function(){return r.safeDecodeAsync}})},83207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0,t.getSupportedElicitationModes=u;const r=n(77533),i=n(1294),s=n(18352),a=n(49029),o=n(56628),c=n(20874);function l(e,t){if(e&&null!==t&&"object"==typeof t){if("object"===e.type&&e.properties&&"object"==typeof e.properties){const n=t,r=e.properties;for(const e of Object.keys(r)){const t=r[e];void 0===n[e]&&Object.prototype.hasOwnProperty.call(t,"default")&&(n[e]=t.default),void 0!==n[e]&&l(t,n[e])}}if(Array.isArray(e.anyOf))for(const n of e.anyOf)l(n,t);if(Array.isArray(e.oneOf))for(const n of e.oneOf)l(n,t)}}function u(e){if(!e)return{supportsFormMode:!1,supportsUrlMode:!1};const t=void 0!==e.form,n=void 0!==e.url;return{supportsFormMode:t||!t&&!n,supportsUrlMode:n}}class d extends r.Protocol{constructor(e,t){var n,r;super(t),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._cachedKnownTaskTools=new Set,this._cachedRequiredTaskTools=new Set,this._capabilities=null!==(n=null==t?void 0:t.capabilities)&&void 0!==n?n:{},this._jsonSchemaValidator=null!==(r=null==t?void 0:t.jsonSchemaValidator)&&void 0!==r?r:new s.AjvJsonSchemaValidator}get experimental(){return this._experimental||(this._experimental={tasks:new o.ExperimentalClientTasks(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=(0,r.mergeCapabilities)(this._capabilities,e)}setRequestHandler(e,t){var n,r,s;const o=(0,a.getObjectShape)(e),c=null==o?void 0:o.method;if(!c)throw new Error("Schema is missing a method literal");let d;if((0,a.isZ4Schema)(c)){const e=c,t=null===(n=e._zod)||void 0===n?void 0:n.def;d=null!==(r=null==t?void 0:t.value)&&void 0!==r?r:e.value}else{const e=c,t=e._def;d=null!==(s=null==t?void 0:t.value)&&void 0!==s?s:e.value}if("string"!=typeof d)throw new Error("Schema method literal must be a string");const p=d;if("elicitation/create"===p){const n=async(e,n)=>{var r,s,o;const c=(0,a.safeParse)(i.ElicitRequestSchema,e);if(!c.success){const e=c.error instanceof Error?c.error.message:String(c.error);throw new i.McpError(i.ErrorCode.InvalidParams,`Invalid elicitation request: ${e}`)}const{params:d}=c.data,p=null!==(r=d.mode)&&void 0!==r?r:"form",{supportsFormMode:h,supportsUrlMode:f}=u(this._capabilities.elicitation);if("form"===p&&!h)throw new i.McpError(i.ErrorCode.InvalidParams,"Client does not support form-mode elicitation requests");if("url"===p&&!f)throw new i.McpError(i.ErrorCode.InvalidParams,"Client does not support URL-mode elicitation requests");const m=await Promise.resolve(t(e,n));if(d.task){const e=(0,a.safeParse)(i.CreateTaskResultSchema,m);if(!e.success){const t=e.error instanceof Error?e.error.message:String(e.error);throw new i.McpError(i.ErrorCode.InvalidParams,`Invalid task creation result: ${t}`)}return e.data}const y=(0,a.safeParse)(i.ElicitResultSchema,m);if(!y.success){const e=y.error instanceof Error?y.error.message:String(y.error);throw new i.McpError(i.ErrorCode.InvalidParams,`Invalid elicitation result: ${e}`)}const g=y.data,v="form"===p?d.requestedSchema:void 0;if("form"===p&&"accept"===g.action&&g.content&&v&&(null===(o=null===(s=this._capabilities.elicitation)||void 0===s?void 0:s.form)||void 0===o?void 0:o.applyDefaults))try{l(v,g.content)}catch(e){}return g};return super.setRequestHandler(e,n)}if("sampling/createMessage"===p){const n=async(e,n)=>{const r=(0,a.safeParse)(i.CreateMessageRequestSchema,e);if(!r.success){const e=r.error instanceof Error?r.error.message:String(r.error);throw new i.McpError(i.ErrorCode.InvalidParams,`Invalid sampling request: ${e}`)}const{params:s}=r.data,o=await Promise.resolve(t(e,n));if(s.task){const e=(0,a.safeParse)(i.CreateTaskResultSchema,o);if(!e.success){const t=e.error instanceof Error?e.error.message:String(e.error);throw new i.McpError(i.ErrorCode.InvalidParams,`Invalid task creation result: ${t}`)}return e.data}const c=(0,a.safeParse)(i.CreateMessageResultSchema,o);if(!c.success){const e=c.error instanceof Error?c.error.message:String(c.error);throw new i.McpError(i.ErrorCode.InvalidParams,`Invalid sampling result: ${e}`)}return c.data};return super.setRequestHandler(e,n)}return super.setRequestHandler(e,t)}assertCapability(e,t){var n;if(!(null===(n=this._serverCapabilities)||void 0===n?void 0:n[e]))throw new Error(`Server does not support ${e} (required for ${t})`)}async connect(e,t){if(await super.connect(e),void 0===e.sessionId)try{const n=await this.request({method:"initialize",params:{protocolVersion:i.LATEST_PROTOCOL_VERSION,capabilities:this._capabilities,clientInfo:this._clientInfo}},i.InitializeResultSchema,t);if(void 0===n)throw new Error(`Server sent invalid initialize result: ${n}`);if(!i.SUPPORTED_PROTOCOL_VERSIONS.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(n.protocolVersion),this._instructions=n.instructions,await this.notification({method:"notifications/initialized"})}catch(e){throw this.close(),e}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){var t,n,r,i,s;switch(e){case"logging/setLevel":if(!(null===(t=this._serverCapabilities)||void 0===t?void 0:t.logging))throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!(null===(n=this._serverCapabilities)||void 0===n?void 0:n.prompts))throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(null===(r=this._serverCapabilities)||void 0===r?void 0:r.resources))throw new Error(`Server does not support resources (required for ${e})`);if("resources/subscribe"===e&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!(null===(i=this._serverCapabilities)||void 0===i?void 0:i.tools))throw new Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!(null===(s=this._serverCapabilities)||void 0===s?void 0:s.completions))throw new Error(`Server does not support completions (required for ${e})`)}}assertNotificationCapability(e){var t;if("notifications/roots/list_changed"===e&&!(null===(t=this._capabilities.roots)||void 0===t?void 0:t.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${e})`)}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Client does not support tasks capability (required for ${e})`)}}assertTaskCapability(e){var t,n;(0,c.assertToolsCallTaskCapability)(null===(n=null===(t=this._serverCapabilities)||void 0===t?void 0:t.tasks)||void 0===n?void 0:n.requests,e,"Server")}assertTaskHandlerCapability(e){var t;this._capabilities&&(0,c.assertClientRequestTaskCapability)(null===(t=this._capabilities.tasks)||void 0===t?void 0:t.requests,e,"Client")}async ping(e){return this.request({method:"ping"},i.EmptyResultSchema,e)}async complete(e,t){return this.request({method:"completion/complete",params:e},i.CompleteResultSchema,t)}async setLoggingLevel(e,t){return this.request({method:"logging/setLevel",params:{level:e}},i.EmptyResultSchema,t)}async getPrompt(e,t){return this.request({method:"prompts/get",params:e},i.GetPromptResultSchema,t)}async listPrompts(e,t){return this.request({method:"prompts/list",params:e},i.ListPromptsResultSchema,t)}async listResources(e,t){return this.request({method:"resources/list",params:e},i.ListResourcesResultSchema,t)}async listResourceTemplates(e,t){return this.request({method:"resources/templates/list",params:e},i.ListResourceTemplatesResultSchema,t)}async readResource(e,t){return this.request({method:"resources/read",params:e},i.ReadResourceResultSchema,t)}async subscribeResource(e,t){return this.request({method:"resources/subscribe",params:e},i.EmptyResultSchema,t)}async unsubscribeResource(e,t){return this.request({method:"resources/unsubscribe",params:e},i.EmptyResultSchema,t)}async callTool(e,t=i.CallToolResultSchema,n){if(this.isToolTaskRequired(e.name))throw new i.McpError(i.ErrorCode.InvalidRequest,`Tool "${e.name}" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);const r=await this.request({method:"tools/call",params:e},t,n),s=this.getToolOutputValidator(e.name);if(s){if(!r.structuredContent&&!r.isError)throw new i.McpError(i.ErrorCode.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(r.structuredContent)try{const e=s(r.structuredContent);if(!e.valid)throw new i.McpError(i.ErrorCode.InvalidParams,`Structured content does not match the tool's output schema: ${e.errorMessage}`)}catch(e){if(e instanceof i.McpError)throw e;throw new i.McpError(i.ErrorCode.InvalidParams,`Failed to validate structured content: ${e instanceof Error?e.message:String(e)}`)}}return r}isToolTask(e){var t,n,r,i;return!!(null===(i=null===(r=null===(n=null===(t=this._serverCapabilities)||void 0===t?void 0:t.tasks)||void 0===n?void 0:n.requests)||void 0===r?void 0:r.tools)||void 0===i?void 0:i.call)&&this._cachedKnownTaskTools.has(e)}isToolTaskRequired(e){return this._cachedRequiredTaskTools.has(e)}cacheToolMetadata(e){var t;this._cachedToolOutputValidators.clear(),this._cachedKnownTaskTools.clear(),this._cachedRequiredTaskTools.clear();for(const n of e){if(n.outputSchema){const e=this._jsonSchemaValidator.getValidator(n.outputSchema);this._cachedToolOutputValidators.set(n.name,e)}const e=null===(t=n.execution)||void 0===t?void 0:t.taskSupport;"required"!==e&&"optional"!==e||this._cachedKnownTaskTools.add(n.name),"required"===e&&this._cachedRequiredTaskTools.add(n.name)}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,t){const n=await this.request({method:"tools/list",params:e},i.ListToolsResultSchema,t);return this.cacheToolMetadata(n.tools),n}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}t.Client=d},83383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addComment=function(e,t,n){i(this.node,e,t,n)},t.addComments=function(e,t){s(this.node,e,t)},t.shareCommentsWithSiblings=function(){if("string"==typeof this.key)return;const e=this.node;if(!e)return;const t=e.trailingComments,n=e.leadingComments;if(!t&&!n)return;const r=this.getSibling(this.key-1),i=this.getSibling(this.key+1),s=Boolean(r.node),o=Boolean(i.node);s&&(n&&r.addComments("trailing",a(n,r.node.trailingComments)),t&&!o&&r.addComments("trailing",t)),o&&(t&&i.addComments("leading",a(t,i.node.leadingComments)),n&&!s&&i.addComments("leading",n))};var r=n(2352);const{addComment:i,addComments:s}=r;function a(e,t){if(null==t||!t.length)return e;const n=new Set(t);return e.filter(e=>!n.has(e))}},83436:e=>{"use strict";const t="win32"===process.platform;function n(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function r(e,r){return t&&1===e&&!r.file?n(r.original,"spawn"):null}e.exports={hookChildProcess:function(e,n){if(!t)return;const i=e.emit;e.emit=function(t,s){if("exit"===t){const t=r(s,n);if(t)return i.call(e,"error",t)}return i.apply(e,arguments)}},verifyENOENT:r,verifyENOENTSync:function(e,r){return t&&1===e&&!r.file?n(r.original,"spawnSync"):null},notFoundError:n}},83488:e=>{e.exports=function(e){return e}},83501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99048),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const s=t.name("valid");n.forEach((t,n)=>{if((0,r.alwaysValidSchema)(i,t))return;const a=e.subschema({keyword:"allOf",schemaProp:n},s);e.ok(s),e.mergeEvaluated(a)})}};t.default=i},84058:(e,t,n)=>{var r=n(14792),i=n(45539)(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=i},84229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStores=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(33338)),a=n(33338),o=r.__importStar(n(43766)),c=n(43766),l=n(75552),u=n(262),d=n(54815);class p extends i.APIResource{constructor(){super(...arguments),this.files=new o.Files(this._client),this.fileBatches=new s.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:(0,u.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(d.path`/vector_stores/${e}`,{...t,headers:(0,u.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(d.path`/vector_stores/${e}`,{body:t,...n,headers:(0,u.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",l.CursorPage,{query:e,...t,headers:(0,u.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(d.path`/vector_stores/${e}`,{...t,headers:(0,u.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,n){return this._client.getAPIList(d.path`/vector_stores/${e}/search`,l.Page,{body:t,method:"post",...n,headers:(0,u.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.VectorStores=p,p.Files=c.Files,p.FileBatches=a.FileBatches},84247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},84368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51980),i=n(66596),s=n(99048),a=n(99048),o={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:o,parentSchema:c,it:l}=e,{opts:u}=l,d=(0,r.allSchemaProperties)(n),p=d.filter(e=>(0,s.alwaysValidSchema)(l,n[e]));if(0===d.length||p.length===d.length&&(!l.opts.unevaluated||!0===l.props))return;const h=u.strictSchema&&!u.allowMatchingProperties&&c.properties,f=t.name("valid");!0===l.props||l.props instanceof i.Name||(l.props=(0,a.evaluatedPropsToName)(t,l.props));const{props:m}=l;function y(e){for(const t in h)new RegExp(e).test(t)&&(0,s.checkStrictMode)(l,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(n){t.forIn("key",o,s=>{t.if(i._`${(0,r.usePattern)(e,n)}.test(${s})`,()=>{const r=p.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:s,dataPropType:a.Type.Str},f),l.opts.unevaluated&&!0!==m?t.assign(i._`${m}[${s}]`,!0):r||l.allErrors||t.if((0,i.not)(f),()=>t.break())})})}!function(){for(const e of d)h&&y(e),l.allErrors?g(e):(t.var(f,!0),g(e),t.if(f))}()}};t.default=o},85004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&/^[a-z]/.test(e)}},85187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDateDef=void 0;const r=n(98950);t.parseDateDef=function e(t,n,r){const s=r??n.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((r,i)=>e(t,n,r))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return i(t,n)}};const i=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const i of e.checks)switch(i.kind){case"min":(0,r.setResponseValueAndErrors)(n,"minimum",i.value,i.message,t);break;case"max":(0,r.setResponseValueAndErrors)(n,"maximum",i.value,i.message,t)}return n}},85279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!0,n=!1){return c(e,t,n,new Map)};var r=n(39793),i=n(98960);const{hasOwn:s}={hasOwn:Function.call.bind(Object.prototype.hasOwnProperty)};function a(e,t,n,r){return e&&"string"==typeof e.type?c(e,t,n,r):e}function o(e,t,n,r){return Array.isArray(e)?e.map(e=>a(e,t,n,r)):a(e,t,n,r)}function c(e,t=!0,n=!1,a){if(!e)return e;const{type:c}=e,u={type:e.type};if((0,i.isIdentifier)(e))u.name=e.name,s(e,"optional")&&"boolean"==typeof e.optional&&(u.optional=e.optional),s(e,"typeAnnotation")&&(u.typeAnnotation=t?o(e.typeAnnotation,!0,n,a):e.typeAnnotation),s(e,"decorators")&&(u.decorators=t?o(e.decorators,!0,n,a):e.decorators);else{if(!s(r.NODE_FIELDS,c))throw new Error(`Unknown node type: "${c}"`);for(const d of Object.keys(r.NODE_FIELDS[c]))s(e,d)&&(u[d]=t?(0,i.isFile)(e)&&"comments"===d?l(e.comments,t,n,a):o(e[d],!0,n,a):e[d])}return s(e,"loc")&&(u.loc=n?null:e.loc),s(e,"leadingComments")&&(u.leadingComments=l(e.leadingComments,t,n,a)),s(e,"innerComments")&&(u.innerComments=l(e.innerComments,t,n,a)),s(e,"trailingComments")&&(u.trailingComments=l(e.trailingComments,t,n,a)),s(e,"extra")&&(u.extra=Object.assign({},e.extra)),u}function l(e,t,n,r){return e&&t?e.map(e=>{const t=r.get(e);if(t)return t;const{type:i,value:s,loc:a}=e,o={type:i,value:s,loc:a};return n&&(o.loc=null),r.set(e,o),o}):e}},85296:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.FileHashCache=void 0,t.getFileHashCache=function(){return d||(d=new u),d};const o=a(n(79896)),c=a(n(16928)),l=a(n(76982));class u{cacheDir="";hashCachePath="";metadataPath="";hashCache=new Map;workspaceRoot="";isInitialized=!1;static CACHE_VERSION="1.0.0";static HASH_ALGORITHM="md5";async initialize(e){this.workspaceRoot=e,this.cacheDir=c.join(e,".doc_sync","cache"),this.hashCachePath=c.join(this.cacheDir,"file_hashes.json"),this.metadataPath=c.join(this.cacheDir,"cache_metadata.json"),o.existsSync(this.cacheDir)||o.mkdirSync(this.cacheDir,{recursive:!0}),await this.loadCache(),this.isInitialized=!0}async loadCache(){try{if(o.existsSync(this.hashCachePath)){const e=JSON.parse(o.readFileSync(this.hashCachePath,"utf-8"));e.version===u.CACHE_VERSION?(this.hashCache=new Map(Object.entries(e.entries)),console.log(`Loaded ${this.hashCache.size} cached file hashes`)):(console.log("Cache version mismatch, rebuilding..."),this.hashCache=new Map)}}catch(e){console.error("Failed to load hash cache:",e),this.hashCache=new Map}}async saveCache(){try{const e={version:u.CACHE_VERSION,entries:Object.fromEntries(this.hashCache)};o.writeFileSync(this.hashCachePath,JSON.stringify(e,null,2));const t={version:u.CACHE_VERSION,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),workspaceRoot:this.workspaceRoot,totalFiles:this.hashCache.size};o.writeFileSync(this.metadataPath,JSON.stringify(t,null,2)),console.log(`Saved ${this.hashCache.size} file hashes to cache`)}catch(e){console.error("Failed to save hash cache:",e)}}calculateFileHash(e){try{const t=o.readFileSync(e);return l.createHash(u.HASH_ALGORITHM).update(t).digest("hex")}catch(t){return console.error(`Failed to hash file ${e}:`,t),""}}getFileStats(e){try{const t=o.statSync(e);return{mtime:t.mtimeMs,size:t.size}}catch{return null}}hasFileChangedQuick(e,t){const n=this.getFileStats(e);return!n||n.mtime!==t.lastModified||n.size!==t.size}async detectChanges(e){const t={added:[],modified:[],deleted:[],unchanged:[],totalFiles:e.length,changedCount:0},n=new Set(e),r=new Set(this.hashCache.keys());for(const n of e){c.relative(this.workspaceRoot,n);const e=this.hashCache.get(n);if(e)if(this.hasFileChangedQuick(n,e))if(this.calculateFileHash(n)!==e.hash)t.modified.push(n);else{t.unchanged.push(n);const r=this.getFileStats(n);r&&(e.lastModified=r.mtime,e.size=r.size)}else t.unchanged.push(n);else t.added.push(n)}for(const e of r)n.has(e)||t.deleted.push(e);return t.changedCount=t.added.length+t.modified.length+t.deleted.length,t}updateEntry(e,t){const n=this.getFileStats(e);if(!n)return;const r=this.calculateFileHash(e),i=c.relative(this.workspaceRoot,e);this.hashCache.set(e,{filePath:e,relativePath:i,hash:r,lastModified:n.mtime,size:n.size,nodeIds:t})}removeEntry(e){const t=this.hashCache.get(e),n=t?.nodeIds||[];return this.hashCache.delete(e),n}hasEntry(e){return this.hashCache.has(e)}getNodeIds(e){return this.hashCache.get(e)?.nodeIds||[]}async getFileHash(e){const t=this.hashCache.get(e);return t?.hash||null}async setFileHash(e,t){const n=this.getFileStats(e),r={filePath:e,relativePath:c.relative(this.workspaceRoot,e),hash:t,lastModified:n?.mtime||Date.now(),size:n?.size||0,nodeIds:this.hashCache.get(e)?.nodeIds||[]};this.hashCache.set(e,r)}clearCache(){this.hashCache.clear()}getStats(){return{totalFiles:this.hashCache.size,cacheSize:this.hashCachePath&&o.existsSync(this.hashCachePath)?o.statSync(this.hashCachePath).size:0}}isReady(){return this.isInitialized}}t.FileHashCache=u;let d=null},85311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32017);r.code='require("ajv/dist/runtime/equal").default',t.default=r},85333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t={}){const n=t.preserveComments?i:s;for(const t of n)null!=e[t]&&(e[t]=void 0);for(const t of Object.keys(e))"_"===t[0]&&null!=e[t]&&(e[t]=void 0);const r=Object.getOwnPropertySymbols(e);for(const t of r)e[t]=null};var r=n(93422);const i=["tokens","start","end","loc","raw","rawValue"],s=[...r.COMMENT_KEYS,"comments",...i]},85689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_ALIASES=void 0,t.DEPRECATED_ALIASES={ModuleDeclaration:"ImportOrExportDeclaration"}},86003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(51109)),a=n(51109),o=n(75552),c=n(54815);class l extends i.APIResource{constructor(){super(...arguments),this.outputItems=new s.OutputItems(this._client)}create(e,t,n){return this._client.post(c.path`/evals/${e}/runs`,{body:t,...n})}retrieve(e,t,n){const{eval_id:r}=t;return this._client.get(c.path`/evals/${r}/runs/${e}`,n)}list(e,t={},n){return this._client.getAPIList(c.path`/evals/${e}/runs`,o.CursorPage,{query:t,...n})}delete(e,t,n){const{eval_id:r}=t;return this._client.delete(c.path`/evals/${r}/runs/${e}`,n)}cancel(e,t,n){const{eval_id:r}=t;return this._client.post(c.path`/evals/${r}/runs/${e}`,n)}}t.Runs=l,l.OutputItems=a.OutputItems},86009:(e,t,n)=>{e=n.nmd(e);var r=n(34840),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i&&r.process,o=function(){try{return s&&s.require&&s.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o},86188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequestDetails=t.parseLogLevel=void 0,t.loggerFor=l;const r=n(15734),i={off:0,error:200,warn:300,info:400,debug:500};function s(){}function a(e,t,n){return!t||i[e]>i[n]?s:t[e].bind(t)}t.parseLogLevel=(e,t,n)=>{if(e)return(0,r.hasOwn)(i,e)?e:void l(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(i))}`)};const o={error:s,warn:s,info:s,debug:s};let c=new WeakMap;function l(e){const t=e.logger,n=e.logLevel??"off";if(!t)return o;const r=c.get(t);if(r&&r[0]===n)return r[1];const i={error:a("error",t,n),warn:a("warn",t,n),info:a("info",t,n),debug:a("debug",t,n)};return c.set(t,[n,i]),i}t.formatRequestDetails=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e)},86379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelativePath=void 0,t.getRelativePath=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")}},86501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48343);r.code='require("ajv/dist/runtime/uri").default',t.default=r},86631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allProcessors=t.lazyProcessor=t.optionalProcessor=t.promiseProcessor=t.readonlyProcessor=t.pipeProcessor=t.catchProcessor=t.prefaultProcessor=t.defaultProcessor=t.nonoptionalProcessor=t.nullableProcessor=t.recordProcessor=t.tupleProcessor=t.intersectionProcessor=t.unionProcessor=t.objectProcessor=t.arrayProcessor=t.setProcessor=t.mapProcessor=t.transformProcessor=t.functionProcessor=t.customProcessor=t.successProcessor=t.fileProcessor=t.templateLiteralProcessor=t.nanProcessor=t.literalProcessor=t.enumProcessor=t.dateProcessor=t.unknownProcessor=t.anyProcessor=t.neverProcessor=t.voidProcessor=t.undefinedProcessor=t.nullProcessor=t.symbolProcessor=t.bigintProcessor=t.booleanProcessor=t.numberProcessor=t.stringProcessor=void 0,t.toJSONSchema=function(e,n){if("_idmap"in e){const i=e,s=(0,r.initializeContext)({...n,processors:t.allProcessors}),a={};for(const e of i._idmap.entries()){const[t,n]=e;(0,r.process)(n,s)}const o={},c={registry:i,uri:n?.uri,defs:a};s.external=c;for(const e of i._idmap.entries()){const[t,n]=e;(0,r.extractDefs)(s,n),o[t]=(0,r.finalize)(s,n)}if(Object.keys(a).length>0){const e="draft-2020-12"===s.target?"$defs":"definitions";o.__shared={[e]:a}}return{schemas:o}}const i=(0,r.initializeContext)({...n,processors:t.allProcessors});return(0,r.process)(e,i),(0,r.extractDefs)(i,e),(0,r.finalize)(i,e)};const r=n(70485),i=n(90523),s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""};t.stringProcessor=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:a,maximum:o,format:c,patterns:l,contentEncoding:u}=e._zod.bag;if("number"==typeof a&&(i.minLength=a),"number"==typeof o&&(i.maxLength=o),c&&(i.format=s[c]??c,""===i.format&&delete i.format),u&&(i.contentEncoding=u),l&&l.size>0){const e=[...l];1===e.length?i.pattern=e[0].source:e.length>1&&(i.allOf=[...e.map(e=>({..."draft-07"===t.target||"draft-04"===t.target||"openapi-3.0"===t.target?{type:"string"}:{},pattern:e.source}))])}},t.numberProcessor=(e,t,n,r)=>{const i=n,{minimum:s,maximum:a,format:o,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=e._zod.bag;"string"==typeof o&&o.includes("int")?i.type="integer":i.type="number","number"==typeof u&&("draft-04"===t.target||"openapi-3.0"===t.target?(i.minimum=u,i.exclusiveMinimum=!0):i.exclusiveMinimum=u),"number"==typeof s&&(i.minimum=s,"number"==typeof u&&"draft-04"!==t.target&&(u>=s?delete i.minimum:delete i.exclusiveMinimum)),"number"==typeof l&&("draft-04"===t.target||"openapi-3.0"===t.target?(i.maximum=l,i.exclusiveMaximum=!0):i.exclusiveMaximum=l),"number"==typeof a&&(i.maximum=a,"number"==typeof l&&"draft-04"!==t.target&&(l<=a?delete i.maximum:delete i.exclusiveMaximum)),"number"==typeof c&&(i.multipleOf=c)},t.booleanProcessor=(e,t,n,r)=>{n.type="boolean"},t.bigintProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema")},t.symbolProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema")},t.nullProcessor=(e,t,n,r)=>{"openapi-3.0"===t.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},t.undefinedProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema")},t.voidProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Void cannot be represented in JSON Schema")},t.neverProcessor=(e,t,n,r)=>{n.not={}},t.anyProcessor=(e,t,n,r)=>{},t.unknownProcessor=(e,t,n,r)=>{},t.dateProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Date cannot be represented in JSON Schema")},t.enumProcessor=(e,t,n,r)=>{const s=e._zod.def,a=(0,i.getEnumValues)(s.entries);a.every(e=>"number"==typeof e)&&(n.type="number"),a.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=a},t.literalProcessor=(e,t,n,r)=>{const i=e._zod.def,s=[];for(const e of i.values)if(void 0===e){if("throw"===t.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===t.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(e))}else s.push(e);if(0===s.length);else if(1===s.length){const e=s[0];n.type=null===e?"null":typeof e,"draft-04"===t.target||"openapi-3.0"===t.target?n.enum=[e]:n.const=e}else s.every(e=>"number"==typeof e)&&(n.type="number"),s.every(e=>"string"==typeof e)&&(n.type="string"),s.every(e=>"boolean"==typeof e)&&(n.type="boolean"),s.every(e=>null===e)&&(n.type="null"),n.enum=s},t.nanProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema")},t.templateLiteralProcessor=(e,t,n,r)=>{const i=n,s=e._zod.pattern;if(!s)throw new Error("Pattern not found in template literal");i.type="string",i.pattern=s.source},t.fileProcessor=(e,t,n,r)=>{const i=n,s={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:o,mime:c}=e._zod.bag;void 0!==a&&(s.minLength=a),void 0!==o&&(s.maxLength=o),c?1===c.length?(s.contentMediaType=c[0],Object.assign(i,s)):i.anyOf=c.map(e=>({...s,contentMediaType:e})):Object.assign(i,s)},t.successProcessor=(e,t,n,r)=>{n.type="boolean"},t.customProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")},t.functionProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")},t.transformProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")},t.mapProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Map cannot be represented in JSON Schema")},t.setProcessor=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw new Error("Set cannot be represented in JSON Schema")},t.arrayProcessor=(e,t,n,i)=>{const s=n,a=e._zod.def,{minimum:o,maximum:c}=e._zod.bag;"number"==typeof o&&(s.minItems=o),"number"==typeof c&&(s.maxItems=c),s.type="array",s.items=(0,r.process)(a.element,t,{...i,path:[...i.path,"items"]})},t.objectProcessor=(e,t,n,i)=>{const s=n,a=e._zod.def;s.type="object",s.properties={};const o=a.shape;for(const e in o)s.properties[e]=(0,r.process)(o[e],t,{...i,path:[...i.path,"properties",e]});const c=new Set(Object.keys(o)),l=new Set([...c].filter(e=>{const n=a.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));l.size>0&&(s.required=Array.from(l)),"never"===a.catchall?._zod.def.type?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=(0,r.process)(a.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):"output"===t.io&&(s.additionalProperties=!1)},t.unionProcessor=(e,t,n,i)=>{const s=e._zod.def,a=!1===s.inclusive,o=s.options.map((e,n)=>(0,r.process)(e,t,{...i,path:[...i.path,a?"oneOf":"anyOf",n]}));a?n.oneOf=o:n.anyOf=o},t.intersectionProcessor=(e,t,n,i)=>{const s=e._zod.def,a=(0,r.process)(s.left,t,{...i,path:[...i.path,"allOf",0]}),o=(0,r.process)(s.right,t,{...i,path:[...i.path,"allOf",1]}),c=e=>"allOf"in e&&1===Object.keys(e).length,l=[...c(a)?a.allOf:[a],...c(o)?o.allOf:[o]];n.allOf=l},t.tupleProcessor=(e,t,n,i)=>{const s=n,a=e._zod.def;s.type="array";const o="draft-2020-12"===t.target?"prefixItems":"items",c="draft-2020-12"===t.target||"openapi-3.0"===t.target?"items":"additionalItems",l=a.items.map((e,n)=>(0,r.process)(e,t,{...i,path:[...i.path,o,n]})),u=a.rest?(0,r.process)(a.rest,t,{...i,path:[...i.path,c,..."openapi-3.0"===t.target?[a.items.length]:[]]}):null;"draft-2020-12"===t.target?(s.prefixItems=l,u&&(s.items=u)):"openapi-3.0"===t.target?(s.items={anyOf:l},u&&s.items.anyOf.push(u),s.minItems=l.length,u||(s.maxItems=l.length)):(s.items=l,u&&(s.additionalItems=u));const{minimum:d,maximum:p}=e._zod.bag;"number"==typeof d&&(s.minItems=d),"number"==typeof p&&(s.maxItems=p)},t.recordProcessor=(e,t,n,i)=>{const s=n,a=e._zod.def;s.type="object","draft-07"!==t.target&&"draft-2020-12"!==t.target||(s.propertyNames=(0,r.process)(a.keyType,t,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=(0,r.process)(a.valueType,t,{...i,path:[...i.path,"additionalProperties"]})},t.nullableProcessor=(e,t,n,i)=>{const s=e._zod.def,a=(0,r.process)(s.innerType,t,i),o=t.seen.get(e);"openapi-3.0"===t.target?(o.ref=s.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},t.nonoptionalProcessor=(e,t,n,i)=>{const s=e._zod.def;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType},t.defaultProcessor=(e,t,n,i)=>{const s=e._zod.def;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},t.prefaultProcessor=(e,t,n,i)=>{const s=e._zod.def;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},t.catchProcessor=(e,t,n,i)=>{const s=e._zod.def;let a;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},t.pipeProcessor=(e,t,n,i)=>{const s=e._zod.def,a="input"===t.io?"transform"===s.in._zod.def.type?s.out:s.in:s.out;(0,r.process)(a,t,i),t.seen.get(e).ref=a},t.readonlyProcessor=(e,t,n,i)=>{const s=e._zod.def;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType,n.readOnly=!0},t.promiseProcessor=(e,t,n,i)=>{const s=e._zod.def;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType},t.optionalProcessor=(e,t,n,i)=>{const s=e._zod.def;(0,r.process)(s.innerType,t,i),t.seen.get(e).ref=s.innerType},t.lazyProcessor=(e,t,n,i)=>{const s=e._zod.innerType;(0,r.process)(s,t,i),t.seen.get(e).ref=s},t.allProcessors={string:t.stringProcessor,number:t.numberProcessor,boolean:t.booleanProcessor,bigint:t.bigintProcessor,symbol:t.symbolProcessor,null:t.nullProcessor,undefined:t.undefinedProcessor,void:t.voidProcessor,never:t.neverProcessor,any:t.anyProcessor,unknown:t.unknownProcessor,date:t.dateProcessor,enum:t.enumProcessor,literal:t.literalProcessor,nan:t.nanProcessor,template_literal:t.templateLiteralProcessor,file:t.fileProcessor,success:t.successProcessor,custom:t.customProcessor,function:t.functionProcessor,transform:t.transformProcessor,map:t.mapProcessor,set:t.setProcessor,array:t.arrayProcessor,object:t.objectProcessor,union:t.unionProcessor,intersection:t.intersectionProcessor,tuple:t.tupleProcessor,record:t.recordProcessor,nullable:t.nullableProcessor,nonoptional:t.nonoptionalProcessor,default:t.defaultProcessor,prefault:t.prefaultProcessor,catch:t.catchProcessor,pipe:t.pipeProcessor,readonly:t.readonlyProcessor,promise:t.promiseProcessor,optional:t.optionalProcessor,lazy:t.lazyProcessor}},86814:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(23874),i=n(25781),s=(n(13019),n(33599)),a=n(2352),o=a,c=n(37411);const l=n(80120),u=n(59961),{assignmentExpression:d,callExpression:p,cloneNode:h,getBindingIdentifiers:f,identifier:m,isArrayExpression:y,isBinary:g,isCallExpression:v,isClass:b,isClassBody:S,isClassDeclaration:T,isExportAllDeclaration:_,isExportDefaultDeclaration:P,isExportNamedDeclaration:E,isFunctionDeclaration:x,isIdentifier:w,isImportDeclaration:A,isLiteral:O,isMemberExpression:I,isMethod:C,isModuleSpecifier:k,isNullLiteral:N,isObjectExpression:L,isProperty:$,isPureish:M,isRegExpLiteral:R,isSuper:j,isTaggedTemplateExpression:D,isTemplateLiteral:U,isThisExpression:F,isUnaryExpression:B,isVariableDeclaration:Z,expressionStatement:z,matchesPattern:V,memberExpression:q,numericLiteral:K,toIdentifier:W,variableDeclaration:G,variableDeclarator:J,isRecordExpression:H,isTupleExpression:Y,isObjectProperty:X,isTopicReference:Q,isMetaProperty:ee,isPrivateName:te,isExportDeclaration:ne,buildUndefinedNode:re,sequenceExpression:ie}=a;function se(e,t){switch(null==e?void 0:e.type){default:var n;if(A(e)||ne(e))if((_(e)||E(e)||A(e))&&e.source)se(e.source,t);else if((E(e)||A(e))&&null!=(n=e.specifiers)&&n.length)for(const n of e.specifiers)se(n,t);else(P(e)||E(e))&&e.declaration&&se(e.declaration,t);else k(e)?se(e.local,t):!O(e)||N(e)||R(e)||U(e)||t.push(e.value);break;case"MemberExpression":case"OptionalMemberExpression":case"JSXMemberExpression":se(e.object,t),se(e.property,t);break;case"Identifier":case"JSXIdentifier":t.push(e.name);break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":se(e.callee,t);break;case"ObjectExpression":case"ObjectPattern":for(const n of e.properties)se(n,t);break;case"SpreadElement":case"RestElement":case"UnaryExpression":case"UpdateExpression":se(e.argument,t);break;case"ObjectProperty":case"ObjectMethod":case"ClassProperty":case"ClassMethod":case"ClassPrivateProperty":case"ClassPrivateMethod":se(e.key,t);break;case"ThisExpression":t.push("this");break;case"Super":t.push("super");break;case"Import":case"ImportExpression":t.push("import");break;case"DoExpression":t.push("do");break;case"YieldExpression":t.push("yield"),se(e.argument,t);break;case"AwaitExpression":t.push("await"),se(e.argument,t);break;case"AssignmentExpression":se(e.left,t);break;case"VariableDeclarator":case"FunctionExpression":case"FunctionDeclaration":case"ClassExpression":case"ClassDeclaration":case"PrivateName":se(e.id,t);break;case"ParenthesizedExpression":se(e.expression,t);break;case"MetaProperty":se(e.meta,t),se(e.property,t);break;case"JSXElement":se(e.openingElement,t);break;case"JSXOpeningElement":se(e.name,t);break;case"JSXFragment":se(e.openingFragment,t);break;case"JSXOpeningFragment":t.push("Fragment");break;case"JSXNamespacedName":se(e.namespace,t),se(e.name,t)}}function ae(e){e.references=Object.create(null),e.uids=Object.create(null),e.bindings=Object.create(null),e.globals=Object.create(null)}var oe=Symbol.for("should not be considered a local binding");const ce={ForStatement(e){const t=e.get("init");if(t.isVar()){const{scope:n}=e;(n.getFunctionParent()||n.getProgramParent()).registerBinding("var",t)}},Declaration(e){e.isBlockScoped()||e.isImportDeclaration()||e.isExportDeclaration()||(e.scope.getFunctionParent()||e.scope.getProgramParent()).registerDeclaration(e)},ImportDeclaration(e){e.scope.getBlockParent().registerDeclaration(e)},TSImportEqualsDeclaration(e){e.scope.getBlockParent().registerDeclaration(e)},ReferencedIdentifier(e,t){o.isTSQualifiedName(e.parent)&&e.parent.right===e.node||e.parentPath.isTSImportEqualsDeclaration()||t.references.push(e)},ForXStatement(e,t){const n=e.get("left");if(n.isPattern()||n.isIdentifier())t.constantViolations.push(e);else if(n.isVar()){const{scope:t}=e;(t.getFunctionParent()||t.getProgramParent()).registerBinding("var",n)}},ExportDeclaration:{exit(e){const{node:t,scope:n}=e;if(_(t))return;const r=t.declaration;if(T(r)||x(r)){const t=r.id;if(!t)return;const i=n.getBinding(t.name);null==i||i.reference(e)}else if(Z(r))for(const t of r.declarations)for(const r of Object.keys(f(t))){const t=n.getBinding(r);null==t||t.reference(e)}}},LabeledStatement(e){e.scope.getBlockParent().registerDeclaration(e)},AssignmentExpression(e,t){t.assignments.push(e)},UpdateExpression(e,t){t.constantViolations.push(e)},UnaryExpression(e,t){"delete"===e.node.operator&&t.constantViolations.push(e)},BlockScoped(e){let t=e.scope;if(t.path===e&&(t=t.parent),t.getBlockParent().registerDeclaration(e),e.isClassDeclaration()&&e.node.id){const t=e.node.id.name;e.scope.bindings[t]=e.scope.parent.getBinding(t)}},CatchClause(e){e.scope.registerBinding("let",e)},Function(e){const t=e.get("params");for(const n of t)e.scope.registerBinding("param",n);e.isFunctionExpression()&&e.node.id&&!e.node.id[oe]&&e.scope.registerBinding("local",e.get("id"),e)},ClassExpression(e){e.node.id&&!e.node.id[oe]&&e.scope.registerBinding("local",e.get("id"),e)},TSTypeAnnotation(e){e.skip()}};let le,ue=0;class de{constructor(e){this.uid=void 0,this.path=void 0,this.block=void 0,this.inited=void 0,this.labels=void 0,this.bindings=void 0,this.referencesSet=void 0,this.globals=void 0,this.uidsSet=void 0,this.data=void 0,this.crawling=void 0;const{node:t}=e,n=c.scope.get(t);if((null==n?void 0:n.path)===e)return n;c.scope.set(t,this),this.uid=ue++,this.block=t,this.path=e,this.labels=new Map,this.inited=!1,Object.defineProperties(this,{references:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)},uids:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)}})}get parent(){var e;let t,n=this.path;do{var r;const e="key"===n.key||"decorators"===n.listKey;n=n.parentPath,e&&n.isMethod()&&(n=n.parentPath),null!=(r=n)&&r.isScope()&&(t=n)}while(n&&!t);return null==(e=t)?void 0:e.scope}get references(){throw new Error("Scope#references is not available in Babel 8. Use Scope#referencesSet instead.")}get uids(){throw new Error("Scope#uids is not available in Babel 8. Use Scope#uidsSet instead.")}generateDeclaredUidIdentifier(e){const t=this.generateUidIdentifier(e);return this.push({id:t}),h(t)}generateUidIdentifier(e){return m(this.generateUid(e))}generateUid(e="temp"){let t;e=W(e).replace(/^_+/,"").replace(/\d+$/g,"");let n=0;do{t=`_${e}`,n>=11?t+=n-1:n>=9?t+=n-9:n>=1&&(t+=n+1),n++}while(this.hasLabel(t)||this.hasBinding(t)||this.hasGlobal(t)||this.hasReference(t));const r=this.getProgramParent();return r.references[t]=!0,r.uids[t]=!0,t}generateUidBasedOnNode(e,t){const n=[];se(e,n);let r=n.join("$");return r=r.replace(/^_/,"")||t||"ref",this.generateUid(r.slice(0,20))}generateUidIdentifierBasedOnNode(e,t){return m(this.generateUidBasedOnNode(e,t))}isStatic(e){if(F(e)||j(e)||Q(e))return!0;if(w(e)){const t=this.getBinding(e.name);return t?t.constant:this.hasBinding(e.name)}return!1}maybeGenerateMemoised(e,t){if(this.isStatic(e))return null;{const n=this.generateUidIdentifierBasedOnNode(e);return t?n:(this.push({id:n}),h(n))}}checkBlockScopedCollisions(e,t,n,r){if("param"!==t&&"local"!==e.kind&&("let"===t||"let"===e.kind||"const"===e.kind||"module"===e.kind||"param"===e.kind&&"const"===t))throw this.path.hub.buildError(r,`Duplicate declaration "${n}"`,TypeError)}rename(e,t){const n=this.getBinding(e);n&&(t||(t=this.generateUidIdentifier(e).name),new r.default(n,e,t).rename(arguments[2]))}dump(){const e="-".repeat(60);console.log(e);let t=this;do{console.log("#",t.block.type);for(const e of Object.keys(t.bindings)){const n=t.bindings[e];console.log(" -",e,{constant:n.constant,references:n.references,violations:n.constantViolations.length,kind:n.kind})}}while(t=t.parent);console.log(e)}hasLabel(e){return!!this.getLabel(e)}getLabel(e){return this.labels.get(e)}registerLabel(e){this.labels.set(e.node.label.name,e)}registerDeclaration(e){if(e.isLabeledStatement())this.registerLabel(e);else if(e.isFunctionDeclaration())this.registerBinding("hoisted",e.get("id"),e);else if(e.isVariableDeclaration()){const t=e.get("declarations"),{kind:n}=e.node;for(const e of t)this.registerBinding("using"===n||"await using"===n?"const":n,e)}else if(e.isClassDeclaration()){if(e.node.declare)return;this.registerBinding("let",e)}else if(e.isImportDeclaration()){const t="type"===e.node.importKind||"typeof"===e.node.importKind,n=e.get("specifiers");for(const e of n){const n=t||e.isImportSpecifier()&&("type"===e.node.importKind||"typeof"===e.node.importKind);this.registerBinding(n?"unknown":"module",e)}}else if(e.isExportDeclaration()){const t=e.get("declaration");(t.isClassDeclaration()||t.isFunctionDeclaration()||t.isVariableDeclaration())&&this.registerDeclaration(t)}else this.registerBinding("unknown",e)}buildUndefinedNode(){return re()}registerConstantViolation(e){const t=e.getAssignmentIdentifiers();for(const r of Object.keys(t)){var n;null==(n=this.getBinding(r))||n.reassign(e)}}registerBinding(e,t,n=t){if(!e)throw new ReferenceError("no `kind`");if(t.isVariableDeclaration()){const n=t.get("declarations");for(const t of n)this.registerBinding(e,t);return}const r=this.getProgramParent(),i=t.getOuterBindingIdentifiers(!0);for(const t of Object.keys(i)){r.references[t]=!0;for(const r of i[t]){const i=this.getOwnBinding(t);if(i){if(i.identifier===r)continue;this.checkBlockScopedCollisions(i,e,t,r)}i?i.reassign(n):this.bindings[t]=new s.default({identifier:r,scope:this,path:n,kind:e})}}}addGlobal(e){this.globals[e.name]=e}hasUid(e){{let t=this;do{if(t.uids[e])return!0}while(t=t.parent);return!1}}hasGlobal(e){let t=this;do{if(t.globals[e])return!0}while(t=t.parent);return!1}hasReference(e){return!!this.getProgramParent().references[e]}isPure(e,t){if(w(e)){const n=this.getBinding(e.name);return!!n&&(!t||n.constant)}if(F(e)||ee(e)||Q(e)||te(e))return!0;var n,r,i;if(b(e))return!(e.superClass&&!this.isPure(e.superClass,t))&&!((null==(n=e.decorators)?void 0:n.length)>0)&&this.isPure(e.body,t);if(S(e)){for(const n of e.body)if(!this.isPure(n,t))return!1;return!0}if(g(e))return this.isPure(e.left,t)&&this.isPure(e.right,t);if(y(e)||Y(e)){for(const n of e.elements)if(null!==n&&!this.isPure(n,t))return!1;return!0}if(L(e)||H(e)){for(const n of e.properties)if(!this.isPure(n,t))return!1;return!0}if(C(e))return!(e.computed&&!this.isPure(e.key,t)||(null==(r=e.decorators)?void 0:r.length)>0);if($(e))return!(e.computed&&!this.isPure(e.key,t)||(null==(i=e.decorators)?void 0:i.length)>0||(X(e)||e.static)&&null!==e.value&&!this.isPure(e.value,t));if(B(e))return this.isPure(e.argument,t);if(U(e)){for(const n of e.expressions)if(!this.isPure(n,t))return!1;return!0}return D(e)?V(e.tag,"String.raw")&&!this.hasBinding("String",{noGlobals:!0})&&this.isPure(e.quasi,t):I(e)?!e.computed&&w(e.object)&&"Symbol"===e.object.name&&w(e.property)&&"for"!==e.property.name&&!this.hasBinding("Symbol",{noGlobals:!0}):v(e)?V(e.callee,"Symbol.for")&&!this.hasBinding("Symbol",{noGlobals:!0})&&1===e.arguments.length&&o.isStringLiteral(e.arguments[0]):M(e)}setData(e,t){return this.data[e]=t}getData(e){let t=this;do{const n=t.data[e];if(null!=n)return n}while(t=t.parent)}removeData(e){let t=this;do{null!=t.data[e]&&(t.data[e]=null)}while(t=t.parent)}init(){this.inited||(this.inited=!0,this.crawl())}crawl(){const e=this.path;ae(this),this.data=Object.create(null);let t=this;do{if(t.crawling)return;if(t.path.isProgram())break}while(t=t.parent);const n=t,r={references:[],constantViolations:[],assignments:[]};if(this.crawling=!0,le||(le=i.default.visitors.merge([{Scope(e){ae(e.scope)}},ce])),"Program"!==e.type){const t=le[e.type];if(t)for(const n of t.enter)n.call(r,e,r)}e.traverse(le,r),this.crawling=!1;for(const e of r.assignments){const t=e.getAssignmentIdentifiers();for(const r of Object.keys(t))e.scope.getBinding(r)||n.addGlobal(t[r]);e.scope.registerConstantViolation(e)}for(const e of r.references){const t=e.scope.getBinding(e.node.name);t?t.reference(e):n.addGlobal(e.node)}for(const e of r.constantViolations)e.scope.registerConstantViolation(e)}push(e){let t=this.path;t.isPattern()?t=this.getPatternParent().path:t.isBlockStatement()||t.isProgram()||(t=this.getBlockParent().path),t.isSwitchStatement()&&(t=(this.getFunctionParent()||this.getProgramParent()).path);const{init:n,unique:r,kind:i="var",id:s}=e;if(!n&&!r&&("var"===i||"let"===i)&&function(e){return e.isFunctionExpression()&&!e.node.id||e.isArrowFunctionExpression()}(t)&&v(t.parent,{callee:t.node})&&t.parent.arguments.length<=t.node.params.length&&w(s))return t.pushContainer("params",s),void t.scope.registerBinding("param",t.get("params")[t.node.params.length-1]);(t.isLoop()||t.isCatchClause()||t.isFunction())&&(t.ensureBlock(),t=t.get("body"));const a=null==e._blockHoist?2:e._blockHoist,o=`declaration:${i}:${a}`;let c=!r&&t.getData(o);if(!c){const e=G(i,[]);e._blockHoist=a,[c]=t.unshiftContainer("body",[e]),r||t.setData(o,c)}const l=J(s,n),u=c.node.declarations.push(l);t.scope.registerBinding(i,c.get("declarations")[u-1])}getProgramParent(){let e=this;do{if(e.path.isProgram())return e}while(e=e.parent);throw new Error("Couldn't find a Program")}getFunctionParent(){let e=this;do{if(e.path.isFunctionParent())return e}while(e=e.parent);return null}getBlockParent(){let e=this;do{if(e.path.isBlockParent())return e}while(e=e.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getPatternParent(){let e=this;do{if(!e.path.isPattern())return e.getBlockParent()}while(e=e.parent.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getAllBindings(){const e=Object.create(null);let t=this;do{for(const n of Object.keys(t.bindings))n in e==0&&(e[n]=t.bindings[n]);t=t.parent}while(t);return e}bindingIdentifierEquals(e,t){return this.getBindingIdentifier(e)===t}getBinding(e){let t,n=this;do{const i=n.getOwnBinding(e);var r;if(i){if(null==(r=t)||!r.isPattern()||"param"===i.kind||"local"===i.kind)return i}else if(!i&&"arguments"===e&&n.path.isFunction()&&!n.path.isArrowFunctionExpression())break;t=n.path}while(n=n.parent)}getOwnBinding(e){return this.bindings[e]}getBindingIdentifier(e){var t;return null==(t=this.getBinding(e))?void 0:t.identifier}getOwnBindingIdentifier(e){const t=this.bindings[e];return null==t?void 0:t.identifier}hasOwnBinding(e){return!!this.getOwnBinding(e)}hasBinding(e,t){if(!e)return!1;let n,r,i;"object"==typeof t?(n=t.noGlobals,r=t.noUids,i=t.upToScope):"boolean"==typeof t&&(n=t);let s=this;do{if(i===s)break;if(s.hasOwnBinding(e))return!0}while(s=s.parent);return!(r||!this.hasUid(e))||!(n||!de.globals.includes(e))||!(n||!de.contextVariables.includes(e))}parentHasBinding(e,t){var n;return null==(n=this.parent)?void 0:n.hasBinding(e,t)}moveBindingTo(e,t){const n=this.getBinding(e);n&&(n.scope.removeOwnBinding(e),n.scope=t,t.bindings[e]=n)}removeOwnBinding(e){delete this.bindings[e]}removeBinding(e){var t;null==(t=this.getBinding(e))||t.scope.removeOwnBinding(e);{let t=this;do{t.uids[e]&&(t.uids[e]=!1)}while(t=t.parent)}}hoistVariables(e=e=>this.push({id:e})){this.crawl();const t=new Set;for(const n of Object.keys(this.bindings)){const r=this.bindings[n];if(!r)continue;const{path:i}=r;if(!i.isVariableDeclarator())continue;const{parent:s,parentPath:a}=i;if("var"!==s.kind||t.has(s))continue;let o;t.add(i.parent);const c=[];for(const t of s.declarations){null!=o||(o=t.id),t.init&&c.push(d("=",t.id,t.init));const n=Object.keys(f(t,!1,!0,!0));for(const r of n)e(m(r),null!=t.init)}if(a.parentPath.isForXStatement({left:s}))a.replaceWith(o);else if(0===c.length)a.remove();else{const e=1===c.length?c[0]:ie(c);a.parentPath.isForStatement({init:s})?a.replaceWith(e):a.replaceWith(z(e))}}}}t.default=de,de.globals=[...l,...u],de.contextVariables=["arguments","undefined","Infinity","NaN"],de.prototype._renameFromMap=function(e,t,n,r){e[t]&&(e[n]=r,e[t]=null)},de.prototype.traverse=function(e,t,n){(0,i.default)(e,t,this,n,this.path)},de.prototype._generateUid=function(e,t){let n=e;return t>1&&(n+=t),`_${n}`},de.prototype.toArray=function(e,t,n){if(w(e)){const t=this.getBinding(e.name);if(null!=t&&t.constant&&t.path.isGenericType("Array"))return e}if(y(e))return e;if(w(e,{name:"arguments"}))return p(q(q(q(m("Array"),m("prototype")),m("slice")),m("call")),[e]);let r;const i=[e];return!0===t?r="toConsumableArray":"number"==typeof t?(i.push(K(t)),r="slicedToArray"):r="toArray",n&&(i.unshift(this.path.hub.addHelper(r)),r="maybeArrayLike"),p(this.path.hub.addHelper(r),i)},de.prototype.getAllBindingsOfKind=function(...e){const t=Object.create(null);for(const n of e){let e=this;do{for(const r of Object.keys(e.bindings)){const i=e.bindings[r];i.kind===n&&(t[r]=i)}e=e.parent}while(e)}return t},Object.defineProperties(de.prototype,{parentBlock:{configurable:!0,enumerable:!0,get(){return this.path.parent}},hub:{configurable:!0,enumerable:!0,get(){return this.path.hub}}})},86836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},87054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRecordDef=void 0;const r=n(19164),i=n(73524),s=n(73178),a=n(46163),o=n(62909);t.parseRecordDef=function(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>({...n,[r]:(0,i.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??(0,o.parseAnyDef)(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:(0,i.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){const{type:r,...i}=(0,s.parseStringDef)(e.keyType._def,t);return{...n,propertyNames:i}}if(e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodBranded&&e.keyType._def.type._def.typeName===r.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.type._def.checks?.length){const{type:r,...i}=(0,a.parseBrandedDef)(e.keyType._def,t);return{...n,propertyNames:i}}return n}},87068:(e,t,n)=>{var r=n(37217),i=n(25911),s=n(21986),a=n(50689),o=n(5861),c=n(56449),l=n(3656),u=n(37167),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var v=c(e),b=c(t),S=v?p:o(e),T=b?p:o(t),_=(S=S==d?h:S)==h,P=(T=T==d?h:T)==h,E=S==T;if(E&&l(e)){if(!l(t))return!1;v=!0,_=!1}if(E&&!_)return g||(g=new r),v||u(e)?i(e,t,n,m,y,g):s(e,t,S,n,m,y,g);if(!(1&n)){var x=_&&f.call(e,"__wrapped__"),w=P&&f.call(t,"__wrapped__");if(x||w){var A=x?e.value():e,O=w?t.value():t;return g||(g=new r),y(A,O,n,m,g)}}return!!E&&(g||(g=new r),a(e,t,n,m,y,g))}},87073:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function t(t){return e[t]??null}const n={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return e=>{switch(e.code){case"invalid_type":return`Entrée invalide : ${e.expected} attendu, ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)} reçu`;case"invalid_value":return 1===e.values.length?`Entrée invalide : ${a.stringifyPrimitive(e.values[0])} attendu`:`Option invalide : une valeur parmi ${a.joinValues(e.values,"|")} attendue`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Trop grand : ${e.origin??"valeur"} doit ${r.verb} ${n}${e.maximum.toString()} ${r.unit??"élément(s)"}`:`Trop grand : ${e.origin??"valeur"} doit être ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Trop petit : ${e.origin} doit ${r.verb} ${n}${e.minimum.toString()} ${r.unit}`:`Trop petit : ${e.origin} doit être ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Chaîne invalide : doit commencer par "${t.prefix}"`:"ends_with"===t.format?`Chaîne invalide : doit se terminer par "${t.suffix}"`:"includes"===t.format?`Chaîne invalide : doit inclure "${t.includes}"`:"regex"===t.format?`Chaîne invalide : doit correspondre au modèle ${t.pattern}`:`${n[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${e.divisor}`;case"unrecognized_keys":return`Clé${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${e.origin}`;case"invalid_union":default:return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`}}};e.exports=t.default},87236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBigintDef=void 0;const r=n(98950);t.parseBigintDef=function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const i of e.checks)switch(i.kind){case"min":"jsonSchema7"===t.target?i.inclusive?(0,r.setResponseValueAndErrors)(n,"minimum",i.value,i.message,t):(0,r.setResponseValueAndErrors)(n,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(n.exclusiveMinimum=!0),(0,r.setResponseValueAndErrors)(n,"minimum",i.value,i.message,t));break;case"max":"jsonSchema7"===t.target?i.inclusive?(0,r.setResponseValueAndErrors)(n,"maximum",i.value,i.message,t):(0,r.setResponseValueAndErrors)(n,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(n.exclusiveMaximum=!0),(0,r.setResponseValueAndErrors)(n,"maximum",i.value,i.message,t));break;case"multipleOf":(0,r.setResponseValueAndErrors)(n,"multipleOf",i.value,i.message,t)}return n}},87296:(e,t,n)=>{var r,i=n(55481),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!s&&s in e}},87319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Doc=void 0,t.Doc=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}},87370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Images=void 0;const r=n(82040),i=n(12018);class s extends r.APIResource{createVariation(e,t){return this._client.post("/images/variations",(0,i.multipartFormRequestOptions)({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",(0,i.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}t.Images=s},87639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e,i.default,t),e};var r=n(58943),i=n(85333)},87978:(e,t,n)=>{var r=n(60270),i=n(58156),s=n(80631),a=n(28586),o=n(30756),c=n(67197),l=n(77797);e.exports=function(e,t){return a(e)&&o(t)?c(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?s(n,e):r(t,a,3)}}},88014:(e,t,n)=>{"use strict";var r,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=void 0;const a=n(79632),o=n(89526),c=n(82040),l=n(262);class u extends c.APIResource{constructor(){super(...arguments),r.add(this)}async unwrap(e,t,n=this._client.webhookSecret,r=300){return await this.verifySignature(e,t,n,r),JSON.parse(e)}async verifySignature(e,t,n=this._client.webhookSecret,c=300){if("undefined"==typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");a.__classPrivateFieldGet(this,r,"m",i).call(this,n);const u=(0,l.buildHeaders)([t]).values,d=a.__classPrivateFieldGet(this,r,"m",s).call(this,u,"webhook-signature"),p=a.__classPrivateFieldGet(this,r,"m",s).call(this,u,"webhook-timestamp"),h=a.__classPrivateFieldGet(this,r,"m",s).call(this,u,"webhook-id"),f=parseInt(p,10);if(isNaN(f))throw new o.InvalidWebhookSignatureError("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-f>c)throw new o.InvalidWebhookSignatureError("Webhook timestamp is too old");if(f>m+c)throw new o.InvalidWebhookSignatureError("Webhook timestamp is too new");const y=d.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),g=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),v=h?`${h}.${p}.${e}`:`${p}.${e}`,b=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const e of y)try{const t=Buffer.from(e,"base64");if(await crypto.subtle.verify("HMAC",b,t,(new TextEncoder).encode(v)))return}catch{continue}throw new o.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}t.Webhooks=u,r=new WeakSet,i=function(e){if("string"!=typeof e||0===e.length)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},s=function(e,t){if(!e)throw new Error("Headers are required");const n=e.get(t);if(null==n)throw new Error(`Missing required header: ${t}`);return n}},88221:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.JavaAstParser=void 0;const o=a(n(91398)),c=n(45387);class l{fileUri=null;filePath="";content="";lines=[];packageName="";static SPRING_ANNOTATIONS={RestController:"controller",Controller:"controller",RequestMapping:"controller",GetMapping:"controller",PostMapping:"controller",PutMapping:"controller",DeleteMapping:"controller",PatchMapping:"controller",ControllerAdvice:"controller",RestControllerAdvice:"controller",Service:"service",Component:"component",Transactional:"service",Repository:"repository",JpaRepository:"repository",CrudRepository:"repository",PagingAndSortingRepository:"repository",MongoRepository:"repository",Configuration:"configuration",Bean:"configuration",EnableAutoConfiguration:"configuration",SpringBootApplication:"application",Entity:"entity",Table:"entity",Document:"entity",Embeddable:"entity",MappedSuperclass:"entity",EnableWebSecurity:"security",Aspect:"aspect",FeignClient:"client",KafkaListener:"messaging",RabbitListener:"messaging",Scheduled:"scheduled",SpringBootTest:"test",DataJpaTest:"test",WebMvcTest:"test"};static INJECTION_ANNOTATIONS=["Autowired","Inject","Resource","Value","Qualifier"];hasMainMethod=!1;mainMethodClassName="";isMainMethod(e,t,n,r){if("main"!==e)return!1;if(!t.isStatic)return!1;if("public"!==t.visibility)return!1;if("void"!==n)return!1;if(!r||1!==r.length)return!1;const i=(r[0].type||"").replace(/\s+/g,"");return"String[]"===i||"String..."===i||i.includes("String[]")||i.includes("String...")}async parse(e,t=!1){this.hasMainMethod=!1,this.mainMethodClassName="";const n=await o.workspace.openTextDocument(e);this.content=n.getText(),this.lines=this.content.split("\n"),this.fileUri=e,this.filePath=e.fsPath;const r=[],i=[];try{this.extractPackage();const n=(0,c.parse)(this.content),s=this.extractFromCst(n),a=this.flattenElements(s),o=new Map,u=new Map,d=[];for(const e of a){const t=this.createNode(e);if(r.push(t),"class"!==e.type&&"interface"!==e.type&&"enum"!==e.type||(o.set(e.name,t.id),e.layer&&u.set(e.name,{nodeId:t.id,layer:e.layer,name:e.name})),e.parentId&&i.push({from:e.parentId,to:t.id,type:"contains",label:"contains"}),e.extendsClass&&i.push({from:t.id,to:o.get(e.extendsClass)||`external:${e.extendsClass}`,type:"extends",label:`extends ${e.extendsClass}`}),e.implementsInterfaces)for(const n of e.implementsInterfaces)i.push({from:t.id,to:o.get(n)||`external:${n}`,type:"implements",label:`implements ${n}`});"field"===e.type&&e.fieldType&&e.annotations?.some(e=>l.INJECTION_ANNOTATIONS.some(t=>e.includes(t)))&&d.push({source:e.parentId||"",target:e.fieldType,type:"injects"})}for(const e of d){const t=u.get(e.target);t&&e.source&&i.push({from:e.source,to:t.nodeId,type:"uses",label:this.getLayerRelationLabel(u.get(this.getClassNameFromId(e.source))?.layer||"",t.layer)})}if(this.extractImports(r,i,o),0===r.length&&t){const t=(e.fsPath.split(/[\\/]/).pop()||"module").replace(/\.java$/,"");r.push(this.createModuleNode(t))}return{nodes:r,edges:i}}catch(n){return console.error(`Failed to parse Java file with AST ${e.fsPath}:`,n),this.fallbackParse(t)}}extractPackage(){const e=this.content.match(/^\s*package\s+([\w.]+)\s*;/m);this.packageName=e?e[1]:""}extractFromCst(e){if(!e||!e.children)return[];const t=[],n=e.children.ordinaryCompilationUnit?.[0];if(!n)return t;const r=n.children?.typeDeclaration||[];for(const e of r){const n=this.extractTypeDeclaration(e,void 0);n&&t.push(n)}return t}extractTypeDeclaration(e,t){const n=e.children?.classDeclaration?.[0];if(n)return this.extractClassDeclaration(n,t);const r=e.children?.interfaceDeclaration?.[0];if(r)return this.extractInterfaceDeclaration(r,t);const i=e.children?.enumDeclaration?.[0];return i?this.extractEnumDeclaration(i,t):null}extractClassDeclaration(e,t){const n=e.children?.normalClassDeclaration?.[0];if(!n)return null;const r=n.children?.typeIdentifier?.[0]?.children?.Identifier?.[0];if(!r)return null;const i=r.image,s=r.startLine||1,a=this.extractModifiers(n.children?.classModifier||[]),o=this.extractAnnotations(n.children?.classModifier||[]),c=this.detectSpringLayer(o);let l;const u=n.children?.superclass?.[0];u&&(l=this.extractTypeName(u.children?.classType?.[0]));const d=[],p=n.children?.superinterfaces?.[0];if(p){const e=p.children?.interfaceTypeList?.[0]?.children?.interfaceType||[];for(const t of e){const e=this.extractTypeName(t.children?.classType?.[0]);e&&d.push(e)}}const h=n.children?.classBody?.[0],f=this.findEndLine(h)||s,m=t?`${t}$${i}`:`${this.filePath}:class:${i}`,y=[];return h&&this.extractClassBodyMembers(h,y,m,i),{id:m,name:i,type:"class",startLine:s,endLine:f,parentId:t,visibility:a.visibility,isStatic:a.isStatic,isAbstract:a.isAbstract,isFinal:a.isFinal,annotations:o,extendsClass:l,implementsInterfaces:d,children:y,layer:c}}extractInterfaceDeclaration(e,t){const n=e.children?.normalInterfaceDeclaration?.[0];if(!n)return null;const r=n.children?.typeIdentifier?.[0]?.children?.Identifier?.[0];if(!r)return null;const i=r.image,s=r.startLine||1,a=this.extractModifiers(n.children?.interfaceModifier||[]),o=this.extractAnnotations(n.children?.interfaceModifier||[]),c=this.detectSpringLayer(o),l=[],u=n.children?.extendsInterfaces?.[0];if(u){const e=u.children?.interfaceTypeList?.[0]?.children?.interfaceType||[];for(const t of e){const e=this.extractTypeName(t.children?.classType?.[0]);e&&l.push(e)}}const d=n.children?.interfaceBody?.[0],p=this.findEndLine(d)||s,h=t?`${t}$${i}`:`${this.filePath}:interface:${i}`,f=[];return d&&this.extractInterfaceBodyMembers(d,f,h,i),{id:h,name:i,type:"interface",startLine:s,endLine:p,parentId:t,visibility:a.visibility,annotations:o,implementsInterfaces:l,children:f,layer:c}}extractEnumDeclaration(e,t){const n=e.children?.typeIdentifier?.[0]?.children?.Identifier?.[0];if(!n)return null;const r=n.image,i=n.startLine||1,s=this.extractModifiers(e.children?.classModifier||[]),a=this.extractAnnotations(e.children?.classModifier||[]),o=e.children?.enumBody?.[0],c=this.findEndLine(o)||i;return{id:t?`${t}$${r}`:`${this.filePath}:enum:${r}`,name:r,type:"enum",startLine:i,endLine:c,parentId:t,visibility:s.visibility,annotations:a,children:[]}}extractClassBodyMembers(e,t,n,r){const i=e.children?.classBodyDeclaration||[];for(const e of i){const i=e.children?.constructorDeclaration?.[0];if(i){const e=this.extractConstructor(i,n,r);e&&t.push(e);continue}const s=e.children?.classMemberDeclaration?.[0];if(!s)continue;const a=s.children?.methodDeclaration?.[0];if(a){const e=this.extractMethodDeclaration(a,n,r);e&&t.push(e);continue}const o=s.children?.fieldDeclaration?.[0];if(o){const e=this.extractFieldDeclaration(o,n,r);e&&t.push(e);continue}const c=s.children?.classDeclaration?.[0];if(c){const e=this.extractClassDeclaration(c,n);e&&t.push(e);continue}const l=s.children?.interfaceDeclaration?.[0];if(l){const e=this.extractInterfaceDeclaration(l,n);e&&t.push(e)}}}extractInterfaceBodyMembers(e,t,n,r){const i=e.children?.interfaceMemberDeclaration||[];for(const e of i){const i=e.children?.interfaceMethodDeclaration?.[0];if(i){const e=this.extractInterfaceMethodDeclaration(i,n,r);e&&t.push(e);continue}const s=e.children?.constantDeclaration?.[0];if(s){const e=this.extractConstantDeclaration(s,n,r);e&&t.push(e);continue}const a=e.children?.classDeclaration?.[0];if(a){const e=this.extractClassDeclaration(a,n);e&&t.push(e)}}}extractConstructor(e,t,n){const r=e.children?.constructorDeclarator?.[0];if(!r)return null;const i=r.children?.simpleTypeName?.[0]?.children?.Identifier?.[0];if(!i)return null;const s=i.startLine||1,a=this.extractModifiers(e.children?.constructorModifier||[]),o=this.extractAnnotations(e.children?.constructorModifier||[]),c=this.extractParameters(r),l=e.children?.constructorBody?.[0];return{id:`${t}:constructor:${n}:${s}`,name:n,type:"constructor",startLine:s,endLine:this.findEndLine(l)||s,parentId:t,visibility:a.visibility,annotations:o,parameters:c,children:[]}}extractMethodDeclaration(e,t,n){const r=e.children?.methodHeader?.[0];if(!r)return null;const i=r.children?.methodDeclarator?.[0];if(!i)return null;const s=i.children?.Identifier?.[0];if(!s)return null;const a=s.image,o=s.startLine||1,c=this.extractModifiers(e.children?.methodModifier||[]),l=this.extractAnnotations(e.children?.methodModifier||[]),u=r.children?.result?.[0];let d="void";u?.children?.unannType?.[0]?d=this.extractUnannTypeName(u.children.unannType[0]):u?.children?.Void&&(d="void");const p=this.extractParameters(i),h=e.children?.methodBody?.[0],f=this.findEndLine(h)||o,m=`${t}:method:${a}:${o}`;return this.isMainMethod(a,c,d,p)&&(console.log(`Java main method detected in class: ${n}`),this.hasMainMethod=!0,this.mainMethodClassName=n),{id:m,name:a,type:"method",startLine:o,endLine:f,parentId:t,visibility:c.visibility,isStatic:c.isStatic,isAbstract:c.isAbstract,isFinal:c.isFinal,annotations:l,parameters:p,returnType:d,children:[]}}extractInterfaceMethodDeclaration(e,t,n){const r=e.children?.methodHeader?.[0];if(!r)return null;const i=r.children?.methodDeclarator?.[0];if(!i)return null;const s=i.children?.Identifier?.[0];if(!s)return null;const a=s.image,o=s.startLine||1,c=this.extractModifiers(e.children?.interfaceMethodModifier||[]),l=this.extractAnnotations(e.children?.interfaceMethodModifier||[]),u=r.children?.result?.[0];let d="void";u?.children?.unannType?.[0]&&(d=this.extractUnannTypeName(u.children.unannType[0]));const p=this.extractParameters(i);return{id:`${t}:method:${a}:${o}`,name:a,type:"method",startLine:o,endLine:o,parentId:t,visibility:"public",isAbstract:!c.isStatic,annotations:l,parameters:p,returnType:d,children:[]}}extractFieldDeclaration(e,t,n){const r=this.extractModifiers(e.children?.fieldModifier||[]),i=this.extractAnnotations(e.children?.fieldModifier||[]),s=e.children?.unannType?.[0],a=s?this.extractUnannTypeName(s):"Object",o=e.children?.variableDeclaratorList?.[0],c=o?.children?.variableDeclarator||[];if(0===c.length)return null;const l=c[0],u=l.children?.variableDeclaratorId?.[0]?.children?.Identifier?.[0];if(!u)return null;const d=u.image,p=u.startLine||1;return{id:`${t}:field:${d}:${p}`,name:d,type:"field",startLine:p,endLine:p,parentId:t,visibility:r.visibility,isStatic:r.isStatic,isFinal:r.isFinal,annotations:i,fieldType:a,children:[]}}extractConstantDeclaration(e,t,n){const r=this.extractAnnotations(e.children?.constantModifier||[]),i=e.children?.unannType?.[0],s=i?this.extractUnannTypeName(i):"Object",a=e.children?.variableDeclaratorList?.[0],o=a?.children?.variableDeclarator||[];if(0===o.length)return null;const c=o[0],l=c.children?.variableDeclaratorId?.[0]?.children?.Identifier?.[0];if(!l)return null;const u=l.image,d=l.startLine||1;return{id:`${t}:field:${u}:${d}`,name:u,type:"field",startLine:d,endLine:d,parentId:t,visibility:"public",isStatic:!0,isFinal:!0,annotations:r,fieldType:s,children:[]}}flattenElements(e){const t=[],n=e=>{for(const r of e)t.push(r),r.children&&r.children.length>0&&n(r.children)};return n(e),t}extractModifiers(e){let t="package",n=!1,r=!1,i=!1;for(const s of e)s.children?.Public?t="public":s.children?.Private?t="private":s.children?.Protected&&(t="protected"),s.children?.Static&&(n=!0),s.children?.Abstract&&(r=!0),s.children?.Final&&(i=!0);return{visibility:t,isStatic:n,isAbstract:r,isFinal:i}}extractAnnotations(e){const t=[];for(const n of e){const e=n.children?.annotation?.[0];if(e){const n=e.children?.typeName?.[0];if(n){let r=(n.children?.Identifier||[]).map(e=>e.image).join(".");const i=e.children?.elementValuePairList?.[0],s=e.children?.elementValue?.[0];if(i){const e=this.extractAnnotationPairs(i);e&&(r+=`(${e})`)}else if(s){const e=this.extractElementValue(s);e&&(r+=`(${e})`)}r&&t.push(r)}}}return t}extractAnnotationPairs(e){return(e.children?.elementValuePair||[]).map(e=>`${e.children?.Identifier?.[0]?.image||""}=${this.extractElementValue(e.children?.elementValue?.[0])}`).join(", ")}extractElementValue(e){if(!e)return"";const t=e.children?.conditionalExpression?.[0]?.children?.ternaryExpression?.[0]?.children?.binaryExpression?.[0]?.children?.unaryExpression?.[0]?.children?.primary?.[0]?.children?.primaryPrefix?.[0]?.children?.literal?.[0]?.children?.StringLiteral?.[0];return t?t.image:"..."}extractTypeName(e){if(!e)return;const t=e.children?.Identifier||[];if(t.length>0)return t[t.length-1].image;const n=e.children?.classOrInterfaceType?.[0];if(n){const e=n.children?.Identifier||[];if(e.length>0)return e[e.length-1].image}}extractUnannTypeName(e){const t=e.children?.unannPrimitiveType?.[0];if(t){const e=t.children?.numericType?.[0];if(e){const t=e.children?.integralType?.[0];if(t){if(t.children?.Int)return"int";if(t.children?.Long)return"long";if(t.children?.Short)return"short";if(t.children?.Byte)return"byte";if(t.children?.Char)return"char"}const n=e.children?.floatingPointType?.[0];if(n){if(n.children?.Float)return"float";if(n.children?.Double)return"double"}}if(t.children?.Boolean)return"boolean"}const n=e.children?.unannReferenceType?.[0];if(n){const e=n.children?.unannArrayType?.[0];if(e)return`${this.extractUnannTypeName({children:e.children})}[]`;const t=n.children?.unannClassOrInterfaceType?.[0];if(t){const e=t.children?.unannClassType?.[0];if(e){const t=e.children?.Identifier||[];if(t.length>0){let n=t[t.length-1].image;const r=e.children?.typeArguments?.[0];if(r){const e=this.extractTypeArguments(r);e&&(n+=`<${e}>`)}return n}}}}return"Object"}extractTypeArguments(e){return(e.children?.typeArgumentList?.[0]?.children?.typeArgument||[]).map(e=>{const t=e.children?.referenceType?.[0];if(t)return this.extractTypeName(t.children?.classOrInterfaceType?.[0])||"?";const n=e.children?.wildcard?.[0];if(n){const e=n.children?.wildcardBounds?.[0];if(e){const t=e.children?.Extends?.[0],n=e.children?.Super?.[0],r=this.extractTypeName(e.children?.referenceType?.[0]?.children?.classOrInterfaceType?.[0]);if(t&&r)return`? extends ${r}`;if(n&&r)return`? super ${r}`}return"?"}return"?"}).join(", ")}extractParameters(e){const t=[],n=e.children?.formalParameterList?.[0];if(!n)return t;const r=n.children?.formalParameter||[];for(const e of r){const n=e.children?.variableDeclaratorId?.[0],r=e.children?.unannType?.[0],i=e.children?.variableModifier||[];if(n&&r){const e=n.children?.Identifier?.[0]?.image||"param",s=this.extractUnannTypeName(r),a=this.extractVariableAnnotations(i);t.push({name:e,type:s,optional:!1,description:a.length>0?`@${a.join(", @")}`:void 0})}}return t}extractVariableAnnotations(e){const t=[];for(const n of e){const e=n.children?.annotation?.[0];if(e){const n=e.children?.typeName?.[0];if(n){const e=(n.children?.Identifier||[]).map(e=>e.image).join(".");e&&t.push(e)}}}return t}findEndLine(e){if(!e)return;const t=e.children?.RBrace?.[0];if(t?.endLine)return t.endLine;let n=0;const r=e=>{if(e&&("number"==typeof e.endLine&&e.endLine>n&&(n=e.endLine),e.children))for(const t of Object.keys(e.children)){const n=e.children[t];if(Array.isArray(n))for(const e of n)r(e)}};return r(e),n>0?n:void 0}extractImports(e,t,n){const r=/^import\s+(static\s+)?([^;]+);/gm;let i;const s=e.filter(e=>"class"===e.type||"interface"===e.type||"enum"===e.type),a=s.length>0?s:null;for(;null!==(i=r.exec(this.content));){const e=!!i[1],r=i[2].trim(),s=r.split(".").pop()||r;if(r.startsWith("java.")||r.startsWith("javax.")||r.startsWith("org.springframework.")||r.startsWith("lombok."))continue;const o=n.get(s);if(o){if(a)for(const n of a)n.id!==o&&t.push({from:n.id,to:o,type:"imports",label:e?`static import ${s}`:`imports ${s}`})}else if(a)for(const n of a)t.push({from:n.id,to:`external:${s}`,type:"imports",label:e?`static import ${s}`:`imports ${s}`})}}detectSpringLayer(e){for(const t of e){const e=t.split("(")[0],n=l.SPRING_ANNOTATIONS[e];if(n)return n}}getClassNameFromId(e){const t=e.match(/:class:(\w+)$/);return t?t[1]:""}getLayerRelationLabel(e,t){return"controller"===e&&"service"===t?"calls service":"service"===e&&"repository"===t?"uses repository":"service"===e&&"service"===t?"calls service":"controller"===e&&"repository"===t?"queries":"entity"===t?"uses entity":"repository"===e&&"entity"===t?"manages":"depends on"}createNode(e){const t=this.lines.slice(Math.max(0,e.startLine-1),Math.min(this.lines.length,e.endLine)).join("\n");let n="";e.annotations&&e.annotations.length>0&&(n=`@${e.annotations.join(", @")}`),e.layer&&(n+=n?` [${e.layer}]`:`[${e.layer}]`);const r="class"===e.type&&(e.name===this.mainMethodClassName||"application"===e.layer||e.annotations?.some(e=>e.includes("SpringBootApplication")))||!1;return r&&console.log(`Marking ${e.name} as Java entry point`),{id:e.id,label:e.name,type:"constructor"===e.type?"method":e.type,language:"java",filePath:this.filePath,startLine:e.startLine,endLine:e.endLine,parentId:e.parentId,visibility:e.visibility,isStatic:e.isStatic,isEntryPoint:r,parameters:e.parameters,returnType:e.returnType,sourceCode:t,documentation:{summary:this.generateSummary(e),description:n,persona:{}}}}generateSummary(e){const t=e.annotations?.slice(0,3).join(", @")||"",n=t?`@${t} `:"",r=e.layer?`[${e.layer}] `:"";if("class"===e.type){let t=`${r}${n}${e.visibility||"public"}`;return e.isAbstract&&(t+=" abstract"),e.isStatic&&(t+=" static"),e.isFinal&&(t+=" final"),t+=` class ${e.name}`,e.extendsClass&&(t+=` extends ${e.extendsClass}`),e.implementsInterfaces?.length&&(t+=` implements ${e.implementsInterfaces.join(", ")}`),t}if("interface"===e.type)return`${r}${n}${e.visibility||"public"} interface ${e.name}`;if("enum"===e.type)return`${n}${e.visibility||"public"} enum ${e.name}`;if("method"===e.type||"constructor"===e.type){const t=e.parameters?.map(e=>`${e.type} ${e.name}`).join(", ")||"";let r=`${n}${e.visibility||"public"}`;return e.isStatic&&(r+=" static"),e.isAbstract&&(r+=" abstract"),e.isFinal&&(r+=" final"),"constructor"===e.type?r+=` ${e.name}(${t})`:r+=` ${e.returnType||"void"} ${e.name}(${t})`,r}if("field"===e.type){let t=`${n}${e.visibility||"package"}`;return e.isStatic&&(t+=" static"),e.isFinal&&(t+=" final"),t+=` ${e.fieldType||"Object"} ${e.name}`,t}return e.name}createModuleNode(e){return{id:`${this.filePath}:module:${e}`,label:e,type:"module",language:"java",filePath:this.filePath,startLine:1,endLine:this.lines.length,sourceCode:this.content,isEntryPoint:!0,documentation:{summary:`Java module ${e}`,description:this.packageName?`package ${this.packageName}`:"Java module",persona:{}}}}fallbackParse(e){console.log("Using fallback regex parsing for:",this.filePath);const t=[],n=[],r=[];this.fallbackParseClasses(r),this.fallbackParseMethods(r);for(const e of r)t.push(this.createNode(e)),e.parentId&&n.push({from:e.parentId,to:e.id,type:"contains",label:"contains"});if(0===t.length&&e){const e=(this.filePath.split(/[\\/]/).pop()||"module").replace(/\.java$/,"");t.push(this.createModuleNode(e))}return{nodes:t,edges:n}}fallbackParseClasses(e){const t=/(?:(@\w+(?:\([^)]*\))?)\s*)*(?:(public|private|protected)\s+)?(?:(abstract)\s+)?(?:(static)\s+)?(?:(final)\s+)?class\s+(\w+)(?:\s*<[^>]+>)?(?:\s+extends\s+(\w+))?(?:\s+implements\s+([^{]+))?/g;let n;for(;null!==(n=t.exec(this.content));){const t=n[2]||"package",r=!!n[3],i=!!n[4],s=!!n[5],a=n[6],o=n[7],c=n[8],l=this.content.substring(0,n.index).split("\n").length,u=`${this.filePath}:class:${a}`,d=this.extractAnnotationsFromContext(n.index),p=this.detectSpringLayer(d),h=c?c.split(",").map(e=>e.trim()):void 0;e.push({id:u,name:a,type:"class",startLine:l,endLine:l+50,visibility:t,isAbstract:r,isStatic:i,isFinal:s,annotations:d,extendsClass:o,implementsInterfaces:h,layer:p,children:[]})}}fallbackParseMethods(e){const t=e.filter(e=>"class"===e.type),n=/(?:(@\w+(?:\([^)]*\))?)\s*)*(?:(public|private|protected)\s+)?(?:(static)\s+)?(?:(abstract)\s+)?(?:(final)\s+)?(?:(\w+(?:<[^>]+>)?)\s+)?(\w+)\s*\(\s*([^)]*)\s*\)/g;let r;for(;null!==(r=n.exec(this.content));){const n=r[2]||"package",i=!!r[3],s=!!r[4],a=!!r[5],o=r[6]||"void",c=r[7],l=r[8];if(["if","for","while","switch","catch","synchronized"].includes(c))continue;const u=this.content.substring(0,r.index).split("\n").length;let d;for(const e of t)if(u>e.startLine&&u<e.endLine+100){d=e.id;break}if(!d)continue;const p=`${d}:method:${c}:${u}`,h=this.extractAnnotationsFromContext(r.index),f=this.parseParametersFromString(l);e.push({id:p,name:c,type:"method",startLine:u,endLine:u+10,parentId:d,visibility:n,isStatic:i,isAbstract:s,isFinal:a,annotations:h,parameters:f,returnType:o,children:[]})}}extractAnnotationsFromContext(e){const t=[],n=this.content.substring(Math.max(0,e-500),e).split("\n").reverse();for(const e of n){const n=e.trim();if(n.startsWith("@")){const e=n.match(/@(\w+)(?:\([^)]*\))?/);e&&t.unshift(e[1])}else if(n&&!n.startsWith("*")&&!n.startsWith("//"))break}return t}parseParametersFromString(e){const t=[];if(!e.trim())return t;const n=e.split(",");for(const e of n){const n=e.trim();if(!n)continue;const r=n.match(/(?:@\w+\s+)?(?:final\s+)?(\w+(?:<[^>]+>)?)\s+(\w+)/);r&&t.push({name:r[2],type:r[1],optional:!1})}return t}}t.JavaAstParser=l},88984:(e,t,n)=>{var r=n(55527),i=n(3650),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},89246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(!(0,r.isBlockStatement)(e)||!(0,r.isFunction)(t)&&!(0,r.isCatchClause)(t))&&(!(!(0,r.isPattern)(e)||!(0,r.isFunction)(t)&&!(0,r.isCatchClause)(t))||(0,r.isScopable)(e))};var r=n(98960)},89526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(79632).__exportStar(n(44172),t)},89564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e||!t)return e;for(const n of r.INHERIT_KEYS.optional)null==e[n]&&(e[n]=t[n]);for(const n of Object.keys(t))"_"===n[0]&&"__clone"!==n&&(e[n]=t[n]);for(const n of r.INHERIT_KEYS.force)e[n]=t[n];return(0,i.default)(e,t),e};var r=n(93422),i=n(18125)},89638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportAllDeclaration=function(e){var t,n;this.word("export"),this.space(),"type"===e.exportKind&&(this.word("type"),this.space()),this.tokenChar(42),this.space(),this.word("from"),this.space(),null!=(t=e.attributes)&&t.length||null!=(n=e.assertions)&&n.length?(this.print(e.source,!0),this.space(),this._printAttributes(e,!1)):this.print(e.source),this.semicolon()},t.ExportDefaultDeclaration=function(e){p(this,e),this.word("export"),this.noIndentInnerCommentsHere(),this.space(),this.word("default"),this.space(),this.tokenContext|=i.TokenContext.exportDefault;const t=e.declaration;this.print(t),u(t)||this.semicolon()},t.ExportDefaultSpecifier=function(e){this.print(e.exported)},t.ExportNamedDeclaration=function(e){if(p(this,e),this.word("export"),this.space(),e.declaration){const t=e.declaration;this.print(t),u(t)||this.semicolon()}else{"type"===e.exportKind&&(this.word("type"),this.space());const r=e.specifiers.slice(0);let i=!1;for(;;){const e=r[0];if(!a(e)&&!o(e))break;i=!0,this.print(r.shift()),r.length&&(this.tokenChar(44),this.space())}let s=!1;var t,n;(r.length||!r.length&&!i)&&(s=!0,this.tokenChar(123),r.length&&(this.space(),this.printList(r,this.shouldPrintTrailingComma("}")),this.space()),this.tokenChar(125)),e.source&&(this.space(),this.word("from"),this.space(),null!=(t=e.attributes)&&t.length||null!=(n=e.assertions)&&n.length?(this.print(e.source,!0),this.space(),this._printAttributes(e,s)):this.print(e.source)),this.semicolon()}},t.ExportNamespaceSpecifier=function(e){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(e.exported)},t.ExportSpecifier=function(e){"type"===e.exportKind&&(this.word("type"),this.space()),this.print(e.local),e.exported&&e.local.name!==e.exported.name&&(this.space(),this.word("as"),this.space(),this.print(e.exported))},t.ImportAttribute=function(e){this.print(e.key),this.tokenChar(58),this.space(),this.print(e.value)},t.ImportDeclaration=function(e){var t,n;this.word("import"),this.space();const r="type"===e.importKind||"typeof"===e.importKind;r?(this.noIndentInnerCommentsHere(),this.word(e.importKind),this.space()):e.module?(this.noIndentInnerCommentsHere(),this.word("module"),this.space()):e.phase&&(this.noIndentInnerCommentsHere(),this.word(e.phase),this.space());const i=e.specifiers.slice(0),s=!!i.length;for(;s;){const e=i[0];if(!c(e)&&!l(e))break;this.print(i.shift()),i.length&&(this.tokenChar(44),this.space())}let a=!1;i.length?(a=!0,this.tokenChar(123),this.space(),this.printList(i,this.shouldPrintTrailingComma("}")),this.space(),this.tokenChar(125)):r&&!s&&(a=!0,this.tokenChar(123),this.tokenChar(125)),(s||r)&&(this.space(),this.word("from"),this.space()),null!=(t=e.attributes)&&t.length||null!=(n=e.assertions)&&n.length?(this.print(e.source,!0),this.space(),this._printAttributes(e,a)):this.print(e.source),this.semicolon()},t.ImportDefaultSpecifier=function(e){this.print(e.local)},t.ImportExpression=function(e){this.word("import"),e.phase&&(this.tokenChar(46),this.word(e.phase)),this.tokenChar(40);const t=this.shouldPrintTrailingComma(")");this.print(e.source),null!=e.options&&(this.tokenChar(44),this.space(),this.print(e.options)),t&&this.tokenChar(44),this.rightParens(e)},t.ImportNamespaceSpecifier=function(e){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(e.local)},t.ImportSpecifier=function(e){"type"!==e.importKind&&"typeof"!==e.importKind||(this.word(e.importKind),this.space()),this.print(e.imported),e.local&&e.local.name!==e.imported.name&&(this.space(),this.word("as"),this.space(),this.print(e.local))},t._printAttributes=function(e,t){var n;const{importAttributesKeyword:r}=this.format,{attributes:i,assertions:s}=e;i&&!r&&e.extra&&(e.extra.deprecatedAssertSyntax||e.extra.deprecatedWithLegacySyntax)&&!d&&(d=!0,console.warn('You are using import attributes, without specifying the desired output syntax.\nPlease specify the "importAttributesKeyword" generator option, whose value can be one of:\n - "with"        : `import { a } from "b" with { type: "json" };`\n - "assert"      : `import { a } from "b" assert { type: "json" };`\n - "with-legacy" : `import { a } from "b" with type: "json";`\n'));const a="assert"===r||!r&&s;if(this.word(a?"assert":"with"),this.space(),!a&&("with-legacy"===r||!r&&null!=(n=e.extra)&&n.deprecatedWithLegacySyntax))return void this.printList(i||s);const o=t?1:0;this.token("{",void 0,o),this.space(),this.printList(i||s,this.shouldPrintTrailingComma("}")),this.space(),this.token("}",void 0,o)};var r=n(2352),i=n(31373);const{isClassDeclaration:s,isExportDefaultSpecifier:a,isExportNamespaceSpecifier:o,isImportDefaultSpecifier:c,isImportNamespaceSpecifier:l,isStatement:u}=r;let d=!1;function p(e,t){s(t.declaration)&&e._shouldPrintDecoratorsBeforeExport(t)&&e.printJoin(t.declaration.decorators)}},89729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseReadonlyDef=void 0;const r=n(73524);t.parseReadonlyDef=(e,t)=>(0,r.parseDef)(e.innerType._def,t)},89917:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function t(t){return e[t]??null}const n={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return e=>{switch(e.code){case"invalid_type":return`Грешен внес: се очекува ${e.expected}, примено ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"број";case"object":if(Array.isArray(e))return"низа";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`Invalid input: expected ${a.stringifyPrimitive(e.values[0])}`:`Грешана опција: се очекува една ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?`Премногу голем: се очекува ${e.origin??"вредноста"} да има ${n}${e.maximum.toString()} ${r.unit??"елементи"}`:`Премногу голем: се очекува ${e.origin??"вредноста"} да биде ${n}${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`Премногу мал: се очекува ${e.origin} да има ${n}${e.minimum.toString()} ${r.unit}`:`Премногу мал: се очекува ${e.origin} да биде ${n}${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`Неважечка низа: мора да започнува со "${t.prefix}"`:"ends_with"===t.format?`Неважечка низа: мора да завршува со "${t.suffix}"`:"includes"===t.format?`Неважечка низа: мора да вклучува "${t.includes}"`:"regex"===t.format?`Неважечка низа: мора да одгоара на патернот ${t.pattern}`:`Invalid ${n[t.format]??e.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${e.origin}`;case"invalid_union":default:return"Грешен внес";case"invalid_element":return`Грешна вредност во ${e.origin}`}}};e.exports=t.default},89935:e=>{e.exports=function(){return!1}},90096:(e,t,n)=>{e.exports=i,i.sync=function(e,t){return s(r.statSync(e),t)};var r=n(79896);function i(e,t,n){r.stat(e,function(e,r){n(e,!e&&s(r,t))})}function s(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,s=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),a=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),o=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&i===a||n&o&&r===s||n&(o|c)&&0===s}(e,t)}},90289:(e,t,n)=>{var r=n(12651);e.exports=function(e){return r(this,e).get(e)}},90523:(e,t)=>{"use strict";function n(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Class=t.BIGINT_FORMAT_RANGES=t.NUMBER_FORMAT_RANGES=t.primitiveTypes=t.propertyKeyTypes=t.getParsedType=t.allowsEval=t.captureStackTrace=void 0,t.assertEqual=function(e){return e},t.assertNotEqual=function(e){return e},t.assertIs=function(e){},t.assertNever=function(e){throw new Error("Unexpected value in exhaustive check")},t.assert=function(e){},t.getEnumValues=function(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)},t.joinValues=function(e,t="|"){return e.map(e=>l(e)).join(t)},t.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t},t.cached=n,t.nullish=function(e){return null==e},t.cleanRegex=function(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)},t.floatSafeRemainder=function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}const s=n>i?n:i;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s},t.defineLazy=function(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==r)return void 0===i&&(i=r,i=n()),i},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})},t.objectClone=function(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))},t.assignProp=i,t.mergeDefs=s,t.cloneDef=function(e){return s(e._zod.def)},t.getElementAtPath=function(e,t){return t?t.reduce((e,t)=>e?.[t],e):e},t.promiseAllObject=function(e){const t=Object.keys(e),n=t.map(t=>e[t]);return Promise.all(n).then(e=>{const n={};for(let r=0;r<t.length;r++)n[t[r]]=e[r];return n})},t.randomString=function(e=10){let t="";for(let n=0;n<e;n++)t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(26*Math.random())];return t},t.esc=function(e){return JSON.stringify(e)},t.slugify=function(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")},t.isObject=a,t.isPlainObject=o,t.shallowClone=function(e){return o(e)?{...e}:Array.isArray(e)?[...e]:e},t.numKeys=function(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t},t.escapeRegex=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},t.clone=c,t.normalizeParams=function(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t},t.createTransparentProxy=function(e){let t;return new Proxy({},{get:(n,r,i)=>(t??(t=e()),Reflect.get(t,r,i)),set:(n,r,i,s)=>(t??(t=e()),Reflect.set(t,r,i,s)),has:(n,r)=>(t??(t=e()),Reflect.has(t,r)),deleteProperty:(n,r)=>(t??(t=e()),Reflect.deleteProperty(t,r)),ownKeys:n=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(n,r)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,r)),defineProperty:(n,r,i)=>(t??(t=e()),Reflect.defineProperty(t,r,i))})},t.stringifyPrimitive=l,t.optionalKeys=function(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)},t.pick=function(e,t){const n=e._zod.def;return c(e,s(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return i(this,"shape",e),e},checks:[]}))},t.omit=function(e,t){const n=e._zod.def,r=s(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return i(this,"shape",r),r},checks:[]});return c(e,r)},t.extend=function(e,t){if(!o(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=s(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return i(this,"shape",n),n},checks:[]});return c(e,r)},t.safeExtend=function(e,t){if(!o(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return i(this,"shape",n),n},checks:e._zod.def.checks};return c(e,n)},t.merge=function(e,t){const n=s(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return i(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return c(e,n)},t.partial=function(e,t,n){const r=s(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(s[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)s[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return i(this,"shape",s),s},checks:[]});return c(t,r)},t.required=function(e,t,n){const r=s(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const t in n){if(!(t in s))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(s[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)s[t]=new e({type:"nonoptional",innerType:r[t]});return i(this,"shape",s),s},checks:[]});return c(t,r)},t.aborted=function(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1},t.prefixIssues=function(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})},t.unwrapMessage=u,t.finalizeIssue=function(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=u(e.inst?._zod.def?.error?.(e))??u(t?.error?.(e))??u(n.customError?.(e))??u(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r},t.getSizableOrigin=function(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"},t.getLengthableOrigin=function(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"},t.issue=function(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}},t.cleanEnum=function(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])},t.base64ToUint8Array=d,t.uint8ArrayToBase64=p,t.base64urlToUint8Array=function(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return d(t+"=".repeat((4-t.length%4)%4))},t.uint8ArrayToBase64url=function(e){return p(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},t.hexToUint8Array=function(e){const t=e.replace(/^0x/,"");if(t.length%2!=0)throw new Error("Invalid hex string length");const n=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)n[e/2]=Number.parseInt(t.slice(e,e+2),16);return n},t.uint8ArrayToHex=function(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")};const r=Symbol("evaluating");function i(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function s(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function a(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function o(e){if(!1===a(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==a(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function c(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function l(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function u(e){return"string"==typeof e?e:e?.message}function d(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function p(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}t.captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{},t.allowsEval=n(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}}),t.getParsedType=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":null===e?"null":e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?"promise":"undefined"!=typeof Map&&e instanceof Map?"map":"undefined"!=typeof Set&&e instanceof Set?"set":"undefined"!=typeof Date&&e instanceof Date?"date":"undefined"!=typeof File&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},t.propertyKeyTypes=new Set(["string","number","symbol"]),t.primitiveTypes=new Set(["string","number","bigint","boolean","symbol","undefined"]),t.NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},t.BIGINT_FORMAT_RANGES={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]},t.Class=class{constructor(...e){}}},90546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockStatement=function(e){var t;this.tokenChar(123);const n=this.enterDelimited(),r=null==(t=e.directives)?void 0:t.length;if(r){var i;const t=e.body.length?2:1;this.printSequence(e.directives,!0,t),null!=(i=e.directives[r-1].trailingComments)&&i.length||this.newline(t)}this.printSequence(e.body,!0),n(),this.rightBrace(e)},t.Directive=function(e){this.print(e.value),this.semicolon()},t.DirectiveLiteral=function(e){const t=this.getPossibleRaw(e);if(!this.format.minified&&void 0!==t)return void this.token(t);const{value:i}=e;if(r.test(i)){if(n.test(i))throw new Error("Malformed AST: it is not possible to print a directive containing both unescaped single and double quotes.");this.token(`'${i}'`)}else this.token(`"${i}"`)},t.File=function(e){e.program&&this.print(e.program.interpreter),this.print(e.program)},t.InterpreterDirective=function(e){this.token(`#!${e.value}`),this.newline(1,!0)},t.Placeholder=function(e){this.token("%%"),this.print(e.name),this.token("%%"),"Statement"===e.expectedNode&&this.semicolon()},t.Program=function(e){var t;this.noIndentInnerCommentsHere(),this.printInnerComments();const n=null==(t=e.directives)?void 0:t.length;if(n){var r;const t=e.body.length?2:1;this.printSequence(e.directives,void 0,t),null!=(r=e.directives[n-1].trailingComments)&&r.length||this.newline(t)}this.printSequence(e.body)};const n=/(?:^|[^\\])(?:\\\\)*'/,r=/(?:^|[^\\])(?:\\\\)*"/},90640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e||!e.length)return;const n=[],i=(0,r.default)(e,n);if(i){for(const e of n)t.push(e);return i}};var r=n(14089)},90819:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.EMPTY_PATH=t.makeIssue=void 0,t.addIssueToContext=function(e,n){const r=(0,i.getErrorMap)(),a=(0,t.makeIssue)({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===s.default?void 0:s.default].filter(e=>!!e)});e.common.issues.push(a)};const i=n(99317),s=r(n(75653));t.makeIssue=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";const c=r.filter(e=>!!e).slice().reverse();for(const e of c)o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},t.EMPTY_PATH=[];class a{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if("aborted"===i.status)return t.INVALID;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return a.mergeObjectSync(e,n)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:n,value:s}=i;if("aborted"===n.status)return t.INVALID;if("aborted"===s.status)return t.INVALID;"dirty"===n.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===n.value||void 0===s.value&&!i.alwaysSet||(r[n.value]=s.value)}return{status:e.value,value:r}}}t.ParseStatus=a,t.INVALID=Object.freeze({status:"aborted"}),t.DIRTY=e=>({status:"dirty",value:e}),t.OK=e=>({status:"valid",value:e}),t.isAborted=e=>"aborted"===e.status,t.isDirty=e=>"dirty"===e.status,t.isValid=e=>"valid"===e.status,t.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise},90875:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.RAGService=void 0;const o=a(n(16928)),c=a(n(79896)),l=n(99147);t.RAGService=class{isInitialized=!1;workspaceRoot="";localDocsCache=new Map;invertedIndex=new Map;inMemoryCollection=new Map;collectionName="codebase_docs";useInMemoryChroma=!0;litellm;constructor(){this.litellm=(0,l.getLiteLLMService)()}async initialize(e){this.workspaceRoot=e.fsPath;const t=o.basename(this.workspaceRoot).replace(/[^a-zA-Z0-9]/g,"_");return this.collectionName=`codebase_${t}`,this.initializeInMemoryChroma(),await this.loadLocalDocsCache(),this.isInitialized=!0,console.log(`RAG Service initialized with In-Memory ChromaDB (collection: ${this.collectionName})`),!0}initializeInMemoryChroma(){this.inMemoryCollection=new Map,this.useInMemoryChroma=!0,console.log(`In-Memory ChromaDB initialized: collection "${this.collectionName}"`)}generateEmbedding(e){const t=this.tokenize(e),n=new Map;t.forEach(e=>{n.set(e,(n.get(e)||0)+1)});const r=new Array(256).fill(0);n.forEach((e,t)=>{let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n&=n;const i=Math.abs(n)%256;r[i]+=e*Math.log(t.length+1)});const i=Math.sqrt(r.reduce((e,t)=>e+t*t,0));if(i>0)for(let e=0;e<r.length;e++)r[e]/=i;return r}cosineSimilarity(e,t){if(e.length!==t.length)return 0;let n=0,r=0,i=0;for(let s=0;s<e.length;s++)n+=e[s]*t[s],r+=e[s]*e[s],i+=t[s]*t[s];const s=Math.sqrt(r)*Math.sqrt(i);return s>0?n/s:0}async loadLocalDocsCache(){const e=o.join(this.workspaceRoot,".doc_sync","search.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8"),n=JSON.parse(t);this.localDocsCache.clear(),this.invertedIndex.clear(),this.inMemoryCollection.clear(),n.forEach(e=>{this.localDocsCache.set(e.id,e),this.indexDocument(e)}),this.useInMemoryChroma&&n.length>0&&this.indexToInMemoryChroma(n),console.log(`Loaded ${n.length} documents into local cache and in-memory ChromaDB`)}catch(e){console.error("Error loading local docs cache:",e)}else console.log("No search.json found, RAG will be populated during analysis")}indexDocument(e){this.tokenize(e.content+" "+(e.metadata.name||"")).forEach(t=>{this.invertedIndex.has(t)||this.invertedIndex.set(t,new Set),this.invertedIndex.get(t).add(e.id)})}tokenize(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(e=>e.length>2)}async indexDocuments(e){if(!this.isInitialized)throw new Error("RAG service not initialized");e.forEach(e=>{this.localDocsCache.set(e.id,e),this.indexDocument(e)}),this.useInMemoryChroma&&this.indexToInMemoryChroma(e),console.log(`Indexed ${e.length} documents (In-Memory ChromaDB: ${this.useInMemoryChroma})`)}indexToInMemoryChroma(e){for(const t of e){const e=t.id.replace(/[^a-zA-Z0-9_-]/g,"_").substring(0,100),n=this.generateEmbedding(t.content+" "+(t.metadata.name||""));this.inMemoryCollection.set(e,{id:e,content:t.content,metadata:{...t.metadata,originalId:t.id},embedding:n})}}async search(e,t=5){if(!this.isInitialized)throw new Error("RAG service not initialized");if(console.log(`RAG search: "${e}" - inMemory: ${this.inMemoryCollection.size}, localCache: ${this.localDocsCache.size}`),this.useInMemoryChroma&&this.inMemoryCollection.size>0){const n=this.searchInMemoryChroma(e,t);if(n.length>0)return n}return this.localDocsCache.size>0?this.searchLocal(e,t):(console.log("RAG search: No documents indexed"),[])}async searchWithExternal(e,t=5){const{getMCPClientManager:r}=await Promise.resolve().then(()=>a(n(12946))),i=r();let s=[];try{this.isInitialized&&(s=await this.search(e,t))}catch(e){console.log("Local search error:",e)}const o=[];if(i.isConnected())try{const t=await i.searchAll(e),n=new Map;for(const e of t){const t=e.source||"Unknown";n.has(t)||n.set(t,[]),n.get(t).push(e)}n.forEach((e,t)=>{o.push({source:t,results:e})})}catch(e){console.log("MCP search error:",e)}return{local:s,external:o}}searchInMemoryChroma(e,t){const n=this.generateEmbedding(e),r=[];return this.inMemoryCollection.forEach(e=>{if(e.embedding){const t=this.cosineSimilarity(n,e.embedding);r.push({doc:e,score:t})}}),r.sort((e,t)=>t.score-e.score),r.slice(0,t).map(({doc:e,score:t})=>({id:e.metadata.originalId||e.id,content:e.content,metadata:e.metadata,score:t}))}searchLocal(e,t){const n=this.tokenize(e),r=new Map;return n.forEach(e=>{const t=this.invertedIndex.get(e);if(t){const e=Math.log(this.localDocsCache.size/t.size+1);t.forEach(t=>{const n=r.get(t)||0;r.set(t,n+e)})}}),this.localDocsCache.forEach((t,n)=>{const i=(t.metadata.name||"").toLowerCase(),s=e.toLowerCase();i===s?r.set(n,(r.get(n)||0)+100):i.includes(s)?r.set(n,(r.get(n)||0)+50):s.includes(i)&&i.length>3&&r.set(n,(r.get(n)||0)+30)}),Array.from(r.entries()).sort((e,t)=>t[1]-e[1]).slice(0,t).map(([e,t])=>{const n=this.localDocsCache.get(e);return{id:e,content:n.content,metadata:n.metadata,score:t/100}})}async getDocument(e){if(!this.isInitialized)throw new Error("RAG service not initialized");return this.localDocsCache.get(e)||null}async getComponentInfo(e){let t=await this.getDocument(e);if(!t){const n=await this.search(e,1);n.length>0&&n[0].score>.1&&(t={id:n[0].id,content:n[0].content,metadata:n[0].metadata})}if(!t)return null;const n=this.parseArrayFromMetadata(t.metadata.dependencies),r=this.parseArrayFromMetadata(t.metadata.dependents),i=this.parseArrayFromMetadata(t.metadata.patterns);let s="";const a=await this.getDocument(`${t.id}-source`);return a&&(s=a.content.replace(/^Source code for [^:]+:\n\n/,""),s.length>1e3&&(s=s.substring(0,1e3)+"\n// ... (truncated)")),{name:t.metadata.name||e,type:t.metadata.componentType||t.metadata.type||"unknown",summary:t.content,details:`File: ${t.metadata.relativePath||t.metadata.filePath||"Unknown"}\nLanguage: ${t.metadata.language||"Unknown"}`,dependencies:n,dependents:r,patterns:i,filePath:t.metadata.filePath||"",sourcePreview:s}}parseArrayFromMetadata(e){return e?Array.isArray(e)?e:"string"==typeof e?e.split(", ").filter(e=>e.length>0):[]:[]}async answerQuestion(e){if(!this.isInitialized)return{answer:"RAG service is not initialized. Please analyze the workspace first.",relevantNodes:[],confidence:"low",aiGenerated:!1};const t=await this.search(e,8);if(0===t.length)return{answer:"No relevant information found in the codebase. Try rephrasing your question or use more specific terms.",relevantNodes:[],confidence:"low",aiGenerated:!1};const n=t.map(e=>({name:e.metadata.name||e.id,type:e.metadata.type||"unknown",summary:e.metadata.summary||e.content.substring(0,200),filePath:e.metadata.filePath||"",score:e.score})),r=t[0].score,i=r>1?"high":r>.5?"medium":"low";let s,a=!1;if(this.litellm.isReady())try{s=await this.generateLLMAnswer(e,t),a=!0}catch(n){console.error("LLM answer generation failed, using fallback:",n);const r=n?.message||String(n);s=r.includes("401")||r.includes("Unauthorized")||r.includes("API key")?`⚠️ **API Key Error**\n\nThe AI service returned an authentication error. Your API key may be invalid or expired.\n\n**To fix this:**\n1. Click the "Setup API" button in the toolbar\n2. Enter a valid API key from your provider (OpenAI, Anthropic, etc.)\n3. Try your question again\n\n---\n\n*Meanwhile, here's what I found using basic search:*\n\n${this.synthesizeAnswer(e,t)}`:`⚠️ **AI Service Unavailable**\n\nCould not generate an AI-powered answer. Using basic search results instead.\n\n---\n\n${this.synthesizeAnswer(e,t)}`}else s=`🔑 **API Key Required for AI Answers**\n\nTo get intelligent, context-aware answers, please configure an API key:\n\n1. Click the "Setup API" button in the toolbar\n2. Enter your API key (OpenAI, Anthropic, or LiteLLM)\n3. Try your question again\n\n---\n\n*Here's what I found using basic search:*\n\n${this.synthesizeAnswer(e,t)}`;return{answer:s,relevantNodes:n,confidence:i,aiGenerated:a}}async generateLLMAnswer(e,t){const n=t.slice(0,5).map((e,t)=>`### ${t+1}. ${e.metadata.name||e.id} (${e.metadata.type||"unknown"})\n**File**: ${e.metadata.filePath||""}\n**Summary**: ${e.metadata.summary||""}\n\n\`\`\`\n${e.content.substring(0,800)}\n\`\`\``).join("\n\n---\n\n");return await this.litellm.generateRAGAnswer(e,n)}synthesizeAnswer(e,t){const n=e.toLowerCase(),r=(n.startsWith("what")||n.includes("what is")||n.includes("what does"),n.startsWith("how")||n.includes("how to")||n.includes("how does")),i=n.startsWith("where")||n.includes("where is"),s=(n.startsWith("why"),n.includes("list")||n.includes("all")||n.includes("show me")),a=t.slice(0,5);if(s){const e=a.map(e=>`• **${e.metadata.name||e.id}** (${e.metadata.type||"unknown"}): ${e.metadata.summary||e.content.substring(0,100)}`);return`Found ${t.length} relevant items:\n\n${e.join("\n\n")}`}if(i)return`Here's where you can find relevant code:\n\n${a.map(e=>`• **${e.metadata.name||e.id}** is in \`${e.metadata.filePath||"unknown location"}\``).join("\n")}`;if(r){const e=a[0];let t="Based on the codebase analysis:\n\n";return t+=`**${e.metadata.name||e.id}** (${e.metadata.type||"unknown"})\n\n`,t+=e.metadata.summary||e.content.substring(0,300),a.length>1&&(t+="\n\n**Related components:**\n",a.slice(1,4).forEach(e=>{t+=`• ${e.metadata.name||e.id}: ${(e.metadata.summary||e.content).substring(0,100)}...\n`})),t}const o=a[0];let c=`**${o.metadata.name||o.id}**`;return o.metadata.type&&(c+=` (${o.metadata.type})`),c+="\n\n",c+=o.metadata.summary||o.content.substring(0,400),o.metadata.filePath&&(c+=`\n\n📁 Location: \`${o.metadata.filePath}\``),a.length>1&&(c+="\n\n**See also:**\n",a.slice(1,4).forEach(e=>{c+=`• ${e.metadata.name||e.id}`,e.metadata.filePath&&(c+=` (\`${e.metadata.filePath}\`)`),c+="\n"})),c}async clearIndex(){this.localDocsCache.clear(),this.invertedIndex.clear()}isUsingLocalFallback(){return!0}async reindexFromDocs(){await this.loadLocalDocsCache()}getStats(){return{documentCount:this.localDocsCache.size,indexedWords:this.invertedIndex.size}}async loadGraph(){const e=o.join(this.workspaceRoot,".doc_sync","graph","graph.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8"),n=JSON.parse(t);return console.log(`Loaded graph with ${n.nodes?.length||0} nodes and ${n.edges?.length||0} edges`),{nodes:n.nodes||[],edges:n.edges||[],metadata:n.metadata||{}}}catch(e){return console.error("Error loading graph:",e),null}return null}async loadNodeDetails(e){const t=e.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").substring(0,100),n=o.join(this.workspaceRoot,".doc_sync","nodes",`${t}.json`);if(c.existsSync(n))try{const e=c.readFileSync(n,"utf-8");return JSON.parse(e)}catch(t){return console.error(`Error loading node ${e}:`,t),null}return null}async loadNodeIndex(){const e=o.join(this.workspaceRoot,".doc_sync","nodes","_index.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8");return JSON.parse(t)}catch(e){return console.error("Error loading node index:",e),null}return null}async loadMetadata(){const e=o.join(this.workspaceRoot,".doc_sync","metadata.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8");return JSON.parse(t)}catch(e){return console.error("Error loading metadata:",e),null}return null}hasDocSync(){const e=o.join(this.workspaceRoot,".doc_sync");return c.existsSync(e)}getDocSyncPath(){return o.join(this.workspaceRoot,".doc_sync")}}},90938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(99048),i=n(32017),s=n(2775),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&l(e)<=t)};const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(o.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function l(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!a.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],e=>t+=l(e)),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=h(t));const r=e.parse(t);return d(e,r)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const p=/#\/?$/;function h(e){return e?e.replace(p,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,a=h(e[n]||t),o={"":a},c=u(r,a,!1),l={},d=new Set;return s(e,{allKeys:!0},(e,t,r,i)=>{if(void 0===i)return;const s=c+t;let a=o[i];function u(t){const n=this.opts.uriResolver.resolve;if(t=h(a?n(a,t):t),d.has(t))throw m(t);d.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?p(e,r.schema,t):t!==h(s)&&("#"===t[0]?(p(e,l[t],t),l[t]=e):this.refs[t]=s),t}function y(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(a=u.call(this,e[n])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),o[t]=a}),l;function p(e,t,n){if(void 0!==t&&!i(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},91114:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.globalRegistry=t.$ZodRegistry=t.$input=t.$output=void 0,t.registry=i,t.$output=Symbol("ZodOutput"),t.$input=Symbol("ZodInput");class r{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function i(){return new r}t.$ZodRegistry=r,(n=globalThis).__zod_globalRegistry??(n.__zod_globalRegistry=i()),t.globalRegistry=globalThis.__zod_globalRegistry},91140:(e,t)=>{"use strict";function n(e,t){return t.rules.some(t=>r(e,t))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const i=t.RULES.types[r];return i&&!0!==i&&n(e,i)},t.shouldUseGroup=n,t.shouldUseRule=r},91384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)&&!i.has(e)};var r=n(60983);const i=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"])},91398:e=>{"use strict";e.exports=require("vscode")},91988:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.sha384_hex=t.sha256_base64url=t.sha256_base64=t.sha256_hex=t.sha1_base64url=t.sha1_base64=t.sha1_hex=t.md5_base64url=t.md5_base64=t.md5_hex=t.hex=t.uppercase=t.lowercase=t.undefined=t.null=t.boolean=t.number=t.integer=t.bigint=t.string=t.date=t.e164=t.domain=t.hostname=t.base64url=t.base64=t.cidrv6=t.cidrv4=t.mac=t.ipv6=t.ipv4=t.browserEmail=t.idnEmail=t.unicodeEmail=t.rfc5322Email=t.html5Email=t.email=t.uuid7=t.uuid6=t.uuid4=t.uuid=t.guid=t.extendedDuration=t.duration=t.nanoid=t.ksuid=t.xid=t.ulid=t.cuid2=t.cuid=void 0,t.sha512_base64url=t.sha512_base64=t.sha512_hex=t.sha384_base64url=t.sha384_base64=void 0,t.emoji=function(){return new RegExp(o,"u")},t.time=function(e){return new RegExp(`^${l(e)}$`)},t.datetime=function(e){const t=l({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${c}T(?:${r})$`)};const a=s(n(90523));t.cuid=/^[cC][^\s-]{8,}$/,t.cuid2=/^[0-9a-z]+$/,t.ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,t.xid=/^[0-9a-vA-V]{20}$/,t.ksuid=/^[A-Za-z0-9]{27}$/,t.nanoid=/^[a-zA-Z0-9_-]{21}$/,t.duration=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,t.extendedDuration=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,t.guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,t.uuid=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,t.uuid4=(0,t.uuid)(4),t.uuid6=(0,t.uuid)(6),t.uuid7=(0,t.uuid)(7),t.email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,t.html5Email=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,t.rfc5322Email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.unicodeEmail=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,t.idnEmail=t.unicodeEmail,t.browserEmail=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;const o="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";t.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t.ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,t.mac=e=>{const t=a.escapeRegex(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},t.cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,t.cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t.base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,t.base64url=/^[A-Za-z0-9_-]*$/,t.hostname=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,t.domain=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,t.e164=/^\+(?:[0-9]){6,14}[0-9]$/;const c="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))";function l(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function u(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function d(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}t.date=new RegExp(`^${c}$`),t.string=e=>new RegExp(`^${e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*"}$`),t.bigint=/^-?\d+n?$/,t.integer=/^-?\d+$/,t.number=/^-?\d+(?:\.\d+)?/,t.boolean=/^(?:true|false)$/i,t.null=/^null$/i,t.undefined=/^undefined$/i,t.lowercase=/^[^A-Z]*$/,t.uppercase=/^[^a-z]*$/,t.hex=/^[0-9a-fA-F]*$/,t.md5_hex=/^[0-9a-fA-F]{32}$/,t.md5_base64=u(22,"=="),t.md5_base64url=d(22),t.sha1_hex=/^[0-9a-fA-F]{40}$/,t.sha1_base64=u(27,"="),t.sha1_base64url=d(27),t.sha256_hex=/^[0-9a-fA-F]{64}$/,t.sha256_base64=u(43,"="),t.sha256_base64url=d(43),t.sha384_hex=/^[0-9a-fA-F]{96}$/,t.sha384_base64=u(64,""),t.sha384_base64url=d(64),t.sha512_hex=/^[0-9a-fA-F]{128}$/,t.sha512_base64=u(86,"=="),t.sha512_base64url=d(86)},92034:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(t.util=n={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(r||(t.objectUtil=r={})),t.ZodParsedType=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t.getParsedType=e=>{switch(typeof e){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return Number.isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":return Array.isArray(e)?t.ZodParsedType.array:null===e?t.ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?t.ZodParsedType.promise:"undefined"!=typeof Map&&e instanceof Map?t.ZodParsedType.map:"undefined"!=typeof Set&&e instanceof Set?t.ZodParsedType.set:"undefined"!=typeof Date&&e instanceof Date?t.ZodParsedType.date:t.ZodParsedType.object;default:return t.ZodParsedType.unknown}}},92257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrowFunctionToExpression=function({allowInsertArrow:e=!0,allowInsertArrowWithRest:t=e,noNewArrows:n=!(e=>null==(e=arguments[0])?void 0:e.specCompliant)()}={}){if(!this.isArrowFunctionExpression())throw this.buildCodeFrameError("Cannot convert non-arrow function to a function expression.");let r=this;var i;n||(r=null!=(i=r.ensureFunctionName(!1))?i:r);const{thisBinding:s,fnPath:a}=V(r,n,e,t);if(a.ensureBlock(),a.node.type="FunctionExpression",!n){const e=s?null:a.scope.generateUidIdentifier("arrowCheckId");return e&&a.parentPath.scope.push({id:e,init:_([])}),a.get("body").unshiftContainer("body",h(d(this.hub.addHelper("newArrowCheck"),[I(),f(e?e.name:s)]))),a.replaceWith(d(b(a.node,f("bind")),[e?f(e.name):I()])),a.get("callee.object")}return a},t.ensureBlock=function(){const e=this.get("body"),t=e.node;if(Array.isArray(e))throw new Error("Can't convert array path to a block statement");if(!t)throw new Error("Can't convert node without a body");if(e.isBlockStatement())return t;const n=[];let r,i,s="body";e.isStatement()?(i="body",r=0,n.push(e.node)):(s+=".body.0",this.isFunction()?(r="argument",n.push(E(e.node))):(r="expression",n.push(h(e.node)))),this.node.body=u(n);const o=this.get(s);return a.setup.call(e,o,i?o.node[i]:o.node,i,r),this.node},t.ensureFunctionName=function(e){if(this.node.id)return this;const t=R(this.node,this.parent);if(null==t)return this;let{name:n}=t;if(!e&&/[\uD800-\uDFFF]/.test(n))return null;if(n.startsWith("get ")||n.startsWith("set "))return null;n=N(n.replace(/[/ ]/g,"_"));const r=f(n);Z(r,t.originalNode);const s={needsRename:!1,name:n},{scope:a}=this,o=a.getOwnBinding(n);if(o?"param"===o.kind&&(s.needsRename=!0):(a.parent.hasBinding(n)||a.hasGlobal(n))&&this.traverse(J,s),!s.needsRename)return this.node.id=r,a.getProgramParent().references[r.name]=!0,this;if(a.hasBinding(r.name)&&!a.hasGlobal(r.name))return a.rename(r.name),this.node.id=r,a.getProgramParent().references[r.name]=!0,this;if(!L(this.node))return null;const c=a.generateUidIdentifier(r.name),l=[];for(let e=0,t=function(e){const t=e.params.findIndex(e=>$(e)||M(e));return-1===t?e.params.length:t}(this.node);e<t;e++)l.push(a.generateUidIdentifier("x"));const u=i.default.expression.ast`
    (function (${c}) {
      function ${r}(${l}) {
        return ${j(c)}.apply(this, arguments);
      }

      ${j(r)}.toString = function () {
        return ${j(c)}.toString();
      }

      return ${j(r)};
    })(${C(this.node)})
  `;return this.replaceWith(u)[0].get("arguments.0")},t.splitExportDeclaration=function(){if(!this.isExportDeclaration()||this.isExportAllDeclaration())throw new Error("Only default and named export declarations can be split.");if(this.isExportNamedDeclaration()&&this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");const e=this.get("declaration");if(this.isExportDefaultDeclaration()){const t=e.isFunctionDeclaration()||e.isClassDeclaration(),n=e.isFunctionExpression()||e.isClassExpression(),r=e.isScope()?e.scope.parent:e.scope;let i=e.node.id,s=!1;i?n&&r.hasBinding(i.name)&&(s=!0,i=r.generateUidIdentifier(i.name)):(s=!0,i=r.generateUidIdentifier("default"),(t||n)&&(e.node.id=j(i)));const a=t?e.node:D("var",[U(j(i),e.node)]),o=F(null,[B(j(i),f("default"))]);return this.insertAfter(o),this.replaceWith(a),s&&r.registerDeclaration(this),this}if(this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");const t=e.getOuterBindingIdentifiers(),n=Object.keys(t).map(e=>B(f(e),f(e))),r=F(null,n);return this.insertAfter(r),this.replaceWith(e.node),this},t.toComputedKey=function(){let e;if(this.isMemberExpression())e=this.node.property;else{if(!this.isProperty()&&!this.isMethod())throw new ReferenceError("todo");e=this.node.key}return this.node.computed||m(e)&&(e=A(e.name)),e},t.unwrapFunctionEnvironment=function(){if(!this.isArrowFunctionExpression()&&!this.isFunctionExpression()&&!this.isFunctionDeclaration())throw this.buildCodeFrameError("Can only unwrap the environment of a function.");V(this)};var r=n(2352),i=n(32485),s=n(34950),a=n(79578);const{arrowFunctionExpression:o,assignmentExpression:c,binaryExpression:l,blockStatement:u,callExpression:d,conditionalExpression:p,expressionStatement:h,identifier:f,isIdentifier:m,jsxIdentifier:y,logicalExpression:g,LOGICAL_OPERATORS:v,memberExpression:b,metaProperty:S,numericLiteral:T,objectExpression:_,restElement:P,returnStatement:E,sequenceExpression:x,spreadElement:w,stringLiteral:A,super:O,thisExpression:I,toExpression:C,unaryExpression:k,toBindingIdentifierName:N,isFunction:L,isAssignmentPattern:$,isRestElement:M,getFunctionName:R,cloneNode:j,variableDeclaration:D,variableDeclarator:U,exportNamedDeclaration:F,exportSpecifier:B,inherits:Z}=r;t.arrowFunctionToShadowed=function(){this.isArrowFunctionExpression()&&this.arrowFunctionToExpression()};const z=(0,s.environmentVisitor)({CallExpression(e,{allSuperCalls:t}){e.get("callee").isSuper()&&t.push(e)}});function V(e,t=!0,n=!0,r=!0){let i,s=e.findParent(e=>e.isArrowFunctionExpression()?(null!=i||(i=e),!1):e.isFunction()||e.isProgram()||e.isClassProperty({static:!1})||e.isClassPrivateProperty({static:!1}));const a=s.isClassMethod({kind:"constructor"});if(s.isClassProperty()||s.isClassPrivateProperty())if(i)s=i;else{if(!n)throw e.buildCodeFrameError("Unable to transform arrow inside class property");e.replaceWith(d(o([],C(e.node)),[])),s=e.get("callee"),e=s.get("body")}const{thisPaths:u,argumentsPaths:h,newTargetPaths:m,superProps:_,superCalls:E}=function(e){const t=[],n=[],r=[],i=[],s=[];return e.traverse(G,{thisPaths:t,argumentsPaths:n,newTargetPaths:r,superProps:i,superCalls:s}),{thisPaths:t,argumentsPaths:n,newTargetPaths:r,superProps:i,superCalls:s}}(e);if(a&&E.length>0){if(!n)throw E[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super()` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");if(!r)throw E[0].buildCodeFrameError("When using '@babel/plugin-transform-parameters', it's not possible to compile `super()` in an arrow function with default or rest parameters without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");const e=[];s.traverse(z,{allSuperCalls:e});const t=function(e){return W(e,"supercall",()=>{const t=e.scope.generateUidIdentifier("args");return o([P(t)],d(O(),[w(f(t.name))]))})}(s);e.forEach(e=>{const n=f(t);n.loc=e.node.callee.loc,e.get("callee").replaceWith(n)})}if(h.length>0){const e=W(s,"arguments",()=>{const e=()=>f("arguments");return s.scope.path.isProgram()?p(l("===",k("typeof",e()),A("undefined")),s.scope.buildUndefinedNode(),e()):e()});h.forEach(t=>{const n=f(e);n.loc=t.node.loc,t.replaceWith(n)})}if(m.length>0){const e=W(s,"newtarget",()=>S(f("new"),f("target")));m.forEach(t=>{const n=f(e);n.loc=t.node.loc,t.replaceWith(n)})}if(_.length>0){if(!n)throw _[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super.prop` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");_.reduce((e,t)=>e.concat(function(e){if(e.parentPath.isAssignmentExpression()&&"="!==e.parentPath.node.operator){const n=e.parentPath,r=n.node.operator.slice(0,-1),i=n.node.right,s=function(e){return v.includes(e)}(r);if(e.node.computed){const a=e.scope.generateDeclaredUidIdentifier("tmp"),{object:o,property:l}=e.node;n.get("left").replaceWith(b(o,c("=",a,l),!0)),n.get("right").replaceWith(t(s?"=":r,b(o,f(a.name),!0),i))}else{const a=e.node.object,o=e.node.property;n.get("left").replaceWith(b(a,o)),n.get("right").replaceWith(t(s?"=":r,b(a,f(o.name)),i))}return s?n.replaceWith(g(r,n.node.left,n.node.right)):n.node.operator="=",[n.get("left"),n.get("right").get("left")]}if(e.parentPath.isUpdateExpression()){const t=e.parentPath,n=e.scope.generateDeclaredUidIdentifier("tmp"),r=e.node.computed?e.scope.generateDeclaredUidIdentifier("prop"):null,i=[c("=",n,b(e.node.object,r?c("=",r,e.node.property):e.node.property,e.node.computed)),c("=",b(e.node.object,r?f(r.name):e.node.property,e.node.computed),l(e.parentPath.node.operator[0],f(n.name),T(1)))];return e.parentPath.node.prefix||i.push(f(n.name)),t.replaceWith(x(i)),[t.get("expressions.0.right"),t.get("expressions.1.left")]}return[e];function t(e,t,n){return"="===e?c("=",t,n):l(e,t,n)}}(t)),[]).forEach(e=>{const t=e.node.computed?"":e.get("property").node.name,n=e.parentPath,r=n.isAssignmentExpression({left:e.node}),i=n.isCallExpression({callee:e.node}),a=n.isTaggedTemplateExpression({tag:e.node}),l=function(e,t,n){return W(e,`superprop_${t?"set":"get"}:${n||""}`,()=>{const r=[];let i;if(n)i=b(O(),f(n));else{const t=e.scope.generateUidIdentifier("prop");r.unshift(t),i=b(O(),f(t.name),!0)}if(t){const t=e.scope.generateUidIdentifier("value");r.push(t),i=c("=",i,f(t.name))}return o(r,i)})}(s,r,t),p=[];if(e.node.computed&&p.push(e.get("property").node),r){const e=n.node.right;p.push(e)}const h=d(f(l),p);i?(n.unshiftContainer("arguments",I()),e.replaceWith(b(h,f("call"))),u.push(n.get("arguments.0"))):r?n.replaceWith(h):a?(e.replaceWith(d(b(h,f("bind"),!1),[I()])),u.push(e.get("arguments.0"))):e.replaceWith(h)})}let N;return(u.length>0||!t)&&(N=function(e,t){return W(e,"this",n=>{if(!t||!q(e))return I();e.traverse(K,{supers:new WeakSet,thisBinding:n})})}(s,a),(t||a&&q(s))&&(u.forEach(e=>{const t=e.isJSX()?y(N):f(N);t.loc=e.node.loc,e.replaceWith(t)}),t||(N=null))),{thisBinding:N,fnPath:e}}function q(e){return e.isClassMethod()&&!!e.parentPath.parentPath.node.superClass}const K=(0,s.environmentVisitor)({CallExpression(e,{supers:t,thisBinding:n}){e.get("callee").isSuper()&&(t.has(e.node)||(t.add(e.node),e.replaceWithMultiple([e.node,c("=",f(n),f("this"))])))}});function W(e,t,n){const r="binding:"+t;let i=e.getData(r);if(!i){const s=e.scope.generateUidIdentifier(t);i=s.name,e.setData(r,i),e.scope.push({id:s,init:n(i)})}return i}const G=(0,s.environmentVisitor)({ThisExpression(e,{thisPaths:t}){t.push(e)},JSXIdentifier(e,{thisPaths:t}){"this"===e.node.name&&(e.parentPath.isJSXMemberExpression({object:e.node})||e.parentPath.isJSXOpeningElement({name:e.node}))&&t.push(e)},CallExpression(e,{superCalls:t}){e.get("callee").isSuper()&&t.push(e)},MemberExpression(e,{superProps:t}){e.get("object").isSuper()&&t.push(e)},Identifier(e,{argumentsPaths:t}){if(!e.isReferencedIdentifier({name:"arguments"}))return;let n=e.scope;do{if(n.hasOwnBinding("arguments"))return void n.rename("arguments");if(n.path.isFunction()&&!n.path.isArrowFunctionExpression())break}while(n=n.parent);t.push(e)},MetaProperty(e,{newTargetPaths:t}){e.get("meta").isIdentifier({name:"new"})&&e.get("property").isIdentifier({name:"target"})&&t.push(e)}}),J={"ReferencedIdentifier|BindingIdentifier"(e,t){e.node.name===t.name&&(t.needsRename=!0,e.stop())},Scope(e,t){e.scope.hasOwnBinding(t.name)&&e.skip()}}},92626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=t.defaultOptions=t.jsonDescription=t.ignoreOverride=void 0,t.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),t.jsonDescription=(e,t)=>{if(t.description)try{return{...e,...JSON.parse(t.description)}}catch{}return e},t.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},t.getDefaultOptions=e=>"string"==typeof e?{...t.defaultOptions,name:e}:{...t.defaultOptions,...e}},92773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=t.Completions=void 0;const r=n(79632);var i=n(73054);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return i.Completions}}),r.__exportStar(n(73054),t);var s=n(19501);Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return s.Messages}})},92802:function(e,t,n){var r;!function(e,t,n){"use strict";var r,i=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports},d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))l.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},p=(e,t,n)=>(n=null!=e?i(c(e)):{},d(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),h=u({"umd:@jridgewell/sourcemap-codec"(e,t){t.exports=n}}),f=u({"umd:@jridgewell/resolve-uri"(e,n){n.exports=t}}),m={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(m,{AnyMap:()=>M,FlattenMap:()=>M,GREATEST_LOWER_BOUND:()=>z,LEAST_UPPER_BOUND:()=>Z,TraceMap:()=>V,allGeneratedPositionsFor:()=>H,decodedMap:()=>ne,decodedMappings:()=>K,eachMapping:()=>Y,encodedMap:()=>re,encodedMappings:()=>q,generatedPositionFor:()=>J,isIgnored:()=>ee,originalPositionFor:()=>G,presortedDecodedMap:()=>te,sourceContentFor:()=>Q,traceSegment:()=>W}),e.exports=(r=m,d(s({},"__esModule",{value:!0}),r));var y=p(h()),g=p(f());var v=0,b=1,S=2,T=3,_=4,P=1,E=2;function x(e,t){for(let n=t;n<e.length;n++)if(!w(e[n]))return n;return e.length}function w(e){for(let t=1;t<e.length;t++)if(e[t][v]<e[t-1][v])return!1;return!0}function A(e,t){return t||(e=e.slice()),e.sort(O)}function O(e,t){return e[v]-t[v]}var I=!1;function C(e,t,n){for(let r=n+1;r<e.length&&e[r][v]===t;n=r++);return n}function k(e,t,n){for(let r=n-1;r>=0&&e[r][v]===t;n=r--);return n}function N(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function L(e,t,n,r){const{lastKey:i,lastNeedle:s,lastIndex:a}=n;let o=0,c=e.length-1;if(r===i){if(t===s)return I=-1!==a&&e[a][v]===t,a;t>=s?o=-1===a?0:a:c=a}return n.lastKey=r,n.lastNeedle=t,n.lastIndex=function(e,t,n,r){for(;n<=r;){const i=n+(r-n>>1),s=e[i][v]-t;if(0===s)return I=!0,i;s<0?n=i+1:r=i-1}return I=!1,n-1}(e,t,o,c)}function $(e){return"string"==typeof e?JSON.parse(e):e}var M=function(e,t){const n=$(e);if(!("sections"in n))return new V(n,t);const r=[],i=[],s=[],a=[],o=[];return R(n,t,r,i,s,a,o,0,0,1/0,1/0),te({version:3,file:n.file,names:a,sources:i,sourcesContent:s,mappings:r,ignoreList:o})};function R(e,t,n,r,i,s,a,o,c,l,u){const{sections:d}=e;for(let e=0;e<d.length;e++){const{map:p,offset:h}=d[e];let f=l,m=u;if(e+1<d.length){const t=d[e+1].offset;f=Math.min(l,o+t.line),f===l?m=Math.min(u,c+t.column):f<l&&(m=c+t.column)}j(p,t,n,r,i,s,a,o+h.line,c+h.column,f,m)}}function j(e,t,n,r,i,s,a,o,c,l,u){const d=$(e);if("sections"in d)return R(...arguments);const p=new V(d,t),h=r.length,f=s.length,m=K(p),{resolvedSources:y,sourcesContent:g,ignoreList:P}=p;if(D(r,y),D(s,p.names),g)D(i,g);else for(let e=0;e<y.length;e++)i.push(null);if(P)for(let e=0;e<P.length;e++)a.push(P[e]+h);for(let e=0;e<m.length;e++){const t=o+e;if(t>l)return;const r=U(n,t),i=0===e?c:0,s=m[e];for(let e=0;e<s.length;e++){const n=s[e],a=i+n[v];if(t===l&&a>=u)return;if(1===n.length){r.push([a]);continue}const o=h+n[b],c=n[S],d=n[T];r.push(4===n.length?[a,o,c,d]:[a,o,c,d,f+n[_]])}}}function D(e,t){for(let n=0;n<t.length;n++)e.push(t[n])}function U(e,t){for(let n=e.length;n<=t;n++)e[n]=[];return e[t]}var F="`line` must be greater than 0 (lines start at line 1)",B="`column` must be greater than or equal to 0 (columns start at column 0)",Z=-1,z=1,V=class{constructor(e,t){const n="string"==typeof e;if(!n&&e._decodedMemo)return e;const r=$(e),{version:i,file:s,names:a,sourceRoot:o,sources:c,sourcesContent:l}=r;this.version=i,this.file=s,this.names=a||[],this.sourceRoot=o,this.sources=c,this.sourcesContent=l,this.ignoreList=r.ignoreList||r.x_google_ignoreList||void 0;const u=function(e,t){const n=function(e){if(!e)return"";const t=e.lastIndexOf("/");return e.slice(0,t+1)}(e),r=t?t+"/":"";return e=>(0,g.default)(r+(e||""),n)}(t,o);this.resolvedSources=c.map(u);const{mappings:d}=r;if("string"==typeof d)this._encoded=d,this._decoded=void 0;else{if(!Array.isArray(d))throw r.sections?new Error("TraceMap passed sectioned source map, please use FlattenMap export instead"):new Error(`invalid source map: ${JSON.stringify(r)}`);this._encoded=void 0,this._decoded=function(e,t){const n=x(e,0);if(n===e.length)return e;t||(e=e.slice());for(let r=n;r<e.length;r=x(e,r+1))e[r]=A(e[r],t);return e}(d,n)}this._decodedMemo={lastKey:-1,lastNeedle:-1,lastIndex:-1},this._bySources=void 0,this._bySourceMemos=void 0}};function q(e){var t,n;return null!=(n=(t=e)._encoded)?n:t._encoded=(0,y.encode)(e._decoded)}function K(e){var t;return(t=e)._decoded||(t._decoded=(0,y.decode)(e._encoded))}function W(e,t,n){const r=K(e);if(t>=r.length)return null;const i=r[t],s=oe(i,e._decodedMemo,t,n,z);return-1===s?null:i[s]}function G(e,t){let{line:n,column:r,bias:i}=t;if(n--,n<0)throw new Error(F);if(r<0)throw new Error(B);const s=K(e);if(n>=s.length)return se(null,null,null,null);const a=s[n],o=oe(a,e._decodedMemo,n,r,i||z);if(-1===o)return se(null,null,null,null);const c=a[o];if(1===c.length)return se(null,null,null,null);const{names:l,resolvedSources:u}=e;return se(u[c[b]],c[S]+1,c[T],5===c.length?l[c[_]]:null)}function J(e,t){const{source:n,line:r,column:i,bias:s}=t;return ce(e,n,r,i,s||z,!1)}function H(e,t){const{source:n,line:r,column:i,bias:s}=t;return ce(e,n,r,i,s||Z,!0)}function Y(e,t){const n=K(e),{names:r,resolvedSources:i}=e;for(let e=0;e<n.length;e++){const s=n[e];for(let n=0;n<s.length;n++){const a=s[n],o=e+1,c=a[0];let l=null,u=null,d=null,p=null;1!==a.length&&(l=i[a[1]],u=a[2]+1,d=a[3]),5===a.length&&(p=r[a[4]]),t({generatedLine:o,generatedColumn:c,source:l,originalLine:u,originalColumn:d,name:p})}}}function X(e,t){const{sources:n,resolvedSources:r}=e;let i=n.indexOf(t);return-1===i&&(i=r.indexOf(t)),i}function Q(e,t){const{sourcesContent:n}=e;if(null==n)return null;const r=X(e,t);return-1===r?null:n[r]}function ee(e,t){const{ignoreList:n}=e;if(null==n)return!1;const r=X(e,t);return-1!==r&&n.includes(r)}function te(e,t){const n=new V(ie(e,[]),t);return n._decoded=e.mappings,n}function ne(e){return ie(e,K(e))}function re(e){return ie(e,q(e))}function ie(e,t){return{version:e.version,file:e.file,names:e.names,sourceRoot:e.sourceRoot,sources:e.sources,sourcesContent:e.sourcesContent,mappings:t,ignoreList:e.ignoreList||e.x_google_ignoreList}}function se(e,t,n,r){return{source:e,line:t,column:n,name:r}}function ae(e,t){return{line:e,column:t}}function oe(e,t,n,r,i){let s=L(e,r,t,n);return I?s=(i===Z?C:k)(e,r,s):i===Z&&s++,-1===s||s===e.length?-1:s}function ce(e,t,n,r,i,s){var a,o;if(--n<0)throw new Error(F);if(r<0)throw new Error(B);const{sources:c,resolvedSources:l}=e;let u=c.indexOf(t);if(-1===u&&(u=l.indexOf(t)),-1===u)return s?[]:ae(null,null);const d=(a=e)._bySourceMemos||(a._bySourceMemos=c.map(N)),p=((o=e)._bySources||(o._bySources=function(e,t){const n=t.map(()=>[]);for(let t=0;t<e.length;t++){const r=e[t];for(let e=0;e<r.length;e++){const i=r[e];if(1===i.length)continue;const s=i[b],a=i[S],o=i[T],c=n[s];(c[a]||(c[a]=[])).push([o,t,i[v]])}}for(let e=0;e<n.length;e++){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e];n&&n.sort(O)}}return n}(K(e),d)))[u][n];if(null==p)return s?[]:ae(null,null);const h=d[u];if(s)return function(e,t,n,r,i){let s=oe(e,t,n,r,z);if(I||i!==Z||s++,-1===s||s===e.length)return[];const a=I?r:e[s][v];I||(s=k(e,a,s));const o=C(e,a,s),c=[];for(;s<=o;s++){const t=e[s];c.push(ae(t[P]+1,t[E]))}return c}(p,h,n,r,i);const f=oe(p,h,n,r,i);if(-1===f)return ae(null,null);const m=p[f];return ae(m[P]+1,m[E])}}(e=n.nmd(e),n(4424),n(44318)),e.exports="default"in(r=e).exports?r.exports.default:r.exports},92964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assistants=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(54815);class o extends r.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(a.path`/assistants/${e}`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(a.path`/assistants/${e}`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",i.CursorPage,{query:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(a.path`/assistants/${e}`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Assistants=o},92986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(66596),i=n(26670),s=n(51980),a=n(24971);function o(e){const{gen:t,data:n,it:i}=e;t.if(i.parentData,()=>t.assign(n,r._`${i.parentData}[${i.parentDataProperty}]`))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:i,schema:s,parentSchema:a,it:o}=e,l=t.macro.call(o.self,s,a,o),u=c(n,i,l);!1!==o.opts.validateSchema&&o.self.validateSchema(l,!0);const d=n.name("valid");e.subschema({schema:l,schemaPath:r.nil,errSchemaPath:`${o.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,()=>e.error(!0))},t.funcKeywordCode=function(e,t){var n;const{gen:l,keyword:u,schema:d,parentSchema:p,$data:h,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!h&&t.compile?t.compile.call(f.self,d,p,f):t.validate,y=c(l,u,m),g=l.let("valid");function v(n=(t.async?r._`await `:r.nil)){const a=f.opts.passContext?i.default.this:i.default.self,o=!("compile"in t&&!h||!1===t.schema);l.assign(g,r._`${n}${(0,s.callValidateCode)(e,y,a,o)}`,t.modifying)}function b(e){var n;l.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:g),e)}e.block$data(g,function(){if(!1===t.errors)v(),t.modifying&&o(e),b(()=>e.error());else{const n=t.async?function(){const e=l.let("ruleErrs",null);return l.try(()=>v(r._`await `),t=>l.assign(g,!1).if(r._`${t} instanceof ${f.ValidationError}`,()=>l.assign(e,r._`${t}.errors`),()=>l.throw(t))),e}():function(){const e=r._`${y}.errors`;return l.assign(e,null),v(r.nil),e}();t.modifying&&o(e),b(()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,()=>{n.assign(i.default.vErrors,r._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,r._`${i.default.vErrors}.length`),(0,a.extendErrors)(e)},()=>e.error())}(e,n))}}),e.ok(null!==(n=t.valid)&&void 0!==n?n:g)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e)},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const a=i.dependencies;if(null==a?void 0:a.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const e=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},93017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uploads=void 0;const r=n(79632),i=n(82040),s=r.__importStar(n(3061)),a=n(3061),o=n(54815);class c extends i.APIResource{constructor(){super(...arguments),this.parts=new s.Parts(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(o.path`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(o.path`/uploads/${e}/complete`,{body:t,...n})}}t.Uploads=c,c.Parts=a.Parts},93422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_OPERATORS=t.UNARY_OPERATORS=t.STRING_UNARY_OPERATORS=t.STATEMENT_OR_BLOCK_KEYS=t.NUMBER_UNARY_OPERATORS=t.NUMBER_BINARY_OPERATORS=t.LOGICAL_OPERATORS=t.INHERIT_KEYS=t.FOR_INIT_KEYS=t.FLATTENABLE_KEYS=t.EQUALITY_BINARY_OPERATORS=t.COMPARISON_BINARY_OPERATORS=t.COMMENT_KEYS=t.BOOLEAN_UNARY_OPERATORS=t.BOOLEAN_NUMBER_BINARY_OPERATORS=t.BOOLEAN_BINARY_OPERATORS=t.BINARY_OPERATORS=t.ASSIGNMENT_OPERATORS=void 0,t.STATEMENT_OR_BLOCK_KEYS=["consequent","body","alternate"],t.FLATTENABLE_KEYS=["body","expressions"],t.FOR_INIT_KEYS=["left","init"],t.COMMENT_KEYS=["leadingComments","trailingComments","innerComments"];const n=t.LOGICAL_OPERATORS=["||","&&","??"],r=(t.UPDATE_OPERATORS=["++","--"],t.BOOLEAN_NUMBER_BINARY_OPERATORS=[">","<",">=","<="]),i=t.EQUALITY_BINARY_OPERATORS=["==","===","!=","!=="],s=t.COMPARISON_BINARY_OPERATORS=[...i,"in","instanceof"],a=t.BOOLEAN_BINARY_OPERATORS=[...s,...r],o=t.NUMBER_BINARY_OPERATORS=["-","/","%","*","**","&","|",">>",">>>","<<","^"],c=(t.BINARY_OPERATORS=["+",...o,...a,"|>"],t.ASSIGNMENT_OPERATORS=["=","+=",...o.map(e=>e+"="),...n.map(e=>e+"=")],t.BOOLEAN_UNARY_OPERATORS=["delete","!"]),l=t.NUMBER_UNARY_OPERATORS=["+","-","~"],u=t.STRING_UNARY_OPERATORS=["typeof"];t.UNARY_OPERATORS=["void","throw",...c,...l,...u],t.INHERIT_KEYS={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]},t.BLOCK_SCOPED_SYMBOL=Symbol.for("var used to be block scoped"),t.NOT_LOCAL_BINDING=Symbol.for("should not be considered a local binding")},93437:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.COMMENT_KEYS.forEach(t=>{e[t]=null}),e};var r=n(93422)},93584:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsedType=void 0,t.default=function(){return{localeError:o()}};const a=s(n(90523));t.parsedType=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"масив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t};const o=()=>{const e={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}};function n(t){return e[t]??null}const r={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"};return e=>{switch(e.code){case"invalid_type":return`Невалиден вход: очакван ${e.expected}, получен ${(0,t.parsedType)(e.input)}`;case"invalid_value":return 1===e.values.length?`Невалиден вход: очакван ${a.stringifyPrimitive(e.values[0])}`:`Невалидна опция: очаквано едно от ${a.joinValues(e.values,"|")}`;case"too_big":{const t=e.inclusive?"<=":"<",r=n(e.origin);return r?`Твърде голямо: очаква се ${e.origin??"стойност"} да съдържа ${t}${e.maximum.toString()} ${r.unit??"елемента"}`:`Твърде голямо: очаква се ${e.origin??"стойност"} да бъде ${t}${e.maximum.toString()}`}case"too_small":{const t=e.inclusive?">=":">",r=n(e.origin);return r?`Твърде малко: очаква се ${e.origin} да съдържа ${t}${e.minimum.toString()} ${r.unit}`:`Твърде малко: очаква се ${e.origin} да бъде ${t}${e.minimum.toString()}`}case"invalid_format":{const t=e;if("starts_with"===t.format)return`Невалиден низ: трябва да започва с "${t.prefix}"`;if("ends_with"===t.format)return`Невалиден низ: трябва да завършва с "${t.suffix}"`;if("includes"===t.format)return`Невалиден низ: трябва да включва "${t.includes}"`;if("regex"===t.format)return`Невалиден низ: трябва да съвпада с ${t.pattern}`;let n="Невалиден";return"emoji"===t.format&&(n="Невалидно"),"datetime"===t.format&&(n="Невалидно"),"date"===t.format&&(n="Невалидна"),"time"===t.format&&(n="Невалидно"),"duration"===t.format&&(n="Невалидна"),`${n} ${r[t.format]??e.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${e.divisor}`;case"unrecognized_keys":return`Неразпознат${e.keys.length>1?"и":""} ключ${e.keys.length>1?"ове":""}: ${a.joinValues(e.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${e.origin}`;case"invalid_union":default:return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${e.origin}`}}}},93655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONSchemaGenerator=void 0;const r=n(86631),i=n(70485);t.JSONSchemaGenerator=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let t=e?.target??"draft-2020-12";"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),this.ctx=(0,i.initializeContext)({processors:r.allProcessors,target:t,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,t={path:[],schemaPath:[]}){return(0,i.process)(e,this.ctx,t)}emit(e,t){t&&(t.cycles&&(this.ctx.cycles=t.cycles),t.reused&&(this.ctx.reused=t.reused),t.external&&(this.ctx.external=t.external)),(0,i.extractDefs)(this.ctx,e);const n=(0,i.finalize)(this.ctx,e),{"~standard":r,...s}=n;return s}}},93663:(e,t,n)=>{var r=n(41799),i=n(10776),s=n(67197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},93697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(95962),i=n(79877),s=n(91140),a=n(79877),o=n(82363),c=n(92986),l=n(77344),u=n(66596),d=n(26670),p=n(90978),h=n(99048),f=n(24971);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,u._`${d.default.data}, ${d.default.valCxt}`,r.$async,()=>{e.code(u._`"use strict"; ${y(n,i)}`),function(e,t){e.if(d.default.valCxt,()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)})}(e,i),e.code(s)}):e.func(t,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(i)}`,r.$async,()=>e.code(y(n,i)).code(s))}function y(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function g({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function b(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function S(e,t){if(e.opts.jtd)return _(e,[],!1,t);const n=(0,i.getSchemaTypes)(e.schema);_(e,n,!(0,i.coerceAndCheckDataType)(e,n),t)}function T({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(!0===i.$comment)e.code(u._`${d.default.self}.logger.log(${s})`);else if("function"==typeof i.$comment){const n=u.str`${r}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(u._`${d.default.self}.opts.$comment(${s}, ${n}, ${i}.schema)`)}}function _(e,t,n,r){const{gen:i,schema:o,data:c,allErrors:l,opts:p,self:f}=e,{RULES:m}=f;function y(h){(0,s.shouldUseGroup)(o,h)&&(h.type?(i.if((0,a.checkDataType)(h.type,c,p.strictNumbers)),P(e,h),1===t.length&&t[0]===h.type&&n&&(i.else(),(0,a.reportTypeError)(e)),i.endIf()):P(e,h),l||i.if(u._`${d.default.errors} === ${r||0}`))}!o.$ref||!p.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(o,m)?(p.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach(t=>{E(e.dataTypes,t)||x(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),function(e,t){const n=[];for(const r of e.dataTypes)E(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&x(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if("object"==typeof i&&(0,s.shouldUseRule)(e.schema,i)){const{type:n}=i.definition;n.length&&!n.some(e=>{return r=e,(n=t).includes(r)||"number"===r&&n.includes("integer");var n,r})&&x(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes))}(e,t),i.block(()=>{for(const e of m.rules)y(e);y(m.post)})):i.block(()=>A(e,"$ref",m.all.$ref.definition))}function P(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,o.assignDefaults)(e,t.type),n.block(()=>{for(const n of t.rules)(0,s.shouldUseRule)(r,n)&&A(e,n.keyword,n.definition,t.type)})}function E(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function x(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){v(e)&&(b(e),g(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,()=>{n.$comment&&t.$comment&&T(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(d.default.vErrors,null),r.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`)),t.if(u._`${e.evaluated}.dynamicItems`,()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`))}(e),S(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if(u._`${d.default.errors} === 0`,()=>t.return(d.default.data),()=>t.throw(u._`new ${i}(${d.default.vErrors})`)):(t.assign(u._`${r}.errors`,d.default.vErrors),s.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),r instanceof u.Name&&e.assign(u._`${t}.items`,r)}(e),t.return(u._`${d.default.errors} === 0`))}(e)})}(e):m(e,()=>(0,r.topBoolOrEmptySchema)(e))};class w{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",C(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block(()=>{this.check$data(e,n),t()})}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:i,def:s}=this;n.if((0,u.or)(u._`${r} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(i.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:i}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,a.checkDataTypes)(e,t,i.opts.strictNumbers,a.DataType.Wrong)}`}return u.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,l.getSubschema)(this.it,e);(0,l.extendSubschemaData)(n,this.it,e),(0,l.extendSubschemaMode)(n,e);const i={...this.it,...n,items:void 0,props:void 0};return function(e,t){v(e)&&(b(e),g(e))?function(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&T(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,p.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const s=r.const("_errs",d.default.errors);S(e,s),r.var(t,u._`${s} === ${d.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}(i,t),i}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=h.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=h.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,()=>this.mergeEvaluated(e,u.Name)),!0}}function A(e,t,n,r){const i=new w(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,c.funcKeywordCode)(i,n):"macro"in n?(0,c.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(i,n)}t.KeywordCxt=w;const O=/^\/(?:[^~]|~0|~1)*$/,I=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(""===e)return d.default.rootData;if("/"===e[0]){if(!O.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=d.default.rootData}else{const a=I.exec(e);if(!a)throw new Error(`Invalid JSON-pointer: ${e}`);const o=+a[1];if(i=a[2],"#"===i){if(o>=t)throw new Error(c("property/index",o));return r[t-o]}if(o>t)throw new Error(c("data",o));if(s=n[t-o],!i)return s}let a=s;const o=i.split("/");for(const e of o)e&&(s=u._`${s}${(0,u.getProperty)((0,h.unescapeJsonPointer)(e))}`,a=u._`${a} && ${s}`);return a;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=C},93828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return!!t&&((0,i.default)(t.type,e)?void 0===n||(0,r.default)(t,n):!n&&"Placeholder"===t.type&&e in a.FLIPPED_ALIAS_KEYS&&(0,s.default)(t.expectedNode,e))};var r=n(96616),i=n(94460),s=n(53571),a=n(39793)},93858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePromiseDef=void 0;const r=n(73524);t.parsePromiseDef=function(e,t){return(0,r.parseDef)(e.type._def,t)}},94460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(null==e)return!1;if(r.ALIAS_KEYS[t])return!1;const n=r.FLIPPED_ALIAS_KEYS[t];return!(null==n||!n.includes(e))};var r=n(39793)},94469:(e,t,n)=>{var r=n(2523),i=n(15389),s=n(61489),a=Math.max,o=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==n&&(l=s(n),l=n<0?a(c+l,0):o(l,c-1)),r(e,i(t,3),l,!0)}},94483:e=>{"use strict";const t=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e.replace(t,"^$1")},e.exports.argument=function(e,n){return e=(e=`"${e=(e=(e=`${e}`).replace(/(?=(\\+?)?)\1"/g,'$1$1\\"')).replace(/(?=(\\+?)?)\1$/,"$1$1")}"`).replace(t,"^$1"),n&&(e=e.replace(t,"^$1")),e}},94965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!i(e))return!1;const s=Array.isArray(t)?t:t.split("."),a=[];let o;for(o=e;i(o);o=null!=(c=o.object)?c:o.meta){var c;a.push(o.property)}if(a.push(o),a.length<s.length)return!1;if(!n&&a.length>s.length)return!1;for(let e=0,t=a.length-1;e<s.length;e++,t--){const n=a[t];let i;if((0,r.isIdentifier)(n))i=n.name;else if((0,r.isStringLiteral)(n))i=n.value;else if((0,r.isThisExpression)(n))i="this";else if((0,r.isSuper)(n))i="super";else{if(!(0,r.isPrivateName)(n))return!1;i="#"+n.id.name}if(s[e]!==i)return!1}return!0};var r=n(98960);function i(e){return(0,r.isMemberExpression)(e)||(0,r.isMetaProperty)(e)}},95126:(e,t,n)=>{"use strict";var r,i,s,a,o,c,l,u,d,p,h,f;Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStream=void 0;const m=n(79632),y=n(43690),g=n(89526),v=n(63357),b=n(6716),S=n(71118);class T extends S.AbstractChatCompletionRunner{constructor(e){super(),r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),m.__classPrivateFieldSet(this,i,e,"f"),m.__classPrivateFieldSet(this,s,[],"f")}get currentChatCompletionSnapshot(){return m.__classPrivateFieldGet(this,a,"f")}static fromReadableStream(e){const t=new T(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){const r=new T(t);return r._run(()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),m.__classPrivateFieldGet(this,r,"m",o).call(this);const s=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const e of s)m.__classPrivateFieldGet(this,r,"m",l).call(this,e);if(s.controller.signal?.aborted)throw new g.APIUserAbortError;return this._addChatCompletion(m.__classPrivateFieldGet(this,r,"m",p).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),m.__classPrivateFieldGet(this,r,"m",o).call(this),this._connected();const i=b.Stream.fromReadableStream(e,this.controller);let s;for await(const e of i)s&&s!==e.id&&this._addChatCompletion(m.__classPrivateFieldGet(this,r,"m",p).call(this)),m.__classPrivateFieldGet(this,r,"m",l).call(this,e),s=e.id;if(i.controller.signal?.aborted)throw new g.APIUserAbortError;return this._addChatCompletion(m.__classPrivateFieldGet(this,r,"m",p).call(this))}[(i=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,o=function(){this.ended||m.__classPrivateFieldSet(this,a,void 0,"f")},c=function(e){let t=m.__classPrivateFieldGet(this,s,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},m.__classPrivateFieldGet(this,s,"f")[e.index]=t,t)},l=function(e){if(this.ended)return;const t=m.__classPrivateFieldGet(this,r,"m",f).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const i=m.__classPrivateFieldGet(this,r,"m",c).call(this,e);e.finish_reason&&(m.__classPrivateFieldGet(this,r,"m",d).call(this,e),null!=i.current_tool_call_index&&m.__classPrivateFieldGet(this,r,"m",u).call(this,e,i.current_tool_call_index));for(const t of n.delta.tool_calls??[])i.current_tool_call_index!==t.index&&(m.__classPrivateFieldGet(this,r,"m",d).call(this,e),null!=i.current_tool_call_index&&m.__classPrivateFieldGet(this,r,"m",u).call(this,e,i.current_tool_call_index)),i.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type?this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):E())}}},u=function(e,t){if(m.__classPrivateFieldGet(this,r,"m",c).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=m.__classPrivateFieldGet(this,i,"f")?.tools?.find(e=>(0,v.isChatCompletionFunctionTool)(e)&&e.function.name===n.function.name);this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:(0,v.isAutoParsableTool)(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},d=function(e){const t=m.__classPrivateFieldGet(this,r,"m",c).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=m.__classPrivateFieldGet(this,r,"m",h).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},p=function(){if(this.ended)throw new g.OpenAIError("stream has ended, this shouldn't happen");const e=m.__classPrivateFieldGet(this,a,"f");if(!e)throw new g.OpenAIError("request ended without sending any chunks");return m.__classPrivateFieldSet(this,a,void 0,"f"),m.__classPrivateFieldSet(this,s,[],"f"),function(e,t){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=e,c={...o,id:n,choices:r.map(({message:t,finish_reason:n,index:r,logprobs:i,...s})=>{if(!n)throw new g.OpenAIError(`missing finish_reason for choice ${r}`);const{content:a=null,function_call:o,tool_calls:c,...l}=t,u=t.role;if(!u)throw new g.OpenAIError(`missing role for choice ${r}`);if(o){const{arguments:e,name:c}=o;if(null==e)throw new g.OpenAIError(`missing function_call.arguments for choice ${r}`);if(!c)throw new g.OpenAIError(`missing function_call.name for choice ${r}`);return{...s,message:{content:a,function_call:{arguments:e,name:c},role:u,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:i}}return c?{...s,index:r,finish_reason:n,logprobs:i,message:{...l,role:u,content:a,refusal:t.refusal??null,tool_calls:c.map((t,n)=>{const{function:i,type:s,id:a,...o}=t,{arguments:c,name:l,...u}=i||{};if(null==a)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].id\n${_(e)}`);if(null==s)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].type\n${_(e)}`);if(null==l)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.name\n${_(e)}`);if(null==c)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.arguments\n${_(e)}`);return{...o,id:a,type:s,function:{...u,name:l,arguments:c}}})}}:{...s,message:{...l,content:a,role:u,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:i}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return(0,v.maybeParseChatCompletion)(c,t)}(e,m.__classPrivateFieldGet(this,i,"f"))},h=function(){const e=m.__classPrivateFieldGet(this,i,"f")?.response_format;return(0,v.isAutoParsableResponseFormat)(e)?e:null},f=function(e){var t,n,s,o;let c=m.__classPrivateFieldGet(this,a,"f");const{choices:l,...u}=e;c?Object.assign(c,u):c=m.__classPrivateFieldSet(this,a,{...u,choices:[]},"f");for(const{delta:a,finish_reason:l,index:u,logprobs:d=null,...p}of e.choices){let e=c.choices[u];if(e||(e=c.choices[u]={finish_reason:l,index:u,message:{},logprobs:d,...p}),d)if(e.logprobs){const{content:r,refusal:i,...s}=d;P(),Object.assign(e.logprobs,s),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),i&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...i))}else e.logprobs=Object.assign({},d);if(l&&(e.finish_reason=l,m.__classPrivateFieldGet(this,i,"f")&&(0,v.hasAutoParseableInput)(m.__classPrivateFieldGet(this,i,"f")))){if("length"===l)throw new g.LengthFinishReasonError;if("content_filter"===l)throw new g.ContentFilterFinishReasonError}if(Object.assign(e,p),!a)continue;const{content:f,refusal:b,function_call:S,role:T,tool_calls:_,...E}=a;if(P(),Object.assign(e.message,E),b&&(e.message.refusal=(e.message.refusal||"")+b),T&&(e.message.role=T),S&&(e.message.function_call?(S.name&&(e.message.function_call.name=S.name),S.arguments&&((s=e.message.function_call).arguments??(s.arguments=""),e.message.function_call.arguments+=S.arguments)):e.message.function_call=S),f&&(e.message.content=(e.message.content||"")+f,!e.message.refusal&&m.__classPrivateFieldGet(this,r,"m",h).call(this)&&(e.message.parsed=(0,y.partialParse)(e.message.content))),_){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:s,...a}of _){const c=(o=e.message.tool_calls)[t]??(o[t]={});Object.assign(c,a),n&&(c.id=n),r&&(c.type=r),s&&(c.function??(c.function={name:s.name??"",arguments:""})),s?.name&&(c.function.name=s.name),s?.arguments&&(c.function.arguments+=s.arguments,(0,v.shouldParseToolCall)(m.__classPrivateFieldGet(this,i,"f"),c)&&(c.function.parsed_arguments=(0,y.partialParse)(c.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new b.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function _(e){return JSON.stringify(e)}function P(e){}function E(e){}t.ChatCompletionStream=T},95237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){const n=Array.from(t),s=new Map,a=new Map,o=new Set,c=[];for(let t=0;t<n.length;t++){const l=n[t];if(l&&!c.includes(l)){if((0,r.isAnyTypeAnnotation)(l))return[l];if((0,r.isFlowBaseAnnotation)(l))a.set(l.type,l);else if((0,r.isUnionTypeAnnotation)(l))o.has(l.types)||(n.push(...l.types),o.add(l.types));else{if((0,r.isGenericTypeAnnotation)(l)){const t=i(l.id);if(s.has(t)){let n=s.get(t);n.typeParameters?l.typeParameters&&(n.typeParameters.params.push(...l.typeParameters.params),n.typeParameters.params=e(n.typeParameters.params)):n=l.typeParameters}else s.set(t,l);continue}c.push(l)}}}for(const[,e]of a)c.push(e);for(const[,e]of s)c.push(e);return c};var r=n(98960);function i(e){return(0,r.isIdentifier)(e)?e.name:`${e.id.name}.${i(e.qualification)}`}},95252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let a;return t=e.code(t),o=>{const c=(0,r.normalizeReplacements)(o);return a||(a=(0,i.default)(e,t,n)),e.unwrap((0,s.default)(a,c))}};var r=n(19815),i=n(24858),s=n(97427)},95257:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RFC3986=t.RFC1738=t.formatters=t.default_formatter=t.default_format=void 0,t.default_format="RFC3986",t.default_formatter=e=>String(e),t.formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:t.default_formatter},t.RFC1738="RFC1738",t.RFC3986="RFC3986"},95341:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.$ZodTuple=t.$ZodIntersection=t.$ZodDiscriminatedUnion=t.$ZodXor=t.$ZodUnion=t.$ZodObjectJIT=t.$ZodObject=t.$ZodArray=t.$ZodDate=t.$ZodVoid=t.$ZodNever=t.$ZodUnknown=t.$ZodAny=t.$ZodNull=t.$ZodUndefined=t.$ZodSymbol=t.$ZodBigIntFormat=t.$ZodBigInt=t.$ZodBoolean=t.$ZodNumberFormat=t.$ZodNumber=t.$ZodCustomStringFormat=t.$ZodJWT=t.$ZodE164=t.$ZodBase64URL=t.$ZodBase64=t.$ZodCIDRv6=t.$ZodCIDRv4=t.$ZodMAC=t.$ZodIPv6=t.$ZodIPv4=t.$ZodISODuration=t.$ZodISOTime=t.$ZodISODate=t.$ZodISODateTime=t.$ZodKSUID=t.$ZodXID=t.$ZodULID=t.$ZodCUID2=t.$ZodCUID=t.$ZodNanoID=t.$ZodEmoji=t.$ZodURL=t.$ZodEmail=t.$ZodUUID=t.$ZodGUID=t.$ZodStringFormat=t.$ZodString=t.clone=t.$ZodType=void 0,t.$ZodCustom=t.$ZodLazy=t.$ZodPromise=t.$ZodFunction=t.$ZodTemplateLiteral=t.$ZodReadonly=t.$ZodCodec=t.$ZodPipe=t.$ZodNaN=t.$ZodCatch=t.$ZodSuccess=t.$ZodNonOptional=t.$ZodPrefault=t.$ZodDefault=t.$ZodNullable=t.$ZodOptional=t.$ZodTransform=t.$ZodFile=t.$ZodLiteral=t.$ZodEnum=t.$ZodSet=t.$ZodMap=t.$ZodRecord=void 0,t.isValidBase64=f,t.isValidBase64URL=m,t.isValidJWT=y;const a=s(n(32564)),o=s(n(98706)),c=n(87319),l=n(64084),u=s(n(91988)),d=s(n(90523)),p=n(76020);t.$ZodType=o.$constructor("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=p.version;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=d.aborted(e);for(const s of t){if(s._zod.def.when){if(!s._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,a=s._zod.check(e);if(a instanceof Promise&&!1===n?.async)throw new o.$ZodAsyncError;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(i||(i=d.aborted(e,t)))});else{if(e.issues.length===t)continue;i||(i=d.aborted(e,t))}}return r?r.then(()=>e):e},n=(n,i,s)=>{if(d.aborted(n))return n.aborted=!0,n;const a=t(i,r,s);if(a instanceof Promise){if(!1===s.async)throw new o.$ZodAsyncError;return a.then(t=>e._zod.parse(t,s))}return e._zod.parse(a,s)};e._zod.run=(i,s)=>{if(s.skipChecks)return e._zod.parse(i,s);if("backward"===s.direction){const t=e._zod.parse({value:i.value,issues:[]},{...s,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,s)):n(t,i,s)}const a=e._zod.parse(i,s);if(a instanceof Promise){if(!1===s.async)throw new o.$ZodAsyncError;return a.then(e=>t(e,r,s))}return t(a,r,s)}}e["~standard"]={validate:t=>{try{const n=(0,l.safeParse)(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return(0,l.safeParseAsync)(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}});var h=n(90523);function f(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}function m(e){if(!u.base64url.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return f(t.padEnd(4*Math.ceil(t.length/4),"="))}function y(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&"JWT"!==i?.typ||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}function g(e,t,n){e.issues.length&&t.issues.push(...d.prefixIssues(n,e.issues)),t.value[n]=e.value}function v(e,t,n,r){e.issues.length&&t.issues.push(...d.prefixIssues(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function b(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=d.optionalKeys(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function S(e,t,n,r,i,s){const a=[],o=i.keySet,c=i.catchall._zod,l=c.def.type;for(const i in t){if(o.has(i))continue;if("never"===l){a.push(i);continue}const s=c.run({value:t[i],issues:[]},r);s instanceof Promise?e.push(s.then(e=>v(e,n,i,t))):v(s,n,i,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}function T(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const i=e.filter(e=>!d.aborted(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>d.finalizeIssue(e,r,o.config())))}),t)}function _(e,t,n,r){const i=e.filter(e=>0===e.issues.length);return 1===i.length?(t.value=i[0].value,t):(0===i.length?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>d.finalizeIssue(e,r,o.config())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t)}function P(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(d.isPlainObject(e)&&d.isPlainObject(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const n of r){const r=P(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};i[n]=r.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=P(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function E(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),d.aborted(e))return e;const r=P(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}function x(e,t,n){e.issues.length&&t.issues.push(...d.prefixIssues(n,e.issues)),t.value[n]=e.value}function w(e,t,n,r,i,s,a){e.issues.length&&(d.propertyKeyTypes.has(typeof r)?n.issues.push(...d.prefixIssues(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:e.issues.map(e=>d.finalizeIssue(e,a,o.config()))})),t.issues.length&&(d.propertyKeyTypes.has(typeof r)?n.issues.push(...d.prefixIssues(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:r,issues:t.issues.map(e=>d.finalizeIssue(e,a,o.config()))})),n.value.set(e.value,t.value)}function A(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}function O(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}function I(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}function C(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}function k(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}function N(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){const r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>L(e,r,t.out,n)):L(e,r,t.out,n)}{const r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>L(e,r,t.in,n)):L(e,r,t.in,n)}}function L(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}function $(e){return e.value=Object.freeze(e.value),e}function M(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(d.issue(e))}}Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return h.clone}}),t.$ZodString=o.$constructor("$ZodString",(e,n)=>{t.$ZodType.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??u.string(e._zod.bag),e._zod.parse=(t,r)=>{if(n.coerce)try{t.value=String(t.value)}catch(r){}return"string"==typeof t.value||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:e}),t}}),t.$ZodStringFormat=o.$constructor("$ZodStringFormat",(e,n)=>{a.$ZodCheckStringFormat.init(e,n),t.$ZodString.init(e,n)}),t.$ZodGUID=o.$constructor("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=u.guid),t.$ZodStringFormat.init(e,n)}),t.$ZodUUID=o.$constructor("$ZodUUID",(e,n)=>{if(n.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(void 0===e)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=u.uuid(e))}else n.pattern??(n.pattern=u.uuid());t.$ZodStringFormat.init(e,n)}),t.$ZodEmail=o.$constructor("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=u.email),t.$ZodStringFormat.init(e,n)}),t.$ZodURL=o.$constructor("$ZodURL",(e,n)=>{t.$ZodStringFormat.init(e,n),e._zod.check=t=>{try{const r=t.value.trim(),i=new URL(r);return n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(i.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:t.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:t.value,inst:e,continue:!n.abort})),void(n.normalize?t.value=i.href:t.value=r)}catch(r){t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:e,continue:!n.abort})}}}),t.$ZodEmoji=o.$constructor("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=u.emoji()),t.$ZodStringFormat.init(e,n)}),t.$ZodNanoID=o.$constructor("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=u.nanoid),t.$ZodStringFormat.init(e,n)}),t.$ZodCUID=o.$constructor("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=u.cuid),t.$ZodStringFormat.init(e,n)}),t.$ZodCUID2=o.$constructor("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=u.cuid2),t.$ZodStringFormat.init(e,n)}),t.$ZodULID=o.$constructor("$ZodULID",(e,n)=>{n.pattern??(n.pattern=u.ulid),t.$ZodStringFormat.init(e,n)}),t.$ZodXID=o.$constructor("$ZodXID",(e,n)=>{n.pattern??(n.pattern=u.xid),t.$ZodStringFormat.init(e,n)}),t.$ZodKSUID=o.$constructor("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=u.ksuid),t.$ZodStringFormat.init(e,n)}),t.$ZodISODateTime=o.$constructor("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=u.datetime(n)),t.$ZodStringFormat.init(e,n)}),t.$ZodISODate=o.$constructor("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=u.date),t.$ZodStringFormat.init(e,n)}),t.$ZodISOTime=o.$constructor("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=u.time(n)),t.$ZodStringFormat.init(e,n)}),t.$ZodISODuration=o.$constructor("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=u.duration),t.$ZodStringFormat.init(e,n)}),t.$ZodIPv4=o.$constructor("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=u.ipv4),t.$ZodStringFormat.init(e,n),e._zod.bag.format="ipv4"}),t.$ZodIPv6=o.$constructor("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=u.ipv6),t.$ZodStringFormat.init(e,n),e._zod.bag.format="ipv6",e._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:e,continue:!n.abort})}}}),t.$ZodMAC=o.$constructor("$ZodMAC",(e,n)=>{n.pattern??(n.pattern=u.mac(n.delimiter)),t.$ZodStringFormat.init(e,n),e._zod.bag.format="mac"}),t.$ZodCIDRv4=o.$constructor("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=u.cidrv4),t.$ZodStringFormat.init(e,n)}),t.$ZodCIDRv6=o.$constructor("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=u.cidrv6),t.$ZodStringFormat.init(e,n),e._zod.check=t=>{const r=t.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:e,continue:!n.abort})}}}),t.$ZodBase64=o.$constructor("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=u.base64),t.$ZodStringFormat.init(e,n),e._zod.bag.contentEncoding="base64",e._zod.check=t=>{f(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:e,continue:!n.abort})}}),t.$ZodBase64URL=o.$constructor("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=u.base64url),t.$ZodStringFormat.init(e,n),e._zod.bag.contentEncoding="base64url",e._zod.check=t=>{m(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:e,continue:!n.abort})}}),t.$ZodE164=o.$constructor("$ZodE164",(e,n)=>{n.pattern??(n.pattern=u.e164),t.$ZodStringFormat.init(e,n)}),t.$ZodJWT=o.$constructor("$ZodJWT",(e,n)=>{t.$ZodStringFormat.init(e,n),e._zod.check=t=>{y(t.value,n.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:e,continue:!n.abort})}}),t.$ZodCustomStringFormat=o.$constructor("$ZodCustomStringFormat",(e,n)=>{t.$ZodStringFormat.init(e,n),e._zod.check=t=>{n.fn(t.value)||t.issues.push({code:"invalid_format",format:n.format,input:t.value,inst:e,continue:!n.abort})}}),t.$ZodNumber=o.$constructor("$ZodNumber",(e,n)=>{t.$ZodType.init(e,n),e._zod.pattern=e._zod.bag.pattern??u.number,e._zod.parse=(t,r)=>{if(n.coerce)try{t.value=Number(t.value)}catch(e){}const i=t.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return t;const s="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),t}}),t.$ZodNumberFormat=o.$constructor("$ZodNumberFormat",(e,n)=>{a.$ZodCheckNumberFormat.init(e,n),t.$ZodNumber.init(e,n)}),t.$ZodBoolean=o.$constructor("$ZodBoolean",(e,n)=>{t.$ZodType.init(e,n),e._zod.pattern=u.boolean,e._zod.parse=(t,r)=>{if(n.coerce)try{t.value=Boolean(t.value)}catch(e){}const i=t.value;return"boolean"==typeof i||t.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),t}}),t.$ZodBigInt=o.$constructor("$ZodBigInt",(e,n)=>{t.$ZodType.init(e,n),e._zod.pattern=u.bigint,e._zod.parse=(t,r)=>{if(n.coerce)try{t.value=BigInt(t.value)}catch(e){}return"bigint"==typeof t.value||t.issues.push({expected:"bigint",code:"invalid_type",input:t.value,inst:e}),t}}),t.$ZodBigIntFormat=o.$constructor("$ZodBigIntFormat",(e,n)=>{a.$ZodCheckBigIntFormat.init(e,n),t.$ZodBigInt.init(e,n)}),t.$ZodSymbol=o.$constructor("$ZodSymbol",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,n)=>{const r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),t.$ZodUndefined=o.$constructor("$ZodUndefined",(e,n)=>{t.$ZodType.init(e,n),e._zod.pattern=u.undefined,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),t.$ZodNull=o.$constructor("$ZodNull",(e,n)=>{t.$ZodType.init(e,n),e._zod.pattern=u.null,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),t.$ZodAny=o.$constructor("$ZodAny",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=e=>e}),t.$ZodUnknown=o.$constructor("$ZodUnknown",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=e=>e}),t.$ZodNever=o.$constructor("$ZodNever",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),t.$ZodVoid=o.$constructor("$ZodVoid",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,n)=>{const r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),t.$ZodDate=o.$constructor("$ZodDate",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,r)=>{if(n.coerce)try{t.value=new Date(t.value)}catch(e){}const i=t.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||t.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:e}),t}}),t.$ZodArray=o.$constructor("$ZodArray",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,r)=>{const i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),t;t.value=Array(i.length);const s=[];for(let e=0;e<i.length;e++){const a=i[e],o=n.element._zod.run({value:a,issues:[]},r);o instanceof Promise?s.push(o.then(n=>g(n,t,e))):g(o,t,e)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodObject=o.$constructor("$ZodObject",(e,n)=>{t.$ZodType.init(e,n);const r=Object.getOwnPropertyDescriptor(n,"shape");if(!r?.get){const e=n.shape;Object.defineProperty(n,"shape",{get:()=>{const t={...e};return Object.defineProperty(n,"shape",{value:t}),t}})}const i=d.cached(()=>b(n));d.defineLazy(e._zod,"propValues",()=>{const e=n.shape,t={};for(const n in e){const r=e[n]._zod;if(r.values){t[n]??(t[n]=new Set);for(const e of r.values)t[n].add(e)}}return t});const s=d.isObject,a=n.catchall;let o;e._zod.parse=(t,n)=>{o??(o=i.value);const r=t.value;if(!s(r))return t.issues.push({expected:"object",code:"invalid_type",input:r,inst:e}),t;t.value={};const c=[],l=o.shape;for(const e of o.keys){const i=l[e]._zod.run({value:r[e],issues:[]},n);i instanceof Promise?c.push(i.then(n=>v(n,t,e,r))):v(i,t,e,r)}return a?S(c,r,t,n,i.value,e):c.length?Promise.all(c).then(()=>t):t}}),t.$ZodObjectJIT=o.$constructor("$ZodObjectJIT",(e,n)=>{t.$ZodObject.init(e,n);const r=e._zod.parse,i=d.cached(()=>b(n));let s;const a=d.isObject,l=!o.globalConfig.jitless,u=d.allowsEval,p=l&&u.value,h=n.catchall;let f;e._zod.parse=(t,o)=>{f??(f=i.value);const u=t.value;return a(u)?l&&p&&!1===o?.async&&!0!==o.jitless?(s||(s=(e=>{const t=new c.Doc(["shape","payload","ctx"]),n=i.value,r=e=>{const t=d.esc(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const s=Object.create(null);let a=0;for(const e of n.keys)s[e]="key_"+a++;t.write("const newResult = {};");for(const e of n.keys){const n=s[e],i=d.esc(e);t.write(`const ${n} = ${r(e)};`),t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${i}, ...iss.path] : [${i}]\n          })));\n        }\n        \n        \n        if (${n}.value === undefined) {\n          if (${i} in input) {\n            newResult[${i}] = undefined;\n          }\n        } else {\n          newResult[${i}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const o=t.compile();return(t,n)=>o(e,t,n)})(n.shape)),t=s(t,o),h?S([],u,t,o,f,e):t):r(t,o):(t.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),t)}}),t.$ZodUnion=o.$constructor("$ZodUnion",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"optin",()=>n.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),d.defineLazy(e._zod,"optout",()=>n.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),d.defineLazy(e._zod,"values",()=>{if(n.options.every(e=>e._zod.values))return new Set(n.options.flatMap(e=>Array.from(e._zod.values)))}),d.defineLazy(e._zod,"pattern",()=>{if(n.options.every(e=>e._zod.pattern)){const e=n.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>d.cleanRegex(e.source)).join("|")})$`)}});const r=1===n.options.length,i=n.options[0]._zod.run;e._zod.parse=(t,s)=>{if(r)return i(t,s);let a=!1;const o=[];for(const e of n.options){const n=e._zod.run({value:t.value,issues:[]},s);if(n instanceof Promise)o.push(n),a=!0;else{if(0===n.issues.length)return n;o.push(n)}}return a?Promise.all(o).then(n=>T(n,t,e,s)):T(o,t,e,s)}}),t.$ZodXor=o.$constructor("$ZodXor",(e,n)=>{t.$ZodUnion.init(e,n),n.inclusive=!1;const r=1===n.options.length,i=n.options[0]._zod.run;e._zod.parse=(t,s)=>{if(r)return i(t,s);let a=!1;const o=[];for(const e of n.options){const n=e._zod.run({value:t.value,issues:[]},s);n instanceof Promise?(o.push(n),a=!0):o.push(n)}return a?Promise.all(o).then(n=>_(n,t,e,s)):_(o,t,e,s)}}),t.$ZodDiscriminatedUnion=o.$constructor("$ZodDiscriminatedUnion",(e,n)=>{n.inclusive=!1,t.$ZodUnion.init(e,n);const r=e._zod.parse;d.defineLazy(e._zod,"propValues",()=>{const e={};for(const t of n.options){const r=t._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${n.options.indexOf(t)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const i=d.cached(()=>{const e=n.options,t=new Map;for(const r of e){const e=r._zod.propValues?.[n.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${n.options.indexOf(r)}"`);for(const n of e){if(t.has(n))throw new Error(`Duplicate discriminator value "${String(n)}"`);t.set(n,r)}}return t});e._zod.parse=(t,s)=>{const a=t.value;if(!d.isObject(a))return t.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),t;const o=i.value.get(a?.[n.discriminator]);return o?o._zod.run(t,s):n.unionFallback?r(t,s):(t.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:n.discriminator,input:a,path:[n.discriminator],inst:e}),t)}}),t.$ZodIntersection=o.$constructor("$ZodIntersection",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(e,t)=>{const r=e.value,i=n.left._zod.run({value:r,issues:[]},t),s=n.right._zod.run({value:r,issues:[]},t);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([t,n])=>E(e,t,n)):E(e,i,s)}}),t.$ZodTuple=o.$constructor("$ZodTuple",(e,n)=>{t.$ZodType.init(e,n);const r=n.items;e._zod.parse=(t,i)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),t;t.value=[];const a=[],o=[...r].reverse().findIndex(e=>"optional"!==e._zod.optin),c=-1===o?0:r.length-o;if(!n.rest){const n=s.length>r.length,i=s.length<c-1;if(n||i)return t.issues.push({...n?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:s,inst:e,origin:"array"}),t}let l=-1;for(const e of r){if(l++,l>=s.length&&l>=c)continue;const n=e._zod.run({value:s[l],issues:[]},i);n instanceof Promise?a.push(n.then(e=>x(e,t,l))):x(n,t,l)}if(n.rest){const e=s.slice(r.length);for(const r of e){l++;const e=n.rest._zod.run({value:r,issues:[]},i);e instanceof Promise?a.push(e.then(e=>x(e,t,l))):x(e,t,l)}}return a.length?Promise.all(a).then(()=>t):t}}),t.$ZodRecord=o.$constructor("$ZodRecord",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,r)=>{const i=t.value;if(!d.isPlainObject(i))return t.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),t;const s=[],a=n.keyType._zod.values;if(a){t.value={};const o=new Set;for(const e of a)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){o.add("number"==typeof e?e.toString():e);const a=n.valueType._zod.run({value:i[e],issues:[]},r);a instanceof Promise?s.push(a.then(n=>{n.issues.length&&t.issues.push(...d.prefixIssues(e,n.issues)),t.value[e]=n.value})):(a.issues.length&&t.issues.push(...d.prefixIssues(e,a.issues)),t.value[e]=a.value)}let c;for(const e in i)o.has(e)||(c=c??[],c.push(e));c&&c.length>0&&t.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:c})}else{t.value={};for(const a of Reflect.ownKeys(i)){if("__proto__"===a)continue;const c=n.keyType._zod.run({value:a,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){"loose"===n.mode?t.value[a]=i[a]:t.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(e=>d.finalizeIssue(e,r,o.config())),input:a,path:[a],inst:e});continue}const l=n.valueType._zod.run({value:i[a],issues:[]},r);l instanceof Promise?s.push(l.then(e=>{e.issues.length&&t.issues.push(...d.prefixIssues(a,e.issues)),t.value[c.value]=e.value})):(l.issues.length&&t.issues.push(...d.prefixIssues(a,l.issues)),t.value[c.value]=l.value)}}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodMap=o.$constructor("$ZodMap",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,r)=>{const i=t.value;if(!(i instanceof Map))return t.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),t;const s=[];t.value=new Map;for(const[a,o]of i){const c=n.keyType._zod.run({value:a,issues:[]},r),l=n.valueType._zod.run({value:o,issues:[]},r);c instanceof Promise||l instanceof Promise?s.push(Promise.all([c,l]).then(([n,s])=>{w(n,s,t,a,i,e,r)})):w(c,l,t,a,i,e,r)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodSet=o.$constructor("$ZodSet",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,r)=>{const i=t.value;if(!(i instanceof Set))return t.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),t;const s=[];t.value=new Set;for(const e of i){const i=n.valueType._zod.run({value:e,issues:[]},r);i instanceof Promise?s.push(i.then(e=>A(e,t))):A(i,t)}return s.length?Promise.all(s).then(()=>t):t}}),t.$ZodEnum=o.$constructor("$ZodEnum",(e,n)=>{t.$ZodType.init(e,n);const r=d.getEnumValues(n.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=new RegExp(`^(${r.filter(e=>d.propertyKeyTypes.has(typeof e)).map(e=>"string"==typeof e?d.escapeRegex(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{const s=t.value;return i.has(s)||t.issues.push({code:"invalid_value",values:r,input:s,inst:e}),t}}),t.$ZodLiteral=o.$constructor("$ZodLiteral",(e,n)=>{if(t.$ZodType.init(e,n),0===n.values.length)throw new Error("Cannot create literal schema with no valid values");const r=new Set(n.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.values.map(e=>"string"==typeof e?d.escapeRegex(e):e?d.escapeRegex(e.toString()):String(e)).join("|")})$`),e._zod.parse=(t,i)=>{const s=t.value;return r.has(s)||t.issues.push({code:"invalid_value",values:n.values,input:s,inst:e}),t}}),t.$ZodFile=o.$constructor("$ZodFile",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,n)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),t.$ZodTransform=o.$constructor("$ZodTransform",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,r)=>{if("backward"===r.direction)throw new o.$ZodEncodeError(e.constructor.name);const i=n.transform(t.value,t);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(t.value=e,t));if(i instanceof Promise)throw new o.$ZodAsyncError;return t.value=i,t}}),t.$ZodOptional=o.$constructor("$ZodOptional",(e,n)=>{t.$ZodType.init(e,n),e._zod.optin="optional",e._zod.optout="optional",d.defineLazy(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),d.defineLazy(e._zod,"pattern",()=>{const e=n.innerType._zod.pattern;return e?new RegExp(`^(${d.cleanRegex(e.source)})?$`):void 0}),e._zod.parse=(e,t)=>{if("optional"===n.innerType._zod.optin){const r=n.innerType._zod.run(e,t);return r instanceof Promise?r.then(t=>O(t,e.value)):O(r,e.value)}return void 0===e.value?e:n.innerType._zod.run(e,t)}}),t.$ZodNullable=o.$constructor("$ZodNullable",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"optin",()=>n.innerType._zod.optin),d.defineLazy(e._zod,"optout",()=>n.innerType._zod.optout),d.defineLazy(e._zod,"pattern",()=>{const e=n.innerType._zod.pattern;return e?new RegExp(`^(${d.cleanRegex(e.source)}|null)$`):void 0}),d.defineLazy(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(e,t)=>null===e.value?e:n.innerType._zod.run(e,t)}),t.$ZodDefault=o.$constructor("$ZodDefault",(e,n)=>{t.$ZodType.init(e,n),e._zod.optin="optional",d.defineLazy(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(e,t)=>{if("backward"===t.direction)return n.innerType._zod.run(e,t);if(void 0===e.value)return e.value=n.defaultValue,e;const r=n.innerType._zod.run(e,t);return r instanceof Promise?r.then(e=>I(e,n)):I(r,n)}}),t.$ZodPrefault=o.$constructor("$ZodPrefault",(e,n)=>{t.$ZodType.init(e,n),e._zod.optin="optional",d.defineLazy(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(e,t)=>("backward"===t.direction||void 0===e.value&&(e.value=n.defaultValue),n.innerType._zod.run(e,t))}),t.$ZodNonOptional=o.$constructor("$ZodNonOptional",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"values",()=>{const e=n.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(t,r)=>{const i=n.innerType._zod.run(t,r);return i instanceof Promise?i.then(t=>C(t,e)):C(i,e)}}),t.$ZodSuccess=o.$constructor("$ZodSuccess",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(e,t)=>{if("backward"===t.direction)throw new o.$ZodEncodeError("ZodSuccess");const r=n.innerType._zod.run(e,t);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),t.$ZodCatch=o.$constructor("$ZodCatch",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"optin",()=>n.innerType._zod.optin),d.defineLazy(e._zod,"optout",()=>n.innerType._zod.optout),d.defineLazy(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(e,t)=>{if("backward"===t.direction)return n.innerType._zod.run(e,t);const r=n.innerType._zod.run(e,t);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=n.catchValue({...e,error:{issues:r.issues.map(e=>d.finalizeIssue(e,t,o.config()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=n.catchValue({...e,error:{issues:r.issues.map(e=>d.finalizeIssue(e,t,o.config()))},input:e.value}),e.issues=[]),e)}}),t.$ZodNaN=o.$constructor("$ZodNaN",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),t.$ZodPipe=o.$constructor("$ZodPipe",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"values",()=>n.in._zod.values),d.defineLazy(e._zod,"optin",()=>n.in._zod.optin),d.defineLazy(e._zod,"optout",()=>n.out._zod.optout),d.defineLazy(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(e,t)=>{if("backward"===t.direction){const r=n.out._zod.run(e,t);return r instanceof Promise?r.then(e=>k(e,n.in,t)):k(r,n.in,t)}const r=n.in._zod.run(e,t);return r instanceof Promise?r.then(e=>k(e,n.out,t)):k(r,n.out,t)}}),t.$ZodCodec=o.$constructor("$ZodCodec",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"values",()=>n.in._zod.values),d.defineLazy(e._zod,"optin",()=>n.in._zod.optin),d.defineLazy(e._zod,"optout",()=>n.out._zod.optout),d.defineLazy(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(e,t)=>{if("forward"===(t.direction||"forward")){const r=n.in._zod.run(e,t);return r instanceof Promise?r.then(e=>N(e,n,t)):N(r,n,t)}{const r=n.out._zod.run(e,t);return r instanceof Promise?r.then(e=>N(e,n,t)):N(r,n,t)}}}),t.$ZodReadonly=o.$constructor("$ZodReadonly",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"propValues",()=>n.innerType._zod.propValues),d.defineLazy(e._zod,"values",()=>n.innerType._zod.values),d.defineLazy(e._zod,"optin",()=>n.innerType?._zod?.optin),d.defineLazy(e._zod,"optout",()=>n.innerType?._zod?.optout),e._zod.parse=(e,t)=>{if("backward"===t.direction)return n.innerType._zod.run(e,t);const r=n.innerType._zod.run(e,t);return r instanceof Promise?r.then($):$(r)}}),t.$ZodTemplateLiteral=o.$constructor("$ZodTemplateLiteral",(e,n)=>{t.$ZodType.init(e,n);const r=[];for(const e of n.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);const t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${e._zod.traits}`);const n=t.startsWith("^")?1:0,i=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(n,i))}else{if(null!==e&&!d.primitiveTypes.has(typeof e))throw new Error(`Invalid template literal part: ${e}`);r.push(d.escapeRegex(`${e}`))}e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(t,r)=>"string"!=typeof t.value?(t.issues.push({input:t.value,inst:e,expected:"template_literal",code:"invalid_type"}),t):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(t.value)||t.issues.push({input:t.value,inst:e,code:"invalid_format",format:n.format??"template_literal",pattern:e._zod.pattern.source}),t)}),t.$ZodFunction=o.$constructor("$ZodFunction",(e,n)=>(t.$ZodType.init(e,n),e._def=n,e._zod.def=n,e.implement=t=>{if("function"!=typeof t)throw new Error("implement() must be called with a function");return function(...n){const r=e._def.input?(0,l.parse)(e._def.input,n):n,i=Reflect.apply(t,this,r);return e._def.output?(0,l.parse)(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw new Error("implementAsync() must be called with a function");return async function(...n){const r=e._def.input?await(0,l.parseAsync)(e._def.input,n):n,i=await Reflect.apply(t,this,r);return e._def.output?await(0,l.parseAsync)(e._def.output,i):i}},e._zod.parse=(t,n)=>{if("function"!=typeof t.value)return t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t;const r=e._def.output&&"promise"===e._def.output._zod.def.type;return t.value=r?e.implementAsync(t.value):e.implement(t.value),t},e.input=(...n)=>{const r=e.constructor;return Array.isArray(n[0])?new r({type:"function",input:new t.$ZodTuple({type:"tuple",items:n[0],rest:n[1]}),output:e._def.output}):new r({type:"function",input:n[0],output:e._def.output})},e.output=t=>new(0,e.constructor)({type:"function",input:e._def.input,output:t}),e)),t.$ZodPromise=o.$constructor("$ZodPromise",(e,n)=>{t.$ZodType.init(e,n),e._zod.parse=(e,t)=>Promise.resolve(e.value).then(e=>n.innerType._zod.run({value:e,issues:[]},t))}),t.$ZodLazy=o.$constructor("$ZodLazy",(e,n)=>{t.$ZodType.init(e,n),d.defineLazy(e._zod,"innerType",()=>n.getter()),d.defineLazy(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),d.defineLazy(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),d.defineLazy(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),d.defineLazy(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),t.$ZodCustom=o.$constructor("$ZodCustom",(e,n)=>{a.$ZodCheck.init(e,n),t.$ZodType.init(e,n),e._zod.parse=(e,t)=>e,e._zod.check=t=>{const r=t.value,i=n.fn(r);if(i instanceof Promise)return i.then(n=>M(n,t,r,e));M(i,t,r,e)}})},95832:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{localeError:o()}};const a=s(n(90523)),o=()=>{const e={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function t(t){return e[t]??null}const n={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return e=>{switch(e.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${e.expected}، ولكن تم إدخال ${(e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input)}`;case"invalid_value":return 1===e.values.length?`مدخلات غير مقبولة: يفترض إدخال ${a.stringifyPrimitive(e.values[0])}`:`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${a.joinValues(e.values,"|")}`;case"too_big":{const n=e.inclusive?"<=":"<",r=t(e.origin);return r?` أكبر من اللازم: يفترض أن تكون ${e.origin??"القيمة"} ${n} ${e.maximum.toString()} ${r.unit??"عنصر"}`:`أكبر من اللازم: يفترض أن تكون ${e.origin??"القيمة"} ${n} ${e.maximum.toString()}`}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?`أصغر من اللازم: يفترض لـ ${e.origin} أن يكون ${n} ${e.minimum.toString()} ${r.unit}`:`أصغر من اللازم: يفترض لـ ${e.origin} أن يكون ${n} ${e.minimum.toString()}`}case"invalid_format":{const t=e;return"starts_with"===t.format?`نَص غير مقبول: يجب أن يبدأ بـ "${e.prefix}"`:"ends_with"===t.format?`نَص غير مقبول: يجب أن ينتهي بـ "${t.suffix}"`:"includes"===t.format?`نَص غير مقبول: يجب أن يتضمَّن "${t.includes}"`:"regex"===t.format?`نَص غير مقبول: يجب أن يطابق النمط ${t.pattern}`:`${n[t.format]??e.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${e.divisor}`;case"unrecognized_keys":return`معرف${e.keys.length>1?"ات":""} غريب${e.keys.length>1?"ة":""}: ${a.joinValues(e.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${e.origin}`;case"invalid_union":default:return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${e.origin}`}}};e.exports=t.default},95950:(e,t,n)=>{var r=n(70695),i=n(88984),s=n(64894);e.exports=function(e){return s(e)?r(e):i(e)}},95958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(48079);t.default=function(e){switch(e){case"string":return(0,r.stringTypeAnnotation)();case"number":return(0,r.numberTypeAnnotation)();case"undefined":return(0,r.voidTypeAnnotation)();case"boolean":return(0,r.booleanTypeAnnotation)();case"function":return(0,r.genericTypeAnnotation)((0,r.identifier)("Function"));case"object":return(0,r.genericTypeAnnotation)((0,r.identifier)("Object"));case"symbol":return(0,r.genericTypeAnnotation)((0,r.identifier)("Symbol"));case"bigint":return(0,r.anyTypeAnnotation)()}throw new Error("Invalid typeof value: "+e)}},95962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(24971),i=n(66596),s=n(26670),a={message:"boolean schema is false"};function o(e,t){const{gen:n,data:i}=e,s={gen:n,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(s,a,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?o(e,!1):"object"==typeof n&&!0===n.$async?t.return(s.default.data):(t.assign(i._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),o(e)):n.var(t,!0)}},95973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnknownDef=void 0;const r=n(62909);t.parseUnknownDef=function(e){return(0,r.parseAnyDef)(e)}},96059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(54815);class o extends r.APIResource{create(e,t,n){return this._client.post(a.path`/threads/${e}/messages`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(a.path`/threads/${r}/messages/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...i}=t;return this._client.post(a.path`/threads/${r}/messages/${e}`,{body:i,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(a.path`/threads/${e}/messages`,i.CursorPage,{query:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{thread_id:r}=t;return this._client.delete(a.path`/threads/${r}/messages/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Messages=o},96219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.isSuper)(e.object))throw new Error("Cannot prepend node to super property access (`super.foo`).");return e.object=(0,r.memberExpression)(t,e.object),e};var r=n(48079),i=n(2352)},96370:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},96616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=Object.keys(t);for(const r of n)if(e[r]!==t[r])return!1;return!0}},96773:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNativeEnumDef=void 0,t.parseNativeEnumDef=function(e){const t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}},96922:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactParser=void 0;const c=a(n(91398)),l=a(n(22172)),u=o(n(25781));t.ReactParser=class{async parse(e,t=!1){const n=(await c.workspace.openTextDocument(e)).getText(),r=[],i=[];try{const s=l.parse(n,{sourceType:"module",plugins:["jsx","typescript","classProperties","dynamicImport"]});if((0,u.default)(s,{FunctionDeclaration:t=>{const i=t.node;this.isReactComponent(i,n)?r.push(this.createComponentNode(i,e,"function",n)):r.push(this.createFunctionNode(i,e,n))},VariableDeclarator:t=>{const i=t.node;!i.init||"ArrowFunctionExpression"!==i.init.type&&"FunctionExpression"!==i.init.type||this.isReactComponent(i.init,n)&&r.push(this.createComponentNode(i,e,"arrow",n))},ClassDeclaration:t=>{const i=t.node;this.isReactClassComponent(i)&&r.push(this.createClassComponentNode(i,e,n))},ImportDeclaration:e=>{e.node}}),0===r.length){const i=(e.fsPath.split(/[\\/]/).pop()||"module").replace(/\.(tsx?|jsx?)$/,"");(n.includes("createRoot")||n.includes("ReactDOM.render")||n.includes("render(")||t)&&r.push(this.createModuleNode(e,n,i))}return this.extractRelationships(s,r,i),{nodes:r,edges:i}}catch(t){return console.error(`Failed to parse ${e.fsPath}:`,t),{nodes:[],edges:[]}}}createModuleNode(e,t,n){const r=t.split("\n");return{id:`${e.fsPath}:module:${n}`,label:n,type:"module",language:e.fsPath.endsWith(".tsx")||e.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:e.fsPath,startLine:1,endLine:r.length,sourceCode:t,isEntryPoint:!0,documentation:{summary:`Entry point module ${n}`,description:"Application bootstrap file that initializes React and renders the root component",persona:{developer:"Entry point that bootstraps the application. Contains ReactDOM.createRoot() or render() call.","product-manager":"Application entry point - where the app starts",architect:"Bootstrap module following React 18 patterns","business-analyst":"Application initialization"}}}}isReactComponent(e,t){return e.body&&"BlockStatement"===e.body.type?this.hasJSXReturn(e.body):!(!e.body||"JSXElement"!==e.body.type)}hasJSXReturn(e){return"ReturnStatement"===e.type?e.argument&&"JSXElement"===e.argument.type:!(!e.body||!Array.isArray(e.body))&&e.body.some(e=>this.hasJSXReturn(e))}isReactClassComponent(e){if(e.superClass){const t=e.superClass;if("Identifier"===t.type&&"Component"===t.name)return!0;if("MemberExpression"===t.type&&t.property&&"Component"===t.property.name)return!0}return!1}createComponentNode(e,t,n,r){const i=e.id?.name||e.key?.name||"Anonymous";return r.split("\n"),{id:`${t.fsPath}:component:${i}`,label:i,type:"component",language:t.fsPath.endsWith(".tsx")||t.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:t.fsPath,startLine:e.loc?.start.line||0,endLine:e.loc?.end.line||0,sourceCode:this.extractSource(r,e.loc?.start.line,e.loc?.end.line),props:this.extractProps(e),hooks:this.extractHooks(e),documentation:this.generateDocumentation(i,"component")}}createFunctionNode(e,t,n){const r=e.id?.name||"Anonymous";return{id:`${t.fsPath}:function:${r}:${e.loc?.start.line}`,label:r,type:"function",language:t.fsPath.endsWith(".tsx")||t.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:t.fsPath,startLine:e.loc?.start.line||0,endLine:e.loc?.end.line||0,sourceCode:this.extractSource(n,e.loc?.start.line,e.loc?.end.line),parameters:this.extractParameters(e),documentation:this.generateDocumentation(r,"function")}}createClassComponentNode(e,t,n){const r=e.id?.name||"Anonymous";return{id:`${t.fsPath}:class:${r}`,label:r,type:"class",language:t.fsPath.endsWith(".tsx")||t.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:t.fsPath,startLine:e.loc?.start.line||0,endLine:e.loc?.end.line||0,sourceCode:this.extractSource(n,e.loc?.start.line,e.loc?.end.line),documentation:this.generateDocumentation(r,"class")}}extractProps(e){const t=[];if(e.params&&e.params.length>0){const n=e.params[0];"ObjectPattern"===n.type&&n.properties.forEach(e=>{e.key&&t.push(e.key.name)})}return t}extractHooks(e){return[]}extractParameters(e){const t=[];return e.params&&e.params.forEach(e=>{t.push({name:e.name||"unknown",type:e.typeAnnotation?.typeAnnotation?.type||"any"})}),t}extractSource(e,t,n){return t&&n?e.split("\n").slice(t-1,n).join("\n"):""}extractRelationships(e,t,n){const r=t.filter(e=>"module"===e.type||e.isEntryPoint),i=t.filter(e=>"component"===e.type||"class"===e.type),s=t.filter(e=>"function"===e.type||"method"===e.type);if(r.forEach(e=>{i.forEach(t=>{t.filePath===e.filePath&&t.id!==e.id&&n.push({from:e.id,to:t.id,type:"contains",label:"contains"})}),s.forEach(t=>{t.filePath===e.filePath&&(i.some(e=>e.filePath===t.filePath&&e.startLine<=t.startLine&&e.endLine>=t.endLine)||n.push({from:e.id,to:t.id,type:"contains",label:"contains"}))})}),i.forEach(e=>{s.forEach(t=>{t.filePath===e.filePath&&t.startLine>e.startLine&&t.endLine<e.endLine&&n.push({from:e.id,to:t.id,type:"contains",label:"contains"})})}),0===r.length&&i.length>0){const e=[...i].sort((e,t)=>e.filePath.localeCompare(t.filePath)),t=new Map;e.forEach(e=>{const n=t.get(e.filePath)||[];n.push(e),t.set(e.filePath,n)})}}generateDocumentation(e,t){return{summary:`${t.charAt(0).toUpperCase()+t.slice(1)} ${e}`,description:`Auto-generated documentation for ${t} ${e}`,persona:{developer:`Implementation details of ${e}`,"product-manager":`User-facing functionality of ${e}`,architect:`Design patterns used in ${e}`,"business-analyst":`Business logic in ${e}`}}}}},97083:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(31701),t)},97427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=s(e.ast);return t&&(e.placeholders.forEach(e=>{if(!hasOwnProperty.call(t,e.name)){const t=e.name;throw new Error(`Error: No substitution given for "${t}". If this is not meant to be a\n            placeholder you may want to consider passing one of the following options to @babel/template:\n            - { placeholderPattern: false, placeholderWhitelist: new Set(['${t}'])}\n            - { placeholderPattern: /^${t}$/ }`)}}),Object.keys(t).forEach(t=>{if(!e.placeholderNames.has(t))throw new Error(`Unknown substitution "${t}" given`)})),e.placeholders.slice().reverse().forEach(e=>{try{var r;!function(e,t,n){e.isDuplicate&&(Array.isArray(n)?n=n.map(e=>s(e)):"object"==typeof n&&(n=s(n)));const{parent:r,key:h,index:f}=e.resolve(t);if("string"===e.type){if("string"==typeof n&&(n=d(n)),!n||!u(n))throw new Error("Expected string substitution")}else if("statement"===e.type)void 0===f?n?Array.isArray(n)?n=i(n):"string"==typeof n?n=o(c(n)):l(n)||(n=o(n)):n=a():n&&!Array.isArray(n)&&("string"==typeof n&&(n=c(n)),l(n)||(n=o(n)));else if("param"===e.type){if("string"==typeof n&&(n=c(n)),void 0===f)throw new Error("Assertion failure.")}else if("string"==typeof n&&(n=c(n)),Array.isArray(n))throw new Error("Cannot replace single expression with an array.");function m(e,t,n){const r=e[t];e[t]=n,"Identifier"!==r.type&&"Placeholder"!==r.type||(r.typeAnnotation&&(n.typeAnnotation=r.typeAnnotation),r.optional&&(n.optional=r.optional),r.decorators&&(n.decorators=r.decorators))}if(void 0===f)p(r,h,n),m(r,h,n);else{const t=r[h].slice();"statement"===e.type||"param"===e.type?null==n?t.splice(f,1):Array.isArray(n)?t.splice(f,1,...n):m(t,f,n):m(t,f,n),p(r,h,t),r[h]=t}}(e,n,null!=(r=t&&t[e.name])?r:null)}catch(t){throw t.message=`@babel/template placeholder "${e.name}": ${t.message}`,t}}),n};var r=n(2352);const{blockStatement:i,cloneNode:s,emptyStatement:a,expressionStatement:o,identifier:c,isStatement:l,isStringLiteral:u,stringLiteral:d,validate:p}=r},97759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeParseResponse=function(e,t){return t&&o(t)?s(e,t):{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)}},t.parseResponse=s,t.hasAutoParseableInput=o,t.makeParseableResponseTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=c,t.shouldParseToolCall=function(e,t){if(!e)return!1;const n=l(e.tools??[],t.name);return c(n)||n?.strict||!1},t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}},t.addOutputText=d;const r=n(89526),i=n(63357);function s(e,t){const n=e.output.map(e=>{if("function_call"===e.type)return{...e,parsed_arguments:u(t,e)};if("message"===e.type){const n=e.content.map(e=>"output_text"===e.type?{...e,parsed:a(t,e.text)}:e);return{...e,content:n}}return e}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||d(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function a(e,t){if("json_schema"!==e.text?.format?.type)return null;if("$parseRaw"in e.text?.format){const n=e.text?.format;return n.$parseRaw(t)}return JSON.parse(t)}function o(e){return!!(0,i.isAutoParsableResponseFormat)(e.text?.format)}function c(e){return"auto-parseable-tool"===e?.$brand}function l(e,t){return e.find(e=>"function"===e.type&&e.name===t)}function u(e,t){const n=l(e.tools??[],t.name);return{...t,...t,parsed_arguments:c(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function d(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}},97879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66596),i=n(99048),s=n(51980),a=n(8592),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:o}=n;r.items=!0,(0,i.alwaysValidSchema)(r,t)||(o?(0,a.validateAdditionalItems)(e,o):e.ok((0,s.validateArray)(e)))}};t.default=o},97987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUndefinedDef=void 0;const r=n(62909);t.parseUndefinedDef=function(e){return{not:(0,r.parseAnyDef)(e)}}},98151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParseResponse=async function(e,t){const{response:n,requestLogID:a,retryOfRequestLogID:o,startTime:c}=t,l=await(async()=>{if(t.options.stream)return(0,i.loggerFor)(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):r.Stream.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),o=a?.split(";")[0]?.trim();return o?.includes("application/json")||o?.endsWith("+json")?s(await n.json(),n):await n.text()})();return(0,i.loggerFor)(e).debug(`[${a}] response parsed`,(0,i.formatRequestDetails)({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-c})),l},t.addRequestID=s;const r=n(58490),i=n(86188);function s(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}},98171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16519),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=i},98284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Videos=void 0;const r=n(82040),i=n(75552),s=n(262),a=n(12018),o=n(54815);class c extends r.APIResource{create(e,t){return this._client.post("/videos",(0,a.maybeMultipartFormRequestOptions)({body:e,...t},this._client))}retrieve(e,t){return this._client.get(o.path`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",i.ConversationCursorPage,{query:e,...t})}delete(e,t){return this._client.delete(o.path`/videos/${e}`,t)}downloadContent(e,t={},n){return this._client.get(o.path`/videos/${e}/content`,{query:t,...n,headers:(0,s.buildHeaders)([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,t,n){return this._client.post(o.path`/videos/${e}/remix`,(0,a.maybeMultipartFormRequestOptions)({body:t,...n},this._client))}}t.Videos=c},98598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseArrayDef=void 0;const r=n(19164),i=n(98950),s=n(73524);t.parseArrayDef=function(e,t){const n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==r.ZodFirstPartyTypeKind.ZodAny&&(n.items=(0,s.parseDef)(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(0,i.setResponseValueAndErrors)(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,i.setResponseValueAndErrors)(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&((0,i.setResponseValueAndErrors)(n,"minItems",e.exactLength.value,e.exactLength.message,t),(0,i.setResponseValueAndErrors)(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}},98706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalConfig=t.$ZodEncodeError=t.$ZodAsyncError=t.$brand=t.NEVER=void 0,t.$constructor=function(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:a,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const i=a.prototype,s=Object.keys(i);for(let e=0;e<s.length;e++){const t=s[e];t in n||(n[t]=i[t].bind(n))}}const i=n?.Parent??Object;class s extends i{}function a(e){var t;const i=n?.Parent?new s:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const e of i._zod.deferred)e();return i}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a},t.config=function(e){return e&&Object.assign(t.globalConfig,e),t.globalConfig},t.NEVER=Object.freeze({status:"aborted"}),t.$brand=Symbol("zod_brand");class n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}t.$ZodAsyncError=n;class r extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}t.$ZodEncodeError=r,t.globalConfig={}},98950:(e,t)=>{"use strict";function n(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.setResponseValueAndErrors=t.addErrorMessage=void 0,t.addErrorMessage=n,t.setResponseValueAndErrors=function(e,t,r,i,s){e[t]=r,n(e,t,i,s)}},98960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAccessor=function(e,t){return!!e&&("ClassAccessorProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isAnyTypeAnnotation=function(e,t){return!!e&&"AnyTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isArgumentPlaceholder=function(e,t){return!!e&&"ArgumentPlaceholder"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrayExpression=function(e,t){return!!e&&"ArrayExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrayPattern=function(e,t){return!!e&&"ArrayPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrayTypeAnnotation=function(e,t){return!!e&&"ArrayTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrowFunctionExpression=function(e,t){return!!e&&"ArrowFunctionExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isAssignmentExpression=function(e,t){return!!e&&"AssignmentExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isAssignmentPattern=function(e,t){return!!e&&"AssignmentPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isAwaitExpression=function(e,t){return!!e&&"AwaitExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isBigIntLiteral=function(e,t){return!!e&&"BigIntLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isBinary=function(e,t){if(!e)return!1;switch(e.type){case"BinaryExpression":case"LogicalExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBinaryExpression=function(e,t){return!!e&&"BinaryExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isBindExpression=function(e,t){return!!e&&"BindExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isBlock=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"Program":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBlockParent=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBlockStatement=function(e,t){return!!e&&"BlockStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isBooleanLiteral=function(e,t){return!!e&&"BooleanLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isBooleanLiteralTypeAnnotation=function(e,t){return!!e&&"BooleanLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isBooleanTypeAnnotation=function(e,t){return!!e&&"BooleanTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isBreakStatement=function(e,t){return!!e&&"BreakStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isCallExpression=function(e,t){return!!e&&"CallExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isCatchClause=function(e,t){return!!e&&"CatchClause"===e.type&&(null==t||(0,r.default)(e,t))},t.isClass=function(e,t){if(!e)return!1;switch(e.type){case"ClassExpression":case"ClassDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isClassAccessorProperty=function(e,t){return!!e&&"ClassAccessorProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassBody=function(e,t){return!!e&&"ClassBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassDeclaration=function(e,t){return!!e&&"ClassDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassExpression=function(e,t){return!!e&&"ClassExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassImplements=function(e,t){return!!e&&"ClassImplements"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassMethod=function(e,t){return!!e&&"ClassMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassPrivateMethod=function(e,t){return!!e&&"ClassPrivateMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassPrivateProperty=function(e,t){return!!e&&"ClassPrivateProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassProperty=function(e,t){return!!e&&"ClassProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isCompletionStatement=function(e,t){if(!e)return!1;switch(e.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isConditional=function(e,t){if(!e)return!1;switch(e.type){case"ConditionalExpression":case"IfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isConditionalExpression=function(e,t){return!!e&&"ConditionalExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isContinueStatement=function(e,t){return!!e&&"ContinueStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isDebuggerStatement=function(e,t){return!!e&&"DebuggerStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isDecimalLiteral=function(e,t){return!!e&&"DecimalLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"VariableDeclaration":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":break;case"Placeholder":if("Declaration"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isDeclareClass=function(e,t){return!!e&&"DeclareClass"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareExportAllDeclaration=function(e,t){return!!e&&"DeclareExportAllDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareExportDeclaration=function(e,t){return!!e&&"DeclareExportDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareFunction=function(e,t){return!!e&&"DeclareFunction"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareInterface=function(e,t){return!!e&&"DeclareInterface"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareModule=function(e,t){return!!e&&"DeclareModule"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareModuleExports=function(e,t){return!!e&&"DeclareModuleExports"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareOpaqueType=function(e,t){return!!e&&"DeclareOpaqueType"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareTypeAlias=function(e,t){return!!e&&"DeclareTypeAlias"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareVariable=function(e,t){return!!e&&"DeclareVariable"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclaredPredicate=function(e,t){return!!e&&"DeclaredPredicate"===e.type&&(null==t||(0,r.default)(e,t))},t.isDecorator=function(e,t){return!!e&&"Decorator"===e.type&&(null==t||(0,r.default)(e,t))},t.isDirective=function(e,t){return!!e&&"Directive"===e.type&&(null==t||(0,r.default)(e,t))},t.isDirectiveLiteral=function(e,t){return!!e&&"DirectiveLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isDoExpression=function(e,t){return!!e&&"DoExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isDoWhileStatement=function(e,t){return!!e&&"DoWhileStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isEmptyStatement=function(e,t){return!!e&&"EmptyStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isEmptyTypeAnnotation=function(e,t){return!!e&&"EmptyTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumBody=function(e,t){if(!e)return!1;switch(e.type){case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isEnumBooleanBody=function(e,t){return!!e&&"EnumBooleanBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumBooleanMember=function(e,t){return!!e&&"EnumBooleanMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumDeclaration=function(e,t){return!!e&&"EnumDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumDefaultedMember=function(e,t){return!!e&&"EnumDefaultedMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumMember=function(e,t){if(!e)return!1;switch(e.type){case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isEnumNumberBody=function(e,t){return!!e&&"EnumNumberBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumNumberMember=function(e,t){return!!e&&"EnumNumberMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumStringBody=function(e,t){return!!e&&"EnumStringBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumStringMember=function(e,t){return!!e&&"EnumStringMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumSymbolBody=function(e,t){return!!e&&"EnumSymbolBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isExistsTypeAnnotation=function(e,t){return!!e&&"ExistsTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportAllDeclaration=function(e,t){return!!e&&"ExportAllDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isExportDefaultDeclaration=function(e,t){return!!e&&"ExportDefaultDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportDefaultSpecifier=function(e,t){return!!e&&"ExportDefaultSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportNamedDeclaration=function(e,t){return!!e&&"ExportNamedDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportNamespaceSpecifier=function(e,t){return!!e&&"ExportNamespaceSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportSpecifier=function(e,t){return!!e&&"ExportSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isExpression=function(e,t){if(!e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ParenthesizedExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":case"ArrowFunctionExpression":case"ClassExpression":case"ImportExpression":case"MetaProperty":case"Super":case"TaggedTemplateExpression":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"OptionalMemberExpression":case"OptionalCallExpression":case"TypeCastExpression":case"JSXElement":case"JSXFragment":case"BindExpression":case"DoExpression":case"RecordExpression":case"TupleExpression":case"DecimalLiteral":case"ModuleExpression":case"TopicReference":case"PipelineTopicExpression":case"PipelineBareFunction":case"PipelinePrimaryTopicReference":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Expression":case"Identifier":case"StringLiteral":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isExpressionStatement=function(e,t){return!!e&&"ExpressionStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isExpressionWrapper=function(e,t){if(!e)return!1;switch(e.type){case"ExpressionStatement":case"ParenthesizedExpression":case"TypeCastExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFile=function(e,t){return!!e&&"File"===e.type&&(null==t||(0,r.default)(e,t))},t.isFlow=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ClassImplements":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"DeclaredPredicate":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"FunctionTypeParam":case"GenericTypeAnnotation":case"InferredPredicate":case"InterfaceExtends":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":case"OpaqueType":case"QualifiedTypeIdentifier":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"TypeAlias":case"TypeAnnotation":case"TypeCastExpression":case"TypeParameter":case"TypeParameterDeclaration":case"TypeParameterInstantiation":case"UnionTypeAnnotation":case"Variance":case"VoidTypeAnnotation":case"EnumDeclaration":case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowBaseAnnotation=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"BooleanTypeAnnotation":case"NullLiteralTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NumberTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"VoidTypeAnnotation":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowPredicate=function(e,t){if(!e)return!1;switch(e.type){case"DeclaredPredicate":case"InferredPredicate":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowType=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"GenericTypeAnnotation":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"UnionTypeAnnotation":case"VoidTypeAnnotation":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFor=function(e,t){if(!e)return!1;switch(e.type){case"ForInStatement":case"ForStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isForInStatement=function(e,t){return!!e&&"ForInStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isForOfStatement=function(e,t){return!!e&&"ForOfStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isForStatement=function(e,t){return!!e&&"ForStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isForXStatement=function(e,t){if(!e)return!1;switch(e.type){case"ForInStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunction=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionDeclaration=function(e,t){return!!e&&"FunctionDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isFunctionExpression=function(e,t){return!!e&&"FunctionExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isFunctionParameter=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if("Identifier"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionParent=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionTypeAnnotation=function(e,t){return!!e&&"FunctionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isFunctionTypeParam=function(e,t){return!!e&&"FunctionTypeParam"===e.type&&(null==t||(0,r.default)(e,t))},t.isGenericTypeAnnotation=function(e,t){return!!e&&"GenericTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isIdentifier=function(e,t){return!!e&&"Identifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isIfStatement=function(e,t){return!!e&&"IfStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isImmutable=function(e,t){if(!e)return!1;switch(e.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"BigIntLiteral":case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXOpeningElement":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isImport=function(e,t){return!!e&&"Import"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportAttribute=function(e,t){return!!e&&"ImportAttribute"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportDeclaration=function(e,t){return!!e&&"ImportDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportDefaultSpecifier=function(e,t){return!!e&&"ImportDefaultSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportExpression=function(e,t){return!!e&&"ImportExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportNamespaceSpecifier=function(e,t){return!!e&&"ImportNamespaceSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportOrExportDeclaration=s,t.isImportSpecifier=function(e,t){return!!e&&"ImportSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isIndexedAccessType=function(e,t){return!!e&&"IndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t))},t.isInferredPredicate=function(e,t){return!!e&&"InferredPredicate"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterfaceDeclaration=function(e,t){return!!e&&"InterfaceDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterfaceExtends=function(e,t){return!!e&&"InterfaceExtends"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterfaceTypeAnnotation=function(e,t){return!!e&&"InterfaceTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterpreterDirective=function(e,t){return!!e&&"InterpreterDirective"===e.type&&(null==t||(0,r.default)(e,t))},t.isIntersectionTypeAnnotation=function(e,t){return!!e&&"IntersectionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSX=function(e,t){if(!e)return!1;switch(e.type){case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXEmptyExpression":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXIdentifier":case"JSXMemberExpression":case"JSXNamespacedName":case"JSXOpeningElement":case"JSXSpreadAttribute":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isJSXAttribute=function(e,t){return!!e&&"JSXAttribute"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXClosingElement=function(e,t){return!!e&&"JSXClosingElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXClosingFragment=function(e,t){return!!e&&"JSXClosingFragment"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXElement=function(e,t){return!!e&&"JSXElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXEmptyExpression=function(e,t){return!!e&&"JSXEmptyExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXExpressionContainer=function(e,t){return!!e&&"JSXExpressionContainer"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXFragment=function(e,t){return!!e&&"JSXFragment"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXIdentifier=function(e,t){return!!e&&"JSXIdentifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXMemberExpression=function(e,t){return!!e&&"JSXMemberExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXNamespacedName=function(e,t){return!!e&&"JSXNamespacedName"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXOpeningElement=function(e,t){return!!e&&"JSXOpeningElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXOpeningFragment=function(e,t){return!!e&&"JSXOpeningFragment"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXSpreadAttribute=function(e,t){return!!e&&"JSXSpreadAttribute"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXSpreadChild=function(e,t){return!!e&&"JSXSpreadChild"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXText=function(e,t){return!!e&&"JSXText"===e.type&&(null==t||(0,r.default)(e,t))},t.isLVal=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"TSParameterProperty":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isLabeledStatement=function(e,t){return!!e&&"LabeledStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isLiteral=function(e,t){if(!e)return!1;switch(e.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"TemplateLiteral":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isLogicalExpression=function(e,t){return!!e&&"LogicalExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isLoop=function(e,t){if(!e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMemberExpression=function(e,t){return!!e&&"MemberExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isMetaProperty=function(e,t){return!!e&&"MetaProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isMethod=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMiscellaneous=function(e,t){if(!e)return!1;switch(e.type){case"Noop":case"Placeholder":case"V8IntrinsicIdentifier":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMixedTypeAnnotation=function(e,t){return!!e&&"MixedTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isModuleDeclaration=function(e,t){return(0,i.default)("isModuleDeclaration","isImportOrExportDeclaration"),s(e,t)},t.isModuleExpression=function(e,t){return!!e&&"ModuleExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isModuleSpecifier=function(e,t){if(!e)return!1;switch(e.type){case"ExportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isNewExpression=function(e,t){return!!e&&"NewExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isNoop=function(e,t){return!!e&&"Noop"===e.type&&(null==t||(0,r.default)(e,t))},t.isNullLiteral=function(e,t){return!!e&&"NullLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isNullLiteralTypeAnnotation=function(e,t){return!!e&&"NullLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNullableTypeAnnotation=function(e,t){return!!e&&"NullableTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumberLiteral=function(e,t){return(0,i.default)("isNumberLiteral","isNumericLiteral"),!!e&&"NumberLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumberLiteralTypeAnnotation=function(e,t){return!!e&&"NumberLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumberTypeAnnotation=function(e,t){return!!e&&"NumberTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumericLiteral=function(e,t){return!!e&&"NumericLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectExpression=function(e,t){return!!e&&"ObjectExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectMember=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ObjectProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isObjectMethod=function(e,t){return!!e&&"ObjectMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectPattern=function(e,t){return!!e&&"ObjectPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectProperty=function(e,t){return!!e&&"ObjectProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeAnnotation=function(e,t){return!!e&&"ObjectTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeCallProperty=function(e,t){return!!e&&"ObjectTypeCallProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeIndexer=function(e,t){return!!e&&"ObjectTypeIndexer"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeInternalSlot=function(e,t){return!!e&&"ObjectTypeInternalSlot"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeProperty=function(e,t){return!!e&&"ObjectTypeProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeSpreadProperty=function(e,t){return!!e&&"ObjectTypeSpreadProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isOpaqueType=function(e,t){return!!e&&"OpaqueType"===e.type&&(null==t||(0,r.default)(e,t))},t.isOptionalCallExpression=function(e,t){return!!e&&"OptionalCallExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isOptionalIndexedAccessType=function(e,t){return!!e&&"OptionalIndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t))},t.isOptionalMemberExpression=function(e,t){return!!e&&"OptionalMemberExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isParenthesizedExpression=function(e,t){return!!e&&"ParenthesizedExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isPattern=function(e,t){if(!e)return!1;switch(e.type){case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if("Pattern"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPatternLike=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPipelineBareFunction=function(e,t){return!!e&&"PipelineBareFunction"===e.type&&(null==t||(0,r.default)(e,t))},t.isPipelinePrimaryTopicReference=function(e,t){return!!e&&"PipelinePrimaryTopicReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isPipelineTopicExpression=function(e,t){return!!e&&"PipelineTopicExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isPlaceholder=function(e,t){return!!e&&"Placeholder"===e.type&&(null==t||(0,r.default)(e,t))},t.isPrivate=function(e,t){if(!e)return!1;switch(e.type){case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPrivateName=function(e,t){return!!e&&"PrivateName"===e.type&&(null==t||(0,r.default)(e,t))},t.isProgram=function(e,t){return!!e&&"Program"===e.type&&(null==t||(0,r.default)(e,t))},t.isProperty=function(e,t){if(!e)return!1;switch(e.type){case"ObjectProperty":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPureish=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"ArrowFunctionExpression":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isQualifiedTypeIdentifier=function(e,t){return!!e&&"QualifiedTypeIdentifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isRecordExpression=function(e,t){return!!e&&"RecordExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isRegExpLiteral=function(e,t){return!!e&&"RegExpLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isRegexLiteral=function(e,t){return(0,i.default)("isRegexLiteral","isRegExpLiteral"),!!e&&"RegexLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isRestElement=function(e,t){return!!e&&"RestElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isRestProperty=function(e,t){return(0,i.default)("isRestProperty","isRestElement"),!!e&&"RestProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isReturnStatement=function(e,t){return!!e&&"ReturnStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isScopable=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ClassExpression":case"ClassDeclaration":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isSequenceExpression=function(e,t){return!!e&&"SequenceExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isSpreadElement=function(e,t){return!!e&&"SpreadElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isSpreadProperty=function(e,t){return(0,i.default)("isSpreadProperty","isSpreadElement"),!!e&&"SpreadProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isStandardized=function(e,t){if(!e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"InterpreterDirective":case"Directive":case"DirectiveLiteral":case"BlockStatement":case"BreakStatement":case"CallExpression":case"CatchClause":case"ConditionalExpression":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"File":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Identifier":case"IfStatement":case"LabeledStatement":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"Program":case"ObjectExpression":case"ObjectMethod":case"ObjectProperty":case"RestElement":case"ReturnStatement":case"SequenceExpression":case"ParenthesizedExpression":case"SwitchCase":case"SwitchStatement":case"ThisExpression":case"ThrowStatement":case"TryStatement":case"UnaryExpression":case"UpdateExpression":case"VariableDeclaration":case"VariableDeclarator":case"WhileStatement":case"WithStatement":case"AssignmentPattern":case"ArrayPattern":case"ArrowFunctionExpression":case"ClassBody":case"ClassExpression":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ExportSpecifier":case"ForOfStatement":case"ImportDeclaration":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportExpression":case"MetaProperty":case"ClassMethod":case"ObjectPattern":case"SpreadElement":case"Super":case"TaggedTemplateExpression":case"TemplateElement":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"ExportNamespaceSpecifier":case"OptionalMemberExpression":case"OptionalCallExpression":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":case"StaticBlock":case"ImportAttribute":break;case"Placeholder":switch(e.expectedNode){case"Identifier":case"StringLiteral":case"BlockStatement":case"ClassBody":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isStatement=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ForOfStatement":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":case"TSExportAssignment":case"TSNamespaceExportDeclaration":break;case"Placeholder":switch(e.expectedNode){case"Statement":case"Declaration":case"BlockStatement":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isStaticBlock=function(e,t){return!!e&&"StaticBlock"===e.type&&(null==t||(0,r.default)(e,t))},t.isStringLiteral=function(e,t){return!!e&&"StringLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isStringLiteralTypeAnnotation=function(e,t){return!!e&&"StringLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isStringTypeAnnotation=function(e,t){return!!e&&"StringTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isSuper=function(e,t){return!!e&&"Super"===e.type&&(null==t||(0,r.default)(e,t))},t.isSwitchCase=function(e,t){return!!e&&"SwitchCase"===e.type&&(null==t||(0,r.default)(e,t))},t.isSwitchStatement=function(e,t){return!!e&&"SwitchStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isSymbolTypeAnnotation=function(e,t){return!!e&&"SymbolTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSAnyKeyword=function(e,t){return!!e&&"TSAnyKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSArrayType=function(e,t){return!!e&&"TSArrayType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSAsExpression=function(e,t){return!!e&&"TSAsExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSBaseType=function(e,t){if(!e)return!1;switch(e.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSTemplateLiteralType":case"TSLiteralType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSBigIntKeyword=function(e,t){return!!e&&"TSBigIntKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSBooleanKeyword=function(e,t){return!!e&&"TSBooleanKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSCallSignatureDeclaration=function(e,t){return!!e&&"TSCallSignatureDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSConditionalType=function(e,t){return!!e&&"TSConditionalType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSConstructSignatureDeclaration=function(e,t){return!!e&&"TSConstructSignatureDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSConstructorType=function(e,t){return!!e&&"TSConstructorType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSDeclareFunction=function(e,t){return!!e&&"TSDeclareFunction"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSDeclareMethod=function(e,t){return!!e&&"TSDeclareMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSEntityName=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"TSQualifiedName":break;case"Placeholder":if("Identifier"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSEnumBody=function(e,t){return!!e&&"TSEnumBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSEnumDeclaration=function(e,t){return!!e&&"TSEnumDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSEnumMember=function(e,t){return!!e&&"TSEnumMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSExportAssignment=function(e,t){return!!e&&"TSExportAssignment"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSExpressionWithTypeArguments=function(e,t){return!!e&&"TSExpressionWithTypeArguments"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSExternalModuleReference=function(e,t){return!!e&&"TSExternalModuleReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSFunctionType=function(e,t){return!!e&&"TSFunctionType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSImportEqualsDeclaration=function(e,t){return!!e&&"TSImportEqualsDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSImportType=function(e,t){return!!e&&"TSImportType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIndexSignature=function(e,t){return!!e&&"TSIndexSignature"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIndexedAccessType=function(e,t){return!!e&&"TSIndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInferType=function(e,t){return!!e&&"TSInferType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInstantiationExpression=function(e,t){return!!e&&"TSInstantiationExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInterfaceBody=function(e,t){return!!e&&"TSInterfaceBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInterfaceDeclaration=function(e,t){return!!e&&"TSInterfaceDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIntersectionType=function(e,t){return!!e&&"TSIntersectionType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIntrinsicKeyword=function(e,t){return!!e&&"TSIntrinsicKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSLiteralType=function(e,t){return!!e&&"TSLiteralType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSMappedType=function(e,t){return!!e&&"TSMappedType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSMethodSignature=function(e,t){return!!e&&"TSMethodSignature"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSModuleBlock=function(e,t){return!!e&&"TSModuleBlock"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSModuleDeclaration=function(e,t){return!!e&&"TSModuleDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNamedTupleMember=function(e,t){return!!e&&"TSNamedTupleMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNamespaceExportDeclaration=function(e,t){return!!e&&"TSNamespaceExportDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNeverKeyword=function(e,t){return!!e&&"TSNeverKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNonNullExpression=function(e,t){return!!e&&"TSNonNullExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNullKeyword=function(e,t){return!!e&&"TSNullKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNumberKeyword=function(e,t){return!!e&&"TSNumberKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSObjectKeyword=function(e,t){return!!e&&"TSObjectKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSOptionalType=function(e,t){return!!e&&"TSOptionalType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSParameterProperty=function(e,t){return!!e&&"TSParameterProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSParenthesizedType=function(e,t){return!!e&&"TSParenthesizedType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSPropertySignature=function(e,t){return!!e&&"TSPropertySignature"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSQualifiedName=function(e,t){return!!e&&"TSQualifiedName"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSRestType=function(e,t){return!!e&&"TSRestType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSSatisfiesExpression=function(e,t){return!!e&&"TSSatisfiesExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSStringKeyword=function(e,t){return!!e&&"TSStringKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSSymbolKeyword=function(e,t){return!!e&&"TSSymbolKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTemplateLiteralType=function(e,t){return!!e&&"TSTemplateLiteralType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSThisType=function(e,t){return!!e&&"TSThisType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTupleType=function(e,t){return!!e&&"TSTupleType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSType=function(e,t){if(!e)return!1;switch(e.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSImportType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSTypeAliasDeclaration=function(e,t){return!!e&&"TSTypeAliasDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeAnnotation=function(e,t){return!!e&&"TSTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeAssertion=function(e,t){return!!e&&"TSTypeAssertion"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeElement=function(e,t){if(!e)return!1;switch(e.type){case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSTypeLiteral=function(e,t){return!!e&&"TSTypeLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeOperator=function(e,t){return!!e&&"TSTypeOperator"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeParameter=function(e,t){return!!e&&"TSTypeParameter"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeParameterDeclaration=function(e,t){return!!e&&"TSTypeParameterDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeParameterInstantiation=function(e,t){return!!e&&"TSTypeParameterInstantiation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypePredicate=function(e,t){return!!e&&"TSTypePredicate"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeQuery=function(e,t){return!!e&&"TSTypeQuery"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeReference=function(e,t){return!!e&&"TSTypeReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSUndefinedKeyword=function(e,t){return!!e&&"TSUndefinedKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSUnionType=function(e,t){return!!e&&"TSUnionType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSUnknownKeyword=function(e,t){return!!e&&"TSUnknownKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSVoidKeyword=function(e,t){return!!e&&"TSVoidKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTaggedTemplateExpression=function(e,t){return!!e&&"TaggedTemplateExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTemplateElement=function(e,t){return!!e&&"TemplateElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isTemplateLiteral=function(e,t){return!!e&&"TemplateLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isTerminatorless=function(e,t){if(!e)return!1;switch(e.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":case"YieldExpression":case"AwaitExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isThisExpression=function(e,t){return!!e&&"ThisExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isThisTypeAnnotation=function(e,t){return!!e&&"ThisTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isThrowStatement=function(e,t){return!!e&&"ThrowStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isTopicReference=function(e,t){return!!e&&"TopicReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isTryStatement=function(e,t){return!!e&&"TryStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isTupleExpression=function(e,t){return!!e&&"TupleExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTupleTypeAnnotation=function(e,t){return!!e&&"TupleTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeAlias=function(e,t){return!!e&&"TypeAlias"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeAnnotation=function(e,t){return!!e&&"TypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeCastExpression=function(e,t){return!!e&&"TypeCastExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeParameter=function(e,t){return!!e&&"TypeParameter"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeParameterDeclaration=function(e,t){return!!e&&"TypeParameterDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeParameterInstantiation=function(e,t){return!!e&&"TypeParameterInstantiation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeScript=function(e,t){if(!e)return!1;switch(e.type){case"TSParameterProperty":case"TSDeclareFunction":case"TSDeclareMethod":case"TSQualifiedName":case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSNamedTupleMember":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSInterfaceDeclaration":case"TSInterfaceBody":case"TSTypeAliasDeclaration":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSEnumBody":case"TSEnumDeclaration":case"TSEnumMember":case"TSModuleDeclaration":case"TSModuleBlock":case"TSImportType":case"TSImportEqualsDeclaration":case"TSExternalModuleReference":case"TSNonNullExpression":case"TSExportAssignment":case"TSNamespaceExportDeclaration":case"TSTypeAnnotation":case"TSTypeParameterInstantiation":case"TSTypeParameterDeclaration":case"TSTypeParameter":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTypeofTypeAnnotation=function(e,t){return!!e&&"TypeofTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isUnaryExpression=function(e,t){return!!e&&"UnaryExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isUnaryLike=function(e,t){if(!e)return!1;switch(e.type){case"UnaryExpression":case"SpreadElement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isUnionTypeAnnotation=function(e,t){return!!e&&"UnionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isUpdateExpression=function(e,t){return!!e&&"UpdateExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isUserWhitespacable=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ObjectProperty":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isV8IntrinsicIdentifier=function(e,t){return!!e&&"V8IntrinsicIdentifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isVariableDeclaration=function(e,t){return!!e&&"VariableDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isVariableDeclarator=function(e,t){return!!e&&"VariableDeclarator"===e.type&&(null==t||(0,r.default)(e,t))},t.isVariance=function(e,t){return!!e&&"Variance"===e.type&&(null==t||(0,r.default)(e,t))},t.isVoidPattern=function(e,t){return!!e&&"VoidPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isVoidTypeAnnotation=function(e,t){return!!e&&"VoidTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isWhile=function(e,t){if(!e)return!1;switch(e.type){case"DoWhileStatement":case"WhileStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isWhileStatement=function(e,t){return!!e&&"WhileStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isWithStatement=function(e,t){return!!e&&"WithStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isYieldExpression=function(e,t){return!!e&&"YieldExpression"===e.type&&(null==t||(0,r.default)(e,t))};var r=n(96616),i=n(63762);function s(e,t){if(!e)return!1;switch(e.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)}},98991:e=>{let t=process||{},n=t.argv||[],r=t.env||{},i=!(r.NO_COLOR||n.includes("--no-color"))&&(!!r.FORCE_COLOR||n.includes("--color")||"win32"===t.platform||(t.stdout||{}).isTTY&&"dumb"!==r.TERM||!!r.CI),s=(e,t,n=e)=>r=>{let i=""+r,s=i.indexOf(t,e.length);return~s?e+a(i,t,n,s)+t:e+i+t},a=(e,t,n,r)=>{let i="",s=0;do{i+=e.substring(s,r)+n,s=r+t.length,r=e.indexOf(t,s)}while(~r);return i+e.substring(s)},o=(e=i)=>{let t=e?s:()=>String;return{isColorSupported:e,reset:t("[0m","[0m"),bold:t("[1m","[22m","[22m[1m"),dim:t("[2m","[22m","[22m[2m"),italic:t("[3m","[23m"),underline:t("[4m","[24m"),inverse:t("[7m","[27m"),hidden:t("[8m","[28m"),strikethrough:t("[9m","[29m"),black:t("[30m","[39m"),red:t("[31m","[39m"),green:t("[32m","[39m"),yellow:t("[33m","[39m"),blue:t("[34m","[39m"),magenta:t("[35m","[39m"),cyan:t("[36m","[39m"),white:t("[37m","[39m"),gray:t("[90m","[39m"),bgBlack:t("[40m","[49m"),bgRed:t("[41m","[49m"),bgGreen:t("[42m","[49m"),bgYellow:t("[43m","[49m"),bgBlue:t("[44m","[49m"),bgMagenta:t("[45m","[49m"),bgCyan:t("[46m","[49m"),bgWhite:t("[47m","[49m"),blackBright:t("[90m","[39m"),redBright:t("[91m","[39m"),greenBright:t("[92m","[39m"),yellowBright:t("[93m","[39m"),blueBright:t("[94m","[39m"),magentaBright:t("[95m","[39m"),cyanBright:t("[96m","[39m"),whiteBright:t("[97m","[39m"),bgBlackBright:t("[100m","[49m"),bgRedBright:t("[101m","[49m"),bgGreenBright:t("[102m","[49m"),bgYellowBright:t("[103m","[49m"),bgBlueBright:t("[104m","[49m"),bgMagentaBright:t("[105m","[49m"),bgCyanBright:t("[106m","[49m"),bgWhiteBright:t("[107m","[49m")}};e.exports=o(),e.exports.createColors=o},99045:(e,t,n)=>{"use strict";const r=n(16928),i=n(46911),s=n(79376);function a(e,t){const n=e.options.env||process.env,a=process.cwd(),o=null!=e.options.cwd,c=o&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let l;try{l=i.sync(e.command,{path:n[s({env:n})],pathExt:t?r.delimiter:void 0})}catch(e){}finally{c&&process.chdir(a)}return l&&(l=r.resolve(o?e.options.cwd:"",l)),l}e.exports=function(e){return a(e)||a(e,!0)}},99048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(66596),i=n(53231);function s(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const i=r.RULES.keywords;for(const n in t)i[n]||f(e,`unknown keyword: "${n}"`)}function a(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function o(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:i}){return(s,a,o,c)=>{const l=void 0===o?a:o instanceof r.Name?(a instanceof r.Name?e(s,a,o):t(s,a,o),o):a instanceof r.Name?(t(s,o,a),a):n(a,o);return c!==r.Name||l instanceof r.Name?l:i(s,l)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach(n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(s(e,t),!a(t,e.self.RULES.all))},t.checkUnknownRules=s,t.schemaHasRules=a,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,i,s){if(!s){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(i)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(o(e))},t.escapeJsonPointer=o,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:l({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,()=>{e.if(r._`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),d(e,n,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:l({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const p={};var h;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:p[t.code]||(p[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h||(t.Type=h={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const i=t===h.Num;return n?i?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:i?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+o(e)},t.checkStrictMode=f},99147:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&i(t,e,n[a]);return s(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiteLLMService=void 0,t.getLiteLLMService=function(){return d||(d=new u),d};const c=a(n(91398)),l=o(n(32012));class u{client=null;model="gpt-4o-mini";isConfigured=!1;constructor(){this.initialize()}initialize(){const e=c.workspace.getConfiguration("codebaseVisualizer"),t=e.get("litellm.baseUrl")||process.env.LITELLM_API_BASE||process.env.OPENAI_API_BASE||"https://api.openai.com/v1",n=e.get("litellm.apiKey")||process.env.LITELLM_API_KEY||process.env.OPENAI_API_KEY||"";if(this.model=e.get("litellm.model")||process.env.LITELLM_MODEL||"gpt-4o-mini",n)try{this.client=new l.default({apiKey:n,baseURL:t}),this.isConfigured=!0,console.log(`LiteLLM initialized with model: ${this.model}, baseURL: ${t}`)}catch(e){console.error("Failed to initialize LiteLLM client:",e),this.isConfigured=!1}else console.log("LiteLLM not configured - API key not found. Using rule-based generation."),this.isConfigured=!1}isReady(){return this.isConfigured&&null!==this.client}reinitialize(){this.initialize()}async promptForConfiguration(){const e=await c.window.showInformationMessage("LiteLLM is not configured. Would you like to set up API key for AI-powered documentation?","Configure API Key","Use LiteLLM Proxy","Skip");if("Configure API Key"===e){const e=await c.window.showInputBox({prompt:"Enter your API key (OpenAI, Anthropic, or LiteLLM proxy key)",password:!0,placeHolder:"sk-..."});if(e){const t=c.workspace.getConfiguration("codebaseVisualizer");await t.update("litellm.apiKey",e,c.ConfigurationTarget.Global);const n=await c.window.showQuickPick(["gpt-4o-mini","gpt-4o","gpt-4-turbo","gpt-3.5-turbo","claude-3-sonnet-20240229","claude-3-haiku-20240307","gemini-pro"],{placeHolder:"Select the model to use"});return n&&await t.update("litellm.model",n,c.ConfigurationTarget.Global),this.initialize(),this.isConfigured}}else if("Use LiteLLM Proxy"===e){const e=await c.window.showInputBox({prompt:"Enter your LiteLLM proxy URL",placeHolder:"http://localhost:4000",value:"http://localhost:4000"});if(e){const t=c.workspace.getConfiguration("codebaseVisualizer");await t.update("litellm.baseUrl",e,c.ConfigurationTarget.Global);const n=await c.window.showInputBox({prompt:"Enter your LiteLLM proxy API key (or leave empty if not required)",password:!0,placeHolder:"sk-..."});return n?await t.update("litellm.apiKey",n,c.ConfigurationTarget.Global):await t.update("litellm.apiKey","sk-local",c.ConfigurationTarget.Global),this.initialize(),this.isConfigured}}return!1}async generateDocumentation(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=this.getSystemPrompt(t),r=this.buildDocumentationPrompt(e);try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:n},{role:"user",content:r}],temperature:.3,max_tokens:1e3});return e.choices[0]?.message?.content||"Failed to generate documentation"}catch(e){throw console.error("LiteLLM documentation generation failed:",e),e}}async generateSummary(e){if(!this.isReady())throw new Error("LiteLLM is not configured");const t=`Analyze this ${e.language} code and provide a concise 1-2 sentence summary of what it does:\n\n\`\`\`${e.language}\n${e.sourceCode.slice(0,2e3)}${e.sourceCode.length>2e3?"\n// ... (truncated)":""}\n\`\`\`\n\nName: ${e.label}\nType: ${e.type}\n\nProvide ONLY the summary, no code or additional formatting.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a code documentation expert. Provide concise, accurate summaries."},{role:"user",content:t}],temperature:.2,max_tokens:200});return e.choices[0]?.message?.content||""}catch(e){throw console.error("LiteLLM summary generation failed:",e),e}}async generatePersonaOverview(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n={developer:"You are a senior developer writing comprehensive technical documentation.\nFocus on: code structure, key functions, implementation patterns, dependencies, and how to work with the code.\nInclude: file organization, main entry points, important classes/functions, and technical details.",architect:"You are a software architect analyzing system design.\nFocus on: system architecture, component relationships, design patterns, scalability, and technical decisions.\nInclude: high-level structure, layer organization, data flow, and architectural considerations.","product-manager":"You are a product manager documenting features for stakeholders.\nFocus on: what the product does, key features, user value, and business capabilities.\nInclude: feature overview, user-facing functionality, and product capabilities.","business-analyst":"You are a business analyst documenting system capabilities.\nFocus on: business processes, data flows, integrations, and functional requirements.\nInclude: system capabilities, process flows, and business logic overview."},r=Object.entries(e?.nodeTypes||{}).map(([e,t])=>`${t} ${e}s`).join(", "),i=(e?.nodes||[]).map(e=>`- **${e.name}** (${e.type}): ${e.description||"No description"}`).join("\n"),s=`Generate comprehensive documentation for this codebase from a ${t.replace("-"," ")} perspective.\n\n## Codebase Summary\n- **Total Components**: ${e?.totalNodes||0}\n- **Component Types**: ${r||"Unknown"}\n${e?.architecture?`\n## Architecture\n- **Overview**: ${e.architecture.overview||"N/A"}\n- **Layers**: ${(e.architecture.layers||[]).join(", ")||"N/A"}\n- **Patterns**: ${(e.architecture.patterns||[]).join(", ")||"N/A"}\n`:""}\n\n## Key Components\n${i||"No component details available"}\n\n---\n\nWrite a detailed, well-structured documentation (800-1200 words) using Markdown formatting with:\n1. **Executive Summary** - Brief overview of the project\n2. **${"developer"===t?"Technical Architecture":"architect"===t?"System Design":"product-manager"===t?"Product Overview":"Business Capabilities"}**\n3. **Key Components** - Important modules and their roles\n4. **${"developer"===t?"Code Organization":"architect"===t?"Design Patterns":"product-manager"===t?"Features & Functionality":"Process Flows"}**\n5. **${"developer"===t?"Getting Started":"architect"===t?"Scalability Notes":"product-manager"===t?"User Value":"Integration Points"}**\n\nBe thorough, informative, and write in a professional tone.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:n[t]},{role:"user",content:s}],temperature:.4,max_tokens:2e3});return e.choices[0]?.message?.content||"Unable to generate documentation."}catch(e){throw console.error("LiteLLM persona overview generation failed:",e),e}}async generatePersonaDocumentation(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=this.getSystemPrompt(t),r=e.sourceCode.slice(0,2e3),i=`Document this ${e.language} ${e.type}:\n\n\`\`\`${e.language}\n${r}${e.sourceCode.length>2e3?"\n// ...":""}\n\`\`\`\n\n**${e.label}** (${e.type}) - ${e.filePath}\n${e.parameters?`Params: ${e.parameters.map(e=>`${e.name}: ${e.type}`).join(", ")}`:""}\n${e.returnType?`Returns: ${e.returnType}`:""}\n\nReturn JSON:\n{\n  "summary": "2-3 sentence overview",\n  "detailedDescription": "5-8 sentences explaining purpose, how it works, and key logic",\n  "keyPoints": ["3-5 important points"],\n  "sampleCode": "One brief usage example",\n  "complexity": "low|medium|high",\n  "personaInsights": "2-3 sentences of ${t}-specific advice"\n}\n\nBe concise and practical.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:n},{role:"user",content:i}],temperature:.3,max_tokens:1e3}),t=e.choices[0]?.message?.content||"{}",r=t.match(/\{[\s\S]*\}/);return r?JSON.parse(r[0]):JSON.parse(t)}catch(e){throw console.error("LiteLLM persona documentation generation failed:",e),e}}async generateTechnicalDetails(e){if(!this.isReady())throw new Error("LiteLLM is not configured");const t=`Analyze this ${e.language} code and provide technical details in JSON format:\n\n\`\`\`${e.language}\n${e.sourceCode.slice(0,3e3)}${e.sourceCode.length>3e3?"\n// ... (truncated)":""}\n\`\`\`\n\nName: ${e.label}\nType: ${e.type}\nFile: ${e.filePath}\n\nRespond with ONLY valid JSON in this exact format:\n{\n  "summary": "3-4 sentence comprehensive summary",\n  "purpose": "What problem this code solves (2-3 sentences)",\n  "keyFeatures": ["feature1 - with explanation", "feature2 - with explanation", "at least 5 features"],\n  "dependencies": ["external library or module names used"],\n  "complexity": "low" | "medium" | "high"\n}`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a code analysis expert. Respond with valid JSON only. Be thorough and detailed."},{role:"user",content:t}],temperature:.2,max_tokens:800}),n=e.choices[0]?.message?.content||"{}",r=n.match(/\{[\s\S]*\}/);return r?JSON.parse(r[0]):JSON.parse(n)}catch(e){throw console.error("LiteLLM technical details generation failed:",e),e}}async generateSearchKeywords(e){if(!this.isReady())throw new Error("LiteLLM is not configured");const t=`Generate search keywords for this code that would help developers find it:\n\nName: ${e.label}\nType: ${e.type}\nCode preview:\n\`\`\`${e.language}\n${e.sourceCode.slice(0,1500)}\n\`\`\`\n\nList 5-10 relevant search keywords/phrases, one per line. Include:\n- What it does\n- Patterns used\n- Domain concepts\n- Technical terms`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a code indexing expert. Generate relevant search keywords."},{role:"user",content:t}],temperature:.3,max_tokens:200});return(e.choices[0]?.message?.content||"").split("\n").filter(e=>e.trim()).map(e=>e.trim().replace(/^[-•*]\s*/,""))}catch(e){throw console.error("LiteLLM keyword generation failed:",e),e}}async generateRAGAnswer(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=`Based on the following code context from this project, please answer this question comprehensively:\n\n## Question\n${e}\n\n---\n\n## Relevant Code Context\n\n${t}\n\n---\n\n## Your Task\nProvide a detailed, well-structured answer that fully addresses the question. Use markdown formatting to make your answer clear and easy to read.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are an expert code assistant helping developers understand a codebase. Your answers should be comprehensive, well-structured, and actionable.\n\n## Your Response Style:\n- **Be thorough**: Provide complete answers with all relevant details\n- **Use structure**: Organize with headers, bullet points, and numbered lists\n- **Include examples**: Show code snippets when they help explain concepts\n- **Reference specifics**: Mention file names, function names, and line numbers when available\n- **Explain why**: Don't just say what, explain the reasoning and design decisions\n\n## Formatting Guidelines:\n- Use **bold** for important terms and concepts\n- Use `code` formatting for variable names, functions, and file paths\n- Use code blocks with language hints for multi-line code\n- Use bullet points for lists of related items\n- Use numbered lists for sequential steps or processes\n\n## Answer Structure (use when appropriate):\n1. **Summary**: A brief 2-3 sentence answer\n2. **Details**: Expanded explanation with specifics\n3. **Code Examples**: Relevant snippets if helpful\n4. **Related Components**: Other parts of the codebase that connect to this\n5. **Recommendations**: Suggestions or best practices if applicable\n\nIf the provided context doesn't fully answer the question, clearly state what you can infer and what would require more information."},{role:"user",content:n}],temperature:.4,max_tokens:1500});return e.choices[0]?.message?.content||"Unable to generate an answer. Please try again."}catch(e){throw console.error("LiteLLM RAG answer generation failed:",e),e}}async explainRelationship(e,t,n){if(!this.isReady())throw new Error("LiteLLM is not configured");const r=`Explain the relationship between these two code components:\n\nSOURCE: ${e.label} (${e.type})\n\`\`\`${e.language}\n${e.sourceCode.slice(0,1e3)}\n\`\`\`\n\nTARGET: ${t.label} (${t.type})\n\`\`\`${t.language}\n${t.sourceCode.slice(0,1e3)}\n\`\`\`\n\nRelationship type: ${n}\n\nProvide a brief explanation of how these components interact and why this relationship exists.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a software architecture expert. Explain code relationships clearly."},{role:"user",content:r}],temperature:.3,max_tokens:300});return e.choices[0]?.message?.content||""}catch(e){throw console.error("LiteLLM relationship explanation failed:",e),e}}getSystemPrompt(e){return{developer:"You are a senior software developer creating clear, concise technical documentation.\n\nWrite practical documentation that covers:\n1. **Purpose**: What it does and why (2-3 sentences)\n2. **How it works**: Key implementation details (3-4 sentences)\n3. **Parameters & Returns**: Brief description of inputs/outputs\n4. **Usage**: A simple example\n5. **Notes**: Important edge cases or gotchas (2-3 points)\n\nBe direct and technical. Target: 200-300 words of actionable documentation.","product-manager":"You are a senior product manager with 10+ years of experience documenting features for stakeholders and executives.\n\nYour documentation MUST be COMPREHENSIVE and include ALL of the following:\n\n## Feature Summary (8-10 sentences)\n- What capability this provides to users\n- The core value proposition\n- How it fits into the product roadmap\n- Target user personas\n\n## User Value & Benefits (10-12 sentences)\n- Specific problems solved for end users\n- Measurable improvements (time saved, errors reduced, etc.)\n- User experience improvements\n- Competitive differentiation this provides\n\n## Business Impact (8-10 sentences)\n- Revenue implications (direct/indirect)\n- Cost savings or efficiency gains\n- Strategic alignment with company goals\n- Market positioning benefits\n\n## Use Cases & User Stories (5-6 detailed scenarios)\nEach with:\n- User persona\n- Goal/need\n- Step-by-step interaction\n- Expected outcome\n- Success criteria\n\n## Feature Dependencies\n- Other features this relies on\n- Integration requirements\n- Data dependencies\n- Technical prerequisites that affect rollout\n\n## Success Metrics & KPIs\n- Primary success metrics\n- Secondary indicators\n- How to measure feature adoption\n- A/B testing considerations\n\n## Risks & Considerations\n- Potential user confusion points\n- Adoption barriers\n- Competitive threats\n- Resource constraints\n\n## Roadmap Integration\n- MVP vs full feature scope\n- Phase 1, 2, 3 breakdown\n- Dependencies on other roadmap items\n- Suggested timeline\n\nAvoid technical jargon. Explain in business terms that executives and stakeholders understand.\nTarget: 600-900 words focused on business value and user impact.",architect:"You are a principal software architect with expertise in distributed systems, enterprise patterns, and scalable architecture.\n\nYour documentation MUST be COMPREHENSIVE and cover ALL of the following:\n\n## System Context (10-12 sentences)\n- How this component fits in the broader system\n- Its role in the layered architecture\n- Deployment topology considerations\n- Service boundaries and ownership\n\n## Design Patterns Analysis (8-10 sentences per pattern)\n- Each pattern identified with:\n  - Pattern name and category\n  - Why this pattern was chosen\n  - How it's implemented here\n  - Benefits and tradeoffs\n  - Alternative patterns considered\n\n## Component Interactions & Dependencies\n- Upstream dependencies (what this needs)\n- Downstream consumers (what uses this)\n- Event/message flows\n- Synchronous vs asynchronous interactions\n- Circuit breaker and resilience patterns\n\n## Data Architecture\n- Data models and schemas\n- State management approach\n- Caching strategies\n- Data consistency guarantees (eventual/strong)\n- Data flow diagrams (described in text)\n\n## Scalability & Performance\n- Time complexity analysis (Big O)\n- Space complexity analysis\n- Horizontal vs vertical scaling options\n- Identified bottlenecks\n- Capacity planning considerations\n- Load balancing implications\n\n## Security Architecture\n- Authentication/Authorization integration\n- Data protection measures\n- Input validation approach\n- Audit logging\n- Compliance considerations\n\n## Technical Debt & Recommendations\n- Current architectural issues\n- Refactoring opportunities\n- Migration path recommendations\n- 3-5 specific architectural improvements with priority\n\n## Quality Attributes\n- Reliability measures\n- Availability considerations\n- Maintainability score\n- Testability assessment\n\nWrite with architectural precision. Use technical terminology appropriately.\nTarget: 700-1000 words of in-depth architectural analysis.","business-analyst":"You are a senior business analyst with expertise in requirements engineering and stakeholder communication.\n\nYour documentation MUST be COMPREHENSIVE and include ALL of the following:\n\n## Business Function Overview (10-12 sentences)\n- What business process this supports\n- Business domain context\n- Stakeholder groups affected\n- Regulatory/compliance context if applicable\n\n## Data Entities & Business Objects (8-10 items)\nFor each entity:\n- Entity name and business definition\n- Key attributes and their business meaning\n- Relationships to other entities\n- Data quality requirements\n- Retention and lifecycle policies\n\n## Business Rules Implementation (6-8 detailed rules)\nEach with:\n- Rule ID and name\n- Business rationale\n- Trigger conditions\n- Expected behavior\n- Exception handling\n- Validation criteria\n\n## Process Flow & Workflow (detailed description)\n- Step-by-step business process\n- Decision points and branching logic\n- Actors/roles at each step\n- Time constraints and SLAs\n- Handoff points between systems/teams\n\n## Stakeholder Impact Analysis\n- Primary stakeholders and their interests\n- Secondary stakeholders\n- Change impact assessment\n- Training requirements\n- Communication needs\n\n## Compliance & Governance\n- Regulatory requirements addressed\n- Audit trail capabilities\n- Data privacy considerations (GDPR, CCPA, etc.)\n- Internal policy alignment\n\n## Reporting & Analytics\n- Business metrics this enables\n- Report types generated\n- Dashboard integration points\n- Historical data requirements\n\n## Requirements Traceability\n- Original business requirement reference\n- Acceptance criteria\n- Test scenario mapping\n- User acceptance test considerations\n\n## Change Impact & Dependencies\n- Systems affected by changes\n- Data migration considerations\n- Rollback procedures\n- Business continuity planning\n\nUse business terminology. Map all technical concepts to business outcomes.\nTarget: 700-1000 words focused on business process documentation and stakeholder value."}[e]}buildDocumentationPrompt(e){const t=[];return t.push(`Generate comprehensive documentation for this ${e.language} ${e.type}:`),t.push(""),t.push(`Name: ${e.label}`),t.push(`File: ${e.filePath}`),t.push(`Lines: ${e.startLine}-${e.endLine}`),t.push(""),e.parameters&&e.parameters.length>0&&(t.push("Parameters:"),e.parameters.forEach(e=>{t.push(`- ${e.name}: ${e.type}${e.optional?" (optional)":""}`)}),t.push("")),e.returnType&&(t.push(`Returns: ${e.returnType}`),t.push("")),t.push("Source code:"),t.push("```"+e.language),e.sourceCode.length>3e3?(t.push(e.sourceCode.slice(0,3e3)),t.push("// ... (code truncated for brevity)")):t.push(e.sourceCode),t.push("```"),t.push(""),t.push("Provide well-structured documentation with:"),t.push("1. A clear summary (1-2 sentences)"),t.push("2. Detailed description of functionality"),t.push("3. Usage examples if applicable"),t.push("4. Important notes or caveats"),t.join("\n")}async answerQuestion(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=`Based on the following codebase context, answer this question:\n\nQuestion: ${e}\n\nCodebase Context:\n${t.nodes.slice(0,5).map(e=>`### ${e.label} (${e.type})\nFile: ${e.filePath}\n\`\`\`${e.language}\n${e.sourceCode.slice(0,500)}\n\`\`\``).join("\n\n")}\n\nProvide a helpful, accurate answer based on the code shown.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a helpful coding assistant with deep knowledge of the codebase. Answer questions accurately based on the provided context."},{role:"user",content:n}],temperature:.3,max_tokens:800});return e.choices[0]?.message?.content||"Unable to answer the question."}catch(e){throw console.error("LiteLLM question answering failed:",e),e}}}t.LiteLLMService=u;let d=null},99198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98960),i=n(48079);t.default=function(e,t){if((0,r.isStatement)(e))return e;let n,s=!1;if((0,r.isClass)(e))s=!0,n="ClassDeclaration";else if((0,r.isFunction)(e))s=!0,n="FunctionDeclaration";else if((0,r.isAssignmentExpression)(e))return(0,i.expressionStatement)(e);if(s&&!e.id&&(n=!1),!n){if(t)return!1;throw new Error(`cannot turn ${e.type} to a statement`)}return e.type=n,e}},99317:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultErrorMap=void 0,t.setErrorMap=function(e){s=e},t.getErrorMap=function(){return s};const i=r(n(75653));t.defaultErrorMap=i.default;let s=i.default},99320:function(e,t,n){var r;!function(e,t,n){"use strict";var r,i=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports},d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))l.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},p=(e,t,n)=>(n=null!=e?i(c(e)):{},d(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),h=u({"umd:@jridgewell/sourcemap-codec"(e,n){n.exports=t}}),f=u({"umd:@jridgewell/trace-mapping"(e,t){t.exports=n}}),m={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(m,{GenMapping:()=>A,addMapping:()=>I,addSegment:()=>O,allMappings:()=>j,fromMap:()=>R,maybeAddMapping:()=>k,maybeAddSegment:()=>C,setIgnore:()=>L,setSourceContent:()=>N,toDecodedMap:()=>$,toEncodedMap:()=>M}),e.exports=(r=m,d(s({},"__esModule",{value:!0}),r));var y=class{constructor(){this._indexes={__proto__:null},this.array=[]}};function g(e,t){return e._indexes[t]}function v(e,t){const n=g(e,t);if(void 0!==n)return n;const{array:r,_indexes:i}=e,s=r.push(t);return i[t]=s-1}var b=p(h()),S=p(f()),T=0,_=1,P=2,E=3,x=4,w=-1,A=class{constructor({file:e,sourceRoot:t}={}){this._names=new y,this._sources=new y,this._sourcesContent=[],this._mappings=[],this.file=e,this.sourceRoot=t,this._ignoreList=new y}};function O(e,t,n,r,i,s,a,o){return D(!1,e,t,n,r,i,s,a,o)}function I(e,t){return B(!1,e,t)}var C=(e,t,n,r,i,s,a,o)=>D(!0,e,t,n,r,i,s,a,o),k=(e,t)=>B(!0,e,t);function N(e,t,n){const{_sources:r,_sourcesContent:i}=e;i[v(r,t)]=n}function L(e,t,n=!0){const{_sources:r,_sourcesContent:i,_ignoreList:s}=e,a=v(r,t);a===i.length&&(i[a]=null),n?v(s,a):function(e,t){const n=g(e,t);if(void 0===n)return;const{array:r,_indexes:i}=e;for(let e=n+1;e<r.length;e++){const t=r[e];r[e-1]=t,i[t]--}i[t]=void 0,r.pop()}(s,a)}function $(e){const{_mappings:t,_sources:n,_sourcesContent:r,_names:i,_ignoreList:s}=e;return function(e){const{length:t}=e;let n=t;for(let t=n-1;t>=0&&!(e[t].length>0);n=t,t--);n<t&&(e.length=n)}(t),{version:3,file:e.file||void 0,names:i.array,sourceRoot:e.sourceRoot||void 0,sources:n.array,sourcesContent:r,mappings:t,ignoreList:s.array}}function M(e){const t=$(e);return Object.assign({},t,{mappings:(0,b.encode)(t.mappings)})}function R(e){const t=new S.TraceMap(e),n=new A({file:t.file,sourceRoot:t.sourceRoot});return F(n._names,t.names),F(n._sources,t.sources),n._sourcesContent=t.sourcesContent||t.sources.map(()=>null),n._mappings=(0,S.decodedMappings)(t),t.ignoreList&&F(n._ignoreList,t.ignoreList),n}function j(e){const t=[],{_mappings:n,_sources:r,_names:i}=e;for(let e=0;e<n.length;e++){const s=n[e];for(let n=0;n<s.length;n++){const a=s[n],o={line:e+1,column:a[T]};let c,l,u;1!==a.length&&(c=r.array[a[_]],l={line:a[P]+1,column:a[E]},5===a.length&&(u=i.array[a[x]])),t.push({generated:o,source:c,original:l,name:u})}}return t}function D(e,t,n,r,i,s,a,o,c){const{_mappings:l,_sources:u,_sourcesContent:d,_names:p}=t,h=function(e,t){for(let n=e.length;n<=t;n++)e[n]=[];return e[t]}(l,n),f=function(e,t){let n=e.length;for(let r=n-1;r>=0&&!(t>=e[r][T]);n=r--);return n}(h,r);if(!i){if(e&&function(e,t){return 0===t||1===e[t-1].length}(h,f))return;return U(h,f,[r])}const m=v(u,i),y=o?v(p,o):w;if(m===d.length&&(d[m]=null!=c?c:null),!e||!function(e,t,n,r,i,s){if(0===t)return!1;const a=e[t-1];return 1!==a.length&&n===a[_]&&r===a[P]&&i===a[E]&&s===(5===a.length?a[x]:w)}(h,f,m,s,a,y))return U(h,f,o?[r,m,s,a,y]:[r,m,s,a])}function U(e,t,n){for(let n=e.length;n>t;n--)e[n]=e[n-1];e[t]=n}function F(e,t){for(let n=0;n<t.length;n++)v(e,t[n])}function B(e,t,n){const{generated:r,source:i,original:s,name:a,content:o}=n;return i?D(e,t,r.line-1,r.column,i,s.line-1,s.column,a,o):D(e,t,r.line-1,r.column,null,null,null,null,null)}}(e=n.nmd(e),n(44318),n(92802)),e.exports="default"in(r=e).exports?r.exports.default:r.exports},99374:(e,t,n)=>{var r=n(54128),i=n(23805),s=n(44394),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},99458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const r=n(82040),i=n(75552),s=n(54815);class a extends r.APIResource{retrieve(e,t){return this._client.get(s.path`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",i.Page,e)}delete(e,t){return this._client.delete(s.path`/models/${e}`,t)}}t.Models=a},99874:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZodLiteral=t.ZodEnum=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodXor=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodDate=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodBigIntFormat=t.ZodBigInt=t.ZodBoolean=t.ZodNumberFormat=t.ZodNumber=t.ZodCustomStringFormat=t.ZodJWT=t.ZodE164=t.ZodBase64URL=t.ZodBase64=t.ZodCIDRv6=t.ZodCIDRv4=t.ZodIPv6=t.ZodMAC=t.ZodIPv4=t.ZodKSUID=t.ZodXID=t.ZodULID=t.ZodCUID2=t.ZodCUID=t.ZodNanoID=t.ZodEmoji=t.ZodURL=t.ZodUUID=t.ZodGUID=t.ZodEmail=t.ZodStringFormat=t.ZodString=t._ZodString=t.ZodType=void 0,t.stringbool=t.meta=t.describe=t.ZodCustom=t.ZodFunction=t.ZodPromise=t.ZodLazy=t.ZodTemplateLiteral=t.ZodReadonly=t.ZodCodec=t.ZodPipe=t.ZodNaN=t.ZodCatch=t.ZodSuccess=t.ZodNonOptional=t.ZodPrefault=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransform=t.ZodFile=void 0,t.string=h,t.email=function(e){return a._email(t.ZodEmail,e)},t.guid=function(e){return a._guid(t.ZodGUID,e)},t.uuid=function(e){return a._uuid(t.ZodUUID,e)},t.uuidv4=function(e){return a._uuidv4(t.ZodUUID,e)},t.uuidv6=function(e){return a._uuidv6(t.ZodUUID,e)},t.uuidv7=function(e){return a._uuidv7(t.ZodUUID,e)},t.url=function(e){return a._url(t.ZodURL,e)},t.httpUrl=function(e){return a._url(t.ZodURL,{protocol:/^https?$/,hostname:a.regexes.domain,...o.util.normalizeParams(e)})},t.emoji=function(e){return a._emoji(t.ZodEmoji,e)},t.nanoid=function(e){return a._nanoid(t.ZodNanoID,e)},t.cuid=function(e){return a._cuid(t.ZodCUID,e)},t.cuid2=function(e){return a._cuid2(t.ZodCUID2,e)},t.ulid=function(e){return a._ulid(t.ZodULID,e)},t.xid=function(e){return a._xid(t.ZodXID,e)},t.ksuid=function(e){return a._ksuid(t.ZodKSUID,e)},t.ipv4=function(e){return a._ipv4(t.ZodIPv4,e)},t.mac=function(e){return a._mac(t.ZodMAC,e)},t.ipv6=function(e){return a._ipv6(t.ZodIPv6,e)},t.cidrv4=function(e){return a._cidrv4(t.ZodCIDRv4,e)},t.cidrv6=function(e){return a._cidrv6(t.ZodCIDRv6,e)},t.base64=function(e){return a._base64(t.ZodBase64,e)},t.base64url=function(e){return a._base64url(t.ZodBase64URL,e)},t.e164=function(e){return a._e164(t.ZodE164,e)},t.jwt=function(e){return a._jwt(t.ZodJWT,e)},t.stringFormat=function(e,n,r={}){return a._stringFormat(t.ZodCustomStringFormat,e,n,r)},t.hostname=function(e){return a._stringFormat(t.ZodCustomStringFormat,"hostname",a.regexes.hostname,e)},t.hex=function(e){return a._stringFormat(t.ZodCustomStringFormat,"hex",a.regexes.hex,e)},t.hash=function(e,n){const r=`${e}_${n?.enc??"hex"}`,i=a.regexes[r];if(!i)throw new Error(`Unrecognized hash format: ${r}`);return a._stringFormat(t.ZodCustomStringFormat,r,i,n)},t.number=f,t.int=m,t.float32=function(e){return a._float32(t.ZodNumberFormat,e)},t.float64=function(e){return a._float64(t.ZodNumberFormat,e)},t.int32=function(e){return a._int32(t.ZodNumberFormat,e)},t.uint32=function(e){return a._uint32(t.ZodNumberFormat,e)},t.boolean=y,t.bigint=function(e){return a._bigint(t.ZodBigInt,e)},t.int64=function(e){return a._int64(t.ZodBigIntFormat,e)},t.uint64=function(e){return a._uint64(t.ZodBigIntFormat,e)},t.symbol=function(e){return a._symbol(t.ZodSymbol,e)},t.undefined=function(e){return a._undefined(t.ZodUndefined,e)},t.null=g,t.any=function(){return a._any(t.ZodAny)},t.unknown=v,t.never=b,t.void=function(e){return a._void(t.ZodVoid,e)},t.date=function(e){return a._date(t.ZodDate,e)},t.array=S,t.keyof=function(e){const t=e._zod.def.shape;return x(Object.keys(t))},t.object=function(e,n){const r={type:"object",shape:e??{},...o.util.normalizeParams(n)};return new t.ZodObject(r)},t.strictObject=function(e,n){return new t.ZodObject({type:"object",shape:e,catchall:b(),...o.util.normalizeParams(n)})},t.looseObject=function(e,n){return new t.ZodObject({type:"object",shape:e,catchall:v(),...o.util.normalizeParams(n)})},t.union=T,t.xor=function(e,n){return new t.ZodXor({type:"union",options:e,inclusive:!1,...o.util.normalizeParams(n)})},t.discriminatedUnion=function(e,n,r){return new t.ZodDiscriminatedUnion({type:"union",options:n,discriminator:e,...o.util.normalizeParams(r)})},t.intersection=_,t.tuple=P,t.record=E,t.partialRecord=function(e,n,r){const i=a.clone(e);return i._zod.values=void 0,new t.ZodRecord({type:"record",keyType:i,valueType:n,...o.util.normalizeParams(r)})},t.looseRecord=function(e,n,r){return new t.ZodRecord({type:"record",keyType:e,valueType:n,mode:"loose",...o.util.normalizeParams(r)})},t.map=function(e,n,r){return new t.ZodMap({type:"map",keyType:e,valueType:n,...o.util.normalizeParams(r)})},t.set=function(e,n){return new t.ZodSet({type:"set",valueType:e,...o.util.normalizeParams(n)})},t.enum=x,t.nativeEnum=function(e,n){return new t.ZodEnum({type:"enum",entries:e,...o.util.normalizeParams(n)})},t.literal=function(e,n){return new t.ZodLiteral({type:"literal",values:Array.isArray(e)?e:[e],...o.util.normalizeParams(n)})},t.file=function(e){return a._file(t.ZodFile,e)},t.transform=w,t.optional=A,t.nullable=O,t.nullish=function(e){return A(O(e))},t._default=I,t.prefault=C,t.nonoptional=k,t.success=function(e){return new t.ZodSuccess({type:"success",innerType:e})},t.catch=N,t.nan=function(e){return a._nan(t.ZodNaN,e)},t.pipe=L,t.codec=function(e,n,r){return new t.ZodCodec({type:"pipe",in:e,out:n,transform:r.decode,reverseTransform:r.encode})},t.readonly=$,t.templateLiteral=function(e,n){return new t.ZodTemplateLiteral({type:"template_literal",parts:e,...o.util.normalizeParams(n)})},t.lazy=M,t.promise=function(e){return new t.ZodPromise({type:"promise",innerType:e})},t._function=R,t.function=R,t._function=R,t.function=R,t.check=function(e){const t=new a.$ZodCheck({check:"custom"});return t._zod.check=e,t},t.custom=function(e,n){return a._custom(t.ZodCustom,e??(()=>!0),n)},t.refine=j,t.superRefine=D,t.instanceof=function(e,n={error:`Input not instance of ${e.name}`}){const r=new t.ZodCustom({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...o.util.normalizeParams(n)});return r._zod.bag.Class=e,r},t.json=function(e){const t=M(()=>T([h(e),f(),y(),g(),S(t),E(h(),t)]));return t},t.preprocess=function(e,t){return L(w(e),t)};const a=s(n(76601)),o=n(76601),c=s(n(86631)),l=n(70485),u=s(n(56549)),d=s(n(44725)),p=s(n(48035));function h(e){return a._string(t.ZodString,e)}function f(e){return a._number(t.ZodNumber,e)}function m(e){return a._int(t.ZodNumberFormat,e)}function y(e){return a._boolean(t.ZodBoolean,e)}function g(e){return a._null(t.ZodNull,e)}function v(){return a._unknown(t.ZodUnknown)}function b(e){return a._never(t.ZodNever,e)}function S(e,n){return a._array(t.ZodArray,e,n)}function T(e,n){return new t.ZodUnion({type:"union",options:e,...o.util.normalizeParams(n)})}function _(e,n){return new t.ZodIntersection({type:"intersection",left:e,right:n})}function P(e,n,r){const i=n instanceof a.$ZodType,s=i?r:n,c=i?n:null;return new t.ZodTuple({type:"tuple",items:e,rest:c,...o.util.normalizeParams(s)})}function E(e,n,r){return new t.ZodRecord({type:"record",keyType:e,valueType:n,...o.util.normalizeParams(r)})}function x(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new t.ZodEnum({type:"enum",entries:r,...o.util.normalizeParams(n)})}function w(e){return new t.ZodTransform({type:"transform",transform:e})}function A(e){return new t.ZodOptional({type:"optional",innerType:e})}function O(e){return new t.ZodNullable({type:"nullable",innerType:e})}function I(e,n){return new t.ZodDefault({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():o.util.shallowClone(n)}})}function C(e,n){return new t.ZodPrefault({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():o.util.shallowClone(n)}})}function k(e,n){return new t.ZodNonOptional({type:"nonoptional",innerType:e,...o.util.normalizeParams(n)})}function N(e,n){return new t.ZodCatch({type:"catch",innerType:e,catchValue:"function"==typeof n?n:()=>n})}function L(e,n){return new t.ZodPipe({type:"pipe",in:e,out:n})}function $(e){return new t.ZodReadonly({type:"readonly",innerType:e})}function M(e){return new t.ZodLazy({type:"lazy",getter:e})}function R(e){return new t.ZodFunction({type:"function",input:Array.isArray(e?.input)?P(e?.input):e?.input??S(v()),output:e?.output??v()})}function j(e,n={}){return a._refine(t.ZodCustom,e,n)}function D(e){return a._superRefine(e)}t.ZodType=a.$constructor("ZodType",(e,t)=>(a.$ZodType.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:(0,l.createStandardJSONSchemaMethod)(e,"input"),output:(0,l.createStandardJSONSchemaMethod)(e,"output")}}),e.toJSONSchema=(0,l.createToJSONSchemaMethod)(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(o.util.mergeDefs(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,n)=>a.clone(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>p.parse(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>p.safeParse(e,t,n),e.parseAsync=async(t,n)=>p.parseAsync(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>p.safeParseAsync(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>p.encode(e,t,n),e.decode=(t,n)=>p.decode(e,t,n),e.encodeAsync=async(t,n)=>p.encodeAsync(e,t,n),e.decodeAsync=async(t,n)=>p.decodeAsync(e,t,n),e.safeEncode=(t,n)=>p.safeEncode(e,t,n),e.safeDecode=(t,n)=>p.safeDecode(e,t,n),e.safeEncodeAsync=async(t,n)=>p.safeEncodeAsync(e,t,n),e.safeDecodeAsync=async(t,n)=>p.safeDecodeAsync(e,t,n),e.refine=(t,n)=>e.check(j(t,n)),e.superRefine=t=>e.check(D(t)),e.overwrite=t=>e.check(u.overwrite(t)),e.optional=()=>A(e),e.nullable=()=>O(e),e.nullish=()=>A(O(e)),e.nonoptional=t=>k(e,t),e.array=()=>S(e),e.or=t=>T([e,t]),e.and=t=>_(e,t),e.transform=t=>L(e,w(t)),e.default=t=>I(e,t),e.prefault=t=>C(e,t),e.catch=t=>N(e,t),e.pipe=t=>L(e,t),e.readonly=()=>$(e),e.describe=t=>{const n=e.clone();return a.globalRegistry.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>a.globalRegistry.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return a.globalRegistry.get(e);const n=e.clone();return a.globalRegistry.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),t._ZodString=a.$constructor("_ZodString",(e,n)=>{a.$ZodString.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.stringProcessor(e,t,n,r);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(u.regex(...t)),e.includes=(...t)=>e.check(u.includes(...t)),e.startsWith=(...t)=>e.check(u.startsWith(...t)),e.endsWith=(...t)=>e.check(u.endsWith(...t)),e.min=(...t)=>e.check(u.minLength(...t)),e.max=(...t)=>e.check(u.maxLength(...t)),e.length=(...t)=>e.check(u.length(...t)),e.nonempty=(...t)=>e.check(u.minLength(1,...t)),e.lowercase=t=>e.check(u.lowercase(t)),e.uppercase=t=>e.check(u.uppercase(t)),e.trim=()=>e.check(u.trim()),e.normalize=(...t)=>e.check(u.normalize(...t)),e.toLowerCase=()=>e.check(u.toLowerCase()),e.toUpperCase=()=>e.check(u.toUpperCase()),e.slugify=()=>e.check(u.slugify())}),t.ZodString=a.$constructor("ZodString",(e,n)=>{a.$ZodString.init(e,n),t._ZodString.init(e,n),e.email=n=>e.check(a._email(t.ZodEmail,n)),e.url=n=>e.check(a._url(t.ZodURL,n)),e.jwt=n=>e.check(a._jwt(t.ZodJWT,n)),e.emoji=n=>e.check(a._emoji(t.ZodEmoji,n)),e.guid=n=>e.check(a._guid(t.ZodGUID,n)),e.uuid=n=>e.check(a._uuid(t.ZodUUID,n)),e.uuidv4=n=>e.check(a._uuidv4(t.ZodUUID,n)),e.uuidv6=n=>e.check(a._uuidv6(t.ZodUUID,n)),e.uuidv7=n=>e.check(a._uuidv7(t.ZodUUID,n)),e.nanoid=n=>e.check(a._nanoid(t.ZodNanoID,n)),e.guid=n=>e.check(a._guid(t.ZodGUID,n)),e.cuid=n=>e.check(a._cuid(t.ZodCUID,n)),e.cuid2=n=>e.check(a._cuid2(t.ZodCUID2,n)),e.ulid=n=>e.check(a._ulid(t.ZodULID,n)),e.base64=n=>e.check(a._base64(t.ZodBase64,n)),e.base64url=n=>e.check(a._base64url(t.ZodBase64URL,n)),e.xid=n=>e.check(a._xid(t.ZodXID,n)),e.ksuid=n=>e.check(a._ksuid(t.ZodKSUID,n)),e.ipv4=n=>e.check(a._ipv4(t.ZodIPv4,n)),e.ipv6=n=>e.check(a._ipv6(t.ZodIPv6,n)),e.cidrv4=n=>e.check(a._cidrv4(t.ZodCIDRv4,n)),e.cidrv6=n=>e.check(a._cidrv6(t.ZodCIDRv6,n)),e.e164=n=>e.check(a._e164(t.ZodE164,n)),e.datetime=t=>e.check(d.datetime(t)),e.date=t=>e.check(d.date(t)),e.time=t=>e.check(d.time(t)),e.duration=t=>e.check(d.duration(t))}),t.ZodStringFormat=a.$constructor("ZodStringFormat",(e,n)=>{a.$ZodStringFormat.init(e,n),t._ZodString.init(e,n)}),t.ZodEmail=a.$constructor("ZodEmail",(e,n)=>{a.$ZodEmail.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodGUID=a.$constructor("ZodGUID",(e,n)=>{a.$ZodGUID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodUUID=a.$constructor("ZodUUID",(e,n)=>{a.$ZodUUID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodURL=a.$constructor("ZodURL",(e,n)=>{a.$ZodURL.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodEmoji=a.$constructor("ZodEmoji",(e,n)=>{a.$ZodEmoji.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodNanoID=a.$constructor("ZodNanoID",(e,n)=>{a.$ZodNanoID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodCUID=a.$constructor("ZodCUID",(e,n)=>{a.$ZodCUID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodCUID2=a.$constructor("ZodCUID2",(e,n)=>{a.$ZodCUID2.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodULID=a.$constructor("ZodULID",(e,n)=>{a.$ZodULID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodXID=a.$constructor("ZodXID",(e,n)=>{a.$ZodXID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodKSUID=a.$constructor("ZodKSUID",(e,n)=>{a.$ZodKSUID.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodIPv4=a.$constructor("ZodIPv4",(e,n)=>{a.$ZodIPv4.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodMAC=a.$constructor("ZodMAC",(e,n)=>{a.$ZodMAC.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodIPv6=a.$constructor("ZodIPv6",(e,n)=>{a.$ZodIPv6.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodCIDRv4=a.$constructor("ZodCIDRv4",(e,n)=>{a.$ZodCIDRv4.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodCIDRv6=a.$constructor("ZodCIDRv6",(e,n)=>{a.$ZodCIDRv6.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodBase64=a.$constructor("ZodBase64",(e,n)=>{a.$ZodBase64.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodBase64URL=a.$constructor("ZodBase64URL",(e,n)=>{a.$ZodBase64URL.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodE164=a.$constructor("ZodE164",(e,n)=>{a.$ZodE164.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodJWT=a.$constructor("ZodJWT",(e,n)=>{a.$ZodJWT.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodCustomStringFormat=a.$constructor("ZodCustomStringFormat",(e,n)=>{a.$ZodCustomStringFormat.init(e,n),t.ZodStringFormat.init(e,n)}),t.ZodNumber=a.$constructor("ZodNumber",(e,n)=>{a.$ZodNumber.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.numberProcessor(e,t,n,r),e.gt=(t,n)=>e.check(u.gt(t,n)),e.gte=(t,n)=>e.check(u.gte(t,n)),e.min=(t,n)=>e.check(u.gte(t,n)),e.lt=(t,n)=>e.check(u.lt(t,n)),e.lte=(t,n)=>e.check(u.lte(t,n)),e.max=(t,n)=>e.check(u.lte(t,n)),e.int=t=>e.check(m(t)),e.safe=t=>e.check(m(t)),e.positive=t=>e.check(u.gt(0,t)),e.nonnegative=t=>e.check(u.gte(0,t)),e.negative=t=>e.check(u.lt(0,t)),e.nonpositive=t=>e.check(u.lte(0,t)),e.multipleOf=(t,n)=>e.check(u.multipleOf(t,n)),e.step=(t,n)=>e.check(u.multipleOf(t,n)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null}),t.ZodNumberFormat=a.$constructor("ZodNumberFormat",(e,n)=>{a.$ZodNumberFormat.init(e,n),t.ZodNumber.init(e,n)}),t.ZodBoolean=a.$constructor("ZodBoolean",(e,n)=>{a.$ZodBoolean.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.booleanProcessor(e,t,n,r)}),t.ZodBigInt=a.$constructor("ZodBigInt",(e,n)=>{a.$ZodBigInt.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.bigintProcessor(e,t,n,r),e.gte=(t,n)=>e.check(u.gte(t,n)),e.min=(t,n)=>e.check(u.gte(t,n)),e.gt=(t,n)=>e.check(u.gt(t,n)),e.gte=(t,n)=>e.check(u.gte(t,n)),e.min=(t,n)=>e.check(u.gte(t,n)),e.lt=(t,n)=>e.check(u.lt(t,n)),e.lte=(t,n)=>e.check(u.lte(t,n)),e.max=(t,n)=>e.check(u.lte(t,n)),e.positive=t=>e.check(u.gt(BigInt(0),t)),e.negative=t=>e.check(u.lt(BigInt(0),t)),e.nonpositive=t=>e.check(u.lte(BigInt(0),t)),e.nonnegative=t=>e.check(u.gte(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(u.multipleOf(t,n));const r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null}),t.ZodBigIntFormat=a.$constructor("ZodBigIntFormat",(e,n)=>{a.$ZodBigIntFormat.init(e,n),t.ZodBigInt.init(e,n)}),t.ZodSymbol=a.$constructor("ZodSymbol",(e,n)=>{a.$ZodSymbol.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.symbolProcessor(e,t,n,r)}),t.ZodUndefined=a.$constructor("ZodUndefined",(e,n)=>{a.$ZodUndefined.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.undefinedProcessor(e,t,n,r)}),t.ZodNull=a.$constructor("ZodNull",(e,n)=>{a.$ZodNull.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.nullProcessor(e,t,n,r)}),t.ZodAny=a.$constructor("ZodAny",(e,n)=>{a.$ZodAny.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.anyProcessor(e,t,n,r)}),t.ZodUnknown=a.$constructor("ZodUnknown",(e,n)=>{a.$ZodUnknown.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.unknownProcessor(e,t,n,r)}),t.ZodNever=a.$constructor("ZodNever",(e,n)=>{a.$ZodNever.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.neverProcessor(e,t,n,r)}),t.ZodVoid=a.$constructor("ZodVoid",(e,n)=>{a.$ZodVoid.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.voidProcessor(e,t,n,r)}),t.ZodDate=a.$constructor("ZodDate",(e,n)=>{a.$ZodDate.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.dateProcessor(e,t,n,r),e.min=(t,n)=>e.check(u.gte(t,n)),e.max=(t,n)=>e.check(u.lte(t,n));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null}),t.ZodArray=a.$constructor("ZodArray",(e,n)=>{a.$ZodArray.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.arrayProcessor(e,t,n,r),e.element=n.element,e.min=(t,n)=>e.check(u.minLength(t,n)),e.nonempty=t=>e.check(u.minLength(1,t)),e.max=(t,n)=>e.check(u.maxLength(t,n)),e.length=(t,n)=>e.check(u.length(t,n)),e.unwrap=()=>e.element}),t.ZodObject=a.$constructor("ZodObject",(e,n)=>{a.$ZodObjectJIT.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.objectProcessor(e,t,n,r),o.util.defineLazy(e,"shape",()=>n.shape),e.keyof=()=>x(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:v()}),e.loose=()=>e.clone({...e._zod.def,catchall:v()}),e.strict=()=>e.clone({...e._zod.def,catchall:b()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>o.util.extend(e,t),e.safeExtend=t=>o.util.safeExtend(e,t),e.merge=t=>o.util.merge(e,t),e.pick=t=>o.util.pick(e,t),e.omit=t=>o.util.omit(e,t),e.partial=(...n)=>o.util.partial(t.ZodOptional,e,n[0]),e.required=(...n)=>o.util.required(t.ZodNonOptional,e,n[0])}),t.ZodUnion=a.$constructor("ZodUnion",(e,n)=>{a.$ZodUnion.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.unionProcessor(e,t,n,r),e.options=n.options}),t.ZodXor=a.$constructor("ZodXor",(e,n)=>{t.ZodUnion.init(e,n),a.$ZodXor.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.unionProcessor(e,t,n,r),e.options=n.options}),t.ZodDiscriminatedUnion=a.$constructor("ZodDiscriminatedUnion",(e,n)=>{t.ZodUnion.init(e,n),a.$ZodDiscriminatedUnion.init(e,n)}),t.ZodIntersection=a.$constructor("ZodIntersection",(e,n)=>{a.$ZodIntersection.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.intersectionProcessor(e,t,n,r)}),t.ZodTuple=a.$constructor("ZodTuple",(e,n)=>{a.$ZodTuple.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.tupleProcessor(e,t,n,r),e.rest=t=>e.clone({...e._zod.def,rest:t})}),t.ZodRecord=a.$constructor("ZodRecord",(e,n)=>{a.$ZodRecord.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.recordProcessor(e,t,n,r),e.keyType=n.keyType,e.valueType=n.valueType}),t.ZodMap=a.$constructor("ZodMap",(e,n)=>{a.$ZodMap.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.mapProcessor(e,t,n,r),e.keyType=n.keyType,e.valueType=n.valueType}),t.ZodSet=a.$constructor("ZodSet",(e,n)=>{a.$ZodSet.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.setProcessor(e,t,n,r),e.min=(...t)=>e.check(a._minSize(...t)),e.nonempty=t=>e.check(a._minSize(1,t)),e.max=(...t)=>e.check(a._maxSize(...t)),e.size=(...t)=>e.check(a._size(...t))}),t.ZodEnum=a.$constructor("ZodEnum",(e,n)=>{a.$ZodEnum.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.enumProcessor(e,t,n,r),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(e,i)=>{const s={};for(const t of e){if(!r.has(t))throw new Error(`Key ${t} not found in enum`);s[t]=n.entries[t]}return new t.ZodEnum({...n,checks:[],...o.util.normalizeParams(i),entries:s})},e.exclude=(e,i)=>{const s={...n.entries};for(const t of e){if(!r.has(t))throw new Error(`Key ${t} not found in enum`);delete s[t]}return new t.ZodEnum({...n,checks:[],...o.util.normalizeParams(i),entries:s})}}),t.ZodLiteral=a.$constructor("ZodLiteral",(e,n)=>{a.$ZodLiteral.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.literalProcessor(e,t,n,r),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})}),t.ZodFile=a.$constructor("ZodFile",(e,n)=>{a.$ZodFile.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.fileProcessor(e,t,n,r),e.min=(t,n)=>e.check(a._minSize(t,n)),e.max=(t,n)=>e.check(a._maxSize(t,n)),e.mime=(t,n)=>e.check(a._mime(Array.isArray(t)?t:[t],n))}),t.ZodTransform=a.$constructor("ZodTransform",(e,n)=>{a.$ZodTransform.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.transformProcessor(e,t,n,r),e._zod.parse=(t,r)=>{if("backward"===r.direction)throw new a.$ZodEncodeError(e.constructor.name);t.addIssue=r=>{if("string"==typeof r)t.issues.push(o.util.issue(r,t.value,n));else{const n=r;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=t.value),n.inst??(n.inst=e),t.issues.push(o.util.issue(n))}};const i=n.transform(t.value,t);return i instanceof Promise?i.then(e=>(t.value=e,t)):(t.value=i,t)}}),t.ZodOptional=a.$constructor("ZodOptional",(e,n)=>{a.$ZodOptional.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.optionalProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodNullable=a.$constructor("ZodNullable",(e,n)=>{a.$ZodNullable.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.nullableProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodDefault=a.$constructor("ZodDefault",(e,n)=>{a.$ZodDefault.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.defaultProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),t.ZodPrefault=a.$constructor("ZodPrefault",(e,n)=>{a.$ZodPrefault.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.prefaultProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodNonOptional=a.$constructor("ZodNonOptional",(e,n)=>{a.$ZodNonOptional.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.nonoptionalProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodSuccess=a.$constructor("ZodSuccess",(e,n)=>{a.$ZodSuccess.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.successProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodCatch=a.$constructor("ZodCatch",(e,n)=>{a.$ZodCatch.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.catchProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),t.ZodNaN=a.$constructor("ZodNaN",(e,n)=>{a.$ZodNaN.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.nanProcessor(e,t,n,r)}),t.ZodPipe=a.$constructor("ZodPipe",(e,n)=>{a.$ZodPipe.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.pipeProcessor(e,t,n,r),e.in=n.in,e.out=n.out}),t.ZodCodec=a.$constructor("ZodCodec",(e,n)=>{t.ZodPipe.init(e,n),a.$ZodCodec.init(e,n)}),t.ZodReadonly=a.$constructor("ZodReadonly",(e,n)=>{a.$ZodReadonly.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.readonlyProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodTemplateLiteral=a.$constructor("ZodTemplateLiteral",(e,n)=>{a.$ZodTemplateLiteral.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.templateLiteralProcessor(e,t,n,r)}),t.ZodLazy=a.$constructor("ZodLazy",(e,n)=>{a.$ZodLazy.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.lazyProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.getter()}),t.ZodPromise=a.$constructor("ZodPromise",(e,n)=>{a.$ZodPromise.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.promiseProcessor(e,t,n,r),e.unwrap=()=>e._zod.def.innerType}),t.ZodFunction=a.$constructor("ZodFunction",(e,n)=>{a.$ZodFunction.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.functionProcessor(e,t,n,r)}),t.ZodCustom=a.$constructor("ZodCustom",(e,n)=>{a.$ZodCustom.init(e,n),t.ZodType.init(e,n),e._zod.processJSONSchema=(t,n,r)=>c.customProcessor(e,t,n,r)}),t.describe=a.describe,t.meta=a.meta,t.stringbool=(...e)=>a._stringbool({Codec:t.ZodCodec,Boolean:t.ZodBoolean,String:t.ZodString},...e)},99897:(e,t,n)=>{"use strict";var r=n(5158),i=n(77596);const s=(0,i.defineAliasedType)("Flow"),a=e=>{const t="DeclareClass"===e;s(e,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends",...t?["mixins","implements"]:[],"body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),extends:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends"))},t?{mixins:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),implements:(0,i.validateOptional)((0,i.arrayOfType)("ClassImplements"))}:{},{body:(0,i.validateType)("ObjectTypeAnnotation")})})};s("AnyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["FlowType"],fields:{elementType:(0,i.validateType)("FlowType")}}),s("BooleanTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("NullLiteralTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("ClassImplements",{visitor:["id","typeParameters"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),a("DeclareClass"),s("DeclareFunction",{builder:["id"],visitor:["id","predicate"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),predicate:(0,i.validateOptionalType)("DeclaredPredicate")}}),a("DeclareInterface"),s("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier","StringLiteral"),body:(0,i.validateType)("BlockStatement"),kind:(0,i.validateOptional)((0,i.assertOneOf)("CommonJS","ES"))}}),s("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:(0,i.validateType)("TypeAnnotation")}}),s("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),right:(0,i.validateType)("FlowType")}}),s("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,i.validateOptionalType)("FlowType"),impltype:(0,i.validateOptionalType)("FlowType")}}),s("DeclareVariable",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier")}}),s("DeclareExportDeclaration",{visitor:["declaration","specifiers","source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({declaration:(0,i.validateOptionalType)("Flow"),specifiers:(0,i.validateOptional)((0,i.arrayOfType)("ExportSpecifier","ExportNamespaceSpecifier")),source:(0,i.validateOptionalType)("StringLiteral"),default:(0,i.validateOptional)((0,i.assertValueType)("boolean"))},r.importAttributes)}),s("DeclareExportAllDeclaration",{visitor:["source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({source:(0,i.validateType)("StringLiteral"),exportKind:(0,i.validateOptional)((0,i.assertOneOf)("type","value"))},r.importAttributes)}),s("DeclaredPredicate",{visitor:["value"],aliases:["FlowPredicate"],fields:{value:(0,i.validateType)("Flow")}}),s("ExistsTypeAnnotation",{aliases:["FlowType"]}),s("FunctionTypeAnnotation",{builder:["typeParameters","params","rest","returnType"],visitor:["typeParameters","this","params","rest","returnType"],aliases:["FlowType"],fields:{typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),params:(0,i.validateArrayOfType)("FunctionTypeParam"),rest:(0,i.validateOptionalType)("FunctionTypeParam"),this:(0,i.validateOptionalType)("FunctionTypeParam"),returnType:(0,i.validateType)("FlowType")}}),s("FunctionTypeParam",{visitor:["name","typeAnnotation"],fields:{name:(0,i.validateOptionalType)("Identifier"),typeAnnotation:(0,i.validateType)("FlowType"),optional:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),s("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["FlowType"],fields:{id:(0,i.validateType)("Identifier","QualifiedTypeIdentifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),s("InferredPredicate",{aliases:["FlowPredicate"]}),s("InterfaceExtends",{visitor:["id","typeParameters"],fields:{id:(0,i.validateType)("Identifier","QualifiedTypeIdentifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),a("InterfaceDeclaration"),s("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["FlowType"],fields:{extends:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),body:(0,i.validateType)("ObjectTypeAnnotation")}}),s("IntersectionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),s("MixedTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("EmptyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["FlowType"],fields:{typeAnnotation:(0,i.validateType)("FlowType")}}),s("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("number"))}}),s("NumberTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:(0,i.validate)((0,i.arrayOfType)("ObjectTypeProperty","ObjectTypeSpreadProperty")),indexers:{validate:(0,i.arrayOfType)("ObjectTypeIndexer"),optional:!0,default:[]},callProperties:{validate:(0,i.arrayOfType)("ObjectTypeCallProperty"),optional:!0,default:[]},internalSlots:{validate:(0,i.arrayOfType)("ObjectTypeInternalSlot"),optional:!0,default:[]},exact:{validate:(0,i.assertValueType)("boolean"),default:!1},inexact:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),s("ObjectTypeInternalSlot",{visitor:["id","value"],builder:["id","value","optional","static","method"],aliases:["UserWhitespacable"],fields:{id:(0,i.validateType)("Identifier"),value:(0,i.validateType)("FlowType"),optional:(0,i.validate)((0,i.assertValueType)("boolean")),static:(0,i.validate)((0,i.assertValueType)("boolean")),method:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("ObjectTypeCallProperty",{visitor:["value"],aliases:["UserWhitespacable"],fields:{value:(0,i.validateType)("FlowType"),static:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("ObjectTypeIndexer",{visitor:["variance","id","key","value"],builder:["id","key","value","variance"],aliases:["UserWhitespacable"],fields:{id:(0,i.validateOptionalType)("Identifier"),key:(0,i.validateType)("FlowType"),value:(0,i.validateType)("FlowType"),static:(0,i.validate)((0,i.assertValueType)("boolean")),variance:(0,i.validateOptionalType)("Variance")}}),s("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["UserWhitespacable"],fields:{key:(0,i.validateType)("Identifier","StringLiteral"),value:(0,i.validateType)("FlowType"),kind:(0,i.validate)((0,i.assertOneOf)("init","get","set")),static:(0,i.validate)((0,i.assertValueType)("boolean")),proto:(0,i.validate)((0,i.assertValueType)("boolean")),optional:(0,i.validate)((0,i.assertValueType)("boolean")),variance:(0,i.validateOptionalType)("Variance"),method:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["UserWhitespacable"],fields:{argument:(0,i.validateType)("FlowType")}}),s("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,i.validateOptionalType)("FlowType"),impltype:(0,i.validateType)("FlowType")}}),s("QualifiedTypeIdentifier",{visitor:["qualification","id"],builder:["id","qualification"],fields:{id:(0,i.validateType)("Identifier"),qualification:(0,i.validateType)("Identifier","QualifiedTypeIdentifier")}}),s("StringLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("string"))}}),s("StringTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("SymbolTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("ThisTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("TupleTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),s("TypeofTypeAnnotation",{visitor:["argument"],aliases:["FlowType"],fields:{argument:(0,i.validateType)("FlowType")}}),s("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),right:(0,i.validateType)("FlowType")}}),s("TypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("FlowType")}}),s("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["ExpressionWrapper","Expression"],fields:{expression:(0,i.validateType)("Expression"),typeAnnotation:(0,i.validateType)("TypeAnnotation")}}),s("TypeParameter",{visitor:["bound","default","variance"],fields:{name:(0,i.validate)((0,i.assertValueType)("string")),bound:(0,i.validateOptionalType)("TypeAnnotation"),default:(0,i.validateOptionalType)("FlowType"),variance:(0,i.validateOptionalType)("Variance")}}),s("TypeParameterDeclaration",{visitor:["params"],fields:{params:(0,i.validate)((0,i.arrayOfType)("TypeParameter"))}}),s("TypeParameterInstantiation",{visitor:["params"],fields:{params:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),s("UnionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),s("Variance",{builder:["kind"],fields:{kind:(0,i.validate)((0,i.assertOneOf)("minus","plus"))}}),s("VoidTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),s("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:(0,i.validateType)("Identifier"),body:(0,i.validateType)("EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody")}}),s("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumBooleanMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumNumberMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumStringMember","EnumDefaultedMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:(0,i.validateArrayOfType)("EnumDefaultedMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),s("EnumBooleanMember",{aliases:["EnumMember"],builder:["id"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("BooleanLiteral")}}),s("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("NumericLiteral")}}),s("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("StringLiteral")}}),s("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier")}}),s("IndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,i.validateType)("FlowType"),indexType:(0,i.validateType)("FlowType")}}),s("OptionalIndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,i.validateType)("FlowType"),indexType:(0,i.validateType)("FlowType"),optional:(0,i.validate)((0,i.assertValueType)("boolean"))}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r=n(82144);module.exports=r})();
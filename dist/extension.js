(()=>{var e={2:(e,t,n)=>{var r=n(2199),s=n(4664),i=n(5950);e.exports=function(e){return r(e,i,s)}},79:(e,t,n)=>{var r=n(3702),s=n(80),i=n(4739),a=n(8655),o=n(1175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=a,c.prototype.set=o,e.exports=c},80:(e,t,n)=>{var r=n(6025),s=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():s.call(t,n,1),--this.size,0))}},104:(e,t,n)=>{var r=n(3661);function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=e.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(s.Cache||r),n}s.Cache=r,e.exports=s},120:e=>{"use strict";e.exports=JSON.parse('["decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","globalThis","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"]')},168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e,t={}){let n=e;const c=function(e=l){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||l.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=s.default_format;if(void 0!==e.format){if(!(0,r.has)(s.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const o=s.formatters[n];let c,p=l.filter;if(("function"==typeof e.filter||(0,i.isArray)(e.filter))&&(p=e.filter),c=e.arrayFormat&&e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":l.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=void 0===e.allowDots?1==!!e.encodeDotInKeys||l.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:l.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?l.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:l.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:l.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:l.encodeValuesOnly,filter:p,format:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:l.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:l.strictNullHandling}}(t);let p,h;"function"==typeof c.filter?(h=c.filter,n=h("",n)):(0,i.isArray)(c.filter)&&(h=c.filter,p=h);const d=[];if("object"!=typeof n||null===n)return"";const f=a[c.arrayFormat],m="comma"===f&&c.commaRoundTrip;p||(p=Object.keys(n)),c.sort&&p.sort(c.sort);const y=new WeakMap;for(let e=0;e<p.length;++e){const t=p[e];c.skipNulls&&null===n[t]||o(d,u(n[t],t,f,m,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}const g=d.join(c.delimiter);let T=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),g.length>0?T+g:""};const r=n(8348),s=n(5257),i=n(5734),a={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},o=function(e,t){Array.prototype.push.apply(e,(0,i.isArray)(t)?t:[t])};let c;const l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,format:s.default_format,formatter:s.default_formatter,indices:!1,serializeDate:e=>(c??(c=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1},p={};function u(e,t,n,s,a,c,h,d,f,m,y,g,T,S,b,E,x,v){let P=e,A=v,w=0,C=!1;for(;void 0!==(A=A.get(p))&&!C;){const t=A.get(e);if(w+=1,void 0!==t){if(t===w)throw new RangeError("Cyclic object value");C=!0}void 0===A.get(p)&&(w=0)}if("function"==typeof m?P=m(t,P):P instanceof Date?P=T?.(P):"comma"===n&&(0,i.isArray)(P)&&(P=(0,r.maybe_map)(P,function(e){return e instanceof Date?T?.(e):e})),null===P){if(c)return f&&!E?f(t,l.encoder,x,"key",S):t;P=""}if("string"==typeof(I=P)||"number"==typeof I||"boolean"==typeof I||"symbol"==typeof I||"bigint"==typeof I||(0,r.is_buffer)(P)){if(f){const e=E?t:f(t,l.encoder,x,"key",S);return[b?.(e)+"="+b?.(f(P,l.encoder,x,"value",S))]}return[b?.(t)+"="+b?.(String(P))]}var I;const O=[];if(void 0===P)return O;let _;if("comma"===n&&(0,i.isArray)(P))E&&f&&(P=(0,r.maybe_map)(P,f)),_=[{value:P.length>0?P.join(",")||null:void 0}];else if((0,i.isArray)(m))_=m;else{const e=Object.keys(P);_=y?e.sort(y):e}const L=d?String(t).replace(/\./g,"%2E"):String(t),N=s&&(0,i.isArray)(P)&&1===P.length?L+"[]":L;if(a&&(0,i.isArray)(P)&&0===P.length)return N+"[]";for(let t=0;t<_.length;++t){const r=_[t],l="object"==typeof r&&void 0!==r.value?r.value:P[r];if(h&&null===l)continue;const A=g&&d?r.replace(/\./g,"%2E"):r,C=(0,i.isArray)(P)?"function"==typeof n?n(N,A):N:N+(g?"."+A:"["+A+"]");v.set(e,w);const I=new WeakMap;I.set(p,v),o(O,u(l,C,n,s,a,c,h,d,"comma"===n&&E&&(0,i.isArray)(P)?null:f,m,y,g,T,S,b,E,x,I))}return O}},204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(5595)),a=n(5595);class o extends s.APIResource{constructor(){super(...arguments),this.permissions=new i.Permissions(this._client)}}t.Checkpoints=o,o.Permissions=a.Permissions},245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var r=n(5279)},262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyHeaders=t.buildHeaders=void 0;const r=n(5734),s=Symbol("brand.privateNullableHeaders");function*i(e){if(!e)return;if(s in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():(0,r.isReadonlyArray)(e)?t=e:(n=!0,t=Object.entries(e??{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const s=(0,r.isReadonlyArray)(e[1])?e[1]:[e[1]];let i=!1;for(const e of s)void 0!==e&&(n&&!i&&(i=!0,yield[t,null]),yield[t,e])}}t.buildHeaders=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[s,a]of i(r)){const r=s.toLowerCase();e.has(r)||(t.delete(s),e.add(r)),null===a?(t.delete(s),n.add(r)):(t.append(s,a),n.delete(r))}}return{[s]:!0,values:t,nulls:n}},t.isEmptyHeaders=e=>{for(const t of i(e))return!1;return!0}},270:(e,t,n)=>{var r=n(7068),s=n(346);e.exports=function e(t,n,i,a,o){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:r(t,n,i,a,e,o))}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluate=function(){const e={confident:!0,deoptPath:null,seen:new Map};let t=c(this,e);return e.confident||(t=void 0),{confident:e.confident,deopt:e.deoptPath,value:t}},t.evaluateTruthy=function(){const e=this.evaluate();if(e.confident)return!!e.value};const n=["Number","String","Math"],r=["isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent",null,null],s=["random"];function i(e){return n.includes(e)}function a(e,t){t.confident&&(t.deoptPath=e,t.confident=!1)}const o=new Map([["undefined",void 0],["Infinity",1/0],["NaN",NaN]]);function c(e,t){const{node:n}=e,{seen:p}=t;if(p.has(n)){const r=p.get(n);return r.resolved?r.value:void a(e,t)}{const u={resolved:!1};p.set(n,u);const h=function(e,t){if(t.confident){if(e.isSequenceExpression()){const n=e.get("expressions");return c(n[n.length-1],t)}if(e.isStringLiteral()||e.isNumericLiteral()||e.isBooleanLiteral())return e.node.value;if(e.isNullLiteral())return null;if(e.isTemplateLiteral())return l(e,e.node.quasis,t);if(e.isTaggedTemplateExpression()&&e.get("tag").isMemberExpression()){const n=e.get("tag.object"),{node:{name:r}}=n,s=e.get("tag.property");if(n.isIdentifier()&&"String"===r&&!e.scope.getBinding(r)&&s.isIdentifier()&&"raw"===s.node.name)return l(e,e.node.quasi.quasis,t,!0)}if(e.isConditionalExpression()){const n=c(e.get("test"),t);if(!t.confident)return;return c(n?e.get("consequent"):e.get("alternate"),t)}if(e.isExpressionWrapper())return c(e.get("expression"),t);if(e.isMemberExpression()&&!e.parentPath.isCallExpression({callee:e.node})){const n=e.get("property"),r=e.get("object");if(r.isLiteral()){const s=r.node.value,i=typeof s;let a=null;if(e.node.computed){if(a=c(n,t),!t.confident)return}else n.isIdentifier()&&(a=n.node.name);if(!("number"!==i&&"string"!==i||null==a||"number"!=typeof a&&"string"!=typeof a))return s[a]}}if(e.isReferencedIdentifier()){const r=e.scope.getBinding(e.node.name);if(r){if(r.constantViolations.length>0||e.node.start<r.path.node.end)return void a(r.path,t);const s=r.path.scope;if("var"===r.kind&&s!==r.scope){let i=!s.path.parentPath.isBlockStatement();for(let o=s.parent;o;o=o.parent){var n;if(o===e.scope){if(i)return void a(r.path,t);break}null!=(n=o.path.parentPath)&&n.isBlockStatement()&&(i=!0)}}if(r.hasValue)return r.value}const s=e.node.name;if(o.has(s))return r?void a(r.path,t):o.get(s);const i=e.resolve();if(i===e)return void a(e,t);const l=c(i,t);return"object"==typeof l&&null!==l&&r.references>1?void a(i,t):l}if(e.isUnaryExpression({prefix:!0})){if("void"===e.node.operator)return;const n=e.get("argument");if("typeof"===e.node.operator&&(n.isFunction()||n.isClass()))return"function";const r=c(n,t);if(!t.confident)return;switch(e.node.operator){case"!":return!r;case"+":return+r;case"-":return-r;case"~":return~r;case"typeof":return typeof r}}if(e.isArrayExpression()){const n=[],r=e.get("elements");for(const e of r){const r=e.evaluate();if(!r.confident)return void a(r.deopt,t);n.push(r.value)}return n}if(e.isObjectExpression()){const n={},r=e.get("properties");for(const e of r){if(e.isObjectMethod()||e.isSpreadElement())return void a(e,t);const r=e.get("key");let s;if(e.node.computed){if(s=r.evaluate(),!s.confident)return void a(s.deopt,t);s=s.value}else s=r.isIdentifier()?r.node.name:r.node.value;let i=e.get("value").evaluate();if(!i.confident)return void a(i.deopt,t);i=i.value,n[s]=i}return n}if(e.isLogicalExpression()){const n=t.confident,r=c(e.get("left"),t),s=t.confident;t.confident=n;const i=c(e.get("right"),t),a=t.confident;switch(e.node.operator){case"||":if(t.confident=s&&(!!r||a),!t.confident)return;return r||i;case"&&":if(t.confident=s&&(!r||a),!t.confident)return;return r&&i;case"??":if(t.confident=s&&(null!=r||a),!t.confident)return;return null!=r?r:i}}if(e.isBinaryExpression()){const n=c(e.get("left"),t);if(!t.confident)return;const r=c(e.get("right"),t);if(!t.confident)return;switch(e.node.operator){case"-":return n-r;case"+":return n+r;case"/":return n/r;case"*":return n*r;case"%":return n%r;case"**":return Math.pow(n,r);case"<":return n<r;case">":return n>r;case"<=":return n<=r;case">=":return n>=r;case"==":return n==r;case"!=":return n!=r;case"===":return n===r;case"!==":return n!==r;case"|":return n|r;case"&":return n&r;case"^":return n^r;case"<<":return n<<r;case">>":return n>>r;case">>>":return n>>>r}}if(e.isCallExpression()){const n=e.get("callee");let a,o;if(n.isIdentifier()&&!e.scope.getBinding(n.node.name)&&(i(n.node.name)||function(e){return r.includes(e)}(n.node.name))&&(o=global[n.node.name]),n.isMemberExpression()){const e=n.get("object"),t=n.get("property");if(e.isIdentifier()&&t.isIdentifier()&&i(e.node.name)&&!function(e){return s.includes(e)}(t.node.name)){a=global[e.node.name];const n=t.node.name;hasOwnProperty.call(a,n)&&(o=a[n])}if(e.isLiteral()&&t.isIdentifier()){const n=typeof e.node.value;"string"!==n&&"number"!==n||(a=e.node.value,o=a[t.node.name])}}if(o){const n=e.get("arguments").map(e=>c(e,t));if(!t.confident)return;return o.apply(a,n)}}a(e,t)}}(e,t);return t.confident&&(u.resolved=!0,u.value=h),h}}function l(e,t,n,r=!1){let s="",i=0;const a=e.isTemplateLiteral()?e.get("expressions"):e.get("quasi.expressions");for(const e of t){if(!n.confident)break;s+=r?e.value.raw:e.value.cooked;const t=a[i++];t&&(s+=String(c(t,n)))}if(n.confident)return s}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(8960);function s(e,t,n,i){const a=[].concat(e),o=Object.create(null);for(;a.length;){const e=a.shift();if(!e)continue;if(i&&((0,r.isAssignmentExpression)(e)||(0,r.isUnaryExpression)(e)||(0,r.isUpdateExpression)(e)))continue;if((0,r.isIdentifier)(e)){t?(o[e.name]=o[e.name]||[]).push(e):o[e.name]=e;continue}if((0,r.isExportDeclaration)(e)&&!(0,r.isExportAllDeclaration)(e)){(0,r.isDeclaration)(e.declaration)&&a.push(e.declaration);continue}if(n){if((0,r.isFunctionDeclaration)(e)){a.push(e.id);continue}if((0,r.isFunctionExpression)(e))continue}const c=s.keys[e.type];if(c)for(let t=0;t<c.length;t++){const n=e[c[t]];n&&(Array.isArray(n)?a.push(...n):a.push(n))}}return o}s.keys={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],TSImportEqualsDeclaration:["id"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ClassPrivateMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!this.isReferenced())return;const t=this.scope.getBinding(e.name);return t?t.identifier.typeAnnotation?t.identifier.typeAnnotation:function(e,t,n){const r=[],i=[];let a=l(e,t,i);const o=u(e,t,n);if(o){const t=l(e,o.ifStatement);a=a.filter(e=>!t.includes(e)),r.push(o.typeAnnotation)}if(a.length){a.push(...i);for(const e of a)r.push(e.getTypeAnnotation())}if(r.length)return(0,s.createUnionType)(r)}(t,this,e.name):"undefined"===e.name?c():"NaN"===e.name||"Infinity"===e.name?o():void e.name};var r=n(2352),s=n(3141);const{BOOLEAN_NUMBER_BINARY_OPERATORS:i,createTypeAnnotationBasedOnTypeof:a,numberTypeAnnotation:o,voidTypeAnnotation:c}=r;function l(e,t,n){const r=e.constantViolations.slice();return r.unshift(e.path),r.filter(e=>{const r=(e=e.resolve())._guessExecutionStatusRelativeTo(t);return n&&"unknown"===r&&n.push(e),"before"===r})}function p(e,t){const n=t.node.operator,r=t.get("right").resolve(),s=t.get("left").resolve();let c,l,p;if(s.isIdentifier({name:e})?c=r:r.isIdentifier({name:e})&&(c=s),c)return"==="===n?c.getTypeAnnotation():i.includes(n)?o():void 0;if("==="!==n&&"=="!==n)return;if(s.isUnaryExpression({operator:"typeof"})?(l=s,p=r):r.isUnaryExpression({operator:"typeof"})&&(l=r,p=s),!l)return;if(!l.get("argument").isIdentifier({name:e}))return;if(p=p.resolve(),!p.isLiteral())return;const u=p.node.value;return"string"==typeof u?a(u):void 0}function u(e,t,n){const r=function(e,t,n){let r;for(;r=t.parentPath;){if(r.isIfStatement()||r.isConditionalExpression()){if("test"===t.key)return;return r}if(r.isFunction()&&(null==n||r.parentPath.scope.getBinding(n)!==e))return;t=r}}(e,t,n);if(!r)return;const i=[r.get("test")],a=[];for(let e=0;e<i.length;e++){const t=i[e];if(t.isLogicalExpression())"&&"===t.node.operator&&(i.push(t.get("left")),i.push(t.get("right")));else if(t.isBinaryExpression()){const e=p(n,t);e&&a.push(e)}}return a.length?{typeAnnotation:(0,s.createUnionType)(a),ifStatement:r}:u(e,r,n)}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Items=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{create(e,t,n){const{include:r,...s}=t;return this._client.post(i.path`/conversations/${e}/items`,{query:{include:r},body:s,...n})}retrieve(e,t,n){const{conversation_id:r,...s}=t;return this._client.get(i.path`/conversations/${r}/items/${e}`,{query:s,...n})}list(e,t={},n){return this._client.getAPIList(i.path`/conversations/${e}/items`,s.ConversationCursorPage,{query:t,...n})}delete(e,t,n){const{conversation_id:r}=t;return this._client.delete(i.path`/conversations/${r}/items/${e}`,n)}}t.Items=a},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},446:(e,t)=>{"use strict";function n(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},t.makeReadableStream=n,t.ReadableStreamFrom=function(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return n({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){await(t.return?.())}})},t.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},t.CancelReadableStream=async function(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}},460:(e,t,n)=>{"use strict";var r,s,i,a,o,c,l,p,u,h,d,f,m;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStream=void 0;const y=n(9632),g=n(9526);t.EventStream=class{constructor(){r.add(this),this.controller=new AbortController,s.set(this,void 0),i.set(this,()=>{}),a.set(this,()=>{}),o.set(this,void 0),c.set(this,()=>{}),l.set(this,()=>{}),p.set(this,{}),u.set(this,!1),h.set(this,!1),d.set(this,!1),f.set(this,!1),y.__classPrivateFieldSet(this,s,new Promise((e,t)=>{y.__classPrivateFieldSet(this,i,e,"f"),y.__classPrivateFieldSet(this,a,t,"f")}),"f"),y.__classPrivateFieldSet(this,o,new Promise((e,t)=>{y.__classPrivateFieldSet(this,c,e,"f"),y.__classPrivateFieldSet(this,l,t,"f")}),"f"),y.__classPrivateFieldGet(this,s,"f").catch(()=>{}),y.__classPrivateFieldGet(this,o,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},y.__classPrivateFieldGet(this,r,"m",m).bind(this))},0)}_connected(){this.ended||(y.__classPrivateFieldGet(this,i,"f").call(this),this._emit("connect"))}get ended(){return y.__classPrivateFieldGet(this,u,"f")}get errored(){return y.__classPrivateFieldGet(this,h,"f")}get aborted(){return y.__classPrivateFieldGet(this,d,"f")}abort(){this.controller.abort()}on(e,t){return(y.__classPrivateFieldGet(this,p,"f")[e]||(y.__classPrivateFieldGet(this,p,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=y.__classPrivateFieldGet(this,p,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(y.__classPrivateFieldGet(this,p,"f")[e]||(y.__classPrivateFieldGet(this,p,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{y.__classPrivateFieldSet(this,f,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}async done(){y.__classPrivateFieldSet(this,f,!0,"f"),await y.__classPrivateFieldGet(this,o,"f")}_emit(e,...t){if(y.__classPrivateFieldGet(this,u,"f"))return;"end"===e&&(y.__classPrivateFieldSet(this,u,!0,"f"),y.__classPrivateFieldGet(this,c,"f").call(this));const n=y.__classPrivateFieldGet(this,p,"f")[e];if(n&&(y.__classPrivateFieldGet(this,p,"f")[e]=n.filter(e=>!e.once),n.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return y.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),y.__classPrivateFieldGet(this,a,"f").call(this,e),y.__classPrivateFieldGet(this,l,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];y.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),y.__classPrivateFieldGet(this,a,"f").call(this,e),y.__classPrivateFieldGet(this,l,"f").call(this,e),this._emit("end")}}_emitFinal(){}},s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,p=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,r=new WeakSet,m=function(e){if(y.__classPrivateFieldSet(this,h,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new g.APIUserAbortError),e instanceof g.APIUserAbortError)return y.__classPrivateFieldSet(this,d,!0,"f"),this._emit("abort",e);if(e instanceof g.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new g.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new g.OpenAIError(String(e)))}},477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Responses=void 0;const r=n(9632),s=n(7759),i=n(6636),a=n(2040),o=r.__importStar(n(5856)),c=n(5856),l=r.__importStar(n(4460)),p=n(4460),u=n(262),h=n(4815);class d extends a.APIResource{constructor(){super(...arguments),this.inputItems=new o.InputItems(this._client),this.inputTokens=new l.InputTokens(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,s.addOutputText)(e),e))}retrieve(e,t={},n){return this._client.get(h.path`/responses/${e}`,{query:t,...n,stream:t?.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,s.addOutputText)(e),e))}delete(e,t){return this._client.delete(h.path`/responses/${e}`,{...t,headers:(0,u.buildHeaders)([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>(0,s.parseResponse)(t,e))}stream(e,t){return i.ResponseStream.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(h.path`/responses/${e}/cancel`,t)}compact(e={},t){return this._client.post("/responses/compact",{body:e,...t})}}t.Responses=d,d.InputItems=c.InputItems,d.InputTokens=p.InputTokens},499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isVariableDeclaration)(e,{kind:"var"})&&!e[s]};var r=n(8960),s=Symbol.for("var used to be block scoped")},521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakStatement=function(e){this.word("break"),p(this,e.label)},t.CatchClause=function(e){this.word("catch"),this.space(),e.param&&(this.tokenChar(40),this.print(e.param),this.print(e.param.typeAnnotation),this.tokenChar(41),this.space()),this.print(e.body)},t.ContinueStatement=function(e){this.word("continue"),p(this,e.label)},t.DebuggerStatement=function(){this.word("debugger"),this.semicolon()},t.DoWhileStatement=function(e){this.word("do"),this.space(),this.print(e.body),this.space(),this.word("while"),this.space(),this.tokenChar(40),this.print(e.test),this.tokenChar(41),this.semicolon()},t.ForOfStatement=t.ForInStatement=void 0,t.ForStatement=function(e){this.word("for"),this.space(),this.tokenChar(40);{const t=this.enterForStatementInit();this.print(e.init),t()}this.tokenChar(59),e.test&&(this.space(),this.print(e.test)),this.token(";",!1,1),e.update&&(this.space(),this.print(e.update)),this.tokenChar(41),this.printBlock(e)},t.IfStatement=function(e){this.word("if"),this.space(),this.tokenChar(40),this.print(e.test),this.tokenChar(41),this.space();const t=e.alternate&&a(c(e.consequent));t&&(this.tokenChar(123),this.newline(),this.indent()),this.printAndIndentOnComments(e.consequent),t&&(this.dedent(),this.newline(),this.tokenChar(125)),e.alternate&&(this.endsWith(125)&&this.space(),this.word("else"),this.space(),this.printAndIndentOnComments(e.alternate))},t.LabeledStatement=function(e){this.print(e.label),this.tokenChar(58),this.space(),this.print(e.body)},t.ReturnStatement=function(e){this.word("return"),p(this,e.argument)},t.SwitchCase=function(e){e.test?(this.word("case"),this.space(),this.print(e.test),this.tokenChar(58)):(this.word("default"),this.tokenChar(58)),e.consequent.length&&(this.newline(),this.printSequence(e.consequent,!0))},t.SwitchStatement=function(e){this.word("switch"),this.space(),this.tokenChar(40),this.print(e.discriminant),this.tokenChar(41),this.space(),this.tokenChar(123),this.printSequence(e.cases,!0),this.rightBrace(e)},t.ThrowStatement=function(e){this.word("throw"),p(this,e.argument)},t.TryStatement=function(e){this.word("try"),this.space(),this.print(e.block),this.space(),e.handlers?this.print(e.handlers[0]):this.print(e.handler),e.finalizer&&(this.space(),this.word("finally"),this.space(),this.print(e.finalizer))},t.VariableDeclaration=function(e,t){e.declare&&(this.word("declare"),this.space());const{kind:n}=e;"await using"===n?(this.word("await"),this.space(),this.word("using",!0)):this.word(n,"using"===n),this.space();let r=!1;if(!s(t))for(const t of e.declarations)t.init&&(r=!0);if(this.printList(e.declarations,void 0,void 0,e.declarations.length>1,r?function(e){this.token(",",!1,e),this.newline()}:void 0),s(t))if(i(t)){if(t.init===e)return}else if(t.left===e)return;this.semicolon()},t.VariableDeclarator=function(e){this.print(e.id),e.definite&&this.tokenChar(33),this.print(e.id.typeAnnotation),e.init&&(this.space(),this.tokenChar(61),this.space(),this.print(e.init))},t.WhileStatement=function(e){this.word("while"),this.space(),this.tokenChar(40),this.print(e.test),this.tokenChar(41),this.printBlock(e)},t.WithStatement=function(e){this.word("with"),this.space(),this.tokenChar(40),this.print(e.object),this.tokenChar(41),this.printBlock(e)};var r=n(2352);const{isFor:s,isForStatement:i,isIfStatement:a,isStatement:o}=r;function c(e){const{body:t}=e;return!1===o(t)?e:c(t)}function l(e){this.word("for"),this.space();const t="ForOfStatement"===e.type;t&&e.await&&(this.word("await"),this.space()),this.noIndentInnerCommentsHere(),this.tokenChar(40);{const n=this.enterForXStatementInit(t);this.print(e.left),null==n||n()}this.space(),this.word(t?"of":"in"),this.space(),this.print(e.right),this.tokenChar(41),this.printBlock(e)}function p(e,t){t&&(e.space(),e.printTerminatorless(t)),e.semicolon()}t.ForInStatement=l,t.ForOfStatement=l},546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockStatement=function(e){var t;this.tokenChar(123);const n=this.enterDelimited(),r=null==(t=e.directives)?void 0:t.length;if(r){var s;const t=e.body.length?2:1;this.printSequence(e.directives,!0,t),null!=(s=e.directives[r-1].trailingComments)&&s.length||this.newline(t)}this.printSequence(e.body,!0),n(),this.rightBrace(e)},t.Directive=function(e){this.print(e.value),this.semicolon()},t.DirectiveLiteral=function(e){const t=this.getPossibleRaw(e);if(!this.format.minified&&void 0!==t)return void this.token(t);const{value:s}=e;if(r.test(s)){if(n.test(s))throw new Error("Malformed AST: it is not possible to print a directive containing both unescaped single and double quotes.");this.token(`'${s}'`)}else this.token(`"${s}"`)},t.File=function(e){e.program&&this.print(e.program.interpreter),this.print(e.program)},t.InterpreterDirective=function(e){this.token(`#!${e.value}`),this.newline(1,!0)},t.Placeholder=function(e){this.token("%%"),this.print(e.name),this.token("%%"),"Statement"===e.expectedNode&&this.semicolon()},t.Program=function(e){var t;this.noIndentInnerCommentsHere(),this.printInnerComments();const n=null==(t=e.directives)?void 0:t.length;if(n){var r;const t=e.body.length?2:1;this.printSequence(e.directives,void 0,t),null!=(r=e.directives[n-1].trailingComments)&&r.length||this.newline(t)}this.printSequence(e.body)};const n=/(?:^|[^\\])(?:\\\\)*'/,r=/(?:^|[^\\])(?:\\\\)*"/},563:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementalGraphUpdater=void 0,t.getIncrementalUpdater=function(){return h||(h=new u),h};const o=a(n(1398)),c=n(5296),l=n(5738),p=n(3514);class u{hashCache;workspaceAnalyzer;importAnalyzer;currentGraph=null;workspaceRoot="";constructor(){this.hashCache=(0,c.getFileHashCache)(),this.workspaceAnalyzer=new l.WorkspaceAnalyzer,this.importAnalyzer=new p.ImportAnalyzer}async initialize(e,t){this.workspaceRoot=e,await this.hashCache.initialize(e),this.currentGraph=t||null,t&&t.nodes.length>0&&await this.populateHashCacheFromGraph(t)}async populateHashCacheFromGraph(e){const t=await Promise.resolve().then(()=>a(n(9896))),r=new Set;for(const t of e.nodes)t.filePath&&r.add(t.filePath);let s=0;for(const n of r)if(t.existsSync(n)&&!this.hashCache.hasEntry(n)){const t=e.nodes.filter(e=>e.filePath===n).map(e=>e.id);this.hashCache.updateEntry(n,t),s++}s>0&&(await this.hashCache.saveCache(),console.log(`Added ${s} files to hash cache`))}detectDeletedFilesFromGraph(){if(!this.currentGraph)return[];const e=n(9896),t=[],r=new Set;for(const e of this.currentGraph.nodes)e.filePath&&r.add(e.filePath);for(const n of r)e.existsSync(n)||t.push(n);return t}async hasChanges(){const e=await this.getAllSourceFiles();return(await this.hashCache.detectChanges(e)).changedCount>0}async getPendingChanges(){const e=await this.getAllSourceFiles();return this.hashCache.detectChanges(e)}async performIncrementalUpdate(e,t){const n=Date.now();try{t?.("Detecting changes...",0),this.currentGraph=e.graph,console.log(`Initialized with graph: ${this.currentGraph.nodes.length} nodes, ${this.currentGraph.edges.length} edges`);const r=await this.getAllSourceFiles(),s=await this.hashCache.detectChanges(r),i=this.detectDeletedFilesFromGraph(),a=new Set([...s.deleted,...i]);if(s.deleted=Array.from(a),s.changedCount=s.added.length+s.modified.length+s.deleted.length,console.log(`Change detection results: ${s.added.length} added, ${s.modified.length} modified, ${s.deleted.length} deleted, ${s.unchanged.length} unchanged`),s.added.length>0&&console.log(`Added files: ${s.added.join(", ")}`),s.deleted.length>0&&console.log(`Deleted files: ${s.deleted.join(", ")}`),s.modified.length>0&&console.log(`Modified files: ${s.modified.join(", ")}`),0===s.changedCount)return{success:!0,nodesAdded:0,nodesModified:0,nodesRemoved:0,edgesUpdated:0,processingTimeMs:Date.now()-n,skippedFiles:s.unchanged.length,message:"No changes detected. Graph is up to date."};t?.(`Processing ${s.changedCount} changed files...`,10);let c=0,l=0,p=0,u=0;t?.("Removing deleted nodes...",20),s.deleted.length>0&&console.log(`Detected ${s.deleted.length} deleted files: ${s.deleted.join(", ")}`);for(const e of s.deleted){const t=this.hashCache.removeEntry(e);console.log(`Removing nodes for deleted file ${e}: ${t.join(", ")}`),p+=this.removeNodesForFile(e,t)}t?.("Analyzing new files...",40),s.added.length>0&&console.log(`Detected ${s.added.length} added files: ${s.added.join(", ")}`);for(const e of s.added)try{const t=o.Uri.file(e),n=await this.workspaceAnalyzer.analyzeFile(t);console.log(`Parsed added file ${e}: found ${n.length} nodes`),n.forEach(e=>console.log(`  - ${e.type}: ${e.label} (${e.id})`)),c+=this.addNodes(n),this.hashCache.updateEntry(e,n.map(e=>e.id))}catch(t){console.error(`Failed to analyze new file ${e}:`,t)}t?.("Analyzing modified files...",60);for(const e of s.modified)try{const t=o.Uri.file(e),n=await this.workspaceAnalyzer.analyzeFile(t);console.log(`Parsed ${e}: found ${n.length} nodes`),n.forEach(e=>console.log(`  - ${e.type}: ${e.label} (${e.id})`)),l+=this.updateNodes(e,n),this.hashCache.updateEntry(e,n.map(e=>e.id))}catch(t){console.error(`Failed to analyze modified file ${e}:`,t)}t?.("Rebuilding edges...",80);const h=[...s.added,...s.modified];return u=await this.rebuildEdgesForAffectedFiles(h),t?.("Saving cache...",95),await this.hashCache.saveCache(),t?.("Complete!",100),{success:!0,nodesAdded:c,nodesModified:l,nodesRemoved:p,edgesUpdated:u,processingTimeMs:Date.now()-n,skippedFiles:s.unchanged.length,message:`Updated ${s.changedCount} files (${c} added, ${l} modified, ${p} removed)`}}catch(e){return console.error("Incremental update failed:",e),{success:!1,nodesAdded:0,nodesModified:0,nodesRemoved:0,edgesUpdated:0,processingTimeMs:Date.now()-n,skippedFiles:0,message:`Update failed: ${e instanceof Error?e.message:"Unknown error"}`}}}async getAllSourceFiles(){const e=["**/*.ts","**/*.tsx","**/*.js","**/*.jsx","**/*.java","**/*.py"],t=["**/node_modules/**","**/dist/**","**/build/**","**/.git/**","**/coverage/**","**/*.test.*","**/*.spec.*"],n=[];for(const r of e){const e=await o.workspace.findFiles(new o.RelativePattern(this.workspaceRoot,r),`{${t.join(",")}}`);n.push(...e.map(e=>e.fsPath))}return n}getNodesForFile(e,t){return e.nodes.filter(e=>e.filePath===t)}removeNodesForFile(e,t){if(!this.currentGraph)return 0;const n=this.currentGraph.nodes.filter(t=>t.filePath===e),r=new Set([...t,...n.map(e=>e.id)]),s=this.currentGraph.nodes.length;this.currentGraph.nodes=this.currentGraph.nodes.filter(t=>t.filePath!==e),this.currentGraph.edges=this.currentGraph.edges.filter(e=>!r.has(e.from)&&!r.has(e.to));const i=s-this.currentGraph.nodes.length;return console.log(`Removed ${i} nodes for deleted file: ${e}`),i}addNodes(e){if(!this.currentGraph)return 0;const t=new Set(this.currentGraph.nodes.map(e=>e.id)),n=e.filter(e=>!t.has(e.id));if(0===n.length)return console.log("No new nodes to add (all duplicates)"),0;this.currentGraph.nodes.push(...n),console.log(`Added ${n.length} new nodes to graph`);const r=new Set(n.map(e=>e.id));let s=0;for(const e of n)e.parentId&&(r.has(e.parentId)||this.currentGraph.nodes.some(t=>t.id===e.parentId))&&(this.currentGraph.edges.some(t=>t.from===e.parentId&&t.to===e.id&&"contains"===t.type)||(this.currentGraph.edges.push({from:e.parentId,to:e.id,type:"contains"}),s++));return s>0&&console.log(`Created ${s} parent-child edges for new nodes`),n.length}updateNodes(e,t){if(!this.currentGraph)return 0;const n=this.currentGraph.nodes.filter(t=>t.filePath===e),r=new Set(n.map(e=>e.id));console.log(`Updating file ${e}: removing ${n.length} old nodes, adding ${t.length} new nodes`),console.log(`Old node IDs: ${Array.from(r).join(", ")}`),console.log(`New node IDs: ${t.map(e=>e.id).join(", ")}`),this.currentGraph.nodes=this.currentGraph.nodes.filter(t=>t.filePath!==e),this.currentGraph.nodes.push(...t);const s=this.currentGraph.edges.length;this.currentGraph.edges=this.currentGraph.edges.filter(e=>!r.has(e.from)&&!r.has(e.to)),console.log(`Removed ${s-this.currentGraph.edges.length} old edges`);const i=new Set(t.map(e=>e.id));for(const e of t)e.parentId&&i.has(e.parentId)&&(this.currentGraph.edges.some(t=>t.from===e.parentId&&t.to===e.id&&"contains"===t.type)||(this.currentGraph.edges.push({from:e.parentId,to:e.id,type:"contains"}),console.log(`Added contains edge: ${e.parentId} -> ${e.id}`)));return t.length}async rebuildEdgesForAffectedFiles(e){if(!this.currentGraph)return 0;let t=0;const n=new Set(this.currentGraph.edges.map(e=>`${e.from}->${e.to}`)),r=new Map;for(const e of this.currentGraph.nodes)r.has(e.filePath)||r.set(e.filePath,[]),r.get(e.filePath).push(e);const s=new Map;for(const e of this.currentGraph.nodes)e.parentId||"class"!==e.type&&"component"!==e.type&&"module"!==e.type&&"function"!==e.type||s.set(e.label,e);for(const s of e)try{const e=o.Uri.file(s),i=await this.importAnalyzer.buildDependencyMap(e,this.workspaceRoot),a=(r.get(s)||[]).filter(e=>!e.parentId);for(const e of i){const s=(r.get(e.targetFile)||[]).filter(e=>!e.parentId);for(const e of a)for(const r of s){const s=`${e.id}->${r.id}`;n.has(s)||(this.currentGraph.edges.push({from:e.id,to:r.id,type:"contains",label:"imports"}),n.add(s),t++,console.log(`Created import edge: ${e.label} -> ${r.label}`))}}}catch(e){console.error(`Failed to analyze imports for ${s}:`,e)}const i=Array.from(r.keys());for(const s of i)if(!e.includes(s))try{const i=o.Uri.file(s),a=await this.importAnalyzer.buildDependencyMap(i,this.workspaceRoot);for(const i of a)if(e.includes(i.targetFile)){const e=r.get(s)||[],a=r.get(i.targetFile)||[],o=e.filter(e=>!e.parentId),c=a.filter(e=>!e.parentId);for(const e of o)for(const r of c){const s=`${e.id}->${r.id}`;n.has(s)||(this.currentGraph.edges.push({from:e.id,to:r.id,type:"contains",label:"imports"}),n.add(s),t++,console.log(`Created reverse import edge: ${e.label} -> ${r.label}`))}}}catch(e){}return console.log(`Rebuilt ${t} edges for affected files`),t}rebuildEdges(e,t){if(!this.currentGraph)return 0;const n=new Set(t),r=e.edges.filter(t=>{const r=e.nodes.find(e=>e.filePath===t.from),s=e.nodes.find(e=>e.filePath===t.to);return r&&n.has(r.filePath)||s&&n.has(s.filePath)}),s=new Set(this.currentGraph.edges.map(e=>`${e.from}->${e.to}`));let i=0;for(const e of r){const t=`${e.from}->${e.to}`;s.has(t)||(this.currentGraph.edges.push(e),i++)}return i}getCurrentGraph(){return this.currentGraph}async forceFullRefresh(){this.hashCache.clearCache(),this.currentGraph=null,await this.hashCache.saveCache()}getCacheStats(){return this.hashCache.getStats()}}t.IncrementalGraphUpdater=u;let h=null},583:(e,t,n)=>{var r=n(9618),s=n(7255),i=n(8586),a=n(7797);e.exports=function(e){return i(e)?r(a(e)):s(e)}},631:(e,t,n)=>{var r=n(8077),s=n(9326);e.exports=function(e,t){return null!=e&&s(e,t,r)}},640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e||!e.length)return;const n=[],s=(0,r.default)(e,n);if(s){for(const e of n)t.push(e);return s}};var r=n(4089)},659:(e,t,n)=>{var r=n(1873),s=Object.prototype,i=s.hasOwnProperty,a=s.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(e){}var s=a.call(e);return r&&(t?e[o]=n:delete e[o]),s}},681:(e,t,n)=>{var r=n(2006)(n(4469));e.exports=r},689:(e,t,n)=>{var r=n(2),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,o){var c=1&n,l=r(e),p=l.length;if(p!=r(t).length&&!c)return!1;for(var u=p;u--;){var h=l[u];if(!(c?h in t:s.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var m=!0;o.set(e,t),o.set(t,e);for(var y=c;++u<p;){var g=e[h=l[u]],T=t[h];if(i)var S=c?i(T,g,h,t,e,o):i(g,T,h,e,t,o);if(!(void 0===S?g===T||a(g,T,n,i,o):S)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return o.delete(e),o.delete(t),m}},695:(e,t,n)=>{var r=n(8096),s=n(2428),i=n(6449),a=n(3656),o=n(361),c=n(7167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),p=!n&&s(e),u=!n&&!p&&a(e),h=!n&&!p&&!u&&c(e),d=n||p||u||h,f=d?r(e.length,String):[],m=f.length;for(var y in e)!t&&!l.call(e,y)||d&&("length"==y||u&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||o(y,m))||f.push(y);return f}},736:(e,t,n)=>{e.exports=function(e){function t(e){let n,s,i,a=null;function o(...e){if(!o.enabled)return;const r=o,s=Number(new Date),i=s-(n||s);r.diff=i,r.prev=n,r.curr=s,n=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,s)=>{if("%%"===n)return"%";a++;const i=t.formatters[s];if("function"==typeof i){const t=e[a];n=i.call(r,t),e.splice(a,1),a--}return n}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(s!==t.namespaces&&(s=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function s(e,t){let n=0,r=0,s=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(s=r,i=n,r++):(n++,r++);else{if(-1===s)return!1;r=s+1,i++,n=i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(s(e,n))return!1;for(const n of t.names)if(s(e,n))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},773:(e,t)=>{"use strict";let n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.concatBytes=function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n},t.encodeUTF8=function(e){let t;return(n??(t=new globalThis.TextEncoder,n=t.encode.bind(t)))(e)},t.decodeUTF8=function(e){let t;return(r??(t=new globalThis.TextDecoder,r=t.decode.bind(t)))(e)}},776:(e,t,n)=>{var r=n(756),s=n(5950);e.exports=function(e){for(var t=s(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statements=t.statement=t.smart=t.program=t.expression=void 0;var r=n(2352);const{assertExpressionStatement:s}=r;function i(e){return{code:e=>`/* @babel/template */;\n${e}`,validate:()=>{},unwrap:t=>e(t.program.body.slice(1))}}t.smart=i(e=>e.length>1?e:e[0]),t.statements=i(e=>e),t.statement=i(e=>{if(0===e.length)throw new Error("Found nothing to return.");if(e.length>1)throw new Error("Found multiple statements but wanted one");return e[0]});const a=t.expression={code:e=>`(\n${e}\n)`,validate:e=>{if(e.program.body.length>1)throw new Error("Found multiple statements but wanted one");if(0===a.unwrap(e).start)throw new Error("Parse result included parens.")},unwrap:({program:e})=>{const[t]=e.body;return s(t),t.expression}};t.program={code:e=>e,validate:()=>{},unwrap:e=>e.program}},828:(e,t,n)=>{var r=n(4647),s=n(3222),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(i,r).replace(a,"")}},854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._guessExecutionStatusRelativeTo=function(e){return g(this,e,new Map)},t._resolve=T,t.canHaveVariableDeclarationOrExpression=function(){return("init"===this.key||"left"===this.key)&&this.parentPath.isFor()},t.canSwapBetweenExpressionAndStatement=function(e){return!("body"!==this.key||!this.parentPath.isArrowFunctionExpression())&&(this.isExpression()?a(e):!!this.isBlockStatement()&&o(e))},t.getSource=function(){const e=this.node;if(e.end){const t=this.hub.getCode();if(t)return t.slice(e.start,e.end)}return""},t.isCompletionRecord=function(e){let t=this,n=!0;do{const{type:r,container:s}=t;if(!n&&(t.isFunction()||"StaticBlock"===r))return!!e;if(n=!1,Array.isArray(s)&&t.key!==s.length-1)return!1}while((t=t.parentPath)&&!t.isProgram()&&!t.isDoExpression());return!0},t.isConstantExpression=function(){if(this.isIdentifier()){const e=this.scope.getBinding(this.node.name);return!!e&&e.constant}if(this.isLiteral())return!this.isRegExpLiteral()&&(!this.isTemplateLiteral()||this.get("expressions").every(e=>e.isConstantExpression()));if(this.isUnaryExpression())return"void"===this.node.operator&&this.get("argument").isConstantExpression();if(this.isBinaryExpression()){const{operator:e}=this.node;return"in"!==e&&"instanceof"!==e&&this.get("left").isConstantExpression()&&this.get("right").isConstantExpression()}return this.isMemberExpression()?!this.node.computed&&this.get("object").isIdentifier({name:"Symbol"})&&!this.scope.hasBinding("Symbol",{noGlobals:!0}):!!this.isCallExpression()&&(1===this.node.arguments.length&&this.get("callee").matchesPattern("Symbol.for")&&!this.scope.hasBinding("Symbol",{noGlobals:!0})&&this.get("arguments")[0].isStringLiteral())},t.isInStrictMode=function(){return!!(this.isProgram()?this:this.parentPath).find(e=>{if(e.isProgram({sourceType:"module"}))return!0;if(e.isClass())return!0;if(e.isArrowFunctionExpression()&&!e.get("body").isBlockStatement())return!1;let t;if(e.isFunction())t=e.node.body;else{if(!e.isProgram())return!1;t=e.node}for(const e of t.directives)if("use strict"===e.value.value)return!0;return!1})},t.isNodeType=function(e){return u(this.type,e)},t.isStatementOrBlock=function(){return!this.parentPath.isLabeledStatement()&&!a(this.container)&&s.includes(this.key)},t.isStatic=function(){return this.scope.isStatic(this.node)},t.matchesPattern=function(e,t){return h(this.node,e,t)},t.referencesImport=function(e,t){if(!this.isReferencedIdentifier()){if(this.isJSXMemberExpression()&&this.node.property.name===t||(this.isMemberExpression()||this.isOptionalMemberExpression())&&(this.node.computed?p(this.node.property,{value:t}):this.node.property.name===t)){const t=this.get("object");return t.isReferencedIdentifier()&&t.referencesImport(e,"*")}return!1}const n=this.scope.getBinding(this.node.name);if(!n||"module"!==n.kind)return!1;const r=n.path,s=r.parentPath;return!!s.isImportDeclaration()&&(s.node.source.value===e&&(!t||(!(!r.isImportDefaultSpecifier()||"default"!==t)||(!(!r.isImportNamespaceSpecifier()||"*"!==t)||!(!r.isImportSpecifier()||!c(r.node.imported,{name:t}))))))},t.resolve=function(e,t){return T.call(this,e,t)||this},t.willIMaybeExecuteBefore=function(e){return"after"!==this._guessExecutionStatusRelativeTo(e)};var r=n(2352);const{STATEMENT_OR_BLOCK_KEYS:s,VISITOR_KEYS:i,isBlockStatement:a,isExpression:o,isIdentifier:c,isLiteral:l,isStringLiteral:p,isType:u,matchesPattern:h}=r;function d(e){return e.isProgram()?e:(e.parentPath.scope.getFunctionParent()||e.parentPath.scope.getProgramParent()).path}function f(e,t){switch(e){case"LogicalExpression":case"AssignmentPattern":return"right"===t;case"ConditionalExpression":case"IfStatement":return"consequent"===t||"alternate"===t;case"WhileStatement":case"DoWhileStatement":case"ForInStatement":case"ForOfStatement":return"body"===t;case"ForStatement":return"body"===t||"update"===t;case"SwitchStatement":return"cases"===t;case"TryStatement":return"handler"===t;case"OptionalMemberExpression":return"property"===t;case"OptionalCallExpression":return"arguments"===t;default:return!1}}function m(e,t){for(let n=0;n<t;n++){const t=e[n];if(f(t.parent.type,t.parentKey))return!0}return!1}t.has=function(e){var t;const n=null==(t=this.node)?void 0:t[e];return n&&Array.isArray(n)?!!n.length:!!n},t.is=t.has,t.isnt=function(e){return!this.has(e)},t.equals=function(e,t){return this.node[e]===t};const y=Symbol();function g(e,t,n){const r={this:d(e),target:d(t)};if(r.target.node!==r.this.node)return function(e,t,n){let r,s=n.get(e.node);if(s){if(r=s.get(t.node))return r===y?"unknown":r}else n.set(e.node,s=new Map);s.set(t.node,y);const i=function(e,t,n){if(!t.isFunctionDeclaration())return"before"===g(e,t,n)?"before":"unknown";if(t.parentPath.isExportDeclaration())return"unknown";const r=t.scope.getBinding(t.node.id.name);if(!r.references)return"before";const s=r.referencePaths;let i;for(const r of s){if(r.find(e=>e.node===t.node))continue;if("callee"!==r.key||!r.parentPath.isCallExpression())return"unknown";const s=g(e,r,n);if(i&&i!==s)return"unknown";i=s}return i}(e,t,n);return s.set(t.node,i),i}(e,r.target,n);const s={target:t.getAncestry(),this:e.getAncestry()};if(s.target.includes(e))return"after";if(s.this.includes(t))return"before";let a;const o={target:0,this:0};for(;!a&&o.this<s.this.length;){const e=s.this[o.this];o.target=s.target.indexOf(e),o.target>=0?a=e:o.this++}if(!a)throw new Error("Internal Babel error - The two compared nodes don't appear to belong to the same program.");if(m(s.this,o.this-1)||m(s.target,o.target-1))return"unknown";const c={this:s.this[o.this-1],target:s.target[o.target-1]};if(c.target.listKey&&c.this.listKey&&c.target.container===c.this.container)return c.target.key>c.this.key?"before":"after";const l=i[a.type],p=l.indexOf(c.this.parentKey);return l.indexOf(c.target.parentKey)>p?"before":"after"}function T(e,t){var n;if(null==(n=t)||!n.includes(this))if((t=t||[]).push(this),this.isVariableDeclarator()){if(this.get("id").isIdentifier())return this.get("init").resolve(e,t)}else if(this.isReferencedIdentifier()){const n=this.scope.getBinding(this.node.name);if(!n)return;if(!n.constant)return;if("module"===n.kind)return;if(n.path!==this){const r=n.path.resolve(e,t);if(this.find(e=>e.node===r.node))return;return r}}else{if(this.isTypeCastExpression())return this.get("expression").resolve(e,t);if(e&&this.isMemberExpression()){const n=this.toComputedKey();if(!l(n))return;const r=n.value,s=this.get("object").resolve(e,t);if(s.isObjectExpression()){const n=s.get("properties");for(const s of n){if(!s.isProperty())continue;const n=s.get("key");let i=s.isnt("computed")&&n.isIdentifier({name:r});if(i=i||n.isLiteral({value:r}),i)return s.get("value").resolve(e,t)}}else if(s.isArrayExpression()&&!isNaN(+r)){const n=s.get("elements")[r];if(n)return n.resolve(e,t)}}}}},857:e=>{"use strict";e.exports=require("os")},875:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.RAGService=void 0;const o=a(n(6928)),c=a(n(9896)),l=n(9147);t.RAGService=class{isInitialized=!1;workspaceRoot="";localDocsCache=new Map;invertedIndex=new Map;inMemoryCollection=new Map;collectionName="codebase_docs";useInMemoryChroma=!0;litellm;constructor(){this.litellm=(0,l.getLiteLLMService)()}async initialize(e){this.workspaceRoot=e.fsPath;const t=o.basename(this.workspaceRoot).replace(/[^a-zA-Z0-9]/g,"_");return this.collectionName=`codebase_${t}`,this.initializeInMemoryChroma(),await this.loadLocalDocsCache(),this.isInitialized=!0,console.log(`RAG Service initialized with In-Memory ChromaDB (collection: ${this.collectionName})`),!0}initializeInMemoryChroma(){this.inMemoryCollection=new Map,this.useInMemoryChroma=!0,console.log(`In-Memory ChromaDB initialized: collection "${this.collectionName}"`)}generateEmbedding(e){const t=this.tokenize(e),n=new Map;t.forEach(e=>{n.set(e,(n.get(e)||0)+1)});const r=new Array(256).fill(0);n.forEach((e,t)=>{let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n&=n;const s=Math.abs(n)%256;r[s]+=e*Math.log(t.length+1)});const s=Math.sqrt(r.reduce((e,t)=>e+t*t,0));if(s>0)for(let e=0;e<r.length;e++)r[e]/=s;return r}cosineSimilarity(e,t){if(e.length!==t.length)return 0;let n=0,r=0,s=0;for(let i=0;i<e.length;i++)n+=e[i]*t[i],r+=e[i]*e[i],s+=t[i]*t[i];const i=Math.sqrt(r)*Math.sqrt(s);return i>0?n/i:0}async loadLocalDocsCache(){const e=o.join(this.workspaceRoot,".doc_sync","search.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8"),n=JSON.parse(t);this.localDocsCache.clear(),this.invertedIndex.clear(),this.inMemoryCollection.clear(),n.forEach(e=>{this.localDocsCache.set(e.id,e),this.indexDocument(e)}),this.useInMemoryChroma&&n.length>0&&this.indexToInMemoryChroma(n),console.log(`Loaded ${n.length} documents into local cache and in-memory ChromaDB`)}catch(e){console.error("Error loading local docs cache:",e)}else console.log("No search.json found, RAG will be populated during analysis")}indexDocument(e){this.tokenize(e.content+" "+(e.metadata.name||"")).forEach(t=>{this.invertedIndex.has(t)||this.invertedIndex.set(t,new Set),this.invertedIndex.get(t).add(e.id)})}tokenize(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(e=>e.length>2)}async indexDocuments(e){if(!this.isInitialized)throw new Error("RAG service not initialized");e.forEach(e=>{this.localDocsCache.set(e.id,e),this.indexDocument(e)}),this.useInMemoryChroma&&this.indexToInMemoryChroma(e),console.log(`Indexed ${e.length} documents (In-Memory ChromaDB: ${this.useInMemoryChroma})`)}indexToInMemoryChroma(e){for(const t of e){const e=t.id.replace(/[^a-zA-Z0-9_-]/g,"_").substring(0,100),n=this.generateEmbedding(t.content+" "+(t.metadata.name||""));this.inMemoryCollection.set(e,{id:e,content:t.content,metadata:{...t.metadata,originalId:t.id},embedding:n})}}async search(e,t=5){if(!this.isInitialized)throw new Error("RAG service not initialized");if(console.log(`RAG search: "${e}" - inMemory: ${this.inMemoryCollection.size}, localCache: ${this.localDocsCache.size}`),this.useInMemoryChroma&&this.inMemoryCollection.size>0){const n=this.searchInMemoryChroma(e,t);if(n.length>0)return n}return this.localDocsCache.size>0?this.searchLocal(e,t):(console.log("RAG search: No documents indexed"),[])}searchInMemoryChroma(e,t){const n=this.generateEmbedding(e),r=[];return this.inMemoryCollection.forEach(e=>{if(e.embedding){const t=this.cosineSimilarity(n,e.embedding);r.push({doc:e,score:t})}}),r.sort((e,t)=>t.score-e.score),r.slice(0,t).map(({doc:e,score:t})=>({id:e.metadata.originalId||e.id,content:e.content,metadata:e.metadata,score:t}))}searchLocal(e,t){const n=this.tokenize(e),r=new Map;return n.forEach(e=>{const t=this.invertedIndex.get(e);if(t){const e=Math.log(this.localDocsCache.size/t.size+1);t.forEach(t=>{const n=r.get(t)||0;r.set(t,n+e)})}}),this.localDocsCache.forEach((t,n)=>{const s=(t.metadata.name||"").toLowerCase(),i=e.toLowerCase();s===i?r.set(n,(r.get(n)||0)+100):s.includes(i)?r.set(n,(r.get(n)||0)+50):i.includes(s)&&s.length>3&&r.set(n,(r.get(n)||0)+30)}),Array.from(r.entries()).sort((e,t)=>t[1]-e[1]).slice(0,t).map(([e,t])=>{const n=this.localDocsCache.get(e);return{id:e,content:n.content,metadata:n.metadata,score:t/100}})}async getDocument(e){if(!this.isInitialized)throw new Error("RAG service not initialized");return this.localDocsCache.get(e)||null}async getComponentInfo(e){let t=await this.getDocument(e);if(!t){const n=await this.search(e,1);n.length>0&&n[0].score>.1&&(t={id:n[0].id,content:n[0].content,metadata:n[0].metadata})}if(!t)return null;const n=this.parseArrayFromMetadata(t.metadata.dependencies),r=this.parseArrayFromMetadata(t.metadata.dependents),s=this.parseArrayFromMetadata(t.metadata.patterns);let i="";const a=await this.getDocument(`${t.id}-source`);return a&&(i=a.content.replace(/^Source code for [^:]+:\n\n/,""),i.length>1e3&&(i=i.substring(0,1e3)+"\n// ... (truncated)")),{name:t.metadata.name||e,type:t.metadata.componentType||t.metadata.type||"unknown",summary:t.content,details:`File: ${t.metadata.relativePath||t.metadata.filePath||"Unknown"}\nLanguage: ${t.metadata.language||"Unknown"}`,dependencies:n,dependents:r,patterns:s,filePath:t.metadata.filePath||"",sourcePreview:i}}parseArrayFromMetadata(e){return e?Array.isArray(e)?e:"string"==typeof e?e.split(", ").filter(e=>e.length>0):[]:[]}async answerQuestion(e){if(!this.isInitialized)return{answer:"RAG service is not initialized. Please analyze the workspace first.",relevantNodes:[],confidence:"low",aiGenerated:!1};const t=await this.search(e,8);if(0===t.length)return{answer:"No relevant information found in the codebase. Try rephrasing your question or use more specific terms.",relevantNodes:[],confidence:"low",aiGenerated:!1};const n=t.map(e=>({name:e.metadata.name||e.id,type:e.metadata.type||"unknown",summary:e.metadata.summary||e.content.substring(0,200),filePath:e.metadata.filePath||"",score:e.score})),r=t[0].score,s=r>1?"high":r>.5?"medium":"low";let i,a=!1;if(this.litellm.isReady())try{i=await this.generateLLMAnswer(e,t),a=!0}catch(n){console.error("LLM answer generation failed, using fallback:",n);const r=n?.message||String(n);i=r.includes("401")||r.includes("Unauthorized")||r.includes("API key")?` **API Key Error**\n\nThe AI service returned an authentication error. Your API key may be invalid or expired.\n\n**To fix this:**\n1. Click the "Setup API" button in the toolbar\n2. Enter a valid API key from your provider (OpenAI, Anthropic, etc.)\n3. Try your question again\n\n---\n\n*Meanwhile, here's what I found using basic search:*\n\n${this.synthesizeAnswer(e,t)}`:` **AI Service Unavailable**\n\nCould not generate an AI-powered answer. Using basic search results instead.\n\n---\n\n${this.synthesizeAnswer(e,t)}`}else i=` **API Key Required for AI Answers**\n\nTo get intelligent, context-aware answers, please configure an API key:\n\n1. Click the "Setup API" button in the toolbar\n2. Enter your API key (OpenAI, Anthropic, or LiteLLM)\n3. Try your question again\n\n---\n\n*Here's what I found using basic search:*\n\n${this.synthesizeAnswer(e,t)}`;return{answer:i,relevantNodes:n,confidence:s,aiGenerated:a}}async generateLLMAnswer(e,t){const n=t.slice(0,5).map((e,t)=>`### ${t+1}. ${e.metadata.name||e.id} (${e.metadata.type||"unknown"})\n**File**: ${e.metadata.filePath||""}\n**Summary**: ${e.metadata.summary||""}\n\n\`\`\`\n${e.content.substring(0,800)}\n\`\`\``).join("\n\n---\n\n");return await this.litellm.generateRAGAnswer(e,n)}synthesizeAnswer(e,t){const n=e.toLowerCase(),r=(n.startsWith("what")||n.includes("what is")||n.includes("what does"),n.startsWith("how")||n.includes("how to")||n.includes("how does")),s=n.startsWith("where")||n.includes("where is"),i=(n.startsWith("why"),n.includes("list")||n.includes("all")||n.includes("show me")),a=t.slice(0,5);if(i){const e=a.map(e=>` **${e.metadata.name||e.id}** (${e.metadata.type||"unknown"}): ${e.metadata.summary||e.content.substring(0,100)}`);return`Found ${t.length} relevant items:\n\n${e.join("\n\n")}`}if(s)return`Here's where you can find relevant code:\n\n${a.map(e=>` **${e.metadata.name||e.id}** is in \`${e.metadata.filePath||"unknown location"}\``).join("\n")}`;if(r){const e=a[0];let t="Based on the codebase analysis:\n\n";return t+=`**${e.metadata.name||e.id}** (${e.metadata.type||"unknown"})\n\n`,t+=e.metadata.summary||e.content.substring(0,300),a.length>1&&(t+="\n\n**Related components:**\n",a.slice(1,4).forEach(e=>{t+=` ${e.metadata.name||e.id}: ${(e.metadata.summary||e.content).substring(0,100)}...\n`})),t}const o=a[0];let c=`**${o.metadata.name||o.id}**`;return o.metadata.type&&(c+=` (${o.metadata.type})`),c+="\n\n",c+=o.metadata.summary||o.content.substring(0,400),o.metadata.filePath&&(c+=`\n\n Location: \`${o.metadata.filePath}\``),a.length>1&&(c+="\n\n**See also:**\n",a.slice(1,4).forEach(e=>{c+=` ${e.metadata.name||e.id}`,e.metadata.filePath&&(c+=` (\`${e.metadata.filePath}\`)`),c+="\n"})),c}async clearIndex(){this.localDocsCache.clear(),this.invertedIndex.clear()}isUsingLocalFallback(){return!0}async reindexFromDocs(){await this.loadLocalDocsCache()}getStats(){return{documentCount:this.localDocsCache.size,indexedWords:this.invertedIndex.size}}async loadGraph(){const e=o.join(this.workspaceRoot,".doc_sync","graph","graph.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8"),n=JSON.parse(t);return console.log(`Loaded graph with ${n.nodes?.length||0} nodes and ${n.edges?.length||0} edges`),{nodes:n.nodes||[],edges:n.edges||[],metadata:n.metadata||{}}}catch(e){return console.error("Error loading graph:",e),null}return null}async loadNodeDetails(e){const t=e.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").substring(0,100),n=o.join(this.workspaceRoot,".doc_sync","nodes",`${t}.json`);if(c.existsSync(n))try{const e=c.readFileSync(n,"utf-8");return JSON.parse(e)}catch(t){return console.error(`Error loading node ${e}:`,t),null}return null}async loadNodeIndex(){const e=o.join(this.workspaceRoot,".doc_sync","nodes","_index.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8");return JSON.parse(t)}catch(e){return console.error("Error loading node index:",e),null}return null}async loadMetadata(){const e=o.join(this.workspaceRoot,".doc_sync","metadata.json");if(c.existsSync(e))try{const t=c.readFileSync(e,"utf-8");return JSON.parse(t)}catch(e){return console.error("Error loading metadata:",e),null}return null}hasDocSync(){const e=o.join(this.workspaceRoot,".doc_sync");return c.existsSync(e)}getDocSyncPath(){return o.join(this.workspaceRoot,".doc_sync")}}},882:e=>{e.exports=function(e,t,n,r){var s=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++s]);++s<i;)n=t(n,e[s],s,e);return n}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castToError=void 0,t.isAbortError=function(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))},t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e){let t=this;do{if(e(t))return t}while(t=t.parentPath);return null},t.findParent=function(e){let t=this;for(;t=t.parentPath;)if(e(t))return t;return null},t.getAncestry=function(){let e=this;const t=[];do{t.push(e)}while(e=e.parentPath);return t},t.getDeepestCommonAncestorFrom=function(e,t){if(!e.length)return this;if(1===e.length)return e[0];let n,r,s=1/0;const i=e.map(e=>{const t=[];do{t.unshift(e)}while((e=e.parentPath)&&e!==this);return t.length<s&&(s=t.length),t}),a=i[0];e:for(let e=0;e<s;e++){const t=a[e];for(const n of i)if(n[e]!==t)break e;n=e,r=t}if(r)return t?t(r,n,i):r;throw new Error("Couldn't find intersection")},t.getEarliestCommonAncestorFrom=function(e){return this.getDeepestCommonAncestorFrom(e,function(e,t,n){let r;const i=s[e.type];for(const e of n){const n=e[t+1];r?(n.listKey&&r.listKey===n.listKey&&n.key<r.key||i.indexOf(r.parentKey)>i.indexOf(n.parentKey))&&(r=n):r=n}return r})},t.getFunctionParent=function(){return this.findParent(e=>e.isFunction())},t.getStatementParent=function(){let e=this;do{if(!e.parentPath||Array.isArray(e.container)&&e.isStatement())break;e=e.parentPath}while(e);if(e&&(e.isProgram()||e.isFile()))throw new Error("File/Program node, we can't possibly find a statement parent to this");return e},t.inType=function(...e){let t=this;for(;t;){if(e.includes(t.node.type))return!0;t=t.parentPath}return!1},t.isAncestor=function(e){return e.isDescendant(this)},t.isDescendant=function(e){return!!this.findParent(t=>t===e)};var r=n(2352);const{VISITOR_KEYS:s}=r},945:(e,t,n)=>{var r=n(79),s=n(8223),i=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!s||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!0){return"string"==typeof e&&((!t||!(0,r.isKeyword)(e)&&!(0,r.isStrictReservedWord)(e,!0))&&(0,r.isIdentifierName)(e))};var r=n(1e3)},985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildUndefinedNode=function(){return(0,r.unaryExpression)("void",(0,r.numericLiteral)(0),!0)};var r=n(8079)},1e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isIdentifierChar",{enumerable:!0,get:function(){return r.isIdentifierChar}}),Object.defineProperty(t,"isIdentifierName",{enumerable:!0,get:function(){return r.isIdentifierName}}),Object.defineProperty(t,"isIdentifierStart",{enumerable:!0,get:function(){return r.isIdentifierStart}}),Object.defineProperty(t,"isKeyword",{enumerable:!0,get:function(){return s.isKeyword}}),Object.defineProperty(t,"isReservedWord",{enumerable:!0,get:function(){return s.isReservedWord}}),Object.defineProperty(t,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return s.isStrictBindOnlyReservedWord}}),Object.defineProperty(t,"isStrictBindReservedWord",{enumerable:!0,get:function(){return s.isStrictBindReservedWord}}),Object.defineProperty(t,"isStrictReservedWord",{enumerable:!0,get:function(){return s.isStrictReservedWord}});var r=n(8721),s=n(3115)},1009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.default)(e);return 1===t.length?t[0]:(0,r.unionTypeAnnotation)(t)};var r=n(8079),s=n(5237)},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},1074:e=>{e.exports=function(e){return e.split("")}},1109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputItems=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{retrieve(e,t,n){const{eval_id:r,run_id:s}=t;return this._client.get(i.path`/evals/${r}/runs/${s}/output_items/${e}`,n)}list(e,t,n){const{eval_id:r,...a}=t;return this._client.getAPIList(i.path`/evals/${r}/runs/${e}/output_items`,s.CursorPage,{query:a,...n})}}t.OutputItems=a},1118:(e,t,n)=>{"use strict";var r,s,i,a,o,c,l,p;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractChatCompletionRunner=void 0;const u=n(9632),h=n(9526),d=n(3357),f=n(6289),m=n(460),y=n(4691),g=10;class T extends m.EventStream{constructor(){super(...arguments),r.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(0,f.isToolMessage)(e)&&e.content)this._emit("functionToolCallResult",e.content);else if((0,f.isAssistantMessage)(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionToolCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new h.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",s).call(this)}async finalMessage(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",i).call(this)}async finalFunctionToolCall(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",a).call(this)}async finalFunctionToolCallResult(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",o).call(this)}async totalUsage(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=u.__classPrivateFieldGet(this,r,"m",i).call(this);t&&this._emit("finalMessage",t);const n=u.__classPrivateFieldGet(this,r,"m",s).call(this);n&&this._emit("finalContent",n);const l=u.__classPrivateFieldGet(this,r,"m",a).call(this);l&&this._emit("finalFunctionToolCall",l);const p=u.__classPrivateFieldGet(this,r,"m",o).call(this);null!=p&&this._emit("finalFunctionToolCallResult",p),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",u.__classPrivateFieldGet(this,r,"m",c).call(this))}async _createChatCompletion(e,t,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),u.__classPrivateFieldGet(this,r,"m",l).call(this,t);const i=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,d.parseChatCompletion)(i,t))}async _runChatCompletion(e,t,n){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){const s="tool",{tool_choice:i="auto",stream:a,...o}=t,c="string"!=typeof i&&"function"===i.type&&i?.function?.name,{maxChatCompletions:l=g}=n||{},f=t.tools.map(e=>{if((0,d.isAutoParsableTool)(e)){if(!e.$callback)throw new h.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),m={};for(const e of f)"function"===e.type&&(m[e.function.name||e.function.function.name]=e.function);const T="tools"in t?f.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){const t=await this._createChatCompletion(e,{...o,tool_choice:i,tools:T,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new h.OpenAIError("missing message in ChatCompletion response");if(!a.tool_calls?.length)return;for(const e of a.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:i}=e.function,a=m[n];if(!a){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(m).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:t,content:e});continue}if(c&&c!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:t,content:e});continue}let o;try{o=(0,y.isRunnableFunctionWithParse)(a)?await a.parse(i):i}catch(e){const n=e instanceof Error?e.message:String(e);this._addMessage({role:s,tool_call_id:t,content:n});continue}const l=await a.function(o,this),h=u.__classPrivateFieldGet(this,r,"m",p).call(this,l);if(this._addMessage({role:s,tool_call_id:t,content:h}),c)return}}}}t.AbstractChatCompletionRunner=T,r=new WeakSet,s=function(){return u.__classPrivateFieldGet(this,r,"m",i).call(this).content??null},i=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if((0,f.isAssistantMessage)(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new h.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},a=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,f.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.filter(e=>"function"===e.type).at(-1)?.function}},o=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,f.isToolMessage)(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},c=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},l=function(e){if(null!=e.n&&e.n>1)throw new h.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},p=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,s=r(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}},1242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const r=n(2040),s=n(4701);class i extends r.APIResource{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&(0,s.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:r},...t});return n?i:((0,s.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{const t=e.embedding;e.embedding=(0,s.toFloat32Array)(t)}),e)))}}t.Embeddings=i},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(5113)),a=n(5113),o=r.__importStar(n(3694)),c=n(3694),l=r.__importStar(n(7655)),p=n(7655);class u extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new o.Transcriptions(this._client),this.translations=new l.Translations(this._client),this.speech=new i.Speech(this._client)}}t.Audio=u,u.Transcriptions=c.Transcriptions,u.Translations=p.Translations,u.Speech=a.Speech},1301:(e,t,n)=>{"use strict";var r,s,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAI=void 0;const o=n(9632),c=n(9491),l=n(5734),p=n(4741),u=n(917),h=n(2193),d=o.__importStar(n(446)),f=o.__importStar(n(7458)),m=o.__importStar(n(1441)),y=n(5392),g=o.__importStar(n(4172)),T=o.__importStar(n(5552)),S=o.__importStar(n(8728)),b=o.__importStar(n(3946)),E=n(1482),x=n(2530),v=n(9045),P=n(1242),A=n(1461),w=n(7370),C=n(9458),I=n(4975),O=n(8284),_=n(8014),L=n(1253),N=n(6183),k=n(6111),R=n(2099),M=n(8997),D=n(4769),U=n(3453),F=n(9777),B=n(8769),j=n(477),$=n(3017),V=n(4229),W=n(2193),K=n(262),G=n(7237),q=n(6188),z=n(5734);class H{constructor({baseURL:e=(0,G.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,G.readEnv)("OPENAI_API_KEY"),organization:n=(0,G.readEnv)("OPENAI_ORG_ID")??null,project:a=(0,G.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:c=(0,G.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(r.add(this),i.set(this,void 0),this.completions=new b.Completions(this),this.chat=new b.Chat(this),this.embeddings=new b.Embeddings(this),this.files=new b.Files(this),this.images=new b.Images(this),this.audio=new b.Audio(this),this.moderations=new b.Moderations(this),this.models=new b.Models(this),this.fineTuning=new b.FineTuning(this),this.graders=new b.Graders(this),this.vectorStores=new b.VectorStores(this),this.webhooks=new b.Webhooks(this),this.beta=new b.Beta(this),this.batches=new b.Batches(this),this.uploads=new b.Uploads(this),this.responses=new b.Responses(this),this.realtime=new b.Realtime(this),this.conversations=new b.Conversations(this),this.evals=new b.Evals(this),this.containers=new b.Containers(this),this.videos=new b.Videos(this),void 0===t)throw new g.OpenAIError("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const p={apiKey:t,organization:n,project:a,webhookSecret:c,...l,baseURL:e||"https://api.openai.com/v1"};if(!p.dangerouslyAllowBrowser&&(0,W.isRunningInBrowser)())throw new g.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=p.baseURL,this.timeout=p.timeout??s.DEFAULT_TIMEOUT,this.logger=p.logger??console;const u="warn";this.logLevel=u,this.logLevel=(0,q.parseLogLevel)(p.logLevel,"ClientOptions.logLevel",this)??(0,q.parseLogLevel)((0,G.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??u,this.fetchOptions=p.fetchOptions,this.maxRetries=p.maxRetries??2,this.fetch=p.fetch??d.getDefaultFetch(),o.__classPrivateFieldSet(this,i,f.FallbackEncoder,"f"),this._options=p,this.apiKey="string"==typeof t?t:"Missing Key",this.organization=n,this.project=a,this.webhookSecret=c}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return(0,K.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return m.stringify(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${y.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,c.uuid4)()}`}makeStatusError(e,t,n,r){return g.APIError.generate(e,t,n,r)}async _callApiKey(){const e=this._options.apiKey;if("function"!=typeof e)return!1;let t;try{t=await e()}catch(e){if(e instanceof g.OpenAIError)throw e;throw new g.OpenAIError(`Failed to get token from 'apiKey' function: ${e.message}`,{cause:e})}if("string"!=typeof t||!t)throw new g.OpenAIError(`Expected 'apiKey' function argument to return a string but it returned ${t}`);return this.apiKey=t,!0}buildURL(e,t,n){const s=!o.__classPrivateFieldGet(this,r,"m",a).call(this)&&n||this.baseURL,i=(0,l.isAbsoluteURL)(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return(0,z.isEmptyObj)(c)||(t={...c,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>({method:e,path:t,...n})))}request(e,t=null){return new E.APIPromise(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){const r=await e,s=r.maxRetries??this.maxRetries;null==t&&(t=s),await this.prepareOptions(r);const{req:i,url:a,timeout:o}=await this.buildRequest(r,{retryCount:s-t});await this.prepareRequest(i,{url:a,options:r});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,h=Date.now();if((0,q.loggerFor)(this).debug(`[${c}] sending request`,(0,q.formatRequestDetails)({retryOfRequestLogID:n,method:r.method,url:a,options:r,headers:i.headers})),r.signal?.aborted)throw new g.APIUserAbortError;const f=new AbortController,m=await this.fetchWithTimeout(a,i,o,f).catch(u.castToError),y=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(r.signal?.aborted)throw new g.APIUserAbortError;const s=(0,u.isAbortError)(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return(0,q.loggerFor)(this).info(`[${c}] connection ${s?"timed out":"failed"} - ${e}`),(0,q.loggerFor)(this).debug(`[${c}] connection ${s?"timed out":"failed"} (${e})`,(0,q.formatRequestDetails)({retryOfRequestLogID:n,url:a,durationMs:y-h,message:m.message})),this.retryRequest(r,t,n??c);if((0,q.loggerFor)(this).info(`[${c}] connection ${s?"timed out":"failed"} - error; no more retries left`),(0,q.loggerFor)(this).debug(`[${c}] connection ${s?"timed out":"failed"} (error; no more retries left)`,(0,q.formatRequestDetails)({retryOfRequestLogID:n,url:a,durationMs:y-h,message:m.message})),s)throw new g.APIConnectionTimeoutError;throw new g.APIConnectionError({cause:m})}const T=`[${c}${p}${[...m.headers.entries()].filter(([e])=>"x-request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join("")}] ${i.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${y-h}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await d.CancelReadableStream(m.body),(0,q.loggerFor)(this).info(`${T} - ${e}`),(0,q.loggerFor)(this).debug(`[${c}] response error (${e})`,(0,q.formatRequestDetails)({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:y-h})),this.retryRequest(r,t,n??c,m.headers)}const s=e?"error; no more retries left":"error; not retryable";(0,q.loggerFor)(this).info(`${T} - ${s}`);const i=await m.text().catch(e=>(0,u.castToError)(e).message),a=(0,l.safeJSON)(i),o=a?void 0:i;throw(0,q.loggerFor)(this).debug(`[${c}] response error (${s})`,(0,q.formatRequestDetails)({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:o,durationMs:Date.now()-h})),this.makeStatusError(m.status,a,o,m.headers)}return(0,q.loggerFor)(this).info(T),(0,q.loggerFor)(this).debug(`[${c}] response start`,(0,q.formatRequestDetails)({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:y-h})),{response:m,options:r,controller:f,requestLogID:c,retryOfRequestLogID:n,startTime:h}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new T.PagePromise(this,n,e)}async fetchWithTimeout(e,t,n,r){const{signal:s,method:i,...a}=t||{};s&&s.addEventListener("abort",()=>r.abort());const o=setTimeout(()=>r.abort(),n),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,l={signal:r.signal,...c?{duplex:"half"}:{},method:"GET",...a};i&&(l.method=i.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(o)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,n,r){let s;const i=r?.get("retry-after-ms");if(i){const e=parseFloat(i);Number.isNaN(e)||(s=e)}const a=r?.get("retry-after");if(a&&!s){const e=parseFloat(a);s=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(s&&0<=s&&s<6e4)){const n=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,n)}return await(0,p.sleep)(s),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){const n={...e},{method:r,path:s,query:i,defaultBaseURL:a}=n,o=this.buildURL(s,i,a);"timeout"in n&&(0,l.validatePositiveInteger)("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:p}=this.buildBody({options:n});return{req:{method:r,headers:await this.buildHeaders({options:e,method:r,bodyHeaders:c,retryCount:t}),...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"},...p&&{body:p},...this.fetchOptions??{},...n.fetchOptions??{}},url:o,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let s={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const i=(0,K.buildHeaders)([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...(0,h.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(i),i.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=(0,K.buildHeaders)([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:d.ReadableStreamFrom(e)}:o.__classPrivateFieldGet(this,i,"f").call(this,{body:e,headers:n})}}t.OpenAI=H,s=H,i=new WeakMap,r=new WeakSet,a=function(){return"https://api.openai.com/v1"!==this.baseURL},H.OpenAI=s,H.DEFAULT_TIMEOUT=6e5,H.OpenAIError=g.OpenAIError,H.APIError=g.APIError,H.APIConnectionError=g.APIConnectionError,H.APIConnectionTimeoutError=g.APIConnectionTimeoutError,H.APIUserAbortError=g.APIUserAbortError,H.NotFoundError=g.NotFoundError,H.ConflictError=g.ConflictError,H.RateLimitError=g.RateLimitError,H.BadRequestError=g.BadRequestError,H.AuthenticationError=g.AuthenticationError,H.InternalServerError=g.InternalServerError,H.PermissionDeniedError=g.PermissionDeniedError,H.UnprocessableEntityError=g.UnprocessableEntityError,H.InvalidWebhookSignatureError=g.InvalidWebhookSignatureError,H.toFile=S.toFile,H.Completions=v.Completions,H.Chat=k.Chat,H.Embeddings=P.Embeddings,H.Files=A.Files,H.Images=w.Images,H.Audio=L.Audio,H.Moderations=I.Moderations,H.Models=C.Models,H.FineTuning=U.FineTuning,H.Graders=F.Graders,H.VectorStores=V.VectorStores,H.Webhooks=_.Webhooks,H.Beta=N.Beta,H.Batches=x.Batches,H.Uploads=$.Uploads,H.Responses=j.Responses,H.Realtime=B.Realtime,H.Conversations=M.Conversations,H.Evals=D.Evals,H.Containers=R.Containers,H.Videos=O.Videos},1343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[].concat(e),n=Object.create(null);for(;t.length;){const e=t.pop();if(e)switch(e.type){case"ArrayPattern":t.push(...e.elements);break;case"AssignmentExpression":case"AssignmentPattern":case"ForInStatement":case"ForOfStatement":t.push(e.left);break;case"ObjectPattern":t.push(...e.properties);break;case"ObjectProperty":t.push(e.value);break;case"RestElement":case"UpdateExpression":t.push(e.argument);break;case"UnaryExpression":"delete"===e.operator&&t.push(e.argument);break;case"Identifier":n[e.name]=e}}return n}},1373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenContext=void 0,t.isLastChild=function(e,t){const n=o[e.type];for(let r=n.length-1;r>=0;r--){const s=e[n[r]];if(s===t)return!0;if(Array.isArray(s)){let e=s.length-1;for(;e>=0&&null===s[e];)e--;return e>=0&&s[e]===t}if(s)return!1}return!1},t.needsParens=function(e,t,n,r){var s;return!!t&&(!(!h(t)||t.callee!==e||!g(e))||(l(t)?!(S(e)||c(e)&&S(e.callee)||d(e)):(null==(s=m.get(e.type))?void 0:s(e,t,n,r))||!1))},t.needsWhitespace=T,t.needsWhitespaceAfter=function(e,t){return T(e,t,2)},t.needsWhitespaceBefore=function(e,t){return T(e,t,1)};var r=n(2716),s=n(1773),i=n(2352);const{FLIPPED_ALIAS_KEYS:a,VISITOR_KEYS:o,isCallExpression:c,isDecorator:l,isExpressionStatement:p,isMemberExpression:u,isNewExpression:h,isParenthesizedExpression:d}=i;function f(e){const t=new Map;function n(e,n){const r=t.get(e);t.set(e,r?function(e,t,s,i){var a;return null!=(a=r(e,t,s,i))?a:n(e,t,s,i)}:n)}for(const t of Object.keys(e)){const r=a[t];if(r)for(const s of r)n(s,e[t]);else n(t,e[t])}return t}t.TokenContext={normal:0,expressionStatement:1,arrowBody:2,exportDefault:4,arrowFlowReturnType:8,forInitHead:16,forInHead:32,forOfHead:64,forInOrInitHeadAccumulate:128,forInOrInitHeadAccumulatePassThroughMask:128};const m=f(s),y=f(r.nodes);function g(e){return!!c(e)||u(e)&&g(e.object)}function T(e,t,n){var r;if(!e)return!1;p(e)&&(e=e.expression);const s=null==(r=y.get(e.type))?void 0:r(e,t);return"number"==typeof s&&0!==(s&n)}function S(e){switch(e.type){case"Identifier":return!0;case"MemberExpression":return!e.computed&&"Identifier"===e.property.type&&S(e.object);default:return!1}}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)&&!s.has(e)};var r=n(983);const s=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"])},1398:e=>{"use strict";e.exports=require("vscode")},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},1441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formats=t.stringify=void 0;const r=n(5257),s={formatters:r.formatters,RFC1738:r.RFC1738,RFC3986:r.RFC3986,default:r.default_format};t.formats=s;var i=n(168);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}})},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4741),o=n(9526),c=n(2018),l=n(4815);class p extends r.APIResource{create(e,t){return this._client.post("/files",(0,c.multipartFormRequestOptions)({body:e,...t},this._client))}retrieve(e,t){return this._client.get(l.path`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",s.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/files/${e}`,t)}content(e,t){return this._client.get(l.path`/files/${e}/content`,{...t,headers:(0,i.buildHeaders)([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),s=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await(0,a.sleep)(t),i=await this.retrieve(e),Date.now()-s>n)throw new o.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return i}}t.Files=p},1482:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.APIPromise=void 0;const s=n(9632),i=n(8151);class a extends Promise{constructor(e,t,n=i.defaultParseResponse){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,r.set(this,void 0),s.__classPrivateFieldSet(this,r,e,"f")}_thenUnwrap(e){return new a(s.__classPrivateFieldGet(this,r,"f"),this.responsePromise,async(t,n)=>(0,i.addRequestID)(e(await this.parseResponse(t,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(s.__classPrivateFieldGet(this,r,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=a,r=new WeakMap},1489:(e,t,n)=>{var r=n(7400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},1528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=void 0;const r=n(9632),s=n(262),i=r.__importStar(n(9526)),a=n(4701),o=n(1301);class c extends o.OpenAI{constructor({baseURL:e=(0,a.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,a.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:n=(0,a.readEnv)("OPENAI_API_VERSION"),endpoint:r,deployment:s,azureADTokenProvider:o,dangerouslyAllowBrowser:c,...l}={}){if(!n)throw new i.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof o&&(c=!0),!o&&!t)throw new i.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(o&&t)throw new i.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(l.defaultQuery={...l.defaultQuery,"api-version":n},e){if(r)throw new i.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(r||(r=process.env.AZURE_OPENAI_ENDPOINT),!r)throw new i.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${r}/openai`}super({apiKey:o??t,baseURL:e,...l,...void 0!==c?{dangerouslyAllowBrowser:c}:{}}),this.apiVersion="",this.apiVersion=n,this.deploymentName=s}async buildRequest(e,t={}){if(l.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!(0,a.isObj)(e.body))throw new Error("Expected request body to be an object");const t=this.deploymentName||e.body.model||e.__metadata?.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e,t)}async authHeaders(e){return"string"==typeof this._options.apiKey?(0,s.buildHeaders)([{"api-key":this.apiKey}]):super.authHeaders(e)}}t.AzureOpenAI=c;const l=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"])},1549:(e,t,n)=>{var r=n(2032),s=n(3862),i=n(6721),a=n(2749),o=n(5749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=a,c.prototype.set=o,e.exports=c},1602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9709),s=n(2352),i=n(9578);const{VISITOR_KEYS:a}=s;t.default=class{constructor(e,t,n,r){this.queue=null,this.priorityQueue=null,this.parentPath=r,this.scope=e,this.state=n,this.opts=t}shouldVisit(e){const t=this.opts;if(t.enter||t.exit)return!0;if(t[e.type])return!0;const n=a[e.type];if(null==n||!n.length)return!1;for(const t of n)if(e[t])return!0;return!1}create(e,t,n,s){return r.default.get({parentPath:this.parentPath,parent:e,container:t,key:n,listKey:s})}maybeQueue(e,t){this.queue&&(t?this.queue.push(e):this.priorityQueue.push(e))}visitMultiple(e,t,n){if(0===e.length)return!1;const r=[];for(let s=0;s<e.length;s++){const i=e[s];i&&this.shouldVisit(i)&&r.push(this.create(t,e,s,n))}return this.visitQueue(r)}visitSingle(e,t){return!!this.shouldVisit(e[t])&&this.visitQueue([this.create(e,e,t)])}visitQueue(e){this.queue=e,this.priorityQueue=[];const t=new WeakSet;let n=!1,r=0;for(;r<e.length;){const s=e[r];if(r++,i.resync.call(s),0!==s.contexts.length&&s.contexts[s.contexts.length-1]===this||i.pushContext.call(s,this),null===s.key)continue;const{node:a}=s;if(!t.has(a)){if(a&&t.add(a),s.visit()){n=!0;break}if(this.priorityQueue.length&&(n=this.visitQueue(this.priorityQueue),this.priorityQueue=[],this.queue=e,n))break}}for(let t=0;t<r;t++)i.popContext.call(e[t]);return this.queue=null,n}visit(e,t){const n=e[t];return!!n&&(Array.isArray(n)?this.visitMultiple(n,e,t):this.visitSingle(e,t))}}},1718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jobs=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(3955)),a=n(3955),o=n(5552),c=n(4815);class l extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new i.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",o.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return this._client.getAPIList(c.path`/fine_tuning/jobs/${e}/events`,o.CursorPage,{query:t,...n})}pause(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/resume`,t)}}t.Jobs=l,l.Checkpoints=a.Checkpoints},1733:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},1769:(e,t,n)=>{var r=n(6449),s=n(8586),i=n(1802),a=n(3222);e.exports=function(e,t){return r(e)?e:s(e,t)?[e]:i(a(e))}},1773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentExpression=function(e,t,n){return!(!b(n)||!u(e.left))||v(e,t)},t.Binary=E,t.BinaryExpression=function(e,t,n){return"in"===e.operator&&Boolean(n&s.TokenContext.forInOrInitHeadAccumulate)},t.ClassExpression=function(e,t,n){return Boolean(n&(s.TokenContext.expressionStatement|s.TokenContext.exportDefault))},t.ArrowFunctionExpression=t.ConditionalExpression=v,t.DoExpression=function(e,t,n){return!e.async&&Boolean(n&s.TokenContext.expressionStatement)},t.FunctionExpression=function(e,t,n){return Boolean(n&(s.TokenContext.expressionStatement|s.TokenContext.exportDefault))},t.FunctionTypeAnnotation=function(e,t,n){const r=t.type;return"UnionTypeAnnotation"===r||"IntersectionTypeAnnotation"===r||"ArrayTypeAnnotation"===r||Boolean(n&s.TokenContext.arrowFlowReturnType)},t.Identifier=function(e,t,n,r){var i;const a=t.type;if(null!=(i=e.extra)&&i.parenthesized&&"AssignmentExpression"===a&&t.left===e){const e=t.right.type;if(("FunctionExpression"===e||"ClassExpression"===e)&&null==t.right.id)return!0}return(!r||r(e)===e.name)&&("let"===e.name?!!((p(t,{object:e,computed:!0})||h(t,{object:e,computed:!0,optional:!1}))&&n&(s.TokenContext.expressionStatement|s.TokenContext.forInitHead|s.TokenContext.forInHead))||Boolean(n&s.TokenContext.forOfHead):"async"===e.name&&c(t,{left:e,await:!1}))},t.LogicalExpression=function(e,t){const n=t.type;if(g(n))return!0;if("LogicalExpression"!==n)return!1;switch(e.operator){case"||":return"??"===t.operator||"&&"===t.operator;case"&&":return"??"===t.operator;case"??":return"??"!==t.operator}},t.NullableTypeAnnotation=function(e,t){return i(t)},t.ObjectExpression=function(e,t,n){return b(n)},t.OptionalIndexedAccessType=function(e,t){return l(t)&&t.objectType===e},t.OptionalCallExpression=t.OptionalMemberExpression=function(e,t){return o(t)&&t.callee===e||p(t)&&t.object===e},t.SequenceExpression=function(e,t){const n=t.type;return!("SequenceExpression"===n||"ParenthesizedExpression"===n||"MemberExpression"===n&&t.property===e||"OptionalMemberExpression"===n&&t.property===e||"TemplateLiteral"===n)&&("ClassDeclaration"===n||("ForOfStatement"===n?t.right===e:"ExportDefaultDeclaration"===n||!f(t)))},t.TSSatisfiesExpression=t.TSAsExpression=function(e,t){return("AssignmentExpression"===t.type||"AssignmentPattern"===t.type)&&t.left===e||("BinaryExpression"===t.type&&("|"===t.operator||"&"===t.operator)&&e===t.left||E(e,t))},t.TSConditionalType=function(e,t){const n=t.type;return"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n||"TSTypeOperator"===n||"TSTypeParameter"===n||(("TSIntersectionType"===n||"TSUnionType"===n)&&t.types[0]===e||"TSConditionalType"===n&&(t.checkType===e||t.extendsType===e))},t.TSConstructorType=t.TSFunctionType=function(e,t){const n=t.type;return"TSIntersectionType"===n||"TSUnionType"===n||"TSTypeOperator"===n||"TSOptionalType"===n||"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSConditionalType"===n&&(t.checkType===e||t.extendsType===e)},t.TSInferType=function(e,t){const n=t.type;return"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n||!(!e.typeParameter.constraint||"TSIntersectionType"!==n&&"TSUnionType"!==n||t.types[0]!==e)},t.TSInstantiationExpression=function(e,t){const n=t.type;return("CallExpression"===n||"OptionalCallExpression"===n||"NewExpression"===n||"TSInstantiationExpression"===n)&&!!t.typeParameters},t.TSIntersectionType=function(e,t){const n=t.type;return"TSTypeOperator"===n||"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n},t.UnaryLike=t.TSTypeAssertion=x,t.TSTypeOperator=function(e,t){const n=t.type;return"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n},t.TSUnionType=function(e,t){const n=t.type;return"TSIntersectionType"===n||"TSTypeOperator"===n||"TSArrayType"===n||"TSIndexedAccessType"===n&&t.objectType===e||"TSOptionalType"===n},t.IntersectionTypeAnnotation=t.UnionTypeAnnotation=function(e,t){const n=t.type;return"ArrayTypeAnnotation"===n||"NullableTypeAnnotation"===n||"IntersectionTypeAnnotation"===n||"UnionTypeAnnotation"===n},t.UpdateExpression=function(e,t){return S(e,t)||T(e,t)},t.AwaitExpression=t.YieldExpression=function(e,t){const n=t.type;return"BinaryExpression"===n||"LogicalExpression"===n||"UnaryExpression"===n||"SpreadElement"===n||S(e,t)||"AwaitExpression"===n&&d(e)||"ConditionalExpression"===n&&e===t.test||T(e,t)||g(n)};var r=n(2352),s=n(1373);const{isArrayTypeAnnotation:i,isBinaryExpression:a,isCallExpression:o,isForOfStatement:c,isIndexedAccessType:l,isMemberExpression:p,isObjectPattern:u,isOptionalMemberExpression:h,isYieldExpression:d,isStatement:f}=r,m=new Map([["||",0],["??",0],["|>",0],["&&",1],["|",2],["^",3],["&",4],["==",5],["===",5],["!=",5],["!==",5],["<",6],[">",6],["<=",6],[">=",6],["in",6],["instanceof",6],[">>",7],["<<",7],[">>>",7],["+",8],["-",8],["*",9],["/",9],["%",9],["**",10]]);function y(e,t){return"BinaryExpression"===t||"LogicalExpression"===t?m.get(e.operator):"TSAsExpression"===t||"TSSatisfiesExpression"===t?m.get("in"):void 0}function g(e){return"TSAsExpression"===e||"TSSatisfiesExpression"===e||"TSTypeAssertion"===e}const T=(e,t)=>{const n=t.type;return("ClassDeclaration"===n||"ClassExpression"===n)&&t.superClass===e},S=(e,t)=>{const n=t.type;return("MemberExpression"===n||"OptionalMemberExpression"===n)&&t.object===e||("CallExpression"===n||"OptionalCallExpression"===n||"NewExpression"===n)&&t.callee===e||"TaggedTemplateExpression"===n&&t.tag===e||"TSNonNullExpression"===n};function b(e){return Boolean(e&(s.TokenContext.expressionStatement|s.TokenContext.arrowBody))}function E(e,t){const n=t.type;if("BinaryExpression"===e.type&&"**"===e.operator&&"BinaryExpression"===n&&"**"===t.operator)return t.left===e;if(T(e,t))return!0;if(S(e,t)||"UnaryExpression"===n||"SpreadElement"===n||"AwaitExpression"===n)return!0;const r=y(t,n);if(null!=r){const s=y(e,e.type);if(r===s&&"BinaryExpression"===n&&t.right===e||r>s)return!0}}function x(e,t){return S(e,t)||a(t)&&"**"===t.operator&&t.left===e||T(e,t)}function v(e,t){const n=t.type;return!!("UnaryExpression"===n||"SpreadElement"===n||"BinaryExpression"===n||"LogicalExpression"===n||"ConditionalExpression"===n&&t.test===e||"AwaitExpression"===n||g(n))||x(e,t)}},1799:(e,t,n)=>{var r=n(7217),s=n(270);e.exports=function(e,t,n,i){var a=n.length,o=a,c=!i;if(null==e)return!o;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var p=(l=n[a])[0],u=e[p],h=l[1];if(c&&l[2]){if(void 0===u&&!(p in e))return!1}else{var d=new r;if(i)var f=i(u,h,p,e,t,d);if(!(void 0===f?s(h,u,3,i,d):f))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1802:(e,t,n)=>{var r=n(2224),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,n,r,s){t.push(r?s.replace(i,"$1"):n||e)}),t});e.exports=a},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},1882:(e,t,n)=>{var r=n(2552),s=n(3805);e.exports=function(e){if(!s(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(7733)),a=n(7733),o=n(5552),c=n(262),l=n(8868),p=n(4741),u=n(4815);class h extends s.APIResource{constructor(){super(...arguments),this.steps=new i.Steps(this._client)}create(e,t,n){const{include:r,...s}=t;return this._client.post(u.path`/threads/${e}/runs`,{query:{include:r},body:s,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(u.path`/threads/${r}/runs/${e}`,{...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...s}=t;return this._client.post(u.path`/threads/${r}/runs/${e}`,{body:s,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(u.path`/threads/${e}/runs`,o.CursorPage,{query:t,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(u.path`/threads/${r}/runs/${e}/cancel`,{...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r=(0,c.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:i}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,p.sleep)(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,t,n){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){const{thread_id:r,...s}=t;return this._client.post(u.path`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:s,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return l.AssistantStream.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}}t.Runs=h,h.Steps=a.Steps},1986:(e,t,n)=>{var r=n(1873),s=n(7828),i=n(5288),a=n(5911),o=n(317),c=n(4247),l=r?r.prototype:void 0,p=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new s(e),new s(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=o;case"[object Set]":var f=1&r;if(d||(d=c),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var y=a(d(e),d(t),r,l,u,h);return h.delete(e),y;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1}},2006:(e,t,n)=>{var r=n(5389),s=n(4894),i=n(5950);e.exports=function(e){return function(t,n,a){var o=Object(t);if(!s(t)){var c=r(n,3);t=i(t),n=function(e){return c(o[e],e,o)}}var l=e(t,n,a);return l>-1?o[c?t[l]:l]:void 0}}},2012:(e,t,n)=>{"use strict";t=e.exports=function(...e){return new t.default(...e)},Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=t.InvalidWebhookSignatureError=t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.OpenAIError=t.PagePromise=t.OpenAI=t.APIPromise=t.toFile=t.default=void 0;var r=n(1301);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.OpenAI}});var s=n(8728);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return s.toFile}});var i=n(1482);Object.defineProperty(t,"APIPromise",{enumerable:!0,get:function(){return i.APIPromise}});var a=n(1301);Object.defineProperty(t,"OpenAI",{enumerable:!0,get:function(){return a.OpenAI}});var o=n(5552);Object.defineProperty(t,"PagePromise",{enumerable:!0,get:function(){return o.PagePromise}});var c=n(4172);Object.defineProperty(t,"OpenAIError",{enumerable:!0,get:function(){return c.OpenAIError}}),Object.defineProperty(t,"APIError",{enumerable:!0,get:function(){return c.APIError}}),Object.defineProperty(t,"APIConnectionError",{enumerable:!0,get:function(){return c.APIConnectionError}}),Object.defineProperty(t,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return c.APIConnectionTimeoutError}}),Object.defineProperty(t,"APIUserAbortError",{enumerable:!0,get:function(){return c.APIUserAbortError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return c.NotFoundError}}),Object.defineProperty(t,"ConflictError",{enumerable:!0,get:function(){return c.ConflictError}}),Object.defineProperty(t,"RateLimitError",{enumerable:!0,get:function(){return c.RateLimitError}}),Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return c.BadRequestError}}),Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return c.AuthenticationError}}),Object.defineProperty(t,"InternalServerError",{enumerable:!0,get:function(){return c.InternalServerError}}),Object.defineProperty(t,"PermissionDeniedError",{enumerable:!0,get:function(){return c.PermissionDeniedError}}),Object.defineProperty(t,"UnprocessableEntityError",{enumerable:!0,get:function(){return c.UnprocessableEntityError}}),Object.defineProperty(t,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return c.InvalidWebhookSignatureError}});var l=n(1528);Object.defineProperty(t,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})},2018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isAsyncIterable=t.checkFileSupport=void 0,t.makeFile=s,t.getName=i;const r=n(446);function s(e,n,r){return(0,t.checkFileSupport)(),new File(e,n??"unknown_file",r)}function i(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}t.checkFileSupport=()=>{if("undefined"==typeof File){const{process:e}=globalThis,t="string"==typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}},t.isAsyncIterable=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],t.maybeMultipartFormRequestOptions=async(e,n)=>c(e.body)?{...e,body:await(0,t.createForm)(e.body,n)}:e,t.multipartFormRequestOptions=async(e,n)=>({...e,body:await(0,t.createForm)(e.body,n)});const a=new WeakMap;t.createForm=async(e,t)=>{if(!await function(e){const t="function"==typeof e?e:e.fetch,n=a.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch{return!0}})();return a.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>l(n,e,t))),n};const o=e=>e instanceof Blob&&"name"in e,c=e=>{if((e=>"object"==typeof e&&null!==e&&(e instanceof Response||(0,t.isAsyncIterable)(e)||o(e)))(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e)for(const t in e)if(c(e[t]))return!0;return!1},l=async(e,n,a)=>{if(void 0!==a){if(null==a)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)e.append(n,String(a));else if(a instanceof Response)e.append(n,s([await a.blob()],i(a)));else if((0,t.isAsyncIterable)(a))e.append(n,s([await new Response((0,r.ReadableStreamFrom)(a)).blob()],i(a)));else if(o(a))e.append(n,a,i(a));else if(Array.isArray(a))await Promise.all(a.map(t=>l(e,n+"[]",t)));else{if("object"!=typeof a)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`);await Promise.all(Object.entries(a).map(([t,r])=>l(e,`${n}[${t}]`,r)))}}}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._replaceWith=B,t.replaceExpressionWithStatements=function(e){p.resync.call(this);const t=[],n=j(e,t);if(n){for(const e of t)this.scope.push({id:e});return this.replaceWith(n)[0].get("expressions")}const r=this.getFunctionParent(),i=null==r?void 0:r.node.async,a=null==r?void 0:r.node.generator,o=h([],m(e));this.replaceWith(g(o,[]));const c=this.get("callee");c.get("body").scope.hoistVariables(e=>this.scope.push({id:e}));const l=c.getCompletionRecords();for(const e of l){if(!e.isExpressionStatement())continue;const t=e.findParent(e=>e.isLoop());if(t){let n=t.getData("expressionReplacementReturnUid");n?n=x(n.name):(n=c.scope.generateDeclaredUidIdentifier("ret"),c.get("body").pushContainer("body",M(T(n))),t.setData("expressionReplacementReturnUid",n)),e.get("expression").replaceWith(d("=",T(n),e.node.expression))}else e.replaceWith(M(e.node.expression))}c.arrowFunctionToExpression();const y=c,S=i&&s.default.hasType(this.get("callee.body").node,"AwaitExpression",u),b=a&&s.default.hasType(this.get("callee.body").node,"YieldExpression",u);return S&&(y.set("async",!0),b||this.replaceWith(f(this.node))),b&&(y.set("generator",!0),this.replaceWith(F(this.node,!0))),y.get("body.body")},t.replaceInline=function(e){if(p.resync.call(this),Array.isArray(e)){if(Array.isArray(this.container)){e=o._verifyNodeList.call(this,e);const t=o._containerInsertAfter.call(this,e);return this.remove(),t}return this.replaceWithMultiple(e)}return this.replaceWith(e)},t.replaceWith=function(e){if(p.resync.call(this),this.removed)throw new Error("You can't replace this node, we've already removed it");let t=e instanceof i.default?e.node:e;if(!t)throw new Error("You passed `path.replaceWith()` a falsy node, use `path.remove()` instead");if(this.node===t)return[this];if(this.isProgram()&&!L(t))throw new Error("You can only replace a Program root node with another Program node");if(Array.isArray(t))throw new Error("Don't use `path.replaceWith()` with an array of nodes, use `path.replaceWithMultiple()`");if("string"==typeof t)throw new Error("Don't use `path.replaceWith()` with a source string, use `path.replaceWithSourceString()`");let n="";if(this.isNodeType("Statement")&&I(t)&&(this.canHaveVariableDeclarationOrExpression()||this.canSwapBetweenExpressionAndStatement(t)||this.parentPath.isExportDefaultDeclaration()||(t=b(t),n="expression")),this.isNodeType("Expression")&&N(t)&&!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(t))return this.replaceExpressionWithStatements([t]);const r=this.node;return r&&(A(t,r),R(r)),B.call(this,t),this.type=t.type,p.setScope.call(this),this.requeue(),[n?this.get(n):this]},t.replaceWithMultiple=function(e){var t;p.resync.call(this);const n=o._verifyNodeList.call(this,e);v(n[0],this.node),P(n[n.length-1],this.node),null==(t=(0,a.getCachedPaths)(this))||t.delete(this.node),this.node=this.container[this.key]=null;const r=this.insertAfter(e);return this.node?this.requeue():this.remove(),r},t.replaceWithSourceString=function(e){let t;p.resync.call(this);try{e=`(${e})`,t=(0,c.parse)(e)}catch(t){const n=t.loc;throw n&&(t.message+=" - make sure this is an expression.\n"+(0,r.codeFrameColumns)(e,{start:{line:n.line,column:n.column+1}}),t.code="BABEL_REPLACE_SOURCE_ERROR"),t}const n=t.program.body[0].expression;return s.default.removeProperties(n),this.replaceWith(n)};var r=n(2882),s=n(5781),i=n(9709),a=n(7411),o=n(8345),c=n(2172),l=n(2352),p=n(9578);const{FUNCTION_TYPES:u,arrowFunctionExpression:h,assignmentExpression:d,awaitExpression:f,blockStatement:m,buildUndefinedNode:y,callExpression:g,cloneNode:T,conditionalExpression:S,expressionStatement:b,getBindingIdentifiers:E,identifier:x,inheritLeadingComments:v,inheritTrailingComments:P,inheritsComments:A,isBlockStatement:w,isEmptyStatement:C,isExpression:I,isExpressionStatement:O,isIfStatement:_,isProgram:L,isStatement:N,isVariableDeclaration:k,removeComments:R,returnStatement:M,sequenceExpression:D,validate:U,yieldExpression:F}=l;function B(e){var t;if(!this.container)throw new ReferenceError("Container is falsy");this.inList?U(this.parent,this.key,[e]):U(this.parent,this.key,e),this.debug(`Replace with ${null==e?void 0:e.type}`),null==(t=(0,a.getCachedPaths)(this))||t.set(e,this).delete(this.node),this.node=e,this.container[this.key]=e}function j(e,t){const n=[];let r=!0;for(const s of e)if(C(s)||(r=!1),I(s))n.push(s);else if(O(s))n.push(s.expression);else if(k(s)){if("var"!==s.kind)return;for(const e of s.declarations){const r=E(e);for(const e of Object.keys(r))t.push(T(r[e]));e.init&&n.push(d("=",e.id,e.init))}r=!0}else if(_(s)){const e=s.consequent?j([s.consequent],t):y(),r=s.alternate?j([s.alternate],t):y();if(!e||!r)return;n.push(S(s.test,e,r))}else if(w(s)){const e=j(s.body,t);if(!e)return;n.push(e)}else{if(!C(s))return;0===e.indexOf(s)&&(r=!0)}return r&&n.push(y()),1===n.length?n[0]:D(n)}},2040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0,t.APIResource=class{constructor(e){this._client=e}}},2054:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+s+")?",l="[\\ufe0e\\ufe0f]?",p=l+c+"(?:\\u200d(?:"+[i,a,o].join("|")+")"+l+c+")*",u="(?:"+[i+r+"?",r,a,o,n].join("|")+")",h=RegExp(s+"(?="+s+")|"+u+p,"g");e.exports=function(e){return e.match(h)||[]}},2079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(null==e)return!1;if(r.ALIAS_KEYS[t])return!1;const n=r.FLIPPED_ALIAS_KEYS[t];return!(null==n||!n.includes(e))};var r=n(9793)},2099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Containers=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(7924)),a=n(7924),o=n(5552),c=n(262),l=n(4815);class p extends s.APIResource{constructor(){super(...arguments),this.files=new i.Files(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(l.path`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/containers/${e}`,{...t,headers:(0,c.buildHeaders)([{Accept:"*/*"},t?.headers])})}}t.Containers=p,p.Files=a.Files},2107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!1)};var r=n(5279)},2144:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=async function(e){b=new u.FileLogger(e),b.log("Codebase Visualizer extension activated"),console.log("Codebase Visualizer extension activated"),T=new l.WorkspaceAnalyzer,S=new p.ClineAdapter,E=new h.CodebaseDocGenerator,x=new d.RAGService;const t=o.workspace.workspaceFolders;if(t&&t.length>0){const r=t[0].uri.fsPath,{getFileHashCache:s}=await Promise.resolve().then(()=>a(n(5296)));if(P=s(),await P.initialize(r),b.log("File hash cache initialized"),v=new m.GitWatcher,await v.initialize(r)){const t=v.onGitChange(e=>{b.log("Git event detected",{type:e.type,branch:e.branch,count:e.files.length,files:e.files.slice(0,5)}),"branch-switch"===e.type?(b.log(`Branch switched to: ${e.branch}`),g&&!g.isDisposed&&g.notifyBranchSwitch(e.branch||"unknown")):g&&!g.isDisposed&&g.notifyChangesDetected(e.files)});v.startWatching();const n=await v.getCurrentBranch();if(b.log("Git watcher started",{branch:n}),e.subscriptions.push(t),e.subscriptions.push({dispose:()=>{v&&v.dispose()}}),A=(0,y.getHooksManager)(),await A.initialize(r)){const t=A.getInstalledHooks();if(0===t.length){if("Install Hooks"===await o.window.showInformationMessage("Would you like to install Git hooks for better codebase tracking?","Install Hooks","Not Now")){const e=await A.installAllHooks();e.success.length>0&&o.window.showInformationMessage(`Git hooks installed: ${e.success.join(", ")}`)}}else b.log("Git hooks already installed",{hooks:t});const n=A.startWatchingHookTriggers();e.subscriptions.push(n);const r=A.onHookTriggered(async e=>{b.log("Git hook triggered",{type:e.type}),"post-commit"===e.type||"post-merge"===e.type?g&&!g.isDisposed&&(g.notifyChangesDetected([]),await C()):"post-checkout"===e.type&&g&&!g.isDisposed&&v?.getCurrentBranch().then(e=>{g?.notifyBranchSwitch(e||"unknown")})});e.subscriptions.push(r),e.subscriptions.push({dispose:()=>A?.dispose()}),b.log("Git hooks manager initialized")}}else b.log("Git watcher could not be initialized (not a git repository)")}b.log("Extension services initialized"),b.log("Log file location",{path:b.getLogFilePath()});const r=o.commands.registerCommand("codebase-visualizer.showVisualization",async()=>{await w(e)}),s=o.commands.registerCommand("codebase-visualizer.refreshVisualization",async()=>{g?await C():o.window.showWarningMessage("Visualization panel is not open")}),i=o.commands.registerCommand("codebase-visualizer.changePersona",async()=>{await async function(){const e=await o.window.showQuickPick([{label:" Developer",value:"developer",description:"Technical implementation details"},{label:" Product Manager",value:"product-manager",description:"Business features and user stories"},{label:" Architect",value:"architect",description:"System design and patterns"},{label:" Business Analyst",value:"business-analyst",description:"Process flows and requirements"}],{placeHolder:"Select documentation persona"});e&&o.window.showInformationMessage(`Persona changed to ${e.label}`)}()}),c=o.commands.registerCommand("codebase-visualizer.openLogFile",async()=>{const e=b.getLogFilePath(),t=await o.workspace.openTextDocument(e);await o.window.showTextDocument(t),o.window.showInformationMessage(`Log file: ${e}`)}),I=o.commands.registerCommand("codebase-visualizer.configureLiteLLM",async()=>{const e=(0,f.getLiteLLMService)();await e.promptForConfiguration()&&o.window.showInformationMessage(" LiteLLM configured successfully! AI-powered documentation is now enabled.")}),O=o.commands.registerCommand("codebase-visualizer.generateDocsWithAI",async()=>{const t=(0,f.getLiteLLMService)();(t.isReady()||("Configure"===await o.window.showWarningMessage("LiteLLM is not configured. Would you like to set it up now?","Configure","Cancel")&&await t.promptForConfiguration(),t.isReady()))&&await w(e,!0)}),_=o.commands.registerCommand("codebase-visualizer.installGitHooks",async()=>{if(!A)return void o.window.showWarningMessage("Git hooks manager not initialized. Not a git repository?");const e=await A.installAllHooks();e.success.length>0&&o.window.showInformationMessage(`Git hooks installed: ${e.success.join(", ")}`),e.failed.length>0&&o.window.showWarningMessage(`Failed to install hooks: ${e.failed.join(", ")}`)}),L=o.commands.registerCommand("codebase-visualizer.uninstallGitHooks",async()=>{A?(await A.uninstallAllHooks(),o.window.showInformationMessage("Git hooks uninstalled")):o.window.showWarningMessage("Git hooks manager not initialized.")});e.subscriptions.push(r,s,i,c,I,O,_,L,b),o.extensions.getExtension("saoudrizwan.claude-dev")||o.window.showWarningMessage("Cline extension not found. Code modification features will be disabled. Install Cline from the marketplace.","Install Cline").then(e=>{"Install Cline"===e&&o.commands.executeCommand("workbench.extensions.search","saoudrizwan.claude-dev")})},t.deactivate=function(){console.log("Codebase Visualizer extension deactivated")};const o=a(n(1398)),c=n(5776),l=n(5738),p=n(8886),u=n(9289),h=n(6185),d=n(875),f=n(9147),m=n(6640),y=n(9479);let g,T,S,b,E,x,v,P,A;async function w(e,t=!1){b.log("\n"+"=".repeat(80)),b.log("showVisualization command triggered");const n=o.workspace.workspaceFolders;if(!n||0===n.length)return b.error("No workspace folder open"),void o.window.showErrorMessage("Please open a workspace folder first");const r=n[0].uri;b.log("Workspace folder",{path:r.fsPath}),await o.window.withProgress({location:o.ProgressLocation.Notification,title:"Analyzing Codebase",cancellable:!1},async t=>{let n,s;t.report({increment:0,message:"Starting analysis..."}),b.log("Starting workspace analysis...");try{n=await T.analyze(r),b.log("Workspace analysis completed successfully")}catch(e){throw b.error("Workspace analysis failed",e),e}t.report({increment:30,message:"Generating documentation..."});try{s=await E.generateCodebaseDocsWithAST(n,r,!1),b.log("Documentation generated with AST",{folder:E.getDocsFolder(),components:s.components.length}),o.window.showInformationMessage(` Codebase scanned: ${s.components.length} components indexed in .doc_sync`)}catch(e){b.error("Documentation generation failed",e)}t.report({increment:50,message:"Indexing for RAG..."});try{if(await x.initialize(r),s){const e=E.generateRAGChunks(s);await x.indexDocuments(e),b.log("RAG indexing complete (In-Memory ChromaDB)",{chunks:e.length})}}catch(e){b.error("RAG indexing failed",e)}t.report({increment:70,message:"Building visualization..."}),g&&!g.isDisposed?(x&&g.updateRagService(x),g.show()):(g=new c.VisualizationPanelReact(e,S,x),g.onDispose=()=>{g=void 0,b.log("Visualization panel disposed")});const i={nodes:n.graph.nodes.length,edges:n.graph.edges.length,errors:n.errors.length,warnings:n.warnings.length,entryPoints:n.graph.metadata.entryPoints?.length||0};b.log("Analysis complete",i),console.log("Analysis complete:",i),0===n.graph.nodes.length?(b.error("WARNING: No nodes found in analysis!"),b.log("Analysis warnings",n.warnings),b.log("Analysis errors",n.errors)):b.log("Sample nodes",n.graph.nodes.slice(0,3)),b.log("Updating visualization panel with graph data..."),g.updateGraph(n),b.log("Graph update sent to panel"),t.report({increment:100,message:"Done!"})})}async function C(){if(!g)return;const e=o.workspace.workspaceFolders;if(!e||0===e.length)return;const t=await T.analyze(e[0].uri);g.updateGraph(t);try{await E.generateCodebaseDocsWithAST(t,e[0].uri,!0),g.reloadDocs()}catch(e){console.error("Failed to regenerate docs on refresh:",e)}}},2172:(e,t)=>{"use strict";function n(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=n}}class s{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function i(e,t){const{line:n,column:s,index:i}=e;return new r(n,s+t,i+t)}const a="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var o={ImportMetaOutsideModule:{message:"import.meta may appear only with 'sourceType: \"module\"'",code:a},ImportOutsideModule:{message:"'import' and 'export' may appear only with 'sourceType: \"module\"'",code:a}};const c={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},l=e=>"UpdateExpression"===e.type?c.UpdateExpression[`${e.prefix}`]:c[e.type];var p={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:t})=>`A string literal cannot be used as an exported binding without \`from\`.\n- Did you mean \`export { '${e}' as '${t}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${"ForInStatement"===e?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${"BreakStatement"===e?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.\n- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverDiscardElement:"'void' must be followed by an expression when not used in a binding position.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${l(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${l(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${l(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:t})=>`Unexpected token${t?` '${t}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script` or in the bare case statement.",UnexpectedVoidPattern:"Unexpected void binding.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:t})=>`The only valid meta property for ${e} is ${e}.${t}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,VoidPatternCatchClauseParam:"A void binding can not be the catch clause parameter. Use `try { ... } catch { ... }` if you want to discard the caught error.",VoidPatternInitializer:"A void binding may not have an initializer.",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",YieldNotInGeneratorFunction:"'yield' is only allowed within generator functions.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},u={ParseExpressionEmptyInput:"Unexpected parseExpression() input: The input is empty or contains only comments.",ParseExpressionExpectsEOF:({unexpected:e})=>`Unexpected parseExpression() input: The input should contain exactly one expression, but the first expression is followed by the unexpected character \`${String.fromCodePoint(e)}\`.`};const h=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var d=Object.assign({PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${l({type:e})}; please wrap it in parentheses.`},{PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'});const f=["message"];function m(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:n})}function y({toMessage:e,code:t,reasonCode:n,syntaxPlugin:s}){const i="MissingPlugin"===n||"MissingOneOfPlugins"===n;{const e={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};e[n]&&(n=e[n])}return function a(o,c){const l=new SyntaxError;return l.code=t,l.reasonCode=n,l.loc=o,l.pos=o.index,l.syntaxPlugin=s,i&&(l.missingPlugin=c.missingPlugin),m(l,"clone",function(e={}){var t;const{line:n,column:s,index:i}=null!=(t=e.loc)?t:o;return a(new r(n,s,i),Object.assign({},c,e.details))}),m(l,"details",c),Object.defineProperty(l,"message",{configurable:!0,get(){const t=`${e(c)} (${o.line}:${o.column})`;return this.message=t,t},set(e){Object.defineProperty(this,"message",{value:e,writable:!0})}}),l}}function g(e,t){if(Array.isArray(e))return t=>g(t,e[0]);const r={};for(const s of Object.keys(e)){const i=e[s],a="string"==typeof i?{message:()=>i}:"function"==typeof i?{message:i}:i,{message:o}=a,c=n(a,f),l="string"==typeof o?()=>o:o;r[s]=y(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:s,toMessage:l},t?{syntaxPlugin:t}:{},c))}return r}const T=Object.assign({},g(o),g(p),g({StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."}),g(u),g`pipelineOperator`(d)),{defineProperty:S}=Object,b=(e,t)=>{e&&S(e,t,{enumerable:!1,value:e[t]})};function E(e){return b(e.loc.start,"index"),b(e.loc.end,"index"),e}class x{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const v={brace:new x("{"),j_oTag:new x("<tag"),j_cTag:new x("</tag"),j_expr:new x("<tag>...</tag>",!0)};v.template=new x("`",!0);const P=!0,A=!0,w=!0,C=!0,I=!0;class O{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null}}const _=new Map;function L(e,t={}){t.keyword=e;const n=j(e,t);return _.set(e,n),n}function N(e,t){return j(e,{beforeExpr:P,binop:t})}let k=-1;const R=[],M=[],D=[],U=[],F=[],B=[];function j(e,t={}){var n,r,s,i;return++k,M.push(e),D.push(null!=(n=t.binop)?n:-1),U.push(null!=(r=t.beforeExpr)&&r),F.push(null!=(s=t.startsExpr)&&s),B.push(null!=(i=t.prefix)&&i),R.push(new O(e,t)),k}function $(e,t={}){var n,r,s,i;return++k,_.set(e,k),M.push(e),D.push(null!=(n=t.binop)?n:-1),U.push(null!=(r=t.beforeExpr)&&r),F.push(null!=(s=t.startsExpr)&&s),B.push(null!=(i=t.prefix)&&i),R.push(new O("name",t)),k}const V={bracketL:j("[",{beforeExpr:P,startsExpr:A}),bracketHashL:j("#[",{beforeExpr:P,startsExpr:A}),bracketBarL:j("[|",{beforeExpr:P,startsExpr:A}),bracketR:j("]"),bracketBarR:j("|]"),braceL:j("{",{beforeExpr:P,startsExpr:A}),braceBarL:j("{|",{beforeExpr:P,startsExpr:A}),braceHashL:j("#{",{beforeExpr:P,startsExpr:A}),braceR:j("}"),braceBarR:j("|}"),parenL:j("(",{beforeExpr:P,startsExpr:A}),parenR:j(")"),comma:j(",",{beforeExpr:P}),semi:j(";",{beforeExpr:P}),colon:j(":",{beforeExpr:P}),doubleColon:j("::",{beforeExpr:P}),dot:j("."),question:j("?",{beforeExpr:P}),questionDot:j("?."),arrow:j("=>",{beforeExpr:P}),template:j("template"),ellipsis:j("...",{beforeExpr:P}),backQuote:j("`",{startsExpr:A}),dollarBraceL:j("${",{beforeExpr:P,startsExpr:A}),templateTail:j("...`",{startsExpr:A}),templateNonTail:j("...${",{beforeExpr:P,startsExpr:A}),at:j("@"),hash:j("#",{startsExpr:A}),interpreterDirective:j("#!..."),eq:j("=",{beforeExpr:P,isAssign:C}),assign:j("_=",{beforeExpr:P,isAssign:C}),slashAssign:j("_=",{beforeExpr:P,isAssign:C}),xorAssign:j("_=",{beforeExpr:P,isAssign:C}),moduloAssign:j("_=",{beforeExpr:P,isAssign:C}),incDec:j("++/--",{prefix:I,postfix:!0,startsExpr:A}),bang:j("!",{beforeExpr:P,prefix:I,startsExpr:A}),tilde:j("~",{beforeExpr:P,prefix:I,startsExpr:A}),doubleCaret:j("^^",{startsExpr:A}),doubleAt:j("@@",{startsExpr:A}),pipeline:N("|>",0),nullishCoalescing:N("??",1),logicalOR:N("||",1),logicalAND:N("&&",2),bitwiseOR:N("|",3),bitwiseXOR:N("^",4),bitwiseAND:N("&",5),equality:N("==/!=/===/!==",6),lt:N("</>/<=/>=",7),gt:N("</>/<=/>=",7),relational:N("</>/<=/>=",7),bitShift:N("<</>>/>>>",8),bitShiftL:N("<</>>/>>>",8),bitShiftR:N("<</>>/>>>",8),plusMin:j("+/-",{beforeExpr:P,binop:9,prefix:I,startsExpr:A}),modulo:j("%",{binop:10,startsExpr:A}),star:j("*",{binop:10}),slash:N("/",10),exponent:j("**",{beforeExpr:P,binop:11,rightAssociative:!0}),_in:L("in",{beforeExpr:P,binop:7}),_instanceof:L("instanceof",{beforeExpr:P,binop:7}),_break:L("break"),_case:L("case",{beforeExpr:P}),_catch:L("catch"),_continue:L("continue"),_debugger:L("debugger"),_default:L("default",{beforeExpr:P}),_else:L("else",{beforeExpr:P}),_finally:L("finally"),_function:L("function",{startsExpr:A}),_if:L("if"),_return:L("return",{beforeExpr:P}),_switch:L("switch"),_throw:L("throw",{beforeExpr:P,prefix:I,startsExpr:A}),_try:L("try"),_var:L("var"),_const:L("const"),_with:L("with"),_new:L("new",{beforeExpr:P,startsExpr:A}),_this:L("this",{startsExpr:A}),_super:L("super",{startsExpr:A}),_class:L("class",{startsExpr:A}),_extends:L("extends",{beforeExpr:P}),_export:L("export"),_import:L("import",{startsExpr:A}),_null:L("null",{startsExpr:A}),_true:L("true",{startsExpr:A}),_false:L("false",{startsExpr:A}),_typeof:L("typeof",{beforeExpr:P,prefix:I,startsExpr:A}),_void:L("void",{beforeExpr:P,prefix:I,startsExpr:A}),_delete:L("delete",{beforeExpr:P,prefix:I,startsExpr:A}),_do:L("do",{isLoop:w,beforeExpr:P}),_for:L("for",{isLoop:w}),_while:L("while",{isLoop:w}),_as:$("as",{startsExpr:A}),_assert:$("assert",{startsExpr:A}),_async:$("async",{startsExpr:A}),_await:$("await",{startsExpr:A}),_defer:$("defer",{startsExpr:A}),_from:$("from",{startsExpr:A}),_get:$("get",{startsExpr:A}),_let:$("let",{startsExpr:A}),_meta:$("meta",{startsExpr:A}),_of:$("of",{startsExpr:A}),_sent:$("sent",{startsExpr:A}),_set:$("set",{startsExpr:A}),_source:$("source",{startsExpr:A}),_static:$("static",{startsExpr:A}),_using:$("using",{startsExpr:A}),_yield:$("yield",{startsExpr:A}),_asserts:$("asserts",{startsExpr:A}),_checks:$("checks",{startsExpr:A}),_exports:$("exports",{startsExpr:A}),_global:$("global",{startsExpr:A}),_implements:$("implements",{startsExpr:A}),_intrinsic:$("intrinsic",{startsExpr:A}),_infer:$("infer",{startsExpr:A}),_is:$("is",{startsExpr:A}),_mixins:$("mixins",{startsExpr:A}),_proto:$("proto",{startsExpr:A}),_require:$("require",{startsExpr:A}),_satisfies:$("satisfies",{startsExpr:A}),_keyof:$("keyof",{startsExpr:A}),_readonly:$("readonly",{startsExpr:A}),_unique:$("unique",{startsExpr:A}),_abstract:$("abstract",{startsExpr:A}),_declare:$("declare",{startsExpr:A}),_enum:$("enum",{startsExpr:A}),_module:$("module",{startsExpr:A}),_namespace:$("namespace",{startsExpr:A}),_interface:$("interface",{startsExpr:A}),_type:$("type",{startsExpr:A}),_opaque:$("opaque",{startsExpr:A}),name:j("name",{startsExpr:A}),placeholder:j("%%",{startsExpr:A}),string:j("string",{startsExpr:A}),num:j("num",{startsExpr:A}),bigint:j("bigint",{startsExpr:A}),decimal:j("decimal",{startsExpr:A}),regexp:j("regexp",{startsExpr:A}),privateName:j("#name",{startsExpr:A}),eof:j("eof"),jsxName:j("jsxName"),jsxText:j("jsxText",{beforeExpr:P}),jsxTagStart:j("jsxTagStart",{startsExpr:A}),jsxTagEnd:j("jsxTagEnd")};function W(e){return e>=93&&e<=133}function K(e){return e>=58&&e<=133}function G(e){return e>=58&&e<=137}function q(e){return F[e]}function z(e){return e>=129&&e<=131}function H(e){return e>=58&&e<=92}function Y(e){return 34===e}function J(e){return M[e]}function X(e){return D[e]}function Q(e){return e>=24&&e<=25}function Z(e){return R[e]}R[8].updateContext=e=>{e.pop()},R[5].updateContext=R[7].updateContext=R[23].updateContext=e=>{e.push(v.brace)},R[22].updateContext=e=>{e[e.length-1]===v.template?e.pop():e.push(v.template)},R[143].updateContext=e=>{e.push(v.j_expr,v.j_oTag)};let ee="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",te="------------------------------------------------------------------------------------------------------------------------------------------------------";const ne=new RegExp("["+ee+"]"),re=new RegExp("["+ee+te+"]");ee=te=null;const se=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,7,25,39,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,5,57,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,24,43,261,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,33,24,3,24,45,74,6,0,67,12,65,1,2,0,15,4,10,7381,42,31,98,114,8702,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,208,30,2,2,2,1,2,6,3,4,10,1,225,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4381,3,5773,3,7472,16,621,2467,541,1507,4938,6,8489],ie=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,78,5,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,199,7,137,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,55,9,266,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,233,0,3,0,8,1,6,0,475,6,110,6,6,9,4759,9,787719,239];function ae(e,t){let n=65536;for(let r=0,s=t.length;r<s;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function oe(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&ne.test(String.fromCharCode(e)):ae(e,se)))}function ce(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&re.test(String.fromCharCode(e)):ae(e,se)||ae(e,ie))))}const le=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),pe=new Set(["implements","interface","let","package","private","protected","public","static","yield"]),ue=new Set(["eval","arguments"]);function he(e,t){return t&&"await"===e||"enum"===e}function de(e,t){return he(e,t)||pe.has(e)}function fe(e){return ue.has(e)}function me(e,t){return de(e,t)||fe(e)}const ye=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);class ge{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}}class Te{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inTopLevel(){return(1&this.currentScope().flags)>0}get inFunction(){return(2&this.currentVarScopeFlags())>0}get allowSuper(){return(16&this.currentThisScopeFlags())>0}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0}get allowNewTarget(){return(512&this.currentThisScopeFlags())>0}get inClass(){return(64&this.currentThisScopeFlags())>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(64&e)>0&&!(2&e)}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(128&t)return!0;if(1731&t)return!1}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0}get inBareCaseStatement(){return(256&this.currentScope().flags)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new ge(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(130&e.flags||!this.parser.inModule&&1&e.flags)}declareName(e,t,n){let r=this.currentScope();if(8&t||16&t){this.checkRedeclarationInScope(r,e,t,n);let s=r.names.get(e)||0;16&t?s|=4:(r.firstLexicalName||(r.firstLexicalName=e),s|=2),r.names.set(e,s),8&t&&this.maybeExportDefined(r,e)}else if(4&t)for(let s=this.scopeStack.length-1;s>=0&&(r=this.scopeStack[s],this.checkRedeclarationInScope(r,e,t,n),r.names.set(e,1|(r.names.get(e)||0)),this.maybeExportDefined(r,e),!(1667&r.flags));--s);this.parser.inModule&&1&r.flags&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&1&e.flags&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,n,r){this.isRedeclaredInScope(e,t,n)&&this.parser.raise(T.VarRedeclaration,r,{identifierName:t})}isRedeclaredInScope(e,t,n){if(!(1&n))return!1;if(8&n)return e.names.has(t);const r=e.names.get(t)||0;return 16&n?(2&r)>0||!this.treatFunctionsAsVarInScope(e)&&(1&r)>0:(2&r)>0&&!(8&e.flags&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(4&r)>0}checkLocalExport(e){const{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(1667&t)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(1731&t&&!(4&t))return t}}}class Se extends ge{constructor(...e){super(...e),this.declareFunctions=new Set}}class be extends Te{createScope(e){return new Se(e)}declareName(e,t,n){const r=this.currentScope();if(2048&t)return this.checkRedeclarationInScope(r,e,t,n),this.maybeExportDefined(r,e),void r.declareFunctions.add(e);super.declareName(e,t,n)}isRedeclaredInScope(e,t,n){if(super.isRedeclaredInScope(e,t,n))return!0;if(2048&n&&!e.declareFunctions.has(t)){const n=e.names.get(t);return(4&n)>0||(2&n)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}const Ee=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),xe=g`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:t})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${t}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:t})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${t}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:t})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:t,explicitType:n})=>`Enum \`${e}\` has type \`${n}\`, so the initializer of \`${t}\` needs to be a ${n} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:t})=>`Symbol enum members cannot be initialized. Use \`${t},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:t})=>`The enum member initializer for \`${t}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:t,suggestion:n})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${t}\`, consider using \`${n}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:t})=>`Number enum members need to be initialized, e.g. \`${t} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:t})=>`\`declare export ${e}\` is not supported. Use \`${t}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function ve(e){return"type"===e.importKind||"typeof"===e.importKind}const Pe={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"},Ae=/\*?\s*@((?:no)?flow)\b/,we={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},Ce=new RegExp(/\r\n|[\r\n\u2028\u2029]/.source,"g");function Ie(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Oe(e,t,n){for(let r=t;r<n;r++)if(Ie(e.charCodeAt(r)))return!0;return!1}const _e=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Le=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function Ne(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}const ke=g`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:t})=>`Unexpected token \`${e}\`. Did you mean \`${t}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function Re(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type)}function Me(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return Me(e.object)+"."+Me(e.property);throw new Error("Node had unexpected type: "+e.type)}class De extends ge{constructor(...e){super(...e),this.tsNames=new Map}}class Ue extends Te{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new De(e)}enter(e){1024===e&&this.importsStack.push(new Set),super.enter(e)}exit(){const e=super.exit();return 1024===e&&this.importsStack.pop(),e}hasImport(e,t){const n=this.importsStack.length;if(this.importsStack[n-1].has(e))return!0;if(!t&&n>1)for(let t=0;t<n-1;t++)if(this.importsStack[t].has(e))return!0;return!1}declareName(e,t,n){if(4096&t)return this.hasImport(e,!0)&&this.parser.raise(T.VarRedeclaration,n,{identifierName:e}),void this.importsStack[this.importsStack.length-1].add(e);const r=this.currentScope();let s=r.tsNames.get(e)||0;if(1024&t)return this.maybeExportDefined(r,e),void r.tsNames.set(e,16|s);super.declareName(e,t,n),2&t&&(1&t||(this.checkRedeclarationInScope(r,e,t,n),this.maybeExportDefined(r,e)),s|=1),256&t&&(s|=2),512&t&&(s|=4),128&t&&(s|=8),s&&r.tsNames.set(e,s)}isRedeclaredInScope(e,t,n){const r=e.tsNames.get(t);return(2&r)>0?!(256&n)||!!(512&n)!=(4&r)>0:128&n&&(8&r)>0?!!(2&e.names.get(t))&&!!(1&n):!!(2&n&&(1&r)>0)||super.isRedeclaredInScope(e,t,n)}checkLocalExport(e){const{name:t}=e;if(!this.hasImport(t)){for(let e=this.scopeStack.length-1;e>=0;e--){const n=this.scopeStack[e].tsNames.get(t);if((1&n)>0||(16&n)>0)return}super.checkLocalExport(e)}}}class Fe{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(2&this.currentFlags())>0}get hasYield(){return(1&this.currentFlags())>0}get hasReturn(){return(4&this.currentFlags())>0}get hasIn(){return(8&this.currentFlags())>0}}function Be(e,t){return(e?2:0)|(t?1:0)}class je{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(e){return e+this.startIndex}offsetToSourcePos(e){return e-this.startIndex}hasPlugin(e){if("string"==typeof e)return this.plugins.has(e);{const[t,n]=e;if(!this.hasPlugin(t))return!1;const r=this.plugins.get(t);for(const e of Object.keys(n))if((null==r?void 0:r[e])!==n[e])return!1;return!0}}getPluginOption(e,t){var n;return null==(n=this.plugins.get(e))?void 0:n[t]}}function $e(e,t){void 0===e.trailingComments?e.trailingComments=t:e.trailingComments.unshift(...t)}function Ve(e,t){void 0===e.innerComments?e.innerComments=t:e.innerComments.unshift(...t)}function We(e,t,n){let r=null,s=t.length;for(;null===r&&s>0;)r=t[--s];null===r||r.start>n.start?Ve(e,n.comments):$e(r,n.comments)}class Ke extends je{addComment(e){this.filename&&(e.loc.filename=this.filename);const{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++}processComment(e){const{commentStack:t}=this.state,n=t.length;if(0===n)return;let r=n-1;const s=t[r];s.start===e.end&&(s.leadingNode=e,r--);const{start:i}=e;for(;r>=0;r--){const n=t[r],s=n.end;if(!(s>i)){s===i&&(n.trailingNode=e);break}n.containingNode=e,this.finalizeComment(n),t.splice(r,1)}}finalizeComment(e){var t;const{comments:n}=e;if(null!==e.leadingNode||null!==e.trailingNode)null!==e.leadingNode&&$e(e.leadingNode,n),null!==e.trailingNode&&function(e,t){void 0===e.leadingComments?e.leadingComments=t:e.leadingComments.unshift(...t)}(e.trailingNode,n);else{const r=e.containingNode,s=e.start;if(44===this.input.charCodeAt(this.offsetToSourcePos(s)-1))switch(r.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":We(r,r.properties,e);break;case"CallExpression":case"OptionalCallExpression":We(r,r.arguments,e);break;case"ImportExpression":We(r,[r.source,null!=(t=r.options)?t:null],e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":We(r,r.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":We(r,r.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":We(r,r.specifiers,e);break;case"TSEnumDeclaration":case"TSEnumBody":We(r,r.members,e);break;default:Ve(r,n)}else Ve(r,n)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:n}=t;if(0===n)return;const r=t[n-1];r.leadingNode===e&&(r.leadingNode=null)}takeSurroundingComments(e,t,n){const{commentStack:r}=this.state,s=r.length;if(0===s)return;let i=s-1;for(;i>=0;i--){const s=r[i],a=s.end;if(s.start===n)s.leadingNode=e;else if(a===t)s.trailingNode=e;else if(a<t)break}}}class Ge{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[v.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(1&this.flags)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:t,startIndex:n,startLine:s,startColumn:i}){this.strict=!1!==e&&(!0===e||"module"===t),this.startIndex=n,this.curLine=s,this.lineStart=-i,this.startLoc=this.endLoc=new r(s,i,n)}get maybeInArrowParameters(){return(2&this.flags)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(4&this.flags)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(8&this.flags)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(16&this.flags)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(32&this.flags)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(64&this.flags)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(128&this.flags)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(256&this.flags)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(512&this.flags)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(1024&this.flags)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(2048&this.flags)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(4096&this.flags)>0}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097}curPosition(){return new r(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){const e=new Ge;return e.flags=this.flags,e.startIndex=this.startIndex,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}}var qe=function(e){return e>=48&&e<=57};const ze={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},He={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function Ye(e,t,n,r,s,i){const a=n,o=r,c=s;let l="",p=null,u=n;const{length:h}=t;for(;;){if(n>=h){i.unterminated(a,o,c),l+=t.slice(u,n);break}const d=t.charCodeAt(n);if(Je(e,d,t,n)){l+=t.slice(u,n);break}if(92===d){l+=t.slice(u,n);const a=Xe(t,n,r,s,"template"===e,i);null!==a.ch||p?l+=a.ch:p={pos:n,lineStart:r,curLine:s},({pos:n,lineStart:r,curLine:s}=a),u=n}else 8232===d||8233===d?(++s,r=++n):10===d||13===d?"template"===e?(l+=t.slice(u,n)+"\n",++n,13===d&&10===t.charCodeAt(n)&&++n,++s,u=r=n):i.unterminated(a,o,c):++n}return{pos:n,str:l,firstInvalidLoc:p,lineStart:r,curLine:s,containsInvalid:!!p}}function Je(e,t,n,r){return"template"===e?96===t||36===t&&123===n.charCodeAt(r+1):t===("double"===e?34:39)}function Xe(e,t,n,r,s,i){const a=!s;t++;const o=e=>({pos:t,ch:e,lineStart:n,curLine:r}),c=e.charCodeAt(t++);switch(c){case 110:return o("\n");case 114:return o("\r");case 120:{let s;return({code:s,pos:t}=Qe(e,t,n,r,2,!1,a,i)),o(null===s?null:String.fromCharCode(s))}case 117:{let s;return({code:s,pos:t}=et(e,t,n,r,a,i)),o(null===s?null:String.fromCodePoint(s))}case 116:return o("\t");case 98:return o("\b");case 118:return o("\v");case 102:return o("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:n=t,++r;case 8232:case 8233:return o("");case 56:case 57:if(s)return o(null);i.strictNumericEscape(t-1,n,r);default:if(c>=48&&c<=55){const a=t-1;let c=/^[0-7]+/.exec(e.slice(a,t+2))[0],l=parseInt(c,8);l>255&&(c=c.slice(0,-1),l=parseInt(c,8)),t+=c.length-1;const p=e.charCodeAt(t);if("0"!==c||56===p||57===p){if(s)return o(null);i.strictNumericEscape(a,n,r)}return o(String.fromCharCode(l))}return o(String.fromCharCode(c))}}function Qe(e,t,n,r,s,i,a,o){const c=t;let l;return({n:l,pos:t}=Ze(e,t,n,r,16,s,i,!1,o,!a)),null===l&&(a?o.invalidEscapeSequence(c,n,r):t=c-1),{code:l,pos:t}}function Ze(e,t,n,r,s,i,a,o,c,l){const p=t,u=16===s?ze.hex:ze.decBinOct,h=16===s?He.hex:10===s?He.dec:8===s?He.oct:He.bin;let d=!1,f=0;for(let p=0,m=null==i?1/0:i;p<m;++p){const i=e.charCodeAt(t);let p;if(95===i&&"bail"!==o){const s=e.charCodeAt(t-1),i=e.charCodeAt(t+1);if(o){if(Number.isNaN(i)||!h(i)||u.has(s)||u.has(i)){if(l)return{n:null,pos:t};c.unexpectedNumericSeparator(t,n,r)}}else{if(l)return{n:null,pos:t};c.numericSeparatorInEscapeSequence(t,n,r)}++t;continue}if(p=i>=97?i-97+10:i>=65?i-65+10:qe(i)?i-48:1/0,p>=s){if(p<=9&&l)return{n:null,pos:t};if(p<=9&&c.invalidDigit(t,n,r,s))p=0;else{if(!a)break;p=0,d=!0}}++t,f=f*s+p}return t===p||null!=i&&t-p!==i||d?{n:null,pos:t}:{n:f,pos:t}}function et(e,t,n,r,s,i){let a;if(123===e.charCodeAt(t)){if(++t,({code:a,pos:t}=Qe(e,t,n,r,e.indexOf("}",t)-t,!0,s,i)),++t,null!==a&&a>1114111){if(!s)return{code:null,pos:t};i.invalidCodePoint(t,n,r)}}else({code:a,pos:t}=Qe(e,t,n,r,4,!1,s,i));return{code:a,pos:t}}function tt(e,t,n){return new r(n,e-t,e)}const nt=new Set([103,109,115,105,121,117,100,118]);class rt{constructor(e){const t=e.startIndex||0;this.type=e.type,this.value=e.value,this.start=t+e.start,this.end=t+e.end,this.loc=new s(e.startLoc,e.endLoc)}}class st extends Ke{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(e,t,n,r)=>!!(2048&this.optionFlags)&&(this.raise(T.InvalidDigit,tt(e,t,n),{radix:r}),!0),numericSeparatorInEscapeSequence:this.errorBuilder(T.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(T.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(T.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(T.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(e,t,n)=>{this.recordStrictModeErrors(T.StrictNumericEscape,tt(e,t,n))},unterminated:(e,t,n)=>{throw this.raise(T.UnterminatedString,tt(e-1,t,n))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(T.StrictNumericEscape),unterminated:(e,t,n)=>{throw this.raise(T.UnterminatedTemplate,tt(e,t,n))}}),this.state=new Ge,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),256&this.optionFlags&&this.pushToken(new rt(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return!!this.match(e)&&(this.next(),!0)}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return _e.lastIndex=e,_e.test(this.input)?_e.lastIndex:e}lookaheadCharCode(){return this.lookaheadCharCodeSince(this.state.pos)}lookaheadCharCodeSince(e){return this.input.charCodeAt(this.nextTokenStartSince(e))}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return Le.lastIndex=e,Le.test(this.input)?Le.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if(55296==(64512&t)&&++e<this.input.length){const n=this.input.charCodeAt(e);56320==(64512&n)&&(t=65536+((1023&t)<<10)+(1023&n))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([e,t])=>this.raise(e,t)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length?this.finishToken(140):this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());const n=this.state.pos,r=this.input.indexOf(e,n+2);if(-1===r)throw this.raise(T.UnterminatedComment,this.state.curPosition());for(this.state.pos=r+e.length,Ce.lastIndex=n+2;Ce.test(this.input)&&Ce.lastIndex<=r;)++this.state.curLine,this.state.lineStart=Ce.lastIndex;if(this.isLookahead)return;const i={type:"CommentBlock",value:this.input.slice(n+2,r),start:this.sourceToOffsetPos(n),end:this.sourceToOffsetPos(r+e.length),loc:new s(t,this.state.curPosition())};return 256&this.optionFlags&&this.pushToken(i),i}skipLineComment(e){const t=this.state.pos;let n;this.isLookahead||(n=this.state.curPosition());let r=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!Ie(r)&&++this.state.pos<this.length;)r=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const i=this.state.pos,a={type:"CommentLine",value:this.input.slice(t+e,i),start:this.sourceToOffsetPos(t),end:this.sourceToOffsetPos(i),loc:new s(n,this.state.curPosition())};return 256&this.optionFlags&&this.pushToken(a),a}skipSpace(){const e=this.state.pos,t=4096&this.optionFlags?[]:null;e:for(;this.state.pos<this.length;){const n=this.input.charCodeAt(this.state.pos);switch(n){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const e=this.skipBlockComment("*/");void 0!==e&&(this.addComment(e),null==t||t.push(e));break}case 47:{const e=this.skipLineComment(2);void 0!==e&&(this.addComment(e),null==t||t.push(e));break}default:break e}break;default:if(Ne(n))++this.state.pos;else if(45===n&&!this.inModule&&8192&this.optionFlags){const n=this.state.pos;if(45!==this.input.charCodeAt(n+1)||62!==this.input.charCodeAt(n+2)||!(0===e||this.state.lineStart>e))break e;{const e=this.skipLineComment(3);void 0!==e&&(this.addComment(e),null==t||t.push(e))}}else{if(60!==n||this.inModule||!(8192&this.optionFlags))break e;{const e=this.state.pos;if(33!==this.input.charCodeAt(e+1)||45!==this.input.charCodeAt(e+2)||45!==this.input.charCodeAt(e+3))break e;{const e=this.skipLineComment(4);void 0!==e&&(this.addComment(e),null==t||t.push(e))}}}}}if((null==t?void 0:t.length)>0){const n=this.state.pos,r={start:this.sourceToOffsetPos(e),end:this.sourceToOffsetPos(n),comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(r)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const n=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(n)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(T.UnexpectedDigitAfterHash,this.state.curPosition());if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"bar"===this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(123===t?T.RecordExpressionHashIncorrectStartSyntaxType:T.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,123===t?this.finishToken(7):this.finishToken(1)}else oe(t)?(++this.state.pos,this.finishToken(139,this.readWord1(t))):92===t?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);e>=48&&e<=57?this.readNumber(!0):46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;const t=this.state.pos;for(this.state.pos+=1;!Ie(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const n=this.input.slice(t+2,this.state.pos);return this.finishToken(28,n),!0}readToken_mult_modulo(e){let t=42===e?55:54,n=1,r=this.input.charCodeAt(this.state.pos+1);42===e&&42===r&&(n++,r=this.input.charCodeAt(this.state.pos+2),t=57),61!==r||this.state.inType||(n++,t=37===e?33:30),this.finishOp(t,n)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t!==e){if(124===e){if(62===t)return void this.finishOp(39,2);if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(T.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(9)}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(T.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(4)}}61!==t?this.finishOp(124===e?43:45,1):this.finishOp(30,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(30,3):this.finishOp(124===e?41:42,2)}readToken_caret(){const e=this.input.charCodeAt(this.state.pos+1);61!==e||this.state.inType?94===e&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),94===this.input.codePointAt(this.state.pos)&&this.unexpected()):this.finishOp(44,1):this.finishOp(32,2)}readToken_atSign(){64===this.input.charCodeAt(this.state.pos+1)&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);t!==e?61===t?this.finishOp(30,2):this.finishOp(53,1):this.finishOp(34,2)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(60===t)return 61===this.input.charCodeAt(e+2)?void this.finishOp(30,3):void this.finishOp(51,2);61!==t?this.finishOp(47,1):this.finishOp(49,2)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(62===t){const t=62===this.input.charCodeAt(e+2)?3:2;return 61===this.input.charCodeAt(e+t)?void this.finishOp(30,t+1):void this.finishOp(52,t)}61!==t?this.finishOp(48,1):this.finishOp(49,2)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(61!==t)return 61===e&&62===t?(this.state.pos+=2,void this.finishToken(19)):void this.finishOp(61===e?29:35,1);this.finishOp(46,61===this.input.charCodeAt(this.state.pos+2)?3:2)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(30,3):this.finishOp(40,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(17)):(this.state.pos+=2,this.finishToken(18))}getTokenFromCode(e){switch(e){case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(10);case 41:return++this.state.pos,void this.finishToken(11);case 59:return++this.state.pos,void this.finishToken(13);case 44:return++this.state.pos,void this.finishToken(12);case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(T.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:return++this.state.pos,void this.finishToken(3);case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(T.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:return++this.state.pos,void this.finishToken(8);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(15,2):(++this.state.pos,this.finishToken(14)));case 63:return void this.readToken_question();case 96:return void this.readTemplateToken();case 48:{const e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e)return void this.readRadixNumber(16);if(111===e||79===e)return void this.readRadixNumber(8);if(98===e||66===e)return void this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(e);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(e);case 124:case 38:return void this.readToken_pipe_amp(e);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(e);case 60:return void this.readToken_lt();case 62:return void this.readToken_gt();case 61:case 33:return void this.readToken_eq_excl(e);case 126:return void this.finishOp(36,1);case 64:return void this.readToken_atSign();case 35:return void this.readToken_numberSign();case 92:return void this.readWord();default:if(oe(e))return void this.readWord(e)}throw this.raise(T.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,t){const n=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,n)}readRegexp(){const e=this.state.startLoc,t=this.state.start+1;let n,r,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(T.UnterminatedRegExp,i(e,1));const t=this.input.charCodeAt(s);if(Ie(t))throw this.raise(T.UnterminatedRegExp,i(e,1));if(n)n=!1;else{if(91===t)r=!0;else if(93===t&&r)r=!1;else if(47===t&&!r)break;n=92===t}}const a=this.input.slice(t,s);++s;let o="";const c=()=>i(e,s+2-t);for(;s<this.length;){const e=this.codePointAtPos(s),t=String.fromCharCode(e);if(nt.has(e))118===e?o.includes("u")&&this.raise(T.IncompatibleRegExpUVFlags,c()):117===e&&o.includes("v")&&this.raise(T.IncompatibleRegExpUVFlags,c()),o.includes(t)&&this.raise(T.DuplicateRegExpFlags,c());else{if(!ce(e)&&92!==e)break;this.raise(T.MalformedRegExpFlags,c())}++s,o+=t}this.state.pos=s,this.finishToken(138,{pattern:a,flags:o})}readInt(e,t,n=!1,r=!0){const{n:s,pos:i}=Ze(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,n,r,this.errorHandlers_readInt,!1);return this.state.pos=i,s}readRadixNumber(e){const t=this.state.pos,n=this.state.curPosition();let r=!1;this.state.pos+=2;const s=this.readInt(e);null==s&&this.raise(T.InvalidDigit,i(n,2),{radix:e});const a=this.input.charCodeAt(this.state.pos);if(110===a)++this.state.pos,r=!0;else if(109===a)throw this.raise(T.InvalidDecimal,n);if(oe(this.codePointAtPos(this.state.pos)))throw this.raise(T.NumberIdentifier,this.state.curPosition());if(r){const e=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");return void this.finishToken(136,e)}this.finishToken(135,s)}readNumber(e){const t=this.state.pos,n=this.state.curPosition();let r=!1,s=!1,a=!1,o=!1;e||null!==this.readInt(10)||this.raise(T.InvalidNumber,this.state.curPosition());const c=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(c){const e=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(T.StrictOctalLiteral,n),!this.state.strict){const t=e.indexOf("_");t>0&&this.raise(T.ZeroDigitNumericSeparator,i(n,t))}o=c&&!/[89]/.test(e)}let l=this.input.charCodeAt(this.state.pos);if(46!==l||o||(++this.state.pos,this.readInt(10),r=!0,l=this.input.charCodeAt(this.state.pos)),69!==l&&101!==l||o||(l=this.input.charCodeAt(++this.state.pos),43!==l&&45!==l||++this.state.pos,null===this.readInt(10)&&this.raise(T.InvalidOrMissingExponent,n),r=!0,a=!0,l=this.input.charCodeAt(this.state.pos)),110===l&&((r||c)&&this.raise(T.InvalidBigIntLiteral,n),++this.state.pos,s=!0),109===l){this.expectPlugin("decimal",this.state.curPosition()),(a||c)&&this.raise(T.InvalidDecimal,n),++this.state.pos;var p=!0}if(oe(this.codePointAtPos(this.state.pos)))throw this.raise(T.NumberIdentifier,this.state.curPosition());const u=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(s)return void this.finishToken(136,u);if(p)return void this.finishToken(137,u);const h=o?parseInt(u,8):parseFloat(u);this.finishToken(135,h)}readCodePoint(e){const{code:t,pos:n}=et(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=n,t}readString(e){const{str:t,pos:n,curLine:r,lineStart:s}=Ye(34===e?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=n+1,this.state.lineStart=s,this.state.curLine=r,this.finishToken(134,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const e=this.input[this.state.pos],{str:t,firstInvalidLoc:n,pos:s,curLine:i,lineStart:a}=Ye("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=s+1,this.state.lineStart=a,this.state.curLine=i,n&&(this.state.firstInvalidTemplateEscapePos=new r(n.curLine,n.pos-n.lineStart,this.sourceToOffsetPos(n.pos))),96===this.input.codePointAt(s)?this.finishToken(24,n?null:e+t+"`"):(this.state.pos++,this.finishToken(25,n?null:e+t+"${"))}recordStrictModeErrors(e,t){const n=t.index;this.state.strict&&!this.state.strictErrors.has(n)?this.raise(e,t):this.state.strictErrors.set(n,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="";const n=this.state.pos;let r=this.state.pos;for(void 0!==e&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const e=this.codePointAtPos(this.state.pos);if(ce(e))this.state.pos+=e<=65535?1:2;else{if(92!==e)break;{this.state.containsEsc=!0,t+=this.input.slice(r,this.state.pos);const e=this.state.curPosition(),s=this.state.pos===n?oe:ce;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(T.MissingUnicodeEscape,this.state.curPosition()),r=this.state.pos-1;continue}++this.state.pos;const i=this.readCodePoint(!0);null!==i&&(s(i)||this.raise(T.EscapedCharNotAnIdentifier,e),t+=String.fromCodePoint(i)),r=this.state.pos}}}return t+this.input.slice(r,this.state.pos)}readWord(e){const t=this.readWord1(e),n=_.get(t);void 0!==n?this.finishToken(n,J(n)):this.finishToken(132,t)}checkKeywordEscapes(){const{type:e}=this.state;H(e)&&this.state.containsEsc&&this.raise(T.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:J(e)})}raise(e,t,n={}){const s=e(t instanceof r?t:t.loc.start,n);if(!(2048&this.optionFlags))throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(e,t,n={}){const s=t instanceof r?t:t.loc.start,i=s.index,a=this.state.errors;for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.loc.index===i)return a[t]=e(s,n);if(r.loc.index<i)break}return this.raise(e,t,n)}updateContext(e){}unexpected(e,t){throw this.raise(T.UnexpectedToken,null!=e?e:this.state.startLoc,{expected:t?J(t):null})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(T.MissingPlugin,null!=t?t:this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some(e=>this.hasPlugin(e)))throw this.raise(T.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorBuilder(e){return(t,n,r)=>{this.raise(e,tt(t,n,r))}}}class it{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class at{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new it)}exit(){const e=this.stack.pop(),t=this.current();for(const[n,r]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(n)||t.undefinedPrivateNames.set(n,r):this.parser.raise(T.InvalidPrivateFieldResolution,r,{identifierName:n})}declarePrivateName(e,t,n){const{privateNames:r,loneAccessors:s,undefinedPrivateNames:i}=this.current();let a=r.has(e);if(3&t){const n=a&&s.get(e);n?(a=(3&n)==(3&t)||(4&n)!=(4&t),a||s.delete(e)):a||s.set(e,t)}a&&this.parser.raise(T.PrivateNameRedeclaration,n,{identifierName:e}),r.add(e),i.delete(e)}usePrivateName(e,t){let n;for(n of this.stack)if(n.privateNames.has(e))return;n?n.undefinedPrivateNames.set(e,t):this.parser.raise(T.InvalidPrivateFieldResolution,t,{identifierName:e})}}class ot{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type}isCertainlyParameterDeclaration(){return 3===this.type}}class ct extends ot{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,t){const n=t.index;this.declarationErrors.set(n,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}}class lt{constructor(e){this.parser=void 0,this.stack=[new ot],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const n=t.loc.start,{stack:r}=this;let s=r.length-1,i=r[s];for(;!i.isCertainlyParameterDeclaration();){if(!i.canBeArrowParameterDeclaration())return;i.recordDeclarationError(e,n),i=r[--s]}this.parser.raise(e,n)}recordArrowParameterBindingError(e,t){const{stack:n}=this,r=n[n.length-1],s=t.loc.start;if(r.isCertainlyParameterDeclaration())this.parser.raise(e,s);else{if(!r.canBeArrowParameterDeclaration())return;r.recordDeclarationError(e,s)}}recordAsyncArrowParametersError(e){const{stack:t}=this;let n=t.length-1,r=t[n];for(;r.canBeArrowParameterDeclaration();)2===r.type&&r.recordDeclarationError(T.AwaitBindingIdentifier,e),r=t[--n]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([t,n])=>{this.parser.raise(t,n);let r=e.length-2,s=e[r];for(;s.canBeArrowParameterDeclaration();)s.clearDeclarationError(n.index),s=e[--r]})}}function pt(){return new ot}class ut extends st{addExtra(e,t,n,r=!0){if(!e)return;let{extra:s}=e;null==s&&(s={},e.extra=s),r?s[t]=n:Object.defineProperty(s,t,{enumerable:r,value:n})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){if(this.input.startsWith(t,e)){const n=this.input.charCodeAt(e+t.length);return!(ce(n)||55296==(64512&n))}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return!!this.isContextual(e)&&(this.next(),!0)}expectContextual(e,t){if(!this.eatContextual(e)){if(null!=t)throw this.raise(t,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Oe(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return Oe(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(T.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){const n={node:null};try{const r=e((e=null)=>{throw n.node=e,n});if(this.state.errors.length>t.errors.length){const e=this.state;return this.state=t,this.state.tokensLength=e.tokensLength,{node:r,error:e.errors[t.errors.length],thrown:!1,aborted:!1,failState:e}}return{node:r,error:null,thrown:!1,aborted:!1,failState:null}}catch(e){const r=this.state;if(this.state=t,e instanceof SyntaxError)return{node:null,error:e,thrown:!0,aborted:!1,failState:r};if(e===n)return{node:n.node,error:null,thrown:!1,aborted:!0,failState:r};throw e}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssignLoc:n,doubleProtoLoc:r,privateKeyLoc:s,optionalParametersLoc:i,voidPatternLoc:a}=e;if(!t)return!!(n||r||i||s||a);null!=n&&this.raise(T.InvalidCoverInitializedName,n),null!=r&&this.raise(T.DuplicateProto,r),null!=s&&this.raise(T.UnexpectedPrivateField,s),null!=i&&this.unexpected(i),null!=a&&this.raise(T.InvalidCoverDiscardElement,a)}isLiteralPropertyName(){return G(this.state.type)}isPrivateName(e){return"PrivateName"===e.type}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return("MemberExpression"===e.type||"OptionalMemberExpression"===e.type)&&this.isPrivateName(e.property)}isObjectProperty(e){return"ObjectProperty"===e.type}isObjectMethod(e){return"ObjectMethod"===e.type}initializeScopes(e="module"===this.options.sourceType){const t=this.state.labels;this.state.labels=[];const n=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const r=this.inModule;this.inModule=e;const s=this.scope,i=this.getScopeHandler();this.scope=new i(this,e);const a=this.prodParam;this.prodParam=new Fe;const o=this.classScope;this.classScope=new at(this);const c=this.expressionScope;return this.expressionScope=new lt(this),()=>{this.state.labels=t,this.exportedIdentifiers=n,this.inModule=r,this.scope=s,this.prodParam=a,this.classScope=o,this.expressionScope=c}}enterInitialScopes(){let e=0;(this.inModule||1&this.optionFlags)&&(e|=2),32&this.optionFlags&&(e|=1);const t=!this.inModule&&"commonjs"===this.options.sourceType;(t||2&this.optionFlags)&&(e|=4),this.prodParam.enter(e);let n=t?514:1;4&this.optionFlags&&(n|=512),this.scope.enter(n)}checkDestructuringPrivate(e){const{privateKeyLoc:t}=e;null!==t&&this.expectPlugin("destructuringPrivate",t)}}class ht{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null,this.voidPatternLoc=null}}class dt{constructor(e,t,n){this.type="",this.start=t,this.end=0,this.loc=new s(n),128&(null==e?void 0:e.optionFlags)&&(this.range=[t,0]),null!=e&&e.filename&&(this.loc.filename=e.filename)}}const ft=dt.prototype;ft.__clone=function(){const e=new dt(void 0,this.start,this.loc.start),t=Object.keys(this);for(let n=0,r=t.length;n<r;n++){const r=t[n];"leadingComments"!==r&&"trailingComments"!==r&&"innerComments"!==r&&(e[r]=this[r])}return e};class mt extends ut{startNode(){const e=this.state.startLoc;return new dt(this,e.index,e)}startNodeAt(e){return new dt(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,n){return e.type=t,e.end=n.index,e.loc.end=n,128&this.optionFlags&&(e.range[1]=n.index),4096&this.optionFlags&&this.processComment(e),e}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,128&this.optionFlags&&(e.range[0]=t.index)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,128&this.optionFlags&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start)}castNodeTo(e,t){return e.type=t,e}cloneIdentifier(e){const{type:t,start:n,end:r,loc:s,range:i,name:a}=e,o=Object.create(ft);return o.type=t,o.start=n,o.end=r,o.loc=s,o.range=i,o.name=a,e.extra&&(o.extra=e.extra),o}cloneStringLiteral(e){const{type:t,start:n,end:r,loc:s,range:i,extra:a}=e,o=Object.create(ft);return o.type=t,o.start=n,o.end=r,o.loc=s,o.range=i,o.extra=a,o.value=e.value,o}}const yt=e=>"ParenthesizedExpression"===e.type?yt(e.expression):e;class gt extends mt{toAssignable(e,t=!1){var n,r;let s;switch(("ParenthesizedExpression"===e.type||null!=(n=e.extra)&&n.parenthesized)&&(s=yt(e),t?"Identifier"===s.type?this.expressionScope.recordArrowParameterBindingError(T.InvalidParenthesizedAssignment,e):"CallExpression"===s.type||"MemberExpression"===s.type||this.isOptionalMemberExpression(s)||this.raise(T.InvalidParenthesizedAssignment,e):this.raise(T.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":break;case"ObjectExpression":this.castNodeTo(e,"ObjectPattern");for(let n=0,r=e.properties.length,s=r-1;n<r;n++){var i;const r=e.properties[n],a=n===s;this.toAssignableObjectExpressionProp(r,a,t),a&&"RestElement"===r.type&&null!=(i=e.extra)&&i.trailingCommaLoc&&this.raise(T.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:n,value:r}=e;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(r,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":this.castNodeTo(e,"ArrayPattern"),this.toAssignableList(e.elements,null==(r=e.extra)?void 0:r.trailingCommaLoc,t);break;case"AssignmentExpression":"="!==e.operator&&this.raise(T.MissingEqInAssignment,e.left.loc.end),this.castNodeTo(e,"AssignmentPattern"),delete e.operator,"VoidPattern"===e.left.type&&this.raise(T.VoidPatternInitializer,e.left),this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(s,t)}}toAssignableObjectExpressionProp(e,t,n){if("ObjectMethod"===e.type)this.raise("get"===e.kind||"set"===e.kind?T.PatternHasAccessor:T.PatternHasMethod,e.key);else if("SpreadElement"===e.type){this.castNodeTo(e,"RestElement");const r=e.argument;this.checkToRestConversion(r,!1),this.toAssignable(r,n),t||this.raise(T.RestTrailingComma,e)}else this.toAssignable(e,n)}toAssignableList(e,t,n){const r=e.length-1;for(let s=0;s<=r;s++){const i=e[s];i&&(this.toAssignableListItem(e,s,n),"RestElement"===i.type&&(s<r?this.raise(T.RestTrailingComma,i):t&&this.raise(T.RestTrailingComma,t)))}}toAssignableListItem(e,t,n){const r=e[t];if("SpreadElement"===r.type){this.castNodeTo(r,"RestElement");const e=r.argument;this.checkToRestConversion(e,!0),this.toAssignable(e,n)}else this.toAssignable(r,n)}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":return!0;case"ObjectExpression":{const t=e.properties.length-1;return e.properties.every((e,n)=>"ObjectMethod"!==e.type&&(n===t||"SpreadElement"!==e.type)&&this.isAssignable(e))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(e=>null===e||this.isAssignable(e));case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const t of e)"ArrayExpression"===(null==t?void 0:t.type)&&this.toReferencedListDeep(t.elements)}parseSpread(e){const t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){const e=this.startNode();this.next();const t=this.parseBindingAtom();return"VoidPattern"===t.type&&this.raise(T.UnexpectedVoidPattern,t),e.argument=t,this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0);case 88:return this.parseVoidPattern(null)}return this.parseIdentifier()}parseBindingList(e,t,n){const r=1&n,s=[];let i=!0;for(;!this.eat(e);)if(i?i=!1:this.expect(12),r&&this.match(12))s.push(null);else{if(this.eat(e))break;if(this.match(21)){let r=this.parseRestBinding();if((this.hasPlugin("flow")||2&n)&&(r=this.parseFunctionParamType(r)),s.push(r),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{const e=[];if(2&n)for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(T.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)e.push(this.parseDecorator());s.push(this.parseBindingElement(n,e))}}return s}parseBindingRestProperty(e){return this.next(),this.hasPlugin("discardBinding")&&this.match(88)?(e.argument=this.parseVoidPattern(null),this.raise(T.UnexpectedVoidPattern,e.argument)):e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const{type:e,startLoc:t}=this.state;if(21===e)return this.parseBindingRestProperty(this.startNode());const n=this.startNode();return 139===e?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),n.key=this.parsePrivateName()):this.parsePropertyName(n),n.method=!1,this.parseObjPropValue(n,t,!1,!1,!0,!1)}parseBindingElement(e,t){const n=this.parseMaybeDefault();return(this.hasPlugin("flow")||2&e)&&this.parseFunctionParamType(n),t.length&&(n.decorators=t,this.resetStartLocationFromNode(n,t[0])),this.parseMaybeDefault(n.loc.start,n)}parseFunctionParamType(e){return e}parseMaybeDefault(e,t){if(null!=e||(e=this.state.startLoc),t=null!=t?t:this.parseBindingAtom(),!this.eat(29))return t;const n=this.startNodeAt(e);return"VoidPattern"===t.type&&this.raise(T.VoidPatternInitializer,t),n.left=t,n.right=this.parseMaybeAssignAllowIn(),this.finishNode(n,"AssignmentPattern")}isValidLVal(e,t,n,r){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties";case"VoidPattern":return!0;case"CallExpression":if(!t&&!this.state.strict&&8192&this.optionFlags)return!0}return!1}isOptionalMemberExpression(e){return"OptionalMemberExpression"===e.type}checkLVal(e,t,n=64,r=!1,s=!1,i=!1,a=!1){var o;const c=e.type;if(this.isObjectMethod(e))return;const l=this.isOptionalMemberExpression(e);if(l||"MemberExpression"===c)return l&&(this.expectPlugin("optionalChainingAssign",e.loc.start),"AssignmentExpression"!==t.type&&this.raise(T.InvalidLhsOptionalChaining,e,{ancestor:t})),void(64!==n&&this.raise(T.InvalidPropertyBindingPattern,e));if("Identifier"===c){this.checkIdentifier(e,n,s);const{name:t}=e;return void(r&&(r.has(t)?this.raise(T.ParamDupe,e):r.add(t)))}"VoidPattern"===c&&"CatchClause"===t.type&&this.raise(T.VoidPatternCatchClauseParam,e);const p=yt(e);a||(a="CallExpression"===p.type&&("Import"===p.callee.type||"Super"===p.callee.type));const u=this.isValidLVal(c,a,!(i||null!=(o=e.extra)&&o.parenthesized)&&"AssignmentExpression"===t.type,n);if(!0===u)return;if(!1===u){const r=64===n?T.InvalidLhs:T.InvalidLhsBinding;return void this.raise(r,e,{ancestor:t})}let h,d;"string"==typeof u?(h=u,d="ParenthesizedExpression"===c):[h,d]=u;const f="ArrayPattern"===c||"ObjectPattern"===c?{type:c}:t,m=e[h];if(Array.isArray(m))for(const e of m)e&&this.checkLVal(e,f,n,r,s,d,!0);else m&&this.checkLVal(m,f,n,r,s,d,a)}checkIdentifier(e,t,n=!1){this.state.strict&&(n?me(e.name,this.inModule):fe(e.name))&&(64===t?this.raise(T.StrictEvalArguments,e,{referenceName:e.name}):this.raise(T.StrictEvalArgumentsBinding,e,{bindingName:e.name})),8192&t&&"let"===e.name&&this.raise(T.LetInLexicalBinding,e),64&t||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(T.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return!!this.match(12)&&(this.raise(this.lookaheadCharCode()===e?T.RestTrailingComma:T.ElementAfterRest,this.state.startLoc),!0)}}const Tt=/in(?:stanceof)?|as|satisfies/y;function St(e){if(!e)throw new Error("Assert fail")}const bt=g`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>`Accessibility modifier already seen: '${e}'.`,DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidHeritageClauseType:({token:e})=>`'${e}' list can only include identifiers or qualified-names with optional type arguments.`,InvalidModifierOnAwaitUsingDeclaration:e=>`'${e}' modifier cannot appear on an await using declaration.`,InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifierOnUsingDeclaration:e=>`'${e}' modifier cannot appear on a using declaration.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifier:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`,UsingDeclarationInAmbientContext:e=>`'${e}' declarations are not allowed in ambient contexts.`});function Et(e){return"private"===e||"public"===e||"protected"===e}function xt(e){return"in"===e||"out"===e}function vt(e){if("MemberExpression"!==e.type)return!1;const{computed:t,property:n}=e;return(!t||"StringLiteral"===n.type||!("TemplateLiteral"!==n.type||n.expressions.length>0))&&wt(e.object)}function Pt(e,t){var n;const{type:r}=e;if(null!=(n=e.extra)&&n.parenthesized)return!1;if(t){if("Literal"===r){const{value:t}=e;if("string"==typeof t||"boolean"==typeof t)return!0}}else if("StringLiteral"===r||"BooleanLiteral"===r)return!0;return!(!At(e,t)&&!function(e,t){if("UnaryExpression"===e.type){const{operator:n,argument:r}=e;if("-"===n&&At(r,t))return!0}return!1}(e,t))||"TemplateLiteral"===r&&0===e.expressions.length||!!vt(e)}function At(e,t){return t?"Literal"===e.type&&("number"==typeof e.value||"bigint"in e):"NumericLiteral"===e.type||"BigIntLiteral"===e.type}function wt(e){return"Identifier"===e.type||"MemberExpression"===e.type&&!e.computed&&wt(e.object)}const Ct=g`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),It=["minimal","fsharp","hack","smart"],Ot=["^^","@@","^","%","#"],_t={estree:e=>class extends e{parse(){const e=E(super.parse());return 256&this.optionFlags&&(e.tokens=e.tokens.map(E)),e}parseRegExpLiteral({pattern:e,flags:t}){let n=null;try{n=new RegExp(e,t)}catch(e){}const r=this.estreeParseLiteral(n);return r.regex={pattern:e,flags:t},r}parseBigIntLiteral(e){let t;try{t=BigInt(e)}catch(e){t=null}const n=this.estreeParseLiteral(t);return n.bigint=String(n.value||e),n}parseDecimalLiteral(e){const t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t}estreeParseLiteral(e){return this.parseLiteral(e,"Literal")}parseStringLiteral(e){return this.estreeParseLiteral(e)}parseNumericLiteral(e){return this.estreeParseLiteral(e)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(e){return this.estreeParseLiteral(e)}estreeParseChainExpression(e,t){const n=this.startNodeAtNode(e);return n.expression=e,this.finishNodeAt(n,"ChainExpression",t)}directiveToStmt(e){const t=e.value;delete e.value,this.castNodeTo(t,"Literal"),t.raw=t.extra.raw,t.value=t.extra.expressionValue;const n=this.castNodeTo(e,"ExpressionStatement");return n.expression=t,n.directive=t.extra.rawValue,delete t.extra,n}fillOptionalPropertiesForTSESLint(e){}cloneEstreeStringLiteral(e){const{start:t,end:n,loc:r,range:s,raw:i,value:a}=e,o=Object.create(e.constructor.prototype);return o.type="Literal",o.start=t,o.end=n,o.loc=r,o.range=s,o.raw=i,o.value=a,o}initFunction(e,t){super.initFunction(e,t),e.expression=!1}checkDeclaration(e){null!=e&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e)}getObjectOrClassMethodParams(e){return e.value.params}isValidDirective(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null!=(t=e.expression.extra)&&t.parenthesized)}parseBlockBody(e,t,n,r,s){super.parseBlockBody(e,t,n,r,s);const i=e.directives.map(e=>this.directiveToStmt(e));e.body=i.concat(e.body),delete e.directives}parsePrivateName(){const e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e}convertPrivateNameToPrivateIdentifier(e){const t=super.getPrivateNameSV(e);return delete e.id,e.name=t,this.castNodeTo(e,"PrivateIdentifier")}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===e.type:super.isPrivateName(e)}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e)}parseLiteral(e,t){const n=super.parseLiteral(e,t);return n.raw=n.extra.raw,delete n.extra,n}parseFunctionBody(e,t,n=!1){super.parseFunctionBody(e,t,n),e.expression="BlockStatement"!==e.body.type}parseMethod(e,t,n,r,s,i,a=!1){let o=this.startNode();o.kind=e.kind,o=super.parseMethod(o,t,n,r,s,i,a),delete o.kind;const{typeParameters:c}=e;c&&(delete e.typeParameters,o.typeParameters=c,this.resetStartLocationFromNode(o,c));const l=this.castNodeTo(o,"FunctionExpression");return e.value=l,"ClassPrivateMethod"===i&&(e.computed=!1),"ObjectMethod"===i?("method"===e.kind&&(e.kind="init"),e.shorthand=!1,this.finishNode(e,"Property")):this.finishNode(e,"MethodDefinition")}nameIsConstructor(e){return"Literal"===e.type?"constructor"===e.value:super.nameIsConstructor(e)}parseClassProperty(...e){const t=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")?(this.castNodeTo(t,"PropertyDefinition"),t):t}parseClassPrivateProperty(...e){const t=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")?(this.castNodeTo(t,"PropertyDefinition"),t.computed=!1,t):t}parseClassAccessorProperty(e){const t=super.parseClassAccessorProperty(e);return this.getPluginOption("estree","classFeatures")?(t.abstract&&this.hasPlugin("typescript")?(delete t.abstract,this.castNodeTo(t,"TSAbstractAccessorProperty")):this.castNodeTo(t,"AccessorProperty"),t):t}parseObjectProperty(e,t,n,r){const s=super.parseObjectProperty(e,t,n,r);return s&&(s.kind="init",this.castNodeTo(s,"Property")),s}finishObjectProperty(e){return e.kind="init",this.finishNode(e,"Property")}isValidLVal(e,t,n,r){return"Property"===e?"value":super.isValidLVal(e,t,n,r)}isAssignable(e,t){return null!=e&&this.isObjectProperty(e)?this.isAssignable(e.value,t):super.isAssignable(e,t)}toAssignable(e,t=!1){if(null!=e&&this.isObjectProperty(e)){const{key:n,value:r}=e;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(r,t)}else super.toAssignable(e,t)}toAssignableObjectExpressionProp(e,t,n){"Property"!==e.type||"get"!==e.kind&&"set"!==e.kind?"Property"===e.type&&e.method?this.raise(T.PatternHasMethod,e.key):super.toAssignableObjectExpressionProp(e,t,n):this.raise(T.PatternHasAccessor,e.key)}finishCallExpression(e,t){const n=super.finishCallExpression(e,t);var r,s;return"Import"===n.callee.type?(this.castNodeTo(n,"ImportExpression"),n.source=n.arguments[0],n.options=null!=(r=n.arguments[1])?r:null,n.attributes=null!=(s=n.arguments[1])?s:null,delete n.arguments,delete n.callee):"OptionalCallExpression"===n.type?this.castNodeTo(n,"CallExpression"):n.optional=!1,n}toReferencedArguments(e){"ImportExpression"!==e.type&&super.toReferencedArguments(e)}parseExport(e,t){const n=this.state.lastTokStartLoc,r=super.parseExport(e,t);switch(r.type){case"ExportAllDeclaration":r.exported=null;break;case"ExportNamedDeclaration":1===r.specifiers.length&&"ExportNamespaceSpecifier"===r.specifiers[0].type&&(this.castNodeTo(r,"ExportAllDeclaration"),r.exported=r.specifiers[0].exported,delete r.specifiers);case"ExportDefaultDeclaration":{var s;const{declaration:e}=r;"ClassDeclaration"===(null==e?void 0:e.type)&&(null==(s=e.decorators)?void 0:s.length)>0&&e.start===r.start&&this.resetStartLocation(r,n)}}return r}stopParseSubscript(e,t){const n=super.stopParseSubscript(e,t);return t.optionalChainMember?this.estreeParseChainExpression(n,e.loc.end):n}parseMember(e,t,n,r,s){const i=super.parseMember(e,t,n,r,s);return"OptionalMemberExpression"===i.type?this.castNodeTo(i,"MemberExpression"):i.optional=!1,i}isOptionalMemberExpression(e){return"ChainExpression"===e.type?"MemberExpression"===e.expression.type:super.isOptionalMemberExpression(e)}hasPropertyAsPrivateName(e){return"ChainExpression"===e.type&&(e=e.expression),super.hasPropertyAsPrivateName(e)}isObjectProperty(e){return"Property"===e.type&&"init"===e.kind&&!e.method}isObjectMethod(e){return"Property"===e.type&&(e.method||"get"===e.kind||"set"===e.kind)}castNodeTo(e,t){const n=super.castNodeTo(e,t);return this.fillOptionalPropertiesForTSESLint(n),n}cloneIdentifier(e){const t=super.cloneIdentifier(e);return this.fillOptionalPropertiesForTSESLint(t),t}cloneStringLiteral(e){return"Literal"===e.type?this.cloneEstreeStringLiteral(e):super.cloneStringLiteral(e)}finishNodeAt(e,t,n){return E(super.finishNodeAt(e,t,n))}finishNode(e,t){const n=super.finishNode(e,t);return this.fillOptionalPropertiesForTSESLint(n),n}resetStartLocation(e,t){super.resetStartLocation(e,t),E(e)}resetEndLocation(e,t=this.state.lastTokEndLoc){super.resetEndLocation(e,t),E(e)}},jsx:e=>class extends e{jsxReadToken(){let e="",t=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(ke.UnterminatedJsxContent,this.state.startLoc);const n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:return this.state.pos===this.state.start?void(60===n&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(n)):(e+=this.input.slice(t,this.state.pos),void this.finishToken(142,e));case 38:e+=this.input.slice(t,this.state.pos),e+=this.jsxReadEntity(),t=this.state.pos;break;default:Ie(n)?(e+=this.input.slice(t,this.state.pos),e+=this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){const t=this.input.charCodeAt(this.state.pos);let n;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,n=e?"\n":"\r\n"):n=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,n}jsxReadString(e){let t="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(T.UnterminatedString,this.state.startLoc);const r=this.input.charCodeAt(this.state.pos);if(r===e)break;38===r?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadEntity(),n=this.state.pos):Ie(r)?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}t+=this.input.slice(n,this.state.pos++),this.finishToken(134,t)}jsxReadEntity(){const e=++this.state.pos;if(35===this.codePointAtPos(this.state.pos)){++this.state.pos;let e=10;120===this.codePointAtPos(this.state.pos)&&(e=16,++this.state.pos);const t=this.readInt(e,void 0,!1,"bail");if(null!==t&&59===this.codePointAtPos(this.state.pos))return++this.state.pos,String.fromCodePoint(t)}else{let t=0,n=!1;for(;t++<10&&this.state.pos<this.length&&!(n=59===this.codePointAtPos(this.state.pos));)++this.state.pos;if(n){const t=this.input.slice(e,this.state.pos),n=we[t];if(++this.state.pos,n)return n}}return this.state.pos=e,"&"}jsxReadWord(){let e;const t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(ce(e)||45===e);this.finishToken(141,this.input.slice(t,this.state.pos))}jsxParseIdentifier(){const e=this.startNode();return this.match(141)?e.name=this.state.value:H(this.state.type)?e.name=J(this.state.type):this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsxParseNamespacedName(){const e=this.state.startLoc,t=this.jsxParseIdentifier();if(!this.eat(14))return t;const n=this.startNodeAt(e);return n.namespace=t,n.name=this.jsxParseIdentifier(),this.finishNode(n,"JSXNamespacedName")}jsxParseElementName(){const e=this.state.startLoc;let t=this.jsxParseNamespacedName();if("JSXNamespacedName"===t.type)return t;for(;this.eat(16);){const n=this.startNodeAt(e);n.object=t,n.property=this.jsxParseIdentifier(),t=this.finishNode(n,"JSXMemberExpression")}return t}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.setContext(v.brace),this.next(),e=this.jsxParseExpressionContainer(e,v.j_oTag),"JSXEmptyExpression"===e.expression.type&&this.raise(ke.AttributeIsEmpty,e),e;case 143:case 134:return this.parseExprAtom();default:throw this.raise(ke.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const e=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.setContext(v.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadChild")}jsxParseExpressionContainer(e,t){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{const t=this.parseExpression();e.expression=t}return this.setContext(t),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXExpressionContainer")}jsxParseAttribute(){const e=this.startNode();return this.match(5)?(this.setContext(v.brace),this.next(),this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.setContext(v.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsxParseOpeningElementAt(e){const t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXOpeningFragment"):(t.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(t))}jsxParseOpeningElementAfterName(e){const t=[];for(;!this.match(56)&&!this.match(144);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(56),this.expect(144),this.finishNode(e,"JSXOpeningElement")}jsxParseClosingElementAt(e){const t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXClosingFragment"):(t.name=this.jsxParseElementName(),this.expect(144),this.finishNode(t,"JSXClosingElement"))}jsxParseElementAt(e){const t=this.startNodeAt(e),n=[],r=this.jsxParseOpeningElementAt(e);let s=null;if(!r.selfClosing){e:for(;;)switch(this.state.type){case 143:if(e=this.state.startLoc,this.next(),this.eat(56)){s=this.jsxParseClosingElementAt(e);break e}n.push(this.jsxParseElementAt(e));break;case 142:n.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const e=this.startNode();this.setContext(v.brace),this.next(),this.match(21)?n.push(this.jsxParseSpreadChild(e)):n.push(this.jsxParseExpressionContainer(e,v.j_expr));break}default:this.unexpected()}Re(r)&&!Re(s)&&null!==s?this.raise(ke.MissingClosingTagFragment,s):!Re(r)&&Re(s)?this.raise(ke.MissingClosingTagElement,s,{openingTagName:Me(r.name)}):Re(r)||Re(s)||Me(s.name)!==Me(r.name)&&this.raise(ke.MissingClosingTagElement,s,{openingTagName:Me(r.name)})}if(Re(r)?(t.openingFragment=r,t.closingFragment=s):(t.openingElement=r,t.closingElement=s),t.children=n,this.match(47))throw this.raise(ke.UnwrappedAdjacentJSXElements,this.state.startLoc);return Re(r)?this.finishNode(t,"JSXFragment"):this.finishNode(t,"JSXElement")}jsxParseElement(){const e=this.state.startLoc;return this.next(),this.jsxParseElementAt(e)}setContext(e){const{context:t}=this.state;t[t.length-1]=e}parseExprAtom(e){return this.match(143)?this.jsxParseElement():this.match(47)&&33!==this.input.charCodeAt(this.state.pos)?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(e)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(e){const t=this.curContext();if(t!==v.j_expr){if(t===v.j_oTag||t===v.j_cTag){if(oe(e))return void this.jsxReadWord();if(62===e)return++this.state.pos,void this.finishToken(144);if((34===e||39===e)&&t===v.j_oTag)return void this.jsxReadString(e)}if(60===e&&this.state.canStartJSXElement&&33!==this.input.charCodeAt(this.state.pos+1))return++this.state.pos,void this.finishToken(143);super.getTokenFromCode(e)}else this.jsxReadToken()}updateContext(e){const{context:t,type:n}=this.state;if(56===n&&143===e)t.splice(-2,2,v.j_cTag),this.state.canStartJSXElement=!1;else if(143===n)t.push(v.j_oTag);else if(144===n){const n=t[t.length-1];n===v.j_oTag&&56===e||n===v.j_cTag?(t.pop(),this.state.canStartJSXElement=t[t.length-1]===v.j_expr):(this.setContext(v.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=U[n]}},flow:e=>class extends e{constructor(...e){super(...e),this.flowPragma=void 0}getScopeHandler(){return be}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma}finishToken(e,t){134!==e&&13!==e&&28!==e&&void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(e,t)}addComment(e){if(void 0===this.flowPragma){const t=Ae.exec(e.value);if(t)if("flow"===t[1])this.flowPragma="flow";else{if("noflow"!==t[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}}super.addComment(e)}flowParseTypeInitialiser(e){const t=this.state.inType;this.state.inType=!0,this.expect(e||14);const n=this.flowParseType();return this.state.inType=t,n}flowParsePredicate(){const e=this.startNode(),t=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>t.index+1&&this.raise(xe.UnexpectedSpaceBetweenModuloChecks,t),this.eat(10)?(e.value=super.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const e=this.state.inType;this.state.inType=!0,this.expect(14);let t=null,n=null;return this.match(54)?(this.state.inType=e,n=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(54)&&(n=this.flowParsePredicate())),[t,n]}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")}flowParseDeclareFunction(e){this.next();const t=e.id=this.parseIdentifier(),n=this.startNode(),r=this.startNode();this.match(47)?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(10);const s=this.flowParseFunctionTypeParams();return n.params=s.params,n.rest=s.rest,n.this=s._this,this.expect(11),[n.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),r.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(r,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.loc.start),this.finishNode(e,"DeclareFunction")}flowParseDeclare(e,t){if(this.match(80))return this.flowParseDeclareClass(e);if(this.match(68))return this.flowParseDeclareFunction(e);if(this.match(74))return this.flowParseDeclareVariable(e);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(e):(t&&this.raise(xe.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(e));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(e);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(e);if(this.isContextual(129))return this.flowParseDeclareInterface(e);if(this.match(82))return this.flowParseDeclareExportDeclaration(e,t);throw this.unexpected()}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.loc.start),this.semicolon(),this.finishNode(e,"DeclareVariable")}flowParseDeclareModule(e){this.scope.enter(0),this.match(134)?e.id=super.parseExprAtom():e.id=this.parseIdentifier();const t=e.body=this.startNode(),n=t.body=[];for(this.expect(5);!this.match(8);){const e=this.startNode();this.match(83)?(this.next(),this.isContextual(130)||this.match(87)||this.raise(xe.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),n.push(super.parseImport(e))):(this.expectContextual(125,xe.UnsupportedStatementInDeclareModule),n.push(this.flowParseDeclare(e,!0)))}this.scope.exit(),this.expect(8),this.finishNode(t,"BlockStatement");let r=null,s=!1;return n.forEach(e=>{!function(e){return"DeclareExportAllDeclaration"===e.type||"DeclareExportDeclaration"===e.type&&(!e.declaration||"TypeAlias"!==e.declaration.type&&"InterfaceDeclaration"!==e.declaration.type)}(e)?"DeclareModuleExports"===e.type&&(s&&this.raise(xe.DuplicateDeclareModuleExports,e),"ES"===r&&this.raise(xe.AmbiguousDeclareModuleKind,e),r="CommonJS",s=!0):("CommonJS"===r&&this.raise(xe.AmbiguousDeclareModuleKind,e),r="ES")}),e.kind=r||"CommonJS",this.finishNode(e,"DeclareModule")}flowParseDeclareExportDeclaration(e,t){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!t){const e=this.state.value;throw this.raise(xe.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:e,suggestion:Pe[e]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return"ExportNamedDeclaration"===(e=this.parseExport(e,null)).type?(e.default=!1,delete e.exportKind,this.castNodeTo(e,"DeclareExportDeclaration")):this.castNodeTo(e,"DeclareExportAllDeclaration");throw this.unexpected()}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(111),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")}flowParseDeclareTypeAlias(e){this.next();const t=this.flowParseTypeAlias(e);return this.castNodeTo(t,"DeclareTypeAlias"),t}flowParseDeclareOpaqueType(e){this.next();const t=this.flowParseOpaqueType(e,!0);return this.castNodeTo(t,"DeclareOpaqueType"),t}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e,!1),this.finishNode(e,"DeclareInterface")}flowParseInterfaceish(e,t){if(e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(!t&&this.eat(12));if(t){if(e.implements=[],e.mixins=[],this.eatContextual(117))do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(12));if(this.eatContextual(113))do{e.implements.push(this.flowParseInterfaceExtends())}while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1})}flowParseInterfaceExtends(){const e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")}flowParseInterface(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration")}checkNotUnderscore(e){"_"===e&&this.raise(xe.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(e,t,n){Ee.has(e)&&this.raise(n?xe.AssignReservedType:xe.UnexpectedReservedType,t,{reservedType:e})}flowParseRestrictedIdentifier(e,t){return this.checkReservedType(this.state.value,this.state.startLoc,t),this.parseIdentifier(e)}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(e,"TypeAlias")}flowParseOpaqueType(e,t){return this.expectContextual(130),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(e,"OpaqueType")}flowParseTypeParameter(e=!1){const t=this.state.startLoc,n=this.startNode(),r=this.flowParseVariance(),s=this.flowParseTypeAnnotatableIdentifier();return n.name=s.name,n.variance=r,n.bound=s.typeAnnotation,this.match(29)?(this.eat(29),n.default=this.flowParseType()):e&&this.raise(xe.MissingTypeParamDefault,t),this.finishNode(n,"TypeParameter")}flowParseTypeParameterDeclaration(){const e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let n=!1;do{const e=this.flowParseTypeParameter(n);t.params.push(e),e.default&&(n=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")}flowInTopLevelContext(e){if(this.curContext()===v.brace)return e();{const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}}flowParseTypeParameterInstantiationInExpression(){if(47===this.reScan_lt())return this.flowParseTypeParameterInstantiation()}flowParseTypeParameterInstantiation(){const e=this.startNode(),t=this.state.inType;return this.state.inType=!0,e.params=[],this.flowInTopLevelContext(()=>{this.expect(47);const t=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)e.params.push(this.flowParseType()),this.match(48)||this.expect(12);this.state.noAnonFunctionType=t}),this.state.inType=t,this.state.inType||this.curContext()!==v.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){if(47!==this.reScan_lt())return null;const e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseInterfaceType(){const e=this.startNode();if(this.expectContextual(129),e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(12));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(e,t,n){return e.static=t,14===this.lookahead().type?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=n,this.finishNode(e,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(e,t){const n=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(n),this.finishNode(e,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:e,allowExact:t,allowSpread:n,allowProto:r,allowInexact:s}){const i=this.state.inType;this.state.inType=!0;const a=this.startNode();let o,c;a.callProperties=[],a.properties=[],a.indexers=[],a.internalSlots=[];let l=!1;for(t&&this.match(6)?(this.expect(6),o=9,c=!0):(this.expect(5),o=8,c=!1),a.exact=c;!this.match(o);){let t=!1,i=null,o=null;const p=this.startNode();if(r&&this.isContextual(118)){const t=this.lookahead();14!==t.type&&17!==t.type&&(this.next(),i=this.state.startLoc,e=!1)}if(e&&this.isContextual(106)){const e=this.lookahead();14!==e.type&&17!==e.type&&(this.next(),t=!0)}const u=this.flowParseVariance();if(this.eat(0))null!=i&&this.unexpected(i),this.eat(0)?(u&&this.unexpected(u.loc.start),a.internalSlots.push(this.flowParseObjectTypeInternalSlot(p,t))):a.indexers.push(this.flowParseObjectTypeIndexer(p,t,u));else if(this.match(10)||this.match(47))null!=i&&this.unexpected(i),u&&this.unexpected(u.loc.start),a.callProperties.push(this.flowParseObjectTypeCallProperty(p,t));else{let e="init";(this.isContextual(99)||this.isContextual(104))&&G(this.lookahead().type)&&(e=this.state.value,this.next());const r=this.flowParseObjectTypeProperty(p,t,i,u,e,n,null!=s?s:!c);null===r?(l=!0,o=this.state.lastTokStartLoc):a.properties.push(r)}this.flowObjectTypeSemicolon(),!o||this.match(8)||this.match(9)||this.raise(xe.UnexpectedExplicitInexactInObject,o)}this.expect(o),n&&(a.inexact=l);const p=this.finishNode(a,"ObjectTypeAnnotation");return this.state.inType=i,p}flowParseObjectTypeProperty(e,t,n,r,s,i,a){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(i?a||this.raise(xe.InexactInsideExact,this.state.lastTokStartLoc):this.raise(xe.InexactInsideNonObject,this.state.lastTokStartLoc),r&&this.raise(xe.InexactVariance,r),null):(i||this.raise(xe.UnexpectedSpreadType,this.state.lastTokStartLoc),null!=n&&this.unexpected(n),r&&this.raise(xe.SpreadVariance,r),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"));{e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=n,e.kind=s;let a=!1;return this.match(47)||this.match(10)?(e.method=!0,null!=n&&this.unexpected(n),r&&this.unexpected(r.loc.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start)),"get"!==s&&"set"!==s||this.flowCheckGetterSetterParams(e),!i&&"constructor"===e.key.name&&e.value.this&&this.raise(xe.ThisParamBannedInConstructor,e.value.this)):("init"!==s&&this.unexpected(),e.method=!1,this.eat(17)&&(a=!0),e.value=this.flowParseTypeInitialiser(),e.variance=r),e.optional=a,this.finishNode(e,"ObjectTypeProperty")}}flowCheckGetterSetterParams(e){const t="get"===e.kind?0:1,n=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise("get"===e.kind?xe.GetterMayNotHaveThisParam:xe.SetterMayNotHaveThisParam,e.value.this),n!==t&&this.raise("get"===e.kind?T.BadGetterArity:T.BadSetterArity,e),"set"===e.kind&&e.value.rest&&this.raise(T.BadSetterRestParameter,e)}flowObjectTypeSemicolon(){this.eat(13)||this.eat(12)||this.match(8)||this.match(9)||this.unexpected()}flowParseQualifiedTypeIdentifier(e,t){null!=e||(e=this.state.startLoc);let n=t||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const t=this.startNodeAt(e);t.qualification=n,t.id=this.flowParseRestrictedIdentifier(!0),n=this.finishNode(t,"QualifiedTypeIdentifier")}return n}flowParseGenericType(e,t){const n=this.startNodeAt(e);return n.typeParameters=null,n.id=this.flowParseQualifiedTypeIdentifier(e,t),this.match(47)&&(n.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(n,"GenericTypeAnnotation")}flowParseTypeofType(){const e=this.startNode();return this.expect(87),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")}flowParseTupleType(){const e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation")}flowParseFunctionTypeParam(e){let t=null,n=!1,r=null;const s=this.startNode(),i=this.lookahead(),a=78===this.state.type;return 14===i.type||17===i.type?(a&&!e&&this.raise(xe.ThisParamMustBeFirst,s),t=this.parseIdentifier(a),this.eat(17)&&(n=!0,a&&this.raise(xe.ThisParamMayNotBeOptional,s)),r=this.flowParseTypeInitialiser()):r=this.flowParseType(),s.name=t,s.optional=n,s.typeAnnotation=r,this.finishNode(s,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(e){const t=this.startNodeAt(e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")}flowParseFunctionTypeParams(e=[]){let t=null,n=null;for(this.match(78)&&(n=this.flowParseFunctionTypeParam(!0),n.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t=this.flowParseFunctionTypeParam(!1)),{params:e,rest:t,_this:n}}flowIdentToTypeAnnotation(e,t,n){switch(n.name){case"any":return this.finishNode(t,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(t,"BooleanTypeAnnotation");case"mixed":return this.finishNode(t,"MixedTypeAnnotation");case"empty":return this.finishNode(t,"EmptyTypeAnnotation");case"number":return this.finishNode(t,"NumberTypeAnnotation");case"string":return this.finishNode(t,"StringTypeAnnotation");case"symbol":return this.finishNode(t,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(n.name),this.flowParseGenericType(e,n)}}flowParsePrimaryType(){const e=this.state.startLoc,t=this.startNode();let n,r,s=!1;const i=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,r=this.flowParseTupleType(),this.state.noAnonFunctionType=i,r;case 47:{const e=this.startNode();return e.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),n=this.flowParseFunctionTypeParams(),e.params=n.params,e.rest=n.rest,e.this=n._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),this.finishNode(e,"FunctionTypeAnnotation")}case 10:{const e=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(W(this.state.type)||this.match(78)){const e=this.lookahead().type;s=17!==e&&14!==e}else s=!0;if(s){if(this.state.noAnonFunctionType=!1,r=this.flowParseType(),this.state.noAnonFunctionType=i,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&19===this.lookahead().type))return this.expect(11),r;this.eat(12)}return n=r?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(r)]):this.flowParseFunctionTypeParams(),e.params=n.params,e.rest=n.rest,e.this=n._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),e.typeParameters=null,this.finishNode(e,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return t.value=this.match(85),this.next(),this.finishNode(t,"BooleanLiteralTypeAnnotation");case 53:if("-"===this.state.value){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",t);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",t);throw this.raise(xe.UnexpectedSubtractionOperand,this.state.startLoc)}throw this.unexpected();case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(t,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(t,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(t,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(t,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(H(this.state.type)){const e=J(this.state.type);return this.next(),super.createIdentifier(t,e)}if(W(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,t,this.parseIdentifier())}throw this.unexpected()}flowParsePostfixType(){const e=this.state.startLoc;let t=this.flowParsePrimaryType(),n=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const r=this.startNodeAt(e),s=this.eat(18);n=n||s,this.expect(0),!s&&this.match(3)?(r.elementType=t,this.next(),t=this.finishNode(r,"ArrayTypeAnnotation")):(r.objectType=t,r.indexType=this.flowParseType(),this.expect(3),n?(r.optional=s,t=this.finishNode(r,"OptionalIndexedAccessType")):t=this.finishNode(r,"IndexedAccessType"))}return t}flowParsePrefixType(){const e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const t=this.startNodeAt(e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.this=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e}flowParseIntersectionType(){const e=this.startNode();this.eat(45);const t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(45);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")}flowParseUnionType(){const e=this.startNode();this.eat(43);const t=this.flowParseIntersectionType();for(e.types=[t];this.eat(43);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")}flowParseType(){const e=this.state.inType;this.state.inType=!0;const t=this.flowParseUnionType();return this.state.inType=e,t}flowParseTypeOrImplicitInstantiation(){if(132===this.state.type&&"_"===this.state.value){const e=this.state.startLoc,t=this.parseIdentifier();return this.flowParseGenericType(e,t)}return this.flowParseType()}flowParseTypeAnnotation(){const e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(e){const t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}flowParseVariance(){let e=null;return this.match(53)?(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")):e}parseFunctionBody(e,t,n=!1){t?this.forwardNoArrowParamsConversionAt(e,()=>super.parseFunctionBody(e,!0,n)):super.parseFunctionBody(e,!1,n)}parseFunctionBodyAndFinish(e,t,n=!1){if(this.match(14)){const t=this.startNode();[t.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=t.typeAnnotation?this.finishNode(t,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(e,t,n)}parseStatementLike(e){if(this.state.strict&&this.isContextual(129)){if(K(this.lookahead().type)){const e=this.startNode();return this.next(),this.flowParseInterface(e)}}else if(this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}const t=super.parseStatementLike(e);return void 0!==this.flowPragma||this.isValidDirective(t)||(this.flowPragma=null),t}parseExpressionStatement(e,t,n){if("Identifier"===t.type)if("declare"===t.name){if(this.match(80)||W(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(e)}else if(W(this.state.type)){if("interface"===t.name)return this.flowParseInterface(e);if("type"===t.name)return this.flowParseTypeAlias(e);if("opaque"===t.name)return this.flowParseOpaqueType(e,!1)}return super.parseExpressionStatement(e,t,n)}shouldParseExportDeclaration(){const{type:e}=this.state;return 126===e||z(e)?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:e}=this.state;return 126===e||z(e)?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}return super.parseExportDefaultExpression()}parseConditional(e,t,n){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(n),e}this.expect(17);const r=this.state.clone(),s=this.state.noArrowAt,i=this.startNodeAt(t);let{consequent:a,failed:o}=this.tryParseConditionalConsequent(),[c,l]=this.getArrowLikeExpressions(a);if(o||l.length>0){const e=[...s];if(l.length>0){this.state=r,this.state.noArrowAt=e;for(let t=0;t<l.length;t++)e.push(l[t].start);({consequent:a,failed:o}=this.tryParseConditionalConsequent()),[c,l]=this.getArrowLikeExpressions(a)}o&&c.length>1&&this.raise(xe.AmbiguousConditionalArrow,r.startLoc),o&&1===c.length&&(this.state=r,e.push(c[0].start),this.state.noArrowAt=e,({consequent:a,failed:o}=this.tryParseConditionalConsequent()))}return this.getArrowLikeExpressions(a,!0),this.state.noArrowAt=s,this.expect(14),i.test=e,i.consequent=a,i.alternate=this.forwardNoArrowParamsConversionAt(i,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(i,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const e=this.parseMaybeAssignAllowIn(),t=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t}}getArrowLikeExpressions(e,t){const n=[e],r=[];for(;0!==n.length;){const e=n.pop();"ArrowFunctionExpression"===e.type&&"BlockStatement"!==e.body.type?(e.typeParameters||!e.returnType?this.finishArrowValidation(e):r.push(e),n.push(e.body)):"ConditionalExpression"===e.type&&(n.push(e.consequent),n.push(e.alternate))}return t?(r.forEach(e=>this.finishArrowValidation(e)),[r,[]]):function(e,t){const n=[],r=[];for(let s=0;s<e.length;s++)(t(e[s])?n:r).push(e[s]);return[n,r]}(r,e=>e.params.every(e=>this.isAssignable(e,!0)))}finishArrowValidation(e){var t;this.toAssignableList(e.params,null==(t=e.extra)?void 0:t.trailingCommaLoc,!1),this.scope.enter(518),super.checkParams(e,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(e,t){let n;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),n=t(),this.state.noArrowParamsConversionAt.pop()):n=t(),n}parseParenItem(e,t){const n=super.parseParenItem(e,t);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(e)),this.match(14)){const e=this.startNodeAt(t);return e.expression=n,e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,"TypeCastExpression")}return n}assertModuleNodeAllowed(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||super.assertModuleNodeAllowed(e)}parseExportDeclaration(e){if(this.isContextual(130)){e.exportKind="type";const t=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(e),null):this.flowParseTypeAlias(t)}if(this.isContextual(131)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseOpaqueType(t,!1)}if(this.isContextual(129)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseInterface(t)}if(this.isContextual(126)){e.exportKind="value";const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDeclaration(e)}eatExportStar(e){return!!super.eatExportStar(e)||!(!this.isContextual(130)||55!==this.lookahead().type)&&(e.exportKind="type",this.next(),this.next(),!0)}maybeParseExportNamespaceSpecifier(e){const{startLoc:t}=this.state,n=super.maybeParseExportNamespaceSpecifier(e);return n&&"type"===e.exportKind&&this.unexpected(t),n}parseClassId(e,t,n){super.parseClassId(e,t,n),this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(e,t,n){const{startLoc:r}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(e,t))return;t.declare=!0}super.parseClassMember(e,t,n),t.declare&&("ClassProperty"!==t.type&&"ClassPrivateProperty"!==t.type&&"PropertyDefinition"!==t.type?this.raise(xe.DeclareClassElement,r):t.value&&this.raise(xe.DeclareClassFieldInitializer,t.value))}isIterator(e){return"iterator"===e||"asyncIterator"===e}readIterator(){const e=super.readWord1(),t="@@"+e;this.isIterator(e)&&this.state.inType||this.raise(T.InvalidIdentifier,this.state.curPosition(),{identifierName:t}),this.finishToken(132,t)}getTokenFromCode(e){const t=this.input.charCodeAt(this.state.pos+1);123===e&&124===t?this.finishOp(6,2):!this.state.inType||62!==e&&60!==e?this.state.inType&&63===e?46===t?this.finishOp(18,2):this.finishOp(17,1):function(e,t,n){return 64===e&&64===t&&oe(n)}(e,t,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e):this.finishOp(62===e?48:47,1)}isAssignable(e,t){return"TypeCastExpression"===e.type?this.isAssignable(e.expression,t):super.isAssignable(e,t)}toAssignable(e,t=!1){t||"AssignmentExpression"!==e.type||"TypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left)),super.toAssignable(e,t)}toAssignableList(e,t,n){for(let t=0;t<e.length;t++){const n=e[t];"TypeCastExpression"===(null==n?void 0:n.type)&&(e[t]=this.typeCastToParameter(n))}super.toAssignableList(e,t,n)}toReferencedList(e,t){for(let r=0;r<e.length;r++){var n;const s=e[r];!s||"TypeCastExpression"!==s.type||null!=(n=s.extra)&&n.parenthesized||!(e.length>1)&&t||this.raise(xe.TypeCastInPattern,s.typeAnnotation)}return e}parseArrayLike(e,t,n){const r=super.parseArrayLike(e,t,n);return null==n||this.state.maybeInArrowParameters||this.toReferencedList(r.elements),r}isValidLVal(e,t,n,r){return"TypeCastExpression"===e||super.isValidLVal(e,t,n,r)}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e)}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e)}pushClassMethod(e,t,n,r,s,i){if(t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,t,n,r,s,i),t.params&&s){const e=t.params;e.length>0&&this.isThisParam(e[0])&&this.raise(xe.ThisParamBannedInConstructor,t)}else if("MethodDefinition"===t.type&&s&&t.value.params){const e=t.value.params;e.length>0&&this.isThisParam(e[0])&&this.raise(xe.ThisParamBannedInConstructor,t)}}pushClassPrivateMethod(e,t,n,r){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,t,n,r)}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.flowParseTypeParameterInstantiationInExpression()),this.isContextual(113)){this.next();const t=e.implements=[];do{const e=this.startNode();e.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,t.push(this.finishNode(e,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);const t=this.getObjectOrClassMethodParams(e);if(t.length>0){const n=t[0];this.isThisParam(n)&&"get"===e.kind?this.raise(xe.GetterMayNotHaveThisParam,n):this.isThisParam(n)&&this.raise(xe.SetterMayNotHaveThisParam,n)}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance()}parseObjPropValue(e,t,n,r,s,i,a){let o;e.variance&&this.unexpected(e.variance.loc.start),delete e.variance,this.match(47)&&!i&&(o=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const c=super.parseObjPropValue(e,t,n,r,s,i,a);return o&&((c.value||c).typeParameters=o),c}parseFunctionParamType(e){return this.eat(17)&&("Identifier"!==e.type&&this.raise(xe.PatternIsOptional,e),this.isThisParam(e)&&this.raise(xe.ThisParamMayNotBeOptional,e),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(xe.ThisParamAnnotationRequired,e),this.match(29)&&this.isThisParam(e)&&this.raise(xe.ThisParamNoDefault,e),this.resetEndLocation(e),e}parseMaybeDefault(e,t){const n=super.parseMaybeDefault(e,t);return"AssignmentPattern"===n.type&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(xe.TypeBeforeInitializer,n.typeAnnotation),n}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(xe.ImportReflectionHasImportType,e.specifiers[0].loc.start)}parseImportSpecifierLocal(e,t,n){t.local=ve(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,n))}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){if(!e)return!0;const t=this.lookaheadCharCode();return 123===t||42===t}return!e&&this.isContextual(87)}applyImportPhase(e,t,n,r){if(super.applyImportPhase(e,t,n,r),t){if(!n&&this.match(65))return;e.exportKind="type"===n?n:"value"}else"type"===n&&this.match(55)&&this.unexpected(),e.importKind="type"===n||"typeof"===n?n:"value"}parseImportSpecifier(e,t,n,r,s){const i=e.imported;let a=null;"Identifier"===i.type&&("type"===i.name?a="type":"typeof"===i.name&&(a="typeof"));let o=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const t=this.parseIdentifier(!0);null===a||K(this.state.type)?(e.imported=i,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=t,e.importKind=a,e.local=this.cloneIdentifier(t))}else{if(null!==a&&K(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=a;else{if(t)throw this.raise(T.ImportBindingIsString,e,{importName:i.value});e.imported=i,e.importKind=null}this.eatContextual(93)?e.local=this.parseIdentifier():(o=!0,e.local=this.cloneIdentifier(e.imported))}const c=ve(e);return n&&c&&this.raise(xe.ImportTypeShorthandOnlyInPureImport,e),(n||c)&&this.checkReservedType(e.local.name,e.local.loc.start,!0),!o||n||c||this.checkReservedWord(e.local.name,e.loc.start,!0,!0),this.finishImportSpecifier(e,"ImportSpecifier")}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseFunctionParams(e,t){const n=e.kind;"get"!==n&&"set"!==n&&this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){if(this.match(14)){const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=t}return super.parseAsyncArrowFromCallExpression(e,t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(e,t){var n;let r,s=null;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(s=this.state.clone(),r=this.tryParse(()=>super.parseMaybeAssign(e,t),s),!r.error)return r.node;const{context:n}=this.state,i=n[n.length-1];i!==v.j_oTag&&i!==v.j_expr||n.pop()}if(null!=(n=r)&&n.error||this.match(47)){var i,a;let n;s=s||this.state.clone();const o=this.tryParse(r=>{var s;n=this.flowParseTypeParameterDeclaration();const i=this.forwardNoArrowParamsConversionAt(n,()=>{const r=super.parseMaybeAssign(e,t);return this.resetStartLocationFromNode(r,n),r});null!=(s=i.extra)&&s.parenthesized&&r();const a=this.maybeUnwrapTypeCastExpression(i);return"ArrowFunctionExpression"!==a.type&&r(),a.typeParameters=n,this.resetStartLocationFromNode(a,n),i},s);let c=null;if(o.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(o.node).type){if(!o.error&&!o.aborted)return o.node.async&&this.raise(xe.UnexpectedTypeParameterBeforeAsyncArrowFunction,n),o.node;c=o.node}if(null!=(i=r)&&i.node)return this.state=r.failState,r.node;if(c)return this.state=o.failState,c;if(null!=(a=r)&&a.thrown)throw r.error;if(o.thrown)throw o.error;throw this.raise(xe.UnexpectedTokenAfterTypeParameter,n)}return super.parseMaybeAssign(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse(()=>{const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const n=this.startNode();return[n.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=t,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),n});if(t.thrown)return null;t.error&&(this.state=t.failState),e.returnType=t.node.typeAnnotation?this.finishNode(t.node,"TypeAnnotation"):null}return super.parseArrow(e)}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e)}setArrowFunctionParameters(e,t){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?e.params=t:super.setArrowFunctionParameters(e,t)}checkParams(e,t,n,r=!0){if(!n||!this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))){for(let t=0;t<e.params.length;t++)this.isThisParam(e.params[t])&&t>0&&this.raise(xe.ThisParamMustBeFirst,e.params[t]);super.checkParams(e,t,n,r)}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(e,t,n){if("Identifier"===e.type&&"async"===e.name&&this.state.noArrowAt.includes(t.index)){this.next();const n=this.startNodeAt(t);n.callee=e,n.arguments=super.parseCallExpressionArguments(),e=this.finishNode(n,"CallExpression")}else if("Identifier"===e.type&&"async"===e.name&&this.match(47)){const r=this.state.clone(),s=this.tryParse(e=>this.parseAsyncArrowWithTypeParameters(t)||e(),r);if(!s.error&&!s.aborted)return s.node;const i=this.tryParse(()=>super.parseSubscripts(e,t,n),r);if(i.node&&!i.error)return i.node;if(s.node)return this.state=s.failState,s.node;if(i.node)return this.state=i.failState,i.node;throw s.error||i.error}return super.parseSubscripts(e,t,n)}parseSubscript(e,t,n,r){if(this.match(18)&&this.isLookaheadToken_lt()){if(r.optionalChainMember=!0,n)return r.stop=!0,e;this.next();const s=this.startNodeAt(t);return s.callee=e,s.typeArguments=this.flowParseTypeParameterInstantiationInExpression(),this.expect(10),s.arguments=this.parseCallExpressionArguments(),s.optional=!0,this.finishCallExpression(s,!0)}if(!n&&this.shouldParseTypes()&&(this.match(47)||this.match(51))){const n=this.startNodeAt(t);n.callee=e;const s=this.tryParse(()=>(n.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),n.arguments=super.parseCallExpressionArguments(),r.optionalChainMember&&(n.optional=!1),this.finishCallExpression(n,r.optionalChainMember)));if(s.node)return s.error&&(this.state=s.failState),s.node}return super.parseSubscript(e,t,n,r)}parseNewCallee(e){super.parseNewCallee(e);let t=null;this.shouldParseTypes()&&this.match(47)&&(t=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),e.typeArguments=t}parseAsyncArrowWithTypeParameters(e){const t=this.startNodeAt(e);if(this.parseFunctionParams(t,!1),this.parseArrow(t))return super.parseArrowExpression(t,void 0,!0)}readToken_mult_modulo(e){const t=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===t&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();super.readToken_mult_modulo(e)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);124!==e||125!==t?super.readToken_pipe_amp(e):this.finishOp(9,2)}parseTopLevel(e,t){const n=super.parseTopLevel(e,t);return this.state.hasFlowComment&&this.raise(xe.UnterminatedFlowComment,this.state.curPosition()),n}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(xe.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const e=this.skipFlowComment();return void(e&&(this.state.pos+=e,this.state.hasFlowComment=!0))}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){const{pos:e}=this.state;let t=2;for(;[32,9].includes(this.input.charCodeAt(e+t));)t++;const n=this.input.charCodeAt(t+e),r=this.input.charCodeAt(t+e+1);return 58===n&&58===r?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===n&&58!==r&&t}hasFlowCommentCompletion(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(T.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:t,memberName:n}){this.raise(xe.EnumBooleanMemberNotInitialized,e,{memberName:n,enumName:t})}flowEnumErrorInvalidMemberInitializer(e,t){return this.raise(t.explicitType?"symbol"===t.explicitType?xe.EnumInvalidMemberInitializerSymbolType:xe.EnumInvalidMemberInitializerPrimaryType:xe.EnumInvalidMemberInitializerUnknownType,e,t)}flowEnumErrorNumberMemberNotInitialized(e,t){this.raise(xe.EnumNumberMemberNotInitialized,e,t)}flowEnumErrorStringMemberInconsistentlyInitialized(e,t){this.raise(xe.EnumStringMemberInconsistentlyInitialized,e,t)}flowEnumMemberInit(){const e=this.state.startLoc,t=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{const n=this.parseNumericLiteral(this.state.value);return t()?{type:"number",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}case 134:{const n=this.parseStringLiteral(this.state.value);return t()?{type:"string",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}case 85:case 86:{const n=this.parseBooleanLiteral(this.match(85));return t()?{type:"boolean",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}default:return{type:"invalid",loc:e}}}flowEnumMemberRaw(){const e=this.state.startLoc;return{id:this.parseIdentifier(!0),init:this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:e}}}flowEnumCheckExplicitTypeMismatch(e,t,n){const{explicitType:r}=t;null!==r&&r!==n&&this.flowEnumErrorInvalidMemberInitializer(e,t)}flowEnumMembers({enumName:e,explicitType:t}){const n=new Set,r={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let s=!1;for(;!this.match(8);){if(this.eat(21)){s=!0;break}const i=this.startNode(),{id:a,init:o}=this.flowEnumMemberRaw(),c=a.name;if(""===c)continue;/^[a-z]/.test(c)&&this.raise(xe.EnumInvalidMemberName,a,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:e}),n.has(c)&&this.raise(xe.EnumDuplicateMemberName,a,{memberName:c,enumName:e}),n.add(c);const l={enumName:e,explicitType:t,memberName:c};switch(i.id=a,o.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(o.loc,l,"boolean"),i.init=o.value,r.booleanMembers.push(this.finishNode(i,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(o.loc,l,"number"),i.init=o.value,r.numberMembers.push(this.finishNode(i,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(o.loc,l,"string"),i.init=o.value,r.stringMembers.push(this.finishNode(i,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(o.loc,l);case"none":switch(t){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(o.loc,l);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(o.loc,l);break;default:r.defaultedMembers.push(this.finishNode(i,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:r,hasUnknownMembers:s}}flowEnumStringMembers(e,t,{enumName:n}){if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(const t of e)this.flowEnumErrorStringMemberInconsistentlyInitialized(t,{enumName:n});return t}for(const e of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(e,{enumName:n});return e}flowEnumParseExplicitType({enumName:e}){if(!this.eatContextual(102))return null;if(!W(this.state.type))throw this.raise(xe.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:e});const{value:t}=this.state;return this.next(),"boolean"!==t&&"number"!==t&&"string"!==t&&"symbol"!==t&&this.raise(xe.EnumInvalidExplicitType,this.state.startLoc,{enumName:e,invalidEnumType:t}),t}flowEnumBody(e,t){const n=t.name,r=t.loc.start,s=this.flowEnumParseExplicitType({enumName:n});this.expect(5);const{members:i,hasUnknownMembers:a}=this.flowEnumMembers({enumName:n,explicitType:s});switch(e.hasUnknownMembers=a,s){case"boolean":return e.explicitType=!0,e.members=i.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=i.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(i.stringMembers,i.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=i.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{const t=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;const s=i.booleanMembers.length,a=i.numberMembers.length,o=i.stringMembers.length,c=i.defaultedMembers.length;if(s||a||o||c){if(s||a){if(!a&&!o&&s>=c){for(const e of i.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(e.loc.start,{enumName:n,memberName:e.id.name});return e.members=i.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody")}if(!s&&!o&&a>=c){for(const e of i.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(e.loc.start,{enumName:n,memberName:e.id.name});return e.members=i.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody")}return this.raise(xe.EnumInconsistentMemberValues,r,{enumName:n}),t()}return e.members=this.flowEnumStringMembers(i.stringMembers,i.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(e,"EnumStringBody")}return t()}}}flowParseEnumDeclaration(e){const t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),t),this.finishNode(e,"EnumDeclaration")}jsxParseOpeningElementAfterName(e){return this.shouldParseTypes()&&(this.match(47)||this.match(51))&&(e.typeArguments=this.flowParseTypeParameterInstantiationInExpression()),super.jsxParseOpeningElementAfterName(e)}isLookaheadToken_lt(){const e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){const t=this.input.charCodeAt(e+1);return 60!==t&&61!==t}return!1}reScan_lt_gt(){const{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e}maybeUnwrapTypeCastExpression(e){return"TypeCastExpression"===e.type?e.expression:e}},typescript:e=>class extends e{constructor(...e){super(...e),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:bt.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:bt.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:bt.InvalidModifierOnTypeParameter})}getScopeHandler(){return Ue}tsIsIdentifier(){return W(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),!this.hasPrecedingLineBreak()&&this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(e,t,n){if(!W(this.state.type)&&58!==this.state.type&&75!==this.state.type)return;const r=this.state.value;if(e.includes(r)){if(n&&this.match(106))return;if(t&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return r}}tsParseModifiers({allowedModifiers:e,disallowedModifiers:t,stopOnStartOfClassStaticBlock:n,errorTemplate:r=bt.InvalidModifierOnTypeMember},s){const i=(e,t,n,r)=>{t===n&&s[r]&&this.raise(bt.InvalidModifiersOrder,e,{orderedModifiers:[n,r]})},a=(e,t,n,r)=>{(s[n]&&t===r||s[r]&&t===n)&&this.raise(bt.IncompatibleModifiers,e,{modifiers:[n,r]})};for(;;){const{startLoc:o}=this.state,c=this.tsParseModifier(e.concat(null!=t?t:[]),n,s.static);if(!c)break;Et(c)?s.accessibility?this.raise(bt.DuplicateAccessibilityModifier,o,{modifier:c}):(i(o,c,c,"override"),i(o,c,c,"static"),i(o,c,c,"readonly"),s.accessibility=c):xt(c)?(s[c]&&this.raise(bt.DuplicateModifier,o,{modifier:c}),s[c]=!0,i(o,c,"in","out")):(hasOwnProperty.call(s,c)?this.raise(bt.DuplicateModifier,o,{modifier:c}):(i(o,c,"static","readonly"),i(o,c,"static","override"),i(o,c,"override","readonly"),i(o,c,"abstract","override"),a(o,c,"declare","override"),a(o,c,"static","abstract")),s[c]=!0),null!=t&&t.includes(c)&&this.raise(r,o,{modifier:c})}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(e,t){const n=[];for(;!this.tsIsListTerminator(e);)n.push(t());return n}tsParseDelimitedList(e,t,n){return function(e){if(null==e)throw new Error(`Unexpected ${e} value.`);return e}(this.tsParseDelimitedListWorker(e,t,!0,n))}tsParseDelimitedListWorker(e,t,n,r){const s=[];let i=-1;for(;!this.tsIsListTerminator(e);){i=-1;const r=t();if(null==r)return;if(s.push(r),!this.eat(12)){if(this.tsIsListTerminator(e))break;return void(n&&this.expect(12))}i=this.state.lastTokStartLoc.index}return r&&(r.value=i),s}tsParseBracketedList(e,t,n,r,s){r||(n?this.expect(0):this.expect(47));const i=this.tsParseDelimitedList(e,t,s);return n?this.expect(3):this.expect(48),i}tsParseImportType(){const e=this.startNode();return this.expect(83),this.expect(10),this.match(134)?e.argument=this.parseStringLiteral(this.state.value):(this.raise(bt.UnsupportedImportTypeArgument,this.state.startLoc),e.argument=super.parseExprAtom()),this.eat(12)?e.options=this.tsParseImportTypeOptions():e.options=null,this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName(3)),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")}tsParseImportTypeOptions(){const e=this.startNode();this.expect(5);const t=this.startNode();return this.isContextual(76)?(t.method=!1,t.key=this.parseIdentifier(!0),t.computed=!1,t.shorthand=!1):this.unexpected(null,76),this.expect(14),t.value=this.tsParseImportTypeWithPropertyValue(),e.properties=[this.finishObjectProperty(t)],this.eat(12),this.expect(8),this.finishNode(e,"ObjectExpression")}tsParseImportTypeWithPropertyValue(){const e=this.startNode(),t=[];for(this.expect(5);!this.match(8);){const e=this.state.type;W(e)||134===e?t.push(super.parsePropertyDefinition(null)):this.unexpected(),this.eat(12)}return e.properties=t,this.next(),this.finishNode(e,"ObjectExpression")}tsParseEntityName(e){let t;if(1&e&&this.match(78))if(2&e)t=this.parseIdentifier(!0);else{const e=this.startNode();this.next(),t=this.finishNode(e,"ThisExpression")}else t=this.parseIdentifier(!!(1&e));for(;this.eat(16);){const n=this.startNodeAtNode(t);n.left=t,n.right=this.parseIdentifier(!!(1&e)),t=this.finishNode(n,"TSQualifiedName")}return t}tsParseTypeReference(){const e=this.startNode();return e.typeName=this.tsParseEntityName(1),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")}tsParseThisTypePredicate(e){this.next();const t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),t.asserts=!1,this.finishNode(t,"TSTypePredicate")}tsParseThisTypeNode(){const e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")}tsParseTypeQuery(){const e=this.startNode();return this.expect(87),this.match(83)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(3),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeQuery")}tsParseTypeParameter(e){const t=this.startNode();return e(t),t.name=this.tsParseTypeParameterName(),t.constraint=this.tsEatThenParseType(81),t.default=this.tsEatThenParseType(29),this.finishNode(t,"TSTypeParameter")}tsTryParseTypeParameters(e){if(this.match(47))return this.tsParseTypeParameters(e)}tsParseTypeParameters(e){const t=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();const n={value:-1};return t.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,e),!1,!0,n),0===t.params.length&&this.raise(bt.EmptyTypeParameters,t),-1!==n.value&&this.addExtra(t,"trailingComma",n.value),this.finishNode(t,"TSTypeParameterDeclaration")}tsFillSignature(e,t){const n=19===e;t.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),t.parameters=this.tsParseBindingListForSignature(),(n||this.match(e))&&(t.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(e))}tsParseBindingListForSignature(){const e=super.parseBindingList(11,41,2);for(const t of e){const{type:e}=t;"AssignmentPattern"!==e&&"TSParameterProperty"!==e||this.raise(bt.UnsupportedSignatureParameterKind,t,{type:e})}return e}tsParseTypeMemberSemicolon(){this.eat(12)||this.isLineTerminator()||this.expect(13)}tsParseSignatureMember(e,t){return this.tsFillSignature(14,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e)}tsIsUnambiguouslyIndexSignature(){return this.next(),!!W(this.state.type)&&(this.next(),this.match(14))}tsTryParseIndexSignature(e){if(!this.match(0)||!this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this)))return;this.expect(0);const t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(3),e.parameters=[t];const n=this.tsTryParseTypeAnnotation();return n&&(e.typeAnnotation=n),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}tsParsePropertyOrMethodSignature(e,t){if(this.eat(17)&&(e.optional=!0),this.match(10)||this.match(47)){t&&this.raise(bt.ReadonlyForMethodSignature,e);const n=e;n.kind&&this.match(47)&&this.raise(bt.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,n),this.tsParseTypeMemberSemicolon();const r="parameters",s="typeAnnotation";if("get"===n.kind)n[r].length>0&&(this.raise(T.BadGetterArity,this.state.curPosition()),this.isThisParam(n[r][0])&&this.raise(bt.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if("set"===n.kind){if(1!==n[r].length)this.raise(T.BadSetterArity,this.state.curPosition());else{const e=n[r][0];this.isThisParam(e)&&this.raise(bt.AccessorCannotDeclareThisParameter,this.state.curPosition()),"Identifier"===e.type&&e.optional&&this.raise(bt.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),"RestElement"===e.type&&this.raise(bt.SetAccessorCannotHaveRestParameter,this.state.curPosition())}n[s]&&this.raise(bt.SetAccessorCannotHaveReturnType,n[s])}else n.kind="method";return this.finishNode(n,"TSMethodSignature")}{const n=e;t&&(n.readonly=!0);const r=this.tsTryParseTypeAnnotation();return r&&(n.typeAnnotation=r),this.tsParseTypeMemberSemicolon(),this.finishNode(n,"TSPropertySignature")}}tsParseTypeMember(){const e=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(77)){const t=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},e);return this.tsTryParseIndexSignature(e)||(super.parsePropertyName(e),e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||!this.tsTokenCanFollowModifier()||(e.kind=e.key.name,super.parsePropertyName(e),this.match(10)||this.match(47)||this.unexpected(null,10)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly))}tsParseTypeLiteral(){const e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!!this.match(0)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(58))))}tsParseMappedType(){const e=this.startNode();this.expect(5),this.match(53)?(e.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(e.readonly=!0),this.expect(0);{const t=this.startNode();t.name=this.tsParseTypeParameterName(),t.constraint=this.tsExpectThenParseType(58),e.typeParameter=this.finishNode(t,"TSTypeParameter")}return e.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType")}tsParseTupleType(){const e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let t=!1;return e.elementTypes.forEach(e=>{const{type:n}=e;!t||"TSRestType"===n||"TSOptionalType"===n||"TSNamedTupleMember"===n&&e.optional||this.raise(bt.OptionalTypeBeforeRequired,e),t||(t="TSNamedTupleMember"===n&&e.optional||"TSOptionalType"===n)}),this.finishNode(e,"TSTupleType")}tsParseTupleElementType(){const e=this.state.startLoc,t=this.eat(21),{startLoc:n}=this.state;let r,s,i,a;const o=K(this.state.type)?this.lookaheadCharCode():null;if(58===o)r=!0,i=!1,s=this.parseIdentifier(!0),this.expect(14),a=this.tsParseType();else if(63===o){i=!0;const e=this.state.value,t=this.tsParseNonArrayType();58===this.lookaheadCharCode()?(r=!0,s=this.createIdentifier(this.startNodeAt(n),e),this.expect(17),this.expect(14),a=this.tsParseType()):(r=!1,a=t,this.expect(17))}else a=this.tsParseType(),i=this.eat(17),r=this.eat(14);if(r){let e;s?(e=this.startNodeAt(n),e.optional=i,e.label=s,e.elementType=a,this.eat(17)&&(e.optional=!0,this.raise(bt.TupleOptionalAfterType,this.state.lastTokStartLoc))):(e=this.startNodeAt(n),e.optional=i,this.raise(bt.InvalidTupleMemberLabel,a),e.label=a,e.elementType=this.tsParseType()),a=this.finishNode(e,"TSNamedTupleMember")}else if(i){const e=this.startNodeAt(n);e.typeAnnotation=a,a=this.finishNode(e,"TSOptionalType")}if(t){const t=this.startNodeAt(e);t.typeAnnotation=a,a=this.finishNode(t,"TSRestType")}return a}tsParseParenthesizedType(){const e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType")}tsParseFunctionOrConstructorType(e,t){const n=this.startNode();return"TSConstructorType"===e&&(n.abstract=!!t,t&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,n)),this.finishNode(n,e)}tsParseLiteralTypeNode(){const e=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:e.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(e,"TSLiteralType")}tsParseTemplateLiteralType(){{const e=this.startNode();return e.literal=super.parseTemplate(!1),this.finishNode(e,"TSLiteralType")}}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const e=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if("-"===this.state.value){const e=this.startNode(),t=this.lookahead();return 135!==t.type&&136!==t.type&&this.unexpected(),e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:e}=this.state;if(W(e)||88===e||84===e){const t=88===e?"TSVoidKeyword":84===e?"TSNullKeyword":function(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}(this.state.value);if(void 0!==t&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,t)}return this.tsParseTypeReference()}}}throw this.unexpected()}tsParseArrayTypeOrHigher(){const{startLoc:e}=this.state;let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const n=this.startNodeAt(e);n.elementType=t,this.expect(3),t=this.finishNode(n,"TSArrayType")}else{const n=this.startNodeAt(e);n.objectType=t,n.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(n,"TSIndexedAccessType")}return t}tsParseTypeOperator(){const e=this.startNode(),t=this.state.value;return this.next(),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===t&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(bt.UnexpectedReadonly,e)}}tsParseInferType(){const e=this.startNode();this.expectContextual(115);const t=this.startNode();return t.name=this.tsParseTypeParameterName(),t.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const e=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return e}}tsParseTypeOperatorOrHigher(){var e;return(e=this.state.type)>=121&&e<=123&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(e,t,n){const r=this.startNode(),s=this.eat(n),i=[];do{i.push(t())}while(this.eat(n));return 1!==i.length||s?(r.types=i,this.finishNode(r,e)):i[0]}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return!!this.match(47)||this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(W(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:e}=this.state,t=e.length;try{return this.parseObjectLike(8,!0),e.length===t}catch(e){return!1}}if(this.match(0)){this.next();const{errors:e}=this.state,t=e.length;try{return super.parseBindingList(3,93,1),e.length===t}catch(e){return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(11)||this.match(21))return!0;if(this.tsSkipParameterStart()){if(this.match(14)||this.match(12)||this.match(17)||this.match(29))return!0;if(this.match(11)&&(this.next(),this.match(19)))return!0}return!1}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType(()=>{const t=this.startNode();this.expect(e);const n=this.startNode(),r=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(r&&this.match(78)){let e=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===e.type?(n.parameterName=e,n.asserts=!0,n.typeAnnotation=null,e=this.finishNode(n,"TSTypePredicate")):(this.resetStartLocationFromNode(e,n),e.asserts=!0),t.typeAnnotation=e,this.finishNode(t,"TSTypeAnnotation")}const s=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!s)return r?(n.parameterName=this.parseIdentifier(),n.asserts=r,n.typeAnnotation=null,t.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,t);const i=this.tsParseTypeAnnotation(!1);return n.parameterName=s,n.typeAnnotation=i,n.asserts=r,t.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const e=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),e}tsParseTypePredicateAsserts(){if(109!==this.state.type)return!1;const e=this.state.containsEsc;return this.next(),!(!W(this.state.type)&&!this.match(78)||(e&&this.raise(T.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),0))}tsParseTypeAnnotation(e=!0,t=this.startNode()){return this.tsInType(()=>{e&&this.expect(14),t.typeAnnotation=this.tsParseType()}),this.finishNode(t,"TSTypeAnnotation")}tsParseType(){St(this.state.inType);const e=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return e;const t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),t.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),t.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(t,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.isLookaheadContextual("new")}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(bt.ReservedTypeAssertion,this.state.startLoc);const e=this.startNode();return e.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")}tsParseHeritageClause(e){const t=this.state.startLoc,n=this.tsParseDelimitedList("HeritageClauseElement",()=>{{const e=this.startNode();return e.expression=this.tsParseEntityName(3),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments")}});return n.length||this.raise(bt.EmptyHeritageClauseType,t,{token:e}),n}tsParseInterfaceDeclaration(e,t={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),t.declare&&(e.declare=!0),W(this.state.type)?(e.id=this.parseIdentifier(),this.checkIdentifier(e.id,130)):(e.id=null,this.raise(bt.MissingInterfaceName,this.state.startLoc)),e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(e.extends=this.tsParseHeritageClause("extends"));const n=this.startNode();return n.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(n,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkIdentifier(e.id,2),e.typeAnnotation=this.tsInType(()=>{if(e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")}tsInTopLevelContext(e){if(this.curContext()===v.brace)return e();{const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}}tsInType(e){const t=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=t}}tsInDisallowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsInAllowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsEatThenParseType(e){if(this.match(e))return this.tsNextThenParseType()}tsExpectThenParseType(e){return this.tsInType(()=>(this.expect(e),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){const e=this.startNode();return e.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(e.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")}tsParseEnumDeclaration(e,t={}){return t.const&&(e.const=!0),t.declare&&(e.declare=!0),this.expectContextual(126),e.id=this.parseIdentifier(),this.checkIdentifier(e.id,e.const?8971:8459),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration")}tsParseEnumBody(){const e=this.startNode();return this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumBody")}tsParseModuleBlock(){const e=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(e,t=!1){if(e.id=this.parseIdentifier(),t||this.checkIdentifier(e.id,1024),this.eat(16)){const t=this.startNode();this.tsParseModuleOrNamespaceDeclaration(t,!0),e.body=t}else this.scope.enter(1024),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(112)?(e.kind="global",e.global=!0,e.id=this.parseIdentifier()):this.match(134)?(e.kind="module",e.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(1024),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(e,t,n){e.isExport=n||!1,e.id=t||this.parseIdentifier(),this.checkIdentifier(e.id,4096),this.expect(29);const r=this.tsParseModuleReference();return"type"===e.importKind&&"TSExternalModuleReference"!==r.type&&this.raise(bt.ImportAliasHasImportType,r),e.moduleReference=r,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&40===this.lookaheadCharCode()}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(0)}tsParseExternalModuleReference(){const e=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),e.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExternalModuleReference")}tsLookAhead(e){const t=this.state.clone(),n=e();return this.state=t,n}tsTryParseAndCatch(e){const t=this.tryParse(t=>e()||t());if(!t.aborted&&t.node)return t.error&&(this.state=t.failState),t.node}tsTryParse(e){const t=this.state.clone(),n=e();if(void 0!==n&&!1!==n)return n;this.state=t}tsTryParseDeclare(e){if(this.isLineTerminator())return;const t=this.state.type;return this.tsInAmbientContext(()=>{switch(t){case 68:return e.declare=!0,super.parseFunctionStatement(e,!1,!1);case 80:return e.declare=!0,this.parseClass(e,!0,!1);case 126:return this.tsParseEnumDeclaration(e,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(e);case 100:if(this.state.containsEsc)return;case 75:case 74:return this.match(75)&&this.isLookaheadContextual("enum")?(this.expect(75),this.tsParseEnumDeclaration(e,{const:!0,declare:!0})):(e.declare=!0,this.parseVarStatement(e,this.state.value,!0));case 107:if(this.isUsing())return this.raise(bt.InvalidModifierOnUsingDeclaration,this.state.startLoc,"declare"),e.declare=!0,this.parseVarStatement(e,"using",!0);break;case 96:if(this.isAwaitUsing())return this.raise(bt.InvalidModifierOnAwaitUsingDeclaration,this.state.startLoc,"declare"),e.declare=!0,this.next(),this.parseVarStatement(e,"await using",!0);break;case 129:{const t=this.tsParseInterfaceDeclaration(e,{declare:!0});if(t)return t}default:if(W(t))return this.tsParseDeclaration(e,this.state.type,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.type,!0,null)}tsParseDeclaration(e,t,n,r){switch(t){case 124:if(this.tsCheckLineTerminator(n)&&(this.match(80)||W(this.state.type)))return this.tsParseAbstractDeclaration(e,r);break;case 127:if(this.tsCheckLineTerminator(n)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(e);if(W(this.state.type))return e.kind="module",this.tsParseModuleOrNamespaceDeclaration(e)}break;case 128:if(this.tsCheckLineTerminator(n)&&W(this.state.type))return e.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(e);break;case 130:if(this.tsCheckLineTerminator(n)&&W(this.state.type))return this.tsParseTypeAliasDeclaration(e)}}tsCheckLineTerminator(e){return e?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(e){if(!this.match(47))return;const t=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const n=this.tsTryParseAndCatch(()=>{const t=this.startNodeAt(e);return t.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(t),t.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),t});return this.state.maybeInArrowParameters=t,n?super.parseArrowExpression(n,null,!0):void 0}tsParseTypeArgumentsInExpression(){if(47===this.reScan_lt())return this.tsParseTypeArguments()}tsParseTypeArguments(){const e=this.startNode();return e.params=this.tsInType(()=>this.tsInTopLevelContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),0===e.params.length?this.raise(bt.EmptyTypeArguments,e):this.state.inType||this.curContext()!==v.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return(e=this.state.type)>=124&&e<=130;var e}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier()}parseBindingElement(e,t){const n=t.length?t[0].loc.start:this.state.startLoc,r={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},r);const s=r.accessibility,i=r.override,a=r.readonly;4&e||!(s||a||i)||this.raise(bt.UnexpectedParameterModifier,n);const o=this.parseMaybeDefault();2&e&&this.parseFunctionParamType(o);const c=this.parseMaybeDefault(o.loc.start,o);if(s||a||i){const e=this.startNodeAt(n);return t.length&&(e.decorators=t),s&&(e.accessibility=s),a&&(e.readonly=a),i&&(e.override=i),"Identifier"!==c.type&&"AssignmentPattern"!==c.type&&this.raise(bt.UnsupportedParameterPropertyKind,e),e.parameter=c,this.finishNode(e,"TSParameterProperty")}return t.length&&(o.decorators=t),c}isSimpleParameter(e){return"TSParameterProperty"===e.type&&super.isSimpleParameter(e.parameter)||super.isSimpleParameter(e)}tsDisallowOptionalPattern(e){for(const t of e.params)"Identifier"!==t.type&&t.optional&&!this.state.isAmbientContext&&this.raise(bt.PatternIsOptional,t)}setArrowFunctionParameters(e,t,n){super.setArrowFunctionParameters(e,t,n),this.tsDisallowOptionalPattern(e)}parseFunctionBodyAndFinish(e,t,n=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const r="FunctionDeclaration"===t?"TSDeclareFunction":"ClassMethod"===t||"ClassPrivateMethod"===t?"TSDeclareMethod":void 0;return r&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,r):"TSDeclareFunction"===r&&this.state.isAmbientContext&&(this.raise(bt.DeclareFunctionHasImplementation,e),e.declare)?super.parseFunctionBodyAndFinish(e,r,n):(this.tsDisallowOptionalPattern(e),super.parseFunctionBodyAndFinish(e,t,n))}registerFunctionStatementId(e){!e.body&&e.id?this.checkIdentifier(e.id,1024):super.registerFunctionStatementId(e)}tsCheckForInvalidTypeCasts(e){e.forEach(e=>{"TSTypeCastExpression"===(null==e?void 0:e.type)&&this.raise(bt.UnexpectedTypeAnnotation,e.typeAnnotation)})}toReferencedList(e,t){return this.tsCheckForInvalidTypeCasts(e),e}parseArrayLike(e,t,n){const r=super.parseArrayLike(e,t,n);return"ArrayExpression"===r.type&&this.tsCheckForInvalidTypeCasts(r.elements),r}parseSubscript(e,t,n,r){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const n=this.startNodeAt(t);return n.expression=e,this.finishNode(n,"TSNonNullExpression")}let s=!1;if(this.match(18)&&60===this.lookaheadCharCode()){if(n)return r.stop=!0,e;r.optionalChainMember=s=!0,this.next()}if(this.match(47)||this.match(51)){let i;const a=this.tsTryParseAndCatch(()=>{if(!n&&this.atPossibleAsyncArrow(e)){const e=this.tsTryParseGenericAsyncArrowFunction(t);if(e)return r.stop=!0,e}const a=this.tsParseTypeArgumentsInExpression();if(!a)return;if(s&&!this.match(10))return void(i=this.state.curPosition());if(Q(this.state.type)){const n=super.parseTaggedTemplateExpression(e,t,r);return n.typeParameters=a,n}if(!n&&this.eat(10)){const n=this.startNodeAt(t);return n.callee=e,n.arguments=this.parseCallExpressionArguments(),this.tsCheckForInvalidTypeCasts(n.arguments),n.typeParameters=a,r.optionalChainMember&&(n.optional=s),this.finishCallExpression(n,r.optionalChainMember)}const o=this.state.type;if(48===o||52===o||10!==o&&q(o)&&!this.hasPrecedingLineBreak())return;const c=this.startNodeAt(t);return c.expression=e,c.typeParameters=a,this.finishNode(c,"TSInstantiationExpression")});if(i&&this.unexpected(i,10),a)return"TSInstantiationExpression"===a.type&&((this.match(16)||this.match(18)&&40!==this.lookaheadCharCode())&&this.raise(bt.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),this.match(16)||this.match(18)||(a.expression=super.stopParseSubscript(e,r))),a}return super.parseSubscript(e,t,n,r)}parseNewCallee(e){var t;super.parseNewCallee(e);const{callee:n}=e;"TSInstantiationExpression"!==n.type||null!=(t=n.extra)&&t.parenthesized||(e.typeParameters=n.typeParameters,e.callee=n.expression)}parseExprOp(e,t,n){let r;if(X(58)>n&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(r=this.isContextual(120)))){const s=this.startNodeAt(t);return s.expression=e,s.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(r&&this.raise(T.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(s,r?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(s,t,n)}return super.parseExprOp(e,t,n)}checkReservedWord(e,t,n,r){this.state.isAmbientContext||super.checkReservedWord(e,t,n,r)}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(bt.ImportReflectionHasImportType,e.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){const t=this.lookaheadCharCode();return e?123===t||42===t:61!==t}return!e&&this.isContextual(87)}applyImportPhase(e,t,n,r){super.applyImportPhase(e,t,n,r),t?e.exportKind="type"===n?"type":"value":e.importKind="type"===n||"typeof"===n?n:"value"}parseImport(e){if(this.match(134))return e.importKind="value",super.parseImport(e);let t;if(W(this.state.type)&&61===this.lookaheadCharCode())return e.importKind="value",this.tsParseImportEqualsDeclaration(e);if(this.isContextual(130)){const n=this.parseMaybeImportPhase(e,!1);if(61===this.lookaheadCharCode())return this.tsParseImportEqualsDeclaration(e,n);t=super.parseImportSpecifiersAndAfter(e,n)}else t=super.parseImport(e);return"type"===t.importKind&&t.specifiers.length>1&&"ImportDefaultSpecifier"===t.specifiers[0].type&&this.raise(bt.TypeImportCannotSpecifyDefaultAndNamed,t),t}parseExport(e,t){if(this.match(83)){const t=e;this.next();let n=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?n=this.parseMaybeImportPhase(t,!1):t.importKind="value",this.tsParseImportEqualsDeclaration(t,n,!0)}if(this.eat(29)){const t=e;return t.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExportAssignment")}if(this.eatContextual(93)){const t=e;return this.expectContextual(128),t.id=this.parseIdentifier(),this.semicolon(),this.finishNode(t,"TSNamespaceExportDeclaration")}return super.parseExport(e,t)}isAbstractClass(){return this.isContextual(124)&&this.isLookaheadContextual("class")}parseExportDefaultExpression(){if(this.isAbstractClass()){const e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0)}if(this.match(129)){const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseExportDefaultExpression()}parseVarStatement(e,t,n=!1){const{isAmbientContext:r}=this.state,s=super.parseVarStatement(e,t,n||r);if(!r)return s;if(!e.declare&&("using"===t||"await using"===t))return this.raiseOverwrite(bt.UsingDeclarationInAmbientContext,e,t),s;for(const{id:e,init:n}of s.declarations)n&&("var"===t||"let"===t||e.typeAnnotation?this.raise(bt.InitializerNotAllowedInAmbientContext,n):Pt(n,this.hasPlugin("estree"))||this.raise(bt.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,n));return s}parseStatementContent(e,t){if(!this.state.containsEsc)switch(this.state.type){case 75:if(this.isLookaheadContextual("enum")){const e=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(e,{const:!0})}break;case 124:case 125:if(this.nextTokenIsIdentifierAndNotTSRelationalOperatorOnSameLine()){const e=this.state.type,n=this.startNode();this.next();const r=125===e?this.tsTryParseDeclare(n):this.tsParseAbstractDeclaration(n,t);return r?(125===e&&(r.declare=!0),r):(n.expression=this.createIdentifier(this.startNodeAt(n.loc.start),125===e?"declare":"abstract"),this.semicolon(!1),this.finishNode(n,"ExpressionStatement"))}break;case 126:return this.tsParseEnumDeclaration(this.startNode());case 112:if(123===this.lookaheadCharCode()){const e=this.startNode();return this.tsParseAmbientExternalModuleDeclaration(e)}break;case 129:{const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e;break}case 127:if(this.nextTokenIsIdentifierOrStringLiteralOnSameLine()){const e=this.startNode();return this.next(),this.tsParseDeclaration(e,127,!1,t)}break;case 128:if(this.nextTokenIsIdentifierOnSameLine()){const e=this.startNode();return this.next(),this.tsParseDeclaration(e,128,!1,t)}break;case 130:if(this.nextTokenIsIdentifierOnSameLine()){const e=this.startNode();return this.next(),this.tsParseTypeAliasDeclaration(e)}}return super.parseStatementContent(e,t)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(e,t){return t.some(t=>Et(t)?e.accessibility===t:!!e[t])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&123===this.lookaheadCharCode()}parseClassMember(e,t,n){const r=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:r,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:bt.InvalidModifierOnTypeParameterPositions},t);const s=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(t,r)&&this.raise(bt.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(e,t)):this.parseClassMemberWithIsStatic(e,t,n,!!t.static)};t.declare?this.tsInAmbientContext(s):s()}parseClassMemberWithIsStatic(e,t,n,r){const s=this.tsTryParseIndexSignature(t);if(s)return e.body.push(s),t.abstract&&this.raise(bt.IndexSignatureHasAbstract,t),t.accessibility&&this.raise(bt.IndexSignatureHasAccessibility,t,{modifier:t.accessibility}),t.declare&&this.raise(bt.IndexSignatureHasDeclare,t),void(t.override&&this.raise(bt.IndexSignatureHasOverride,t));!this.state.inAbstractClass&&t.abstract&&this.raise(bt.NonAbstractClassHasAbstractMethod,t),t.override&&(n.hadSuperClass||this.raise(bt.OverrideNotInSubClass,t)),super.parseClassMemberWithIsStatic(e,t,n,r)}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(bt.ClassMethodHasReadonly,e),e.declare&&this.match(10)&&this.raise(bt.ClassMethodHasDeclare,e)}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration()}parseConditional(e,t,n){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(n),e}return super.parseConditional(e,t,n)}parseParenItem(e,t){const n=super.parseParenItem(e,t);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(e)),this.match(14)){const n=this.startNodeAt(t);return n.expression=e,n.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(n,"TSTypeCastExpression")}return e}parseExportDeclaration(e){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(e));const t=this.state.startLoc,n=this.eatContextual(125);if(n&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(bt.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const r=W(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(e);return r?(("TSInterfaceDeclaration"===r.type||"TSTypeAliasDeclaration"===r.type||n)&&(e.exportKind="type"),n&&"TSImportEqualsDeclaration"!==r.type&&(this.resetStartLocation(r,t),r.declare=!0),r):null}parseClassId(e,t,n,r){if((!t||n)&&this.isContextual(113))return;super.parseClassId(e,t,n,e.declare?1024:8331);const s=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);s&&(e.typeParameters=s)}parseClassPropertyAnnotation(e){e.optional||(this.eat(35)?e.definite=!0:this.eat(17)&&(e.optional=!0));const t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t)}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&(!e.readonly||e.typeAnnotation)&&this.match(29)&&this.raise(bt.DeclareClassFieldHasInitializer,this.state.startLoc),e.abstract&&this.match(29)){const{key:t}=e;this.raise(bt.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:"Identifier"!==t.type||e.computed?`[${this.input.slice(this.offsetToSourcePos(t.start),this.offsetToSourcePos(t.end))}]`:t.name})}return super.parseClassProperty(e)}parseClassPrivateProperty(e){return e.abstract&&this.raise(bt.PrivateElementHasAbstract,e),e.accessibility&&this.raise(bt.PrivateElementHasAccessibility,e,{modifier:e.accessibility}),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e)}parseClassAccessorProperty(e){return this.parseClassPropertyAnnotation(e),e.optional&&this.raise(bt.AccessorCannotBeOptional,e),super.parseClassAccessorProperty(e)}pushClassMethod(e,t,n,r,s,i){const a=this.tsTryParseTypeParameters(this.tsParseConstModifier);a&&s&&this.raise(bt.ConstructorHasTypeParameters,a);const{declare:o=!1,kind:c}=t;!o||"get"!==c&&"set"!==c||this.raise(bt.DeclareAccessor,t,{kind:c}),a&&(t.typeParameters=a),super.pushClassMethod(e,t,n,r,s,i)}pushClassPrivateMethod(e,t,n,r){const s=this.tsTryParseTypeParameters(this.tsParseConstModifier);s&&(t.typeParameters=s),super.pushClassPrivateMethod(e,t,n,r)}declareClassPrivateMethodInScope(e,t){"TSDeclareMethod"!==e.type&&("MethodDefinition"===e.type&&null==e.value.body||super.declareClassPrivateMethodInScope(e,t))}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(e.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(e,t,n,r,s,i,a){const o=this.tsTryParseTypeParameters(this.tsParseConstModifier);return o&&(e.typeParameters=o),super.parseObjPropValue(e,t,n,r,s,i,a)}parseFunctionParams(e,t){const n=this.tsTryParseTypeParameters(this.tsParseConstModifier);n&&(e.typeParameters=n),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),"Identifier"===e.id.type&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(e.definite=!0);const n=this.tsTryParseTypeAnnotation();n&&(e.id.typeAnnotation=n,this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,t)}parseMaybeAssign(e,t){var n,r,s,i,a;let o,c,l,p;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(o=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(e,t),o),!c.error)return c.node;const{context:n}=this.state,r=n[n.length-1];r!==v.j_oTag&&r!==v.j_expr||n.pop()}if(!(null!=(n=c)&&n.error||this.match(47)))return super.parseMaybeAssign(e,t);o&&o!==this.state||(o=this.state.clone());const u=this.tryParse(n=>{var r,s;p=this.tsParseTypeParameters(this.tsParseConstModifier);const i=super.parseMaybeAssign(e,t);return("ArrowFunctionExpression"!==i.type||null!=(r=i.extra)&&r.parenthesized)&&n(),0!==(null==(s=p)?void 0:s.params.length)&&this.resetStartLocationFromNode(i,p),i.typeParameters=p,i},o);if(!u.error&&!u.aborted)return p&&this.reportReservedArrowTypeParam(p),u.node;if(!c&&(St(!this.hasPlugin("jsx")),l=this.tryParse(()=>super.parseMaybeAssign(e,t),o),!l.error))return l.node;if(null!=(r=c)&&r.node)return this.state=c.failState,c.node;if(u.node)return this.state=u.failState,p&&this.reportReservedArrowTypeParam(p),u.node;if(null!=(s=l)&&s.node)return this.state=l.failState,l.node;throw(null==(i=c)?void 0:i.error)||u.error||(null==(a=l)?void 0:a.error)}reportReservedArrowTypeParam(e){var t;1!==e.params.length||e.params[0].constraint||null!=(t=e.extra)&&t.trailingComma||!this.getPluginOption("typescript","disallowAmbiguousJSXLike")||this.raise(bt.ReservedArrowTypeParam,e)}parseMaybeUnary(e,t){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse(e=>{const t=this.tsParseTypeOrTypePredicateAnnotation(14);return!this.canInsertSemicolon()&&this.match(19)||e(),t});if(t.aborted)return;t.thrown||(t.error&&(this.state=t.failState),e.returnType=t.node)}return super.parseArrow(e)}parseFunctionParamType(e){this.eat(17)&&(e.optional=!0);const t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t),this.resetEndLocation(e),e}isAssignable(e,t){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,t);case"TSParameterProperty":return!0;default:return super.isAssignable(e,t)}}toAssignable(e,t=!1){switch(e.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(e,t);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":t?this.expressionScope.recordArrowParameterBindingError(bt.UnexpectedTypeCastInParameter,e):this.raise(bt.UnexpectedTypeCastInParameter,e),this.toAssignable(e.expression,t);break;case"AssignmentExpression":t||"TSTypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left));default:super.toAssignable(e,t)}}toAssignableParenthesizedExpression(e,t){switch(e.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;default:super.toAssignable(e,t)}}checkToRestConversion(e,t){switch(e.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(e.expression,!1);break;default:super.checkToRestConversion(e,t)}}isValidLVal(e,t,n,r){switch(e){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(64!==r||!n)&&["expression",!0];default:return super.isValidLVal(e,t,n,r)}}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(e,t){if(this.match(47)||this.match(51)){const n=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const r=super.parseMaybeDecoratorArguments(e,t);return r.typeParameters=n,r}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(e,t)}checkCommaAfterRest(e){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?(this.next(),!1):super.checkCommaAfterRest(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(e,t){const n=super.parseMaybeDefault(e,t);return"AssignmentPattern"===n.type&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(bt.TypeAnnotationAfterAssign,n.typeAnnotation),n}getTokenFromCode(e){if(this.state.inType){if(62===e)return void this.finishOp(48,1);if(60===e)return void this.finishOp(47,1)}super.getTokenFromCode(e)}reScan_lt_gt(){const{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e}toAssignableListItem(e,t,n){const r=e[t];"TSTypeCastExpression"===r.type&&(e[t]=this.typeCastToParameter(r)),super.toAssignableListItem(e,t,n)}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}shouldParseArrow(e){return this.match(14)?e.every(e=>this.isAssignable(e,!0)):super.shouldParseArrow(e)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(e){if(this.match(47)||this.match(51)){const t=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());t&&(e.typeParameters=t)}return super.jsxParseOpeningElementAfterName(e)}getGetterSetterExpectedParamCount(e){const t=super.getGetterSetterExpectedParamCount(e),n=this.getObjectOrClassMethodParams(e)[0];return n&&this.isThisParam(n)?t+1:t}parseCatchClauseParam(){const e=super.parseCatchClauseParam(),t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t,this.resetEndLocation(e)),e}tsInAmbientContext(e){const{isAmbientContext:t,strict:n}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return e()}finally{this.state.isAmbientContext=t,this.state.strict=n}}parseClass(e,t,n){const r=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,t,n)}finally{this.state.inAbstractClass=r}}tsParseAbstractDeclaration(e,t){if(this.match(80))return e.abstract=!0,this.maybeTakeDecorators(t,this.parseClass(e,!0,!1));if(this.isContextual(129))return this.hasFollowingLineBreak()?null:(e.abstract=!0,this.raise(bt.NonClassMethodPropertyHasAbstractModifier,e),this.tsParseInterfaceDeclaration(e));throw this.unexpected(null,80)}parseMethod(e,t,n,r,s,i,a){const o=super.parseMethod(e,t,n,r,s,i,a);if((o.abstract||"TSAbstractMethodDefinition"===o.type)&&(this.hasPlugin("estree")?o.value:o).body){const{key:e}=o;this.raise(bt.AbstractMethodHasImplementation,o,{methodName:"Identifier"!==e.type||o.computed?`[${this.input.slice(this.offsetToSourcePos(e.start),this.offsetToSourcePos(e.end))}]`:e.name})}return o}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(e,t,n,r){return!t&&r?(this.parseTypeOnlyImportExportSpecifier(e,!1,n),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,t,n,r))}parseImportSpecifier(e,t,n,r,s){return!t&&r?(this.parseTypeOnlyImportExportSpecifier(e,!0,n),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,t,n,r,n?4098:4096))}parseTypeOnlyImportExportSpecifier(e,t,n){const r=t?"imported":"local",s=t?"local":"exported";let i,a=e[r],o=!1,c=!0;const l=a.loc.start;if(this.isContextual(93)){const e=this.parseIdentifier();if(this.isContextual(93)){const n=this.parseIdentifier();K(this.state.type)?(o=!0,a=e,i=t?this.parseIdentifier():this.parseModuleExportName(),c=!1):(i=n,c=!1)}else K(this.state.type)?(c=!1,i=t?this.parseIdentifier():this.parseModuleExportName()):(o=!0,a=e)}else K(this.state.type)&&(o=!0,t?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());o&&n&&this.raise(t?bt.TypeModifierIsUsedInTypeImports:bt.TypeModifierIsUsedInTypeExports,l),e[r]=a,e[s]=i,e[t?"importKind":"exportKind"]=o?"type":"value",c&&this.eatContextual(93)&&(e[s]=t?this.parseIdentifier():this.parseModuleExportName()),e[s]||(e[s]=this.cloneIdentifier(e[r])),t&&this.checkIdentifier(e[s],o?4098:4096)}fillOptionalPropertiesForTSESLint(e){switch(e.type){case"ExpressionStatement":return void(null!=e.directive||(e.directive=void 0));case"RestElement":e.value=void 0;case"Identifier":case"ArrayPattern":case"AssignmentPattern":case"ObjectPattern":return null!=e.decorators||(e.decorators=[]),null!=e.optional||(e.optional=!1),void(null!=e.typeAnnotation||(e.typeAnnotation=void 0));case"TSParameterProperty":return null!=e.accessibility||(e.accessibility=void 0),null!=e.decorators||(e.decorators=[]),null!=e.override||(e.override=!1),null!=e.readonly||(e.readonly=!1),void(null!=e.static||(e.static=!1));case"TSEmptyBodyFunctionExpression":e.body=null;case"TSDeclareFunction":case"FunctionDeclaration":case"FunctionExpression":case"ClassMethod":case"ClassPrivateMethod":return null!=e.declare||(e.declare=!1),null!=e.returnType||(e.returnType=void 0),void(null!=e.typeParameters||(e.typeParameters=void 0));case"Property":return void(null!=e.optional||(e.optional=!1));case"TSMethodSignature":case"TSPropertySignature":null!=e.optional||(e.optional=!1);case"TSIndexSignature":return null!=e.accessibility||(e.accessibility=void 0),null!=e.readonly||(e.readonly=!1),void(null!=e.static||(e.static=!1));case"TSAbstractPropertyDefinition":case"PropertyDefinition":case"TSAbstractAccessorProperty":case"AccessorProperty":null!=e.declare||(e.declare=!1),null!=e.definite||(e.definite=!1),null!=e.readonly||(e.readonly=!1),null!=e.typeAnnotation||(e.typeAnnotation=void 0);case"TSAbstractMethodDefinition":case"MethodDefinition":return null!=e.accessibility||(e.accessibility=void 0),null!=e.decorators||(e.decorators=[]),null!=e.override||(e.override=!1),void(null!=e.optional||(e.optional=!1));case"ClassExpression":null!=e.id||(e.id=null);case"ClassDeclaration":return null!=e.abstract||(e.abstract=!1),null!=e.declare||(e.declare=!1),null!=e.decorators||(e.decorators=[]),null!=e.implements||(e.implements=[]),null!=e.superTypeArguments||(e.superTypeArguments=void 0),void(null!=e.typeParameters||(e.typeParameters=void 0));case"TSTypeAliasDeclaration":case"VariableDeclaration":return void(null!=e.declare||(e.declare=!1));case"VariableDeclarator":return void(null!=e.definite||(e.definite=!1));case"TSEnumDeclaration":return null!=e.const||(e.const=!1),void(null!=e.declare||(e.declare=!1));case"TSEnumMember":return void(null!=e.computed||(e.computed=!1));case"TSImportType":return null!=e.qualifier||(e.qualifier=null),void(null!=e.options||(e.options=null));case"TSInterfaceDeclaration":return null!=e.declare||(e.declare=!1),void(null!=e.extends||(e.extends=[]));case"TSMappedType":return null!=e.optional||(e.optional=!1),void(null!=e.readonly||(e.readonly=void 0));case"TSModuleDeclaration":return null!=e.declare||(e.declare=!1),void(null!=e.global||(e.global="global"===e.kind));case"TSTypeParameter":return null!=e.const||(e.const=!1),null!=e.in||(e.in=!1),void(null!=e.out||(e.out=!1))}}chStartsBindingIdentifierAndNotRelationalOperator(e,t){if(oe(e)){if(Tt.lastIndex=t,Tt.test(this.input)){const e=this.codePointAtPos(Tt.lastIndex);if(!ce(e)&&92!==e)return!1}return!0}return 92===e}nextTokenIsIdentifierAndNotTSRelationalOperatorOnSameLine(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifierAndNotRelationalOperator(t,e)}nextTokenIsIdentifierOrStringLiteralOnSameLine(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifier(t,e)||34===t||39===t}},v8intrinsic:e=>class extends e{parseV8Intrinsic(){if(this.match(54)){const e=this.state.startLoc,t=this.startNode();if(this.next(),W(this.state.type)){const e=this.parseIdentifierName(),n=this.createIdentifier(t,e);if(this.castNodeTo(n,"V8IntrinsicIdentifier"),this.match(10))return n}this.unexpected(e)}}parseExprAtom(e){return this.parseV8Intrinsic()||super.parseExprAtom(e)}},placeholders:e=>class extends e{parsePlaceholder(e){if(this.match(133)){const t=this.startNode();return this.next(),this.assertNoSpace(),t.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(t,e)}}finishPlaceholder(e,t){let n=e;return n.expectedNode&&n.type||(n=this.finishNode(n,"Placeholder")),n.expectedNode=t,n}getTokenFromCode(e){37===e&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(133,2):super.getTokenFromCode(e)}parseExprAtom(e){return this.parsePlaceholder("Expression")||super.parseExprAtom(e)}parseIdentifier(e){return this.parsePlaceholder("Identifier")||super.parseIdentifier(e)}checkReservedWord(e,t,n,r){void 0!==e&&super.checkReservedWord(e,t,n,r)}cloneIdentifier(e){const t=super.cloneIdentifier(e);return"Placeholder"===t.type&&(t.expectedNode=e.expectedNode),t}cloneStringLiteral(e){return"Placeholder"===e.type?this.cloneIdentifier(e):super.cloneStringLiteral(e)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(e,t,n,r){return"Placeholder"===e||super.isValidLVal(e,t,n,r)}toAssignable(e,t){e&&"Placeholder"===e.type&&"Expression"===e.expectedNode?e.expectedNode="Pattern":super.toAssignable(e,t)}chStartsBindingIdentifier(e,t){if(super.chStartsBindingIdentifier(e,t))return!0;const n=this.nextTokenStart();return 37===this.input.charCodeAt(n)&&37===this.input.charCodeAt(n+1)}verifyBreakContinue(e,t){e.label&&"Placeholder"===e.label.type||super.verifyBreakContinue(e,t)}parseExpressionStatement(e,t){var n;if("Placeholder"!==t.type||null!=(n=t.extra)&&n.parenthesized)return super.parseExpressionStatement(e,t);if(this.match(14)){const n=e;return n.label=this.finishPlaceholder(t,"Identifier"),this.next(),n.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(n,"LabeledStatement")}this.semicolon();const r=e;return r.name=t.name,this.finishPlaceholder(r,"Statement")}parseBlock(e,t,n){return this.parsePlaceholder("BlockStatement")||super.parseBlock(e,t,n)}parseFunctionId(e){return this.parsePlaceholder("Identifier")||super.parseFunctionId(e)}parseClass(e,t,n){const r=t?"ClassDeclaration":"ClassExpression";this.next();const s=this.state.strict,i=this.parsePlaceholder("Identifier");if(i){if(!(this.match(81)||this.match(133)||this.match(5))){if(n||!t)return e.id=null,e.body=this.finishPlaceholder(i,"ClassBody"),this.finishNode(e,r);throw this.raise(Ct.ClassNameIsRequired,this.state.startLoc)}e.id=i}else this.parseClassId(e,t,n);return super.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!e.superClass,s),this.finishNode(e,r)}parseExport(e,t){const n=this.parsePlaceholder("Identifier");if(!n)return super.parseExport(e,t);const r=e;if(!this.isContextual(98)&&!this.match(12))return r.specifiers=[],r.source=null,r.declaration=this.finishPlaceholder(n,"Declaration"),this.finishNode(r,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const s=this.startNode();return s.exported=n,r.specifiers=[this.finishNode(s,"ExportDefaultSpecifier")],super.parseExport(r,t)}isExportDefaultSpecifier(){if(this.match(65)){const e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(J(133),this.nextTokenStartSince(e+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(e,t){var n;return!(null==(n=e.specifiers)||!n.length)||super.maybeParseExportDefaultSpecifier(e,t)}checkExport(e){const{specifiers:t}=e;null!=t&&t.length&&(e.specifiers=t.filter(e=>"Placeholder"===e.exported.type)),super.checkExport(e),e.specifiers=t}parseImport(e){const t=this.parsePlaceholder("Identifier");if(!t)return super.parseImport(e);if(e.specifiers=[],!this.isContextual(98)&&!this.match(12))return e.source=this.finishPlaceholder(t,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");const n=this.startNodeAtNode(t);return n.local=t,e.specifiers.push(this.finishNode(n,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)),this.expectContextual(98),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(Ct.UnexpectedSpace,this.state.lastTokEndLoc)}}},Lt=Object.keys(_t);class Nt extends gt{checkProto(e,t,n,r){if("SpreadElement"===e.type||this.isObjectMethod(e)||e.computed||e.shorthand)return n;const s=e.key;return"__proto__"===("Identifier"===s.type?s.name:s.value)?t?(this.raise(T.RecordNoProto,s),!0):(n&&(r?null===r.doubleProtoLoc&&(r.doubleProtoLoc=s.loc.start):this.raise(T.DuplicateProto,s)),!0):n}shouldExitDescending(e,t){return"ArrowFunctionExpression"===e.type&&this.offsetToSourcePos(e.start)===t}getExpression(){if(this.enterInitialScopes(),this.nextToken(),this.match(140))throw this.raise(T.ParseExpressionEmptyInput,this.state.startLoc);const e=this.parseExpression();if(!this.match(140))throw this.raise(T.ParseExpressionExpectsEOF,this.state.startLoc,{unexpected:this.input.codePointAt(this.state.start)});return this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,256&this.optionFlags&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(e){const t=this.state.startLoc,n=this.parseMaybeAssign(e);if(this.match(12)){const r=this.startNodeAt(t);for(r.expressions=[n];this.eat(12);)r.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(r.expressions),this.finishNode(r,"SequenceExpression")}return n}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd(()=>this.parseMaybeAssign(e,t))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd(()=>this.parseMaybeAssign(e,t))}setOptionalParametersError(e){e.optionalParametersLoc=this.state.startLoc}parseMaybeAssign(e,t){const n=this.state.startLoc,r=this.isContextual(108);if(r&&this.prodParam.hasYield){this.next();let e=this.parseYield(n);return t&&(e=t.call(this,e,n)),e}let s;e?s=!1:(e=new ht,s=!0);const{type:i}=this.state;(10===i||W(i))&&(this.state.potentialArrowAt=this.state.start);let a=this.parseMaybeConditional(e);if(t&&(a=t.call(this,a,n)),(o=this.state.type)>=29&&o<=33){const t=this.startNodeAt(n),r=this.state.value;if(t.operator=r,this.match(29)){this.toAssignable(a,!0),t.left=a;const r=n.index;null!=e.doubleProtoLoc&&e.doubleProtoLoc.index>=r&&(e.doubleProtoLoc=null),null!=e.shorthandAssignLoc&&e.shorthandAssignLoc.index>=r&&(e.shorthandAssignLoc=null),null!=e.privateKeyLoc&&e.privateKeyLoc.index>=r&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null),null!=e.voidPatternLoc&&e.voidPatternLoc.index>=r&&(e.voidPatternLoc=null)}else t.left=a;return this.next(),t.right=this.parseMaybeAssign(),this.checkLVal(a,this.finishNode(t,"AssignmentExpression"),void 0,void 0,void 0,void 0,"||="===r||"&&="===r||"??="===r),t}var o;if(s&&this.checkExpressionErrors(e,!0),r){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?q(e):q(e)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(T.YieldNotInGeneratorFunction,n),this.parseYield(n)}return a}parseMaybeConditional(e){const t=this.state.startLoc,n=this.state.potentialArrowAt,r=this.parseExprOps(e);return this.shouldExitDescending(r,n)?r:this.parseConditional(r,t,e)}parseConditional(e,t,n){if(this.eat(17)){const n=this.startNodeAt(t);return n.test=e,n.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),n.alternate=this.parseMaybeAssign(),this.finishNode(n,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.startLoc,n=this.state.potentialArrowAt,r=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(r,n)?r:this.parseExprOp(r,t,-1)}parseExprOp(e,t,n){if(this.isPrivateName(e)){const t=this.getPrivateNameSV(e);(n>=X(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(T.PrivateInExpectedIn,e,{identifierName:t}),this.classScope.usePrivateName(t,e.loc.start)}const r=this.state.type;if((s=r)>=39&&s<=59&&(this.prodParam.hasIn||!this.match(58))){let s=X(r);if(s>n){if(39===r){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const i=this.startNodeAt(t);i.left=e,i.operator=this.state.value;const a=41===r||42===r,o=40===r;if(o&&(s=X(42)),this.next(),39===r&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&96===this.state.type&&this.prodParam.hasAwait)throw this.raise(T.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);i.right=this.parseExprOpRightExpr(r,s);const c=this.finishNode(i,a||o?"LogicalExpression":"BinaryExpression"),l=this.state.type;if(o&&(41===l||42===l)||a&&40===l)throw this.raise(T.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(c,t,n)}}var s;return e}parseExprOpRightExpr(e,t){const n=this.state.startLoc;if(39===e){switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}if("smart"===this.getPluginOption("pipelineOperator","proposal"))return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(T.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),n)})}return this.parseExprOpBaseRightExpr(e,t)}parseExprOpBaseRightExpr(e,t){const n=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),n,57===e?t-1:t)}parseHackPipeBody(){var e;const{startLoc:t}=this.state,n=this.parseMaybeAssign();return!h.has(n.type)||null!=(e=n.extra)&&e.parenthesized||this.raise(T.PipeUnparenthesizedBody,t,{type:n.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(T.PipeTopicUnused,t),n}checkExponentialAfterUnary(e){this.match(57)&&this.raise(T.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,t){const n=this.state.startLoc,r=this.isContextual(96);if(r&&this.recordAwaitIfAllowed()){this.next();const e=this.parseAwait(n);return t||this.checkExponentialAfterUnary(e),e}const s=this.match(34),i=this.startNode();if(a=this.state.type,B[a]){i.operator=this.state.value,i.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const n=this.match(89);if(this.next(),i.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&n){const e=i.argument;"Identifier"===e.type?this.raise(T.StrictDelete,i):this.hasPropertyAsPrivateName(e)&&this.raise(T.DeletePrivateField,i)}if(!s)return t||this.checkExponentialAfterUnary(i),this.finishNode(i,"UnaryExpression")}var a;const o=this.parseUpdate(i,s,e);if(r){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?q(e):q(e)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(T.AwaitNotInAsyncContext,n),this.parseAwait(n)}return o}parseUpdate(e,t,n){if(t){const t=e;return this.checkLVal(t.argument,this.finishNode(t,"UpdateExpression")),e}const r=this.state.startLoc;let s=this.parseExprSubscripts(n);if(this.checkExpressionErrors(n,!1))return s;for(;Y(this.state.type)&&!this.canInsertSemicolon();){const e=this.startNodeAt(r);e.operator=this.state.value,e.prefix=!1,e.argument=s,this.next(),this.checkLVal(s,s=this.finishNode(e,"UpdateExpression"))}return s}parseExprSubscripts(e){const t=this.state.startLoc,n=this.state.potentialArrowAt,r=this.parseExprAtom(e);return this.shouldExitDescending(r,n)?r:this.parseSubscripts(r,t)}parseSubscripts(e,t,n){const r={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do{e=this.parseSubscript(e,t,n,r),r.maybeAsyncArrow=!1}while(!r.stop);return e}parseSubscript(e,t,n,r){const{type:s}=this.state;if(!n&&15===s)return this.parseBind(e,t,n,r);if(Q(s))return this.parseTaggedTemplateExpression(e,t,r);let i=!1;if(18===s){if(n&&(this.raise(T.OptionalChainingNoNew,this.state.startLoc),40===this.lookaheadCharCode()))return this.stopParseSubscript(e,r);r.optionalChainMember=i=!0,this.next()}if(!n&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,r,i);{const n=this.eat(0);return n||i||this.eat(16)?this.parseMember(e,t,r,n,i):this.stopParseSubscript(e,r)}}stopParseSubscript(e,t){return t.stop=!0,e}parseMember(e,t,n,r,s){const i=this.startNodeAt(t);return i.object=e,i.computed=r,r?(i.property=this.parseExpression(),this.expect(3)):this.match(139)?("Super"===e.type&&this.raise(T.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),i.property=this.parsePrivateName()):i.property=this.parseIdentifier(!0),n.optionalChainMember?(i.optional=s,this.finishNode(i,"OptionalMemberExpression")):this.finishNode(i,"MemberExpression")}parseBind(e,t,n,r){const s=this.startNodeAt(t);return s.object=e,this.next(),s.callee=this.parseNoCallExpr(),r.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),t,n)}parseCoverCallAndAsyncArrowHead(e,t,n,r){const s=this.state.maybeInArrowParameters;let i=null;this.state.maybeInArrowParameters=!0,this.next();const a=this.startNodeAt(t);a.callee=e;const{maybeAsyncArrow:o,optionalChainMember:c}=n;o&&(this.expressionScope.enter(new ct(2)),i=new ht),c&&(a.optional=r),a.arguments=r?this.parseCallExpressionArguments():this.parseCallExpressionArguments("Super"!==e.type,a,i);let l=this.finishCallExpression(a,c);return o&&this.shouldParseAsyncArrow()&&!r?(n.stop=!0,this.checkDestructuringPrivate(i),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),l=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),l)):(o&&(this.checkExpressionErrors(i,!0),this.expressionScope.exit()),this.toReferencedArguments(l)),this.state.maybeInArrowParameters=s,l}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,n){const r=this.startNodeAt(t);return r.tag=e,r.quasi=this.parseTemplate(!0),n.optionalChainMember&&this.raise(T.OptionalChainingNoTemplate,t),this.finishNode(r,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.offsetToSourcePos(e.start)===this.state.potentialArrowAt}finishCallExpression(e,t){if("Import"===e.callee.type)if(0===e.arguments.length||e.arguments.length>2)this.raise(T.ImportCallArity,e);else for(const t of e.arguments)"SpreadElement"===t.type&&this.raise(T.ImportCallSpreadArgument,t);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,n){const r=[];let s=!0;const i=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(11);){if(s)s=!1;else if(this.expect(12),this.match(11)){t&&this.addTrailingCommaExtraToNode(t),this.next();break}r.push(this.parseExprListItem(11,!1,n,e))}return this.state.inFSharpPipelineDirectBody=i,r}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var n;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,null==(n=t.extra)?void 0:n.trailingCommaLoc),t.innerComments&&Ve(e,t.innerComments),t.callee.trailingComments&&Ve(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let t,n=null;const{type:r}=this.state;switch(r){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaPropertyOrPhaseCall(t):this.match(10)?512&this.optionFlags?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(T.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const e=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(e)}case 0:return this.parseArrayLike(3,!1,e);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:n=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(n,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const e=t.callee=this.parseNoCallExpr();if("MemberExpression"===e.type)return this.finishNode(t,"BindExpression");throw this.raise(T.UnsupportedBind,e)}case 139:return this.raise(T.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const e=this.getPluginOption("pipelineOperator","proposal");if(e)return this.parseTopicReference(e);throw this.unexpected()}case 47:{const e=this.input.codePointAt(this.nextTokenStart());if(oe(e)||62===e)throw this.expectOnePlugin(["jsx","flow","typescript"]);throw this.unexpected()}default:if(137===r)return this.parseDecimalLiteral(this.state.value);if(2===r||1===r)return this.parseArrayLike(2===this.state.type?4:3,!0);if(6===r||7===r)return this.parseObjectLike(6===this.state.type?9:8,!1,!0);if(W(r)){if(this.isContextual(127)&&123===this.lookaheadInLineCharCode())return this.parseModuleExpression();const e=this.state.potentialArrowAt===this.state.start,t=this.state.containsEsc,n=this.parseIdentifier();if(!t&&"async"===n.name&&!this.canInsertSemicolon()){const{type:e}=this.state;if(68===e)return this.resetPreviousNodeTrailingComments(n),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(n));if(W(e))return 61===this.lookaheadCharCode()?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(n)):n;if(90===e)return this.resetPreviousNodeTrailingComments(n),this.parseDo(this.startNodeAtNode(n),!0)}return e&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(n),[n],!1)):n}throw this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=i(this.state.endLoc,-1),this.parseTopicReference(n);throw this.unexpected()}parseTopicReference(e){const t=this.startNode(),n=this.state.startLoc,r=this.state.type;return this.next(),this.finishTopicReference(t,n,e,r)}finishTopicReference(e,t,n,r){if(this.testTopicReferenceConfiguration(n,t,r))return"hack"===n?(this.topicReferenceIsAllowedInCurrentContext()||this.raise(T.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,"TopicReference")):(this.topicReferenceIsAllowedInCurrentContext()||this.raise(T.PrimaryTopicNotAllowed,t),this.registerTopicReference(),this.finishNode(e,"PipelinePrimaryTopicReference"));throw this.raise(T.PipeTopicUnconfiguredToken,t,{token:J(r)})}testTopicReferenceConfiguration(e,t,n){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:J(n)}]);case"smart":return 27===n;default:throw this.raise(T.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(Be(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(T.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const n=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=n,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper?16&this.optionFlags||this.raise(T.SuperNotAllowed,e):this.scope.allowSuper||16&this.optionFlags||this.raise(T.UnexpectedSuper,e),this.match(10)||this.match(0)||this.match(16)||this.raise(T.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(i(this.state.startLoc,1)),n=this.state.value;return this.next(),e.id=this.createIdentifier(t,n),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,n){e.meta=t;const r=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==n||r)&&this.raise(T.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:n}),this.finishNode(e,"MetaProperty")}parseImportMetaPropertyOrPhaseCall(e){if(this.next(),this.isContextual(105)||this.isContextual(97)){const t=this.isContextual(105);return this.expectPlugin(t?"sourcePhaseImports":"deferredImportEvaluation"),this.next(),e.phase=t?"source":"defer",this.parseImportCall(e)}{const t=this.createIdentifierAt(this.startNodeAtNode(e),"import",this.state.lastTokStartLoc);return this.isContextual(101)&&(this.inModule||this.raise(T.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0),this.parseMetaProperty(e,t,"meta")}}parseLiteralAtNode(e,t,n){return this.addExtra(n,"rawValue",e),this.addExtra(n,"raw",this.input.slice(this.offsetToSourcePos(n.start),this.state.end)),n.value=e,this.next(),this.finishNode(n,t)}parseLiteral(e,t){const n=this.startNode();return this.parseLiteralAtNode(e,t,n)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.startNode();return this.addExtra(t,"raw",this.input.slice(this.offsetToSourcePos(t.start),this.state.end)),t.pattern=e.pattern,t.flags=e.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.startLoc;let n;this.next(),this.expressionScope.enter(new ct(1));const r=this.state.maybeInArrowParameters,s=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const i=this.state.startLoc,a=[],o=new ht;let c,l,p=!0;for(;!this.match(11);){if(p)p=!1;else if(this.expect(12,null===o.optionalParametersLoc?null:o.optionalParametersLoc),this.match(11)){l=this.state.startLoc;break}if(this.match(21)){const e=this.state.startLoc;if(c=this.state.startLoc,a.push(this.parseParenItem(this.parseRestBinding(),e)),!this.checkCommaAfterRest(41))break}else a.push(this.parseMaybeAssignAllowInOrVoidPattern(11,o,this.parseParenItem))}const u=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=r,this.state.inFSharpPipelineDirectBody=s;let h=this.startNodeAt(t);return e&&this.shouldParseArrow(a)&&(h=this.parseArrow(h))?(this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(h,a,!1),h):(this.expressionScope.exit(),a.length||this.unexpected(this.state.lastTokStartLoc),l&&this.unexpected(l),c&&this.unexpected(c),this.checkExpressionErrors(o,!0),this.toReferencedListDeep(a,!0),a.length>1?(n=this.startNodeAt(i),n.expressions=a,this.finishNode(n,"SequenceExpression"),this.resetEndLocation(n,u)):n=a[0],this.wrapParenthesis(t,n))}wrapParenthesis(e,t){if(!(1024&this.optionFlags))return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;const n=this.startNodeAt(e);return n.expression=t,this.finishNode(n,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const n=this.parseMetaProperty(e,t,"target");return this.scope.allowNewTarget||this.raise(T.UnexpectedNewTarget,n),n}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){const t=this.match(83),n=this.parseNoCallExpr();e.callee=n,!t||"Import"!==n.type&&"ImportExpression"!==n.type||this.raise(T.ImportCallNotNewExpression,n)}parseTemplateElement(e){const{start:t,startLoc:n,end:r,value:s}=this.state,a=t+1,o=this.startNodeAt(i(n,1));null===s&&(e||this.raise(T.InvalidEscapeSequenceTemplate,i(this.state.firstInvalidTemplateEscapePos,1)));const c=this.match(24),l=c?-1:-2,p=r+l;o.value={raw:this.input.slice(a,p).replace(/\r\n?/g,"\n"),cooked:null===s?null:s.slice(1,l)},o.tail=c,this.next();const u=this.finishNode(o,"TemplateElement");return this.resetEndLocation(u,i(this.state.lastTokEndLoc,l)),u}parseTemplate(e){const t=this.startNode();let n=this.parseTemplateElement(e);const r=[n],s=[];for(;!n.tail;)s.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),r.push(n=this.parseTemplateElement(e));return t.expressions=s,t.quasis=r,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,n,r){n&&this.expectPlugin("recordAndTuple");const s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let i=!1,a=!0;const o=this.startNode();for(o.properties=[],this.next();!this.match(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(o);break}let s;t?s=this.parseBindingProperty():(s=this.parsePropertyDefinition(r),i=this.checkProto(s,n,i,r)),n&&!this.isObjectProperty(s)&&"SpreadElement"!==s.type&&this.raise(T.InvalidRecordProperty,s),s.shorthand&&this.addExtra(s,"shorthand",!0),o.properties.push(s)}this.next(),this.state.inFSharpPipelineDirectBody=s;let c="ObjectExpression";return t?c="ObjectPattern":n&&(c="RecordExpression"),this.finishNode(o,c)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(T.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());const n=this.startNode();let r,s=!1,i=!1;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(n.decorators=t,t=[]),n.method=!1,e&&(r=this.state.startLoc);let a=this.eat(55);this.parsePropertyNamePrefixOperator(n);const o=this.state.containsEsc;if(this.parsePropertyName(n,e),!a&&!o&&this.maybeAsyncOrAccessorProp(n)){const{key:e}=n,t=e.name;"async"!==t||this.hasPrecedingLineBreak()||(s=!0,this.resetPreviousNodeTrailingComments(e),a=this.eat(55),this.parsePropertyName(n)),"get"!==t&&"set"!==t||(i=!0,this.resetPreviousNodeTrailingComments(e),n.kind=t,this.match(55)&&(a=!0,this.raise(T.AccessorIsGenerator,this.state.curPosition(),{kind:t}),this.next()),this.parsePropertyName(n))}return this.parseObjPropValue(n,r,a,s,!1,i,e)}getGetterSetterExpectedParamCount(e){return"get"===e.kind?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const n=this.getGetterSetterExpectedParamCount(e),r=this.getObjectOrClassMethodParams(e);r.length!==n&&this.raise("get"===e.kind?T.BadGetterArity:T.BadSetterArity,e),"set"===e.kind&&"RestElement"===(null==(t=r[r.length-1])?void 0:t.type)&&this.raise(T.BadSetterRestParameter,e)}parseObjectMethod(e,t,n,r,s){if(s){const n=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(n),n}if(n||t||this.match(10))return r&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,n,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,n,r){if(e.shorthand=!1,this.eat(14))return e.value=n?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowInOrVoidPattern(8,r),this.finishObjectProperty(e);if(!e.computed&&"Identifier"===e.key.type){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),n)e.value=this.parseMaybeDefault(t,this.cloneIdentifier(e.key));else if(this.match(29)){const n=this.state.startLoc;null!=r?null===r.shorthandAssignLoc&&(r.shorthandAssignLoc=n):this.raise(T.InvalidCoverInitializedName,n),e.value=this.parseMaybeDefault(t,this.cloneIdentifier(e.key))}else e.value=this.cloneIdentifier(e.key);return e.shorthand=!0,this.finishObjectProperty(e)}}finishObjectProperty(e){return this.finishNode(e,"ObjectProperty")}parseObjPropValue(e,t,n,r,s,i,a){const o=this.parseObjectMethod(e,n,r,s,i)||this.parseObjectProperty(e,t,s,a);return o||this.unexpected(),o}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:n,value:r}=this.state;let s;if(K(n))s=this.parseIdentifier(!0);else switch(n){case 135:s=this.parseNumericLiteral(r);break;case 134:s=this.parseStringLiteral(r);break;case 136:s=this.parseBigIntLiteral(r);break;case 139:{const e=this.state.startLoc;null!=t?null===t.privateKeyLoc&&(t.privateKeyLoc=e):this.raise(T.UnexpectedPrivateField,e),s=this.parsePrivateName();break}default:if(137===n){s=this.parseDecimalLiteral(r);break}this.unexpected()}e.key=s,139!==n&&(e.computed=!1)}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t}parseMethod(e,t,n,r,s,i,a=!1){this.initFunction(e,n),e.generator=t,this.scope.enter(530|(a?576:0)|(s?32:0)),this.prodParam.enter(Be(n,e.generator)),this.parseFunctionParams(e,r);const o=this.parseFunctionBodyAndFinish(e,i,!0);return this.prodParam.exit(),this.scope.exit(),o}parseArrayLike(e,t,n){t&&this.expectPlugin("recordAndTuple");const r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const s=this.startNode();return this.next(),s.elements=this.parseExprList(e,!t,n,s),this.state.inFSharpPipelineDirectBody=r,this.finishNode(s,t?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,n,r){this.scope.enter(518);let s=Be(n,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(e,n);const i=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,r)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=i,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,n){this.toAssignableList(t,n,!1),e.params=t}parseFunctionBodyAndFinish(e,t,n=!1){return this.parseFunctionBody(e,!1,n),this.finishNode(e,t)}parseFunctionBody(e,t,n=!1){const r=t&&!this.match(5);if(this.expressionScope.enter(pt()),r)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const r=this.state.strict,s=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,s=>{const i=!this.isSimpleParamList(e.params);s&&i&&this.raise(T.IllegalLanguageModeDirective,"method"!==e.kind&&"constructor"!==e.kind||!e.key?e:e.key.loc.end);const a=!r&&this.state.strict;this.checkParams(e,!(this.state.strict||t||n||i),t,a),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,a)}),this.prodParam.exit(),this.state.labels=s}this.expressionScope.exit()}isSimpleParameter(e){return"Identifier"===e.type}isSimpleParamList(e){for(let t=0,n=e.length;t<n;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,n,r=!0){const s=!t&&new Set,i={type:"FormalParameters"};for(const t of e.params)this.checkLVal(t,i,5,s,r)}parseExprList(e,t,n,r){const s=[];let i=!0;for(;!this.eat(e);){if(i)i=!1;else if(this.expect(12),this.match(e)){r&&this.addTrailingCommaExtraToNode(r),this.next();break}s.push(this.parseExprListItem(e,t,n))}return s}parseExprListItem(e,t,n,r){let s;if(this.match(12))t||this.raise(T.UnexpectedToken,this.state.curPosition(),{unexpected:","}),s=null;else if(this.match(21)){const e=this.state.startLoc;s=this.parseParenItem(this.parseSpread(n),e)}else if(this.match(17)){this.expectPlugin("partialApplication"),r||this.raise(T.UnexpectedArgumentPlaceholder,this.state.startLoc);const e=this.startNode();this.next(),s=this.finishNode(e,"ArgumentPlaceholder")}else s=this.parseMaybeAssignAllowInOrVoidPattern(e,n,this.parseParenItem);return s}parseIdentifier(e){const t=this.startNode(),n=this.parseIdentifierName(e);return this.createIdentifier(t,n)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}createIdentifierAt(e,t,n){return e.name=t,e.loc.identifierName=t,this.finishNodeAt(e,"Identifier",n)}parseIdentifierName(e){let t;const{startLoc:n,type:r}=this.state;K(r)?t=this.state.value:this.unexpected();const s=r<=92;return e?s&&this.replaceToken(132):this.checkReservedWord(t,n,s,!1),this.next(),t}checkReservedWord(e,t,n,r){if(!(e.length>10)&&function(e){return ye.has(e)}(e))if(n&&function(e){return le.has(e)}(e))this.raise(T.UnexpectedKeyword,t,{keyword:e});else if((this.state.strict?r?me:de:he)(e,this.inModule))this.raise(T.UnexpectedReservedWord,t,{reservedWord:e});else if("yield"===e){if(this.prodParam.hasYield)return void this.raise(T.YieldBindingIdentifier,t)}else if("await"===e){if(this.prodParam.hasAwait)return void this.raise(T.AwaitBindingIdentifier,t);if(this.scope.inStaticBlock)return void this.raise(T.AwaitBindingIdentifierInStaticBlock,t);this.expressionScope.recordAsyncArrowParametersError(t)}else if("arguments"===e&&this.scope.inClassAndNotInNonArrowFunction)return void this.raise(T.ArgumentsInClass,t)}recordAwaitIfAllowed(){const e=this.prodParam.hasAwait;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e}parseAwait(e){const t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(T.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(T.ObsoleteAwaitStar,t),this.scope.inFunction||1&this.optionFlags||(this.isAmbiguousPrefixOrIdentifier()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousPrefixOrIdentifier(){if(this.hasPrecedingLineBreak())return!0;const{type:e}=this.state;return 53===e||10===e||0===e||Q(e)||102===e&&!this.state.containsEsc||138===e||56===e||this.hasPlugin("v8intrinsic")&&54===e}parseYield(e){const t=this.startNodeAt(e);this.expressionScope.recordParameterInitializerError(T.YieldInParameter,t);let n=!1,r=null;if(!this.hasPrecedingLineBreak())switch(n=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!n)break;default:r=this.parseMaybeAssign()}return t.delegate=n,t.argument=r,this.finishNode(t,"YieldExpression")}parseImportCall(e){if(this.next(),e.source=this.parseMaybeAssignAllowIn(),e.options=null,this.eat(12))if(this.match(11))this.addTrailingCommaExtraToNode(e.source);else if(e.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&(this.addTrailingCommaExtraToNode(e.options),!this.match(11))){do{this.parseMaybeAssignAllowIn()}while(this.eat(12)&&!this.match(11));this.raise(T.ImportCallArity,e)}return this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&"SequenceExpression"===e.type&&this.raise(T.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){const n=this.startNodeAt(t);return n.callee=e,this.finishNode(n,"PipelineBareFunction")}{const n=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),n.expression=e,this.finishNode(n,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(T.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(T.PipelineTopicUnused,e)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(!this.hasPlugin(["pipelineOperator",{proposal:"smart"}]))return e();{const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const r=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=n,r}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const t=this.startNodeAt(this.state.endLoc);this.next();const n=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module")}finally{n()}return this.finishNode(e,"ModuleExpression")}parseVoidPattern(e){this.expectPlugin("discardBinding");const t=this.startNode();return null!=e&&(e.voidPatternLoc=this.state.startLoc),this.next(),this.finishNode(t,"VoidPattern")}parseMaybeAssignAllowInOrVoidPattern(e,t,n){if(null!=t&&this.match(88)){const n=this.lookaheadCharCode();if(44===n||n===(3===e?93:8===e?125:41)||61===n)return this.parseMaybeDefault(this.state.startLoc,this.parseVoidPattern(t))}return this.parseMaybeAssignAllowIn(t,n)}parsePropertyNamePrefixOperator(e){}}const kt={kind:1},Rt={kind:2},Mt=/[\uD800-\uDFFF]/u,Dt=/in(?:stanceof)?/y;class Ut extends Nt{parseTopLevel(e,t){return e.program=this.parseProgram(t,140,"module"===this.options.sourceType?"module":"script"),e.comments=this.comments,256&this.optionFlags&&(e.tokens=function(e,t,n){for(let r=0;r<e.length;r++){const s=e[r],{type:a}=s;if("number"==typeof a){if(139===a){const{loc:t,start:n,value:a,end:o}=s,c=n+1,l=i(t.start,1);e.splice(r,1,new rt({type:Z(27),value:"#",start:n,end:c,startLoc:t.start,endLoc:l}),new rt({type:Z(132),value:a,start:c,end:o,startLoc:l,endLoc:t.end})),r++;continue}if(Q(a)){const{loc:o,start:c,value:l,end:p}=s,u=c+1,h=i(o.start,1);let d,f,m,y,g;d=96===t.charCodeAt(c-n)?new rt({type:Z(22),value:"`",start:c,end:u,startLoc:o.start,endLoc:h}):new rt({type:Z(8),value:"}",start:c,end:u,startLoc:o.start,endLoc:h}),24===a?(m=p-1,y=i(o.end,-1),f=null===l?null:l.slice(1,-1),g=new rt({type:Z(22),value:"`",start:m,end:p,startLoc:y,endLoc:o.end})):(m=p-2,y=i(o.end,-2),f=null===l?null:l.slice(1,-2),g=new rt({type:Z(23),value:"${",start:m,end:p,startLoc:y,endLoc:o.end})),e.splice(r,1,d,new rt({type:Z(20),value:f,start:u,end:m,startLoc:h,endLoc:y}),g),r+=2;continue}s.type=Z(a)}}return e}(this.tokens,this.input,this.startIndex)),this.finishNode(e,"File")}parseProgram(e,t,n){if(e.sourceType=n,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule){if(!(64&this.optionFlags)&&this.scope.undefinedExports.size>0)for(const[e,t]of Array.from(this.scope.undefinedExports))this.raise(T.ModuleExportUndefined,t,{localName:e});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait)}let r;return r=140===t?this.finishNode(e,"Program"):this.finishNodeAt(e,"Program",i(this.state.startLoc,-1)),r}stmtToDirective(e){const t=this.castNodeTo(e,"Directive"),n=this.castNodeTo(e.expression,"DirectiveLiteral"),r=n.value,s=this.input.slice(this.offsetToSourcePos(n.start),this.offsetToSourcePos(n.end)),i=n.value=s.slice(1,-1);return this.addExtra(n,"raw",s),this.addExtra(n,"rawValue",i),this.addExtra(n,"expressionValue",r),t.value=n,delete e.expression,t}parseInterpreterDirective(){if(!this.match(28))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return!!this.isContextual(100)&&this.hasFollowingBindingAtom()}isUsing(){return!!this.isContextual(107)&&this.nextTokenIsIdentifierOnSameLine()}isForUsing(){if(!this.isContextual(107))return!1;const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);if(this.isUnparsedContextual(e,"of")){const t=this.lookaheadCharCodeSince(e+2);if(61!==t&&58!==t&&59!==t)return!1}return!(!this.chStartsBindingIdentifier(t,e)&&!this.isUnparsedContextual(e,"void"))}nextTokenIsIdentifierOnSameLine(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifier(t,e)}isAwaitUsing(){if(!this.isContextual(96))return!1;let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);const t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return!0}return!1}chStartsBindingIdentifier(e,t){if(oe(e)){if(Dt.lastIndex=t,Dt.test(this.input)){const e=this.codePointAtPos(Dt.lastIndex);if(!ce(e)&&92!==e)return!1}return!0}return 92===e}chStartsBindingPattern(e){return 91===e||123===e}hasFollowingBindingAtom(){const e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e)}hasInLineFollowingBindingIdentifierOrBrace(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return 123===t||this.chStartsBindingIdentifier(t,e)}allowsUsing(){return(this.scope.inModule||!this.scope.inTopLevel)&&!this.scope.inBareCaseStatement}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t)}parseStatementContent(e,t){const n=this.state.type,r=this.startNode(),s=!!(2&e),i=!!(4&e),a=1&e;switch(n){case 60:return this.parseBreakContinueStatement(r,!0);case 63:return this.parseBreakContinueStatement(r,!1);case 64:return this.parseDebuggerStatement(r);case 90:return this.parseDoWhileStatement(r);case 91:return this.parseForStatement(r);case 68:if(46===this.lookaheadCharCode())break;return i||this.raise(this.state.strict?T.StrictFunction:this.options.annexB?T.SloppyFunctionAnnexB:T.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(r,!1,!s&&i);case 80:return s||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,r),!0);case 69:return this.parseIfStatement(r);case 70:return this.parseReturnStatement(r);case 71:return this.parseSwitchStatement(r);case 72:return this.parseThrowStatement(r);case 73:return this.parseTryStatement(r);case 96:if(this.isAwaitUsing())return this.allowsUsing()?s?this.recordAwaitIfAllowed()||this.raise(T.AwaitUsingNotInAsyncContext,r):this.raise(T.UnexpectedLexicalDeclaration,r):this.raise(T.UnexpectedUsingDeclaration,r),this.next(),this.parseVarStatement(r,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.allowsUsing()?s||this.raise(T.UnexpectedLexicalDeclaration,this.state.startLoc):this.raise(T.UnexpectedUsingDeclaration,this.state.startLoc),this.parseVarStatement(r,"using");case 100:{if(this.state.containsEsc)break;const e=this.nextTokenStart(),t=this.codePointAtPos(e);if(91!==t){if(!s&&this.hasFollowingLineBreak())break;if(!this.chStartsBindingIdentifier(t,e)&&123!==t)break}}case 75:s||this.raise(T.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const e=this.state.value;return this.parseVarStatement(r,e)}case 92:return this.parseWhileStatement(r);case 76:return this.parseWithStatement(r);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(r);case 83:{const e=this.lookaheadCharCode();if(40===e||46===e)break}case 82:{let e;return 8&this.optionFlags||a||this.raise(T.UnexpectedImportExport,this.state.startLoc),this.next(),e=83===n?this.parseImport(r):this.parseExport(r,t),this.assertModuleNodeAllowed(e),e}default:if(this.isAsyncFunction())return s||this.raise(T.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(r,!0,!s&&i)}const o=this.state.value,c=this.parseExpression();return W(n)&&"Identifier"===c.type&&this.eat(14)?this.parseLabeledStatement(r,o,c,e):this.parseExpressionStatement(r,c,t)}assertModuleNodeAllowed(e){8&this.optionFlags||this.inModule||this.raise(T.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return!!this.hasPlugin("decorators-legacy")||this.hasPlugin("decorators")&&!1!==this.getPluginOption("decorators","decoratorsBeforeExport")}maybeTakeDecorators(e,t,n){var r;return e&&(null!=(r=t.decorators)&&r.length?("boolean"!=typeof this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(T.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),n&&this.resetStartLocationFromNode(n,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){const t=[];do{t.push(this.parseDecorator())}while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(T.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(T.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){const t=this.state.startLoc;let n;if(this.match(10)){const t=this.state.startLoc;this.next(),n=this.parseExpression(),this.expect(11),n=this.wrapParenthesis(t,n);const r=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(n,t),!1===this.getPluginOption("decorators","allowCallParenthesized")&&e.expression!==n&&this.raise(T.DecoratorArgumentsOutsideParentheses,r)}else{for(n=this.parseIdentifier(!1);this.eat(16);){const e=this.startNodeAt(t);e.object=n,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),e.property=this.parsePrivateName()):e.property=this.parseIdentifier(!0),e.computed=!1,n=this.finishNode(e,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(n,t)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e,t){if(this.eat(10)){const n=this.startNodeAt(t);return n.callee=e,n.arguments=this.parseCallExpressionArguments(),this.toReferencedList(n.arguments),this.finishNode(n,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let n;for(n=0;n<this.state.labels.length;++n){const r=this.state.labels[n];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(t||1===r.kind))break;if(e.label&&t)break}}if(n===this.state.labels.length){const n=t?"BreakStatement":"ContinueStatement";this.raise(T.IllegalBreakContinue,e,{type:n})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push(kt),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(kt);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return null!==t&&this.unexpected(t),this.parseFor(e,null);const n=this.isContextual(100);{const r=this.isAwaitUsing(),s=r||this.isForUsing(),i=n&&this.hasFollowingBindingAtom()||s;if(this.match(74)||this.match(75)||i){const n=this.startNode();let i;r?(i="await using",this.recordAwaitIfAllowed()||this.raise(T.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):i=this.state.value,this.next(),this.parseVar(n,!0,i);const a=this.finishNode(n,"VariableDeclaration"),o=this.match(58);return o&&s&&this.raise(T.ForInUsing,a),(o||this.isContextual(102))&&1===a.declarations.length?this.parseForIn(e,a,t):(null!==t&&this.unexpected(t),this.parseFor(e,a))}}const r=this.isContextual(95),s=new ht,i=this.parseExpression(!0,s),a=this.isContextual(102);if(a&&(n&&this.raise(T.ForOfLet,i),null===t&&r&&"Identifier"===i.type&&this.raise(T.ForOfAsync,i)),a||this.match(58)){this.checkDestructuringPrivate(s),this.toAssignable(i,!0);const n=a?"ForOfStatement":"ForInStatement";return this.checkLVal(i,{type:n}),this.parseForIn(e,i,t)}return this.checkExpressionErrors(s,!0),null!==t&&this.unexpected(t),this.parseFor(e,i)}parseFunctionStatement(e,t,n){return this.next(),this.parseFunction(e,1|(n?2:0)|(t?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return this.prodParam.hasReturn||this.raise(T.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];let n;this.expect(5),this.state.labels.push(Rt),this.scope.enter(256);for(let e;!this.match(8);)if(this.match(61)||this.match(65)){const r=this.match(61);n&&this.finishNode(n,"SwitchCase"),t.push(n=this.startNode()),n.consequent=[],this.next(),r?n.test=this.parseExpression():(e&&this.raise(T.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),e=!0,n.test=null),this.expect(14)}else n?n.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(T.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&"Identifier"===e.type?8:0),this.checkLVal(e,{type:"CatchClause"},9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,e.handler||e.finalizer||this.raise(T.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,n=!1){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(kt),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(T.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,n,r){for(const e of this.state.labels)e.name===t&&this.raise(T.LabelRedeclaration,n,{labelName:t});const s=(i=this.state.type)>=90&&i<=92?1:this.match(71)?2:null;var i;for(let t=this.state.labels.length-1;t>=0;t--){const n=this.state.labels[t];if(n.statementStart!==e.start)break;n.statementStart=this.sourceToOffsetPos(this.state.start),n.kind=s}return this.state.labels.push({name:t,kind:s,statementStart:this.sourceToOffsetPos(this.state.start)}),e.body=8&r?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t,n){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,n){const r=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(r,e,!1,8,n),t&&this.scope.exit(),this.finishNode(r,"BlockStatement")}isValidDirective(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized}parseBlockBody(e,t,n,r,s){const i=e.body=[],a=e.directives=[];this.parseBlockOrModuleBlockBody(i,t?a:void 0,n,r,s)}parseBlockOrModuleBlockBody(e,t,n,r,s){const i=this.state.strict;let a=!1,o=!1;for(;!this.match(r);){const r=n?this.parseModuleItem():this.parseStatementListItem();if(t&&!o){if(this.isValidDirective(r)){const e=this.stmtToDirective(r);t.push(e),a||"use strict"!==e.value.value||(a=!0,this.setStrict(!0));continue}o=!0,this.state.strictErrors.clear()}e.push(r)}null==s||s.call(this,a),i||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,n){const r=this.match(58);return this.next(),r?null!==n&&this.unexpected(n):e.await=null!==n,"VariableDeclaration"!==t.type||null==t.declarations[0].init||r&&this.options.annexB&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type||this.raise(T.ForInOfLoopInitializer,t,{type:r?"ForInStatement":"ForOfStatement"}),"AssignmentPattern"===t.type&&this.raise(T.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")}parseVar(e,t,n,r=!1){const s=e.declarations=[];for(e.kind=n;;){const e=this.startNode();if(this.parseVarId(e,n),e.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,null!==e.init||r||("Identifier"===e.id.type||t&&(this.match(58)||this.isContextual(102))?"const"!==n&&"using"!==n&&"await using"!==n||this.match(58)||this.isContextual(102)||this.raise(T.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:n}):this.raise(T.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"})),s.push(this.finishNode(e,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){const n=this.parseBindingAtom();"using"===t||"await using"===t?"ArrayPattern"!==n.type&&"ObjectPattern"!==n.type||this.raise(T.UsingDeclarationHasBindingPattern,n.loc.start):"VoidPattern"===n.type&&this.raise(T.UnexpectedVoidPattern,n.loc.start),this.checkLVal(n,{type:"VariableDeclarator"},"var"===t?5:8201),e.id=n}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,t=0){const n=2&t,r=!!(1&t),s=r&&!(4&t),i=!!(8&t);this.initFunction(e,i),this.match(55)&&(n&&this.raise(T.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),r&&(e.id=this.parseFunctionId(s));const a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(514),this.prodParam.enter(Be(i,e.generator)),r||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,r?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),r&&!n&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=a,e}parseFunctionId(e){return e||W(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(new ot(3)),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,t,n){this.next();const r=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,n),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,r),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return"Identifier"===e.type&&"constructor"===e.name||"StringLiteral"===e.type&&"constructor"===e.value}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,t){this.classScope.enter();const n={hadConstructor:!1,hadSuperClass:e};let r=[];const s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(r.length>0)throw this.raise(T.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){r.push(this.parseDecorator());continue}const e=this.startNode();r.length&&(e.decorators=r,this.resetStartLocationFromNode(e,r[0]),r=[]),this.parseClassMember(s,e,n),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&this.raise(T.DecoratorConstructor,e)}}),this.state.strict=t,this.next(),r.length)throw this.raise(T.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(e,t){const n=this.parseIdentifier(!0);if(this.isClassMethod()){const r=t;return r.kind="method",r.computed=!1,r.key=n,r.static=!1,this.pushClassMethod(e,r,!1,!1,!1,!1),!0}if(this.isClassProperty()){const r=t;return r.computed=!1,r.key=n,r.static=!1,e.body.push(this.parseClassProperty(r)),!0}return this.resetPreviousNodeTrailingComments(n),!1}parseClassMember(e,t,n){const r=this.isContextual(106);if(r){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5))return void this.parseClassStaticBlock(e,t)}this.parseClassMemberWithIsStatic(e,t,n,r)}parseClassMemberWithIsStatic(e,t,n,r){const s=t,i=t,a=t,o=t,c=t,l=s,p=s;if(t.static=r,this.parsePropertyNamePrefixOperator(t),this.eat(55)){l.kind="method";const t=this.match(139);return this.parseClassElementName(l),this.parsePostMemberNameModifiers(l),t?void this.pushClassPrivateMethod(e,i,!0,!1):(this.isNonstaticConstructor(s)&&this.raise(T.ConstructorIsGenerator,s.key),void this.pushClassMethod(e,s,!0,!1,!1,!1))}const u=!this.state.containsEsc&&W(this.state.type),h=this.parseClassElementName(t),d=u?h.name:null,f=this.isPrivateName(h),m=this.state.startLoc;if(this.parsePostMemberNameModifiers(p),this.isClassMethod()){if(l.kind="method",f)return void this.pushClassPrivateMethod(e,i,!1,!1);const r=this.isNonstaticConstructor(s);let a=!1;r&&(s.kind="constructor",n.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(T.DuplicateConstructor,h),r&&this.hasPlugin("typescript")&&t.override&&this.raise(T.OverrideOnConstructor,h),n.hadConstructor=!0,a=n.hadSuperClass),this.pushClassMethod(e,s,!1,!1,r,a)}else if(this.isClassProperty())f?this.pushClassPrivateProperty(e,o):this.pushClassProperty(e,a);else if("async"!==d||this.isLineTerminator())if("get"!==d&&"set"!==d||this.match(55)&&this.isLineTerminator())if("accessor"!==d||this.isLineTerminator())this.isLineTerminator()?f?this.pushClassPrivateProperty(e,o):this.pushClassProperty(e,a):this.unexpected();else{this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(h);const t=this.match(139);this.parseClassElementName(a),this.pushClassAccessorProperty(e,c,t)}else{this.resetPreviousNodeTrailingComments(h),l.kind=d;const t=this.match(139);this.parseClassElementName(s),t?this.pushClassPrivateMethod(e,i,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(T.ConstructorIsAccessor,s.key),this.pushClassMethod(e,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else{this.resetPreviousNodeTrailingComments(h);const t=this.eat(55);p.optional&&this.unexpected(m),l.kind="method";const n=this.match(139);this.parseClassElementName(l),this.parsePostMemberNameModifiers(p),n?this.pushClassPrivateMethod(e,i,t,!0):(this.isNonstaticConstructor(s)&&this.raise(T.ConstructorIsAsync,s.key),this.pushClassMethod(e,s,t,!0,!1,!1))}}parseClassElementName(e){const{type:t,value:n}=this.state;if(132!==t&&134!==t||!e.static||"prototype"!==n||this.raise(T.StaticPrototype,this.state.startLoc),139===t){"constructor"===n&&this.raise(T.ConstructorClassPrivateField,this.state.startLoc);const t=this.parsePrivateName();return e.key=t,t}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,t){var n;this.scope.enter(720);const r=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=r,e.body.push(this.finishNode(t,"StaticBlock")),null!=(n=t.decorators)&&n.length&&this.raise(T.DecoratorStaticBlock,t)}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(T.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const n=this.parseClassPrivateProperty(t);e.body.push(n),this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassAccessorProperty(e,t,n){n||t.computed||!this.nameIsConstructor(t.key)||this.raise(T.ConstructorClassField,t.key);const r=this.parseClassAccessorProperty(t);e.body.push(r),n&&this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),0,r.key.loc.start)}pushClassMethod(e,t,n,r,s,i){e.body.push(this.parseMethod(t,n,r,s,i,"ClassMethod",!0))}pushClassPrivateMethod(e,t,n,r){const s=this.parseMethod(t,n,r,!1,!1,"ClassPrivateMethod",!0);e.body.push(s);const i="get"===s.kind?s.static?6:2:"set"===s.kind?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,i)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(592),this.expressionScope.enter(pt()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,n,r=8331){if(W(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,r);else{if(!n&&t)throw this.raise(T.MissingClassName,this.state.startLoc);e.id=null}}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,t){const n=this.parseMaybeImportPhase(e,!0),r=this.maybeParseExportDefaultSpecifier(e,n),s=!r||this.eat(12),i=s&&this.eatExportStar(e),a=i&&this.maybeParseExportNamespaceSpecifier(e),o=s&&(!a||this.eat(12)),c=r||i;if(i&&!a){if(r&&this.unexpected(),t)throw this.raise(T.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.sawUnambiguousESM=!0,this.finishNode(e,"ExportAllDeclaration")}const l=this.maybeParseExportNamedSpecifiers(e);let p;if(r&&s&&!i&&!l&&this.unexpected(null,5),a&&o&&this.unexpected(null,98),c||l){if(p=!1,t)throw this.raise(T.UnsupportedDecoratorExport,e);this.parseExportFrom(e,c)}else p=this.maybeParseExportDeclaration(e);if(c||l||p){var u;const n=e;if(this.checkExport(n,!0,!1,!!n.source),"ClassDeclaration"===(null==(u=n.declaration)?void 0:u.type))this.maybeTakeDecorators(t,n.declaration,n);else if(t)throw this.raise(T.UnsupportedDecoratorExport,e);return this.sawUnambiguousESM=!0,this.finishNode(n,"ExportNamedDeclaration")}if(this.eat(65)){const n=e,r=this.parseExportDefaultExpression();if(n.declaration=r,"ClassDeclaration"===r.type)this.maybeTakeDecorators(t,r,n);else if(t)throw this.raise(T.UnsupportedDecoratorExport,e);return this.checkExport(n,!0,!0),this.sawUnambiguousESM=!0,this.finishNode(n,"ExportDefaultDeclaration")}throw this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",null==t?void 0:t.loc.start);const n=t||this.parseIdentifier(!0),r=this.startNodeAtNode(n);return r.exported=n,e.specifiers=[this.finishNode(r,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var t;null!=(t=e).specifiers||(t.specifiers=[]);const n=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),n.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(n,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){const t=e;t.specifiers||(t.specifiers=[]);const n="type"===t.exportKind;return t.specifiers.push(...this.parseExportSpecifiers(n)),t.source=null,this.hasPlugin("importAssertions")?t.assertions=[]:t.attributes=[],t.declaration=null,!0}return!1}maybeParseExportDeclaration(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")?e.assertions=[]:e.attributes=[],e.declaration=this.parseExportDeclaration(e),!0)}isAsyncFunction(){if(!this.isContextual(95))return!1;const e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(T.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet()||this.isUsing()||this.isAwaitUsing())throw this.raise(T.UnsupportedDefaultExport,this.state.startLoc);const t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:e}=this.state;if(W(e)){if(95===e&&!this.state.containsEsc||100===e)return!1;if((130===e||129===e)&&!this.state.containsEsc){const e=this.nextTokenStart(),t=this.input.charCodeAt(e);if(123===t||this.chStartsBindingIdentifier(t,e)&&!this.input.startsWith("from",e))return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const t=this.nextTokenStart(),n=this.isUnparsedContextual(t,"from");if(44===this.input.charCodeAt(t)||W(this.state.type)&&n)return!0;if(this.match(65)&&n){const e=this.input.charCodeAt(this.nextTokenStartSince(t+4));return 34===e||39===e}return!1}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;return 26===e&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(T.DecoratorBeforeExport,this.state.startLoc),!0):this.isUsing()||this.isAwaitUsing()?(this.raise(T.UsingDeclarationExport,this.state.startLoc),!0):74===e||75===e||68===e||80===e||this.isLet()||this.isAsyncFunction()}checkExport(e,t,n,r){var s;if(t)if(n){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var i;const t=e.declaration;"Identifier"!==t.type||"from"!==t.name||t.end-t.start!==4||null!=(i=t.extra)&&i.parenthesized||this.raise(T.ExportDefaultFromAsIdentifier,t)}}else if(null!=(s=e.specifiers)&&s.length)for(const t of e.specifiers){const{exported:e}=t,n="Identifier"===e.type?e.name:e.value;if(this.checkDuplicateExports(t,n),!r&&t.local){const{local:e}=t;"Identifier"!==e.type?this.raise(T.ExportBindingIsString,t,{localName:e.value,exportName:n}):(this.checkReservedWord(e.name,e.loc.start,!0,!1),this.scope.checkLocalExport(e))}}else if(e.declaration){const t=e.declaration;if("FunctionDeclaration"===t.type||"ClassDeclaration"===t.type){const{id:n}=t;if(!n)throw new Error("Assertion failure");this.checkDuplicateExports(e,n.name)}else if("VariableDeclaration"===t.type)for(const e of t.declarations)this.checkDeclaration(e.id)}}checkDeclaration(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(const t of e.properties)this.checkDeclaration(t);else if("ArrayPattern"===e.type)for(const t of e.elements)t&&this.checkDeclaration(t);else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&("default"===t?this.raise(T.DuplicateDefaultExport,e):this.raise(T.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let n=!0;for(this.expect(5);!this.eat(8);){if(n)n=!1;else if(this.expect(12),this.eat(8))break;const r=this.isContextual(130),s=this.match(134),i=this.startNode();i.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(i,s,e,r))}return t}parseExportSpecifier(e,t,n,r){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=this.cloneStringLiteral(e.local):e.exported||(e.exported=this.cloneIdentifier(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){const e=this.parseStringLiteral(this.state.value),t=Mt.exec(e.value);return t&&this.raise(T.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return null!=e.assertions&&e.assertions.some(({key:e,value:t})=>"json"===t.value&&("Identifier"===e.type?"type"===e.name:"type"===e.value))}checkImportReflection(e){const{specifiers:t}=e,n=1===t.length?t[0].type:null;if("source"===e.phase)"ImportDefaultSpecifier"!==n&&this.raise(T.SourcePhaseImportRequiresDefault,t[0].loc.start);else if("defer"===e.phase)"ImportNamespaceSpecifier"!==n&&this.raise(T.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var r;"ImportDefaultSpecifier"!==n&&this.raise(T.ImportReflectionNotBinding,t[0].loc.start),(null==(r=e.assertions)?void 0:r.length)>0&&this.raise(T.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&"ExportAllDeclaration"!==e.type){const{specifiers:t}=e;if(null!=t){const e=t.find(e=>{let t;if("ExportSpecifier"===e.type?t=e.local:"ImportSpecifier"===e.type&&(t=e.imported),void 0!==t)return"Identifier"===t.type?"default"!==t.name:"default"!==t.value});void 0!==e&&this.raise(T.ImportJSONBindingNotDefault,e.loc.start)}}}isPotentialImportPhase(e){return!e&&(this.isContextual(105)||this.isContextual(97)||this.isContextual(127))}applyImportPhase(e,t,n,r){t||("module"===n?(this.expectPlugin("importReflection",r),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),"source"===n?(this.expectPlugin("sourcePhaseImports",r),e.phase="source"):"defer"===n?(this.expectPlugin("deferredImportEvaluation",r),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;const n=this.startNode(),r=this.parseIdentifierName(!0),{type:s}=this.state;return(K(s)?98!==s||102===this.lookaheadCharCode():12!==s)?(this.applyImportPhase(e,t,r,n.loc.start),null):(this.applyImportPhase(e,t,null),this.createIdentifier(n,r))}isPrecedingIdImportPhase(e){const{type:t}=this.state;return W(t)?98!==t||102===this.lookaheadCharCode():12!==t}parseImport(e){return this.match(134)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];const n=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),r=n&&this.maybeParseStarImportSpecifier(e);return n&&!r&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){return null!=e.specifiers||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,t,n){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,n))}finishImportSpecifier(e,t,n=8201){return this.checkLVal(e.local,{type:t},n),this.finishNode(e,t)}parseImportAttributes(){this.expect(5);const e=[],t=new Set;do{if(this.match(8))break;const n=this.startNode(),r=this.state.value;if(t.has(r)&&this.raise(T.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:r}),t.add(r),this.match(134)?n.key=this.parseStringLiteral(r):n.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(T.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){const e=[],t=new Set;do{const n=this.startNode();if(n.key=this.parseIdentifier(!0),"type"!==n.key.name&&this.raise(T.ModuleAttributeDifferentFromType,n.key),t.has(n.key.name)&&this.raise(T.ModuleAttributesWithDuplicateKeys,n.key,{key:n.key.name}),t.add(n.key.name),this.expect(14),!this.match(134))throw this.raise(T.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let t;var n=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&40===this.lookaheadCharCode())return;this.next(),this.hasPlugin("moduleAttributes")?(t=this.parseModuleAttributes(),this.addExtra(e,"deprecatedWithLegacySyntax",!0)):t=this.parseImportAttributes(),n=!0}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(this.hasPlugin("deprecatedImportAssert")||this.hasPlugin("importAssertions")||this.raise(T.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(e,"deprecatedAssertSyntax",!0),this.next(),t=this.parseImportAttributes()):t=[];!n&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t}maybeParseDefaultImportSpecifier(e,t){if(t){const n=this.startNodeAtNode(t);return n.local=t,e.specifiers.push(this.finishImportSpecifier(n,"ImportDefaultSpecifier")),!0}return!!K(this.state.type)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0)}maybeParseStarImportSpecifier(e){if(this.match(55)){const t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(T.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const n=this.startNode(),r=this.match(134),s=this.isContextual(130);n.imported=this.parseModuleExportName();const i=this.parseImportSpecifier(n,r,"type"===e.importKind||"typeof"===e.importKind,s,void 0);e.specifiers.push(i)}}parseImportSpecifier(e,t,n,r,s){if(this.eatContextual(93))e.local=this.parseIdentifier();else{const{imported:n}=e;if(t)throw this.raise(T.ImportBindingIsString,e,{importName:n.value});this.checkReservedWord(n.name,e.loc.start,!0,!0),e.local||(e.local=this.cloneIdentifier(n))}return this.finishImportSpecifier(e,"ImportSpecifier",s)}isThisParam(e){return"Identifier"===e.type&&"this"===e.name}}class Ft extends Ut{constructor(e,t,n){const r=function(e){const t={sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,allowYieldOutsideFunction:!1,plugins:[],strictMode:void 0,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};if(null==e)return t;if(null!=e.annexB&&!1!==e.annexB)throw new Error("The `annexB` option can only be set to `false`.");for(const n of Object.keys(t))null!=e[n]&&(t[n]=e[n]);if(1===t.startLine)null==e.startIndex&&t.startColumn>0?t.startIndex=t.startColumn:null==e.startColumn&&t.startIndex>0&&(t.startColumn=t.startIndex);else if((null==e.startColumn||null==e.startIndex)&&null!=e.startIndex)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");if("commonjs"===t.sourceType){if(null!=e.allowAwaitOutsideFunction)throw new Error("The `allowAwaitOutsideFunction` option cannot be used with `sourceType: 'commonjs'`.");if(null!=e.allowReturnOutsideFunction)throw new Error("`sourceType: 'commonjs'` implies `allowReturnOutsideFunction: true`, please remove the `allowReturnOutsideFunction` option or use `sourceType: 'script'`.");if(null!=e.allowNewTargetOutsideFunction)throw new Error("`sourceType: 'commonjs'` implies `allowNewTargetOutsideFunction: true`, please remove the `allowNewTargetOutsideFunction` option or use `sourceType: 'script'`.")}return t}(e);super(r,t),this.options=r,this.initializeScopes(),this.plugins=n,this.filename=r.sourceFilename,this.startIndex=r.startIndex;let s=0;r.allowAwaitOutsideFunction&&(s|=1),r.allowReturnOutsideFunction&&(s|=2),r.allowImportExportEverywhere&&(s|=8),r.allowSuperOutsideMethod&&(s|=16),r.allowUndeclaredExports&&(s|=64),r.allowNewTargetOutsideFunction&&(s|=4),r.allowYieldOutsideFunction&&(s|=32),r.ranges&&(s|=128),r.tokens&&(s|=256),r.createImportExpressions&&(s|=512),r.createParenthesizedExpressions&&(s|=1024),r.errorRecovery&&(s|=2048),r.attachComment&&(s|=4096),r.annexB&&(s|=8192),this.optionFlags=s}getScopeHandler(){return Te}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();this.nextToken(),e.errors=null;const n=this.parseTopLevel(e,t);return n.errors=this.state.errors,n.comments.length=this.state.commentsLen,n}}const Bt=function(e){const t={};for(const n of Object.keys(e))t[n]=Z(e[n]);return t}(V);function jt(e,t){let n=Ft;const r=new Map;if(null!=e&&e.plugins){for(const t of e.plugins){let e,n;"string"==typeof t?e=t:[e,n]=t,r.has(e)||r.set(e,n||{})}!function(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=e.get("decorators").decoratorsBeforeExport;if(null!=t&&"boolean"!=typeof t)throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const n=e.get("decorators").allowCallParenthesized;if(null!=n&&"boolean"!=typeof n)throw new Error("'allowCallParenthesized' must be a boolean.")}if(e.has("flow")&&e.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var t;const r=e.get("pipelineOperator").proposal;if(!It.includes(r)){const e=It.map(e=>`"${e}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${e}.`)}if("hack"===r){if(e.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const t=e.get("pipelineOperator").topicToken;if(!Ot.includes(t)){const e=Ot.map(e=>`"${e}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${e}.`)}var n;if("#"===t&&"hash"===(null==(n=e.get("recordAndTuple"))?void 0:n.syntaxType))throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}else if("smart"===r&&"hash"===(null==(t=e.get("recordAndTuple"))?void 0:t.syntaxType))throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}if(e.has("moduleAttributes")){if(e.has("deprecatedImportAssert")||e.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if("may-2020"!==e.get("moduleAttributes").version)throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(e.has("importAssertions")&&e.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(!e.has("deprecatedImportAssert")&&e.has("importAttributes")&&e.get("importAttributes").deprecatedAssertSyntax&&e.set("deprecatedImportAssert",{}),e.has("recordAndTuple")){const t=e.get("recordAndTuple").syntaxType;if(null!=t){const e=["hash","bar"];if(!e.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+e.map(e=>`'${e}'`).join(", "))}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){const e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}if(e.has("optionalChainingAssign")&&"2023-07"!==e.get("optionalChainingAssign").version)throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.");if(e.has("discardBinding")&&"void"!==e.get("discardBinding").syntaxType)throw new Error("The 'discardBinding' plugin requires a 'syntaxType' option. Currently the only supported value is 'void'.")}(r),n=function(e){const t=[];for(const n of Lt)e.has(n)&&t.push(n);const n=t.join("|");let r=$t.get(n);if(!r){r=Ft;for(const e of t)r=_t[e](r);$t.set(n,r)}return r}(r)}return new n(e,t,r)}const $t=new Map;t.parse=function(e,t){var n;if("unambiguous"!==(null==(n=t)?void 0:n.sourceType))return jt(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";const n=jt(t,e),r=n.parse();if(n.sawUnambiguousESM)return r;if(n.ambiguousScriptDifferentAst)try{return t.sourceType="script",jt(t,e).parse()}catch(e){}else r.program.sourceType="script";return r}catch(n){try{return t.sourceType="script",jt(t,e).parse()}catch(e){}throw n}},t.parseExpression=function(e,t){const n=jt(t,e);return n.options.strictMode&&(n.state.strict=!0),n.getExpression()},t.tokTypes=Bt},2193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformHeaders=t.isRunningInBrowser=void 0;const r=n(5392);t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;const s=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",i=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let a;t.getPlatformHeaders=()=>a??(a=(()=>{const e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":i(Deno.build.os),"X-Stainless-Arch":s(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":i(globalThis.process.platform??"unknown"),"X-Stainless-Arch":s(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})())},2199:(e,t,n)=>{var r=n(4528),s=n(6449);e.exports=function(e,t,n){var i=t(e);return s(e)?i:r(i,n(e))}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},2225:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",c="["+n+"]",l="["+r+"]",p="[^"+t+i+o+n+r+s+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="["+s+"]",f="(?:"+l+"|"+p+")",m="(?:"+d+"|"+p+")",y="(?:['](?:d|ll|m|re|s|t|ve))?",g="(?:['](?:D|LL|M|RE|S|T|VE))?",T="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",S="[\\ufe0e\\ufe0f]?",b=S+T+"(?:\\u200d(?:"+["[^"+t+"]",u,h].join("|")+")"+S+T+")*",E="(?:"+[c,u,h].join("|")+")"+b,x=RegExp([d+"?"+l+"+"+y+"(?="+[a,d,"$"].join("|")+")",m+"+"+g+"(?="+[a,d+f,"$"].join("|")+")",d+"?"+f+"+"+y,d+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,E].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},2226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaggedTemplateExpression=function(e){this.print(e.tag),this.print(e.typeParameters),this.print(e.quasi)},t.TemplateElement=function(){throw new Error("TemplateElement printing is handled in TemplateLiteral")},t.TemplateLiteral=function(e){this._printTemplate(e,e.expressions)},t._printTemplate=function(e,t){const n=e.quasis;let r="`";for(let s=0;s<n.length-1;s++)if(r+=n[s].value.raw,this.token(r+"${",!0),this.print(t[s]),r="}",this.tokenMap){const t=this.tokenMap.findMatching(e,"}",s);t&&this._catchUpTo(t.loc.start)}r+=n[n.length-1].value.raw,this.token(r+"`",!0)}},2234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"eval"!==(e=(0,r.default)(e))&&"arguments"!==e||(e="_"+e),e};var r=n(6744)},2241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0;const r=n(2040);class s extends r.APIResource{}t.Methods=s},2246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertAccessor=function(e,t){i("Accessor",e,t)},t.assertAnyTypeAnnotation=function(e,t){i("AnyTypeAnnotation",e,t)},t.assertArgumentPlaceholder=function(e,t){i("ArgumentPlaceholder",e,t)},t.assertArrayExpression=function(e,t){i("ArrayExpression",e,t)},t.assertArrayPattern=function(e,t){i("ArrayPattern",e,t)},t.assertArrayTypeAnnotation=function(e,t){i("ArrayTypeAnnotation",e,t)},t.assertArrowFunctionExpression=function(e,t){i("ArrowFunctionExpression",e,t)},t.assertAssignmentExpression=function(e,t){i("AssignmentExpression",e,t)},t.assertAssignmentPattern=function(e,t){i("AssignmentPattern",e,t)},t.assertAwaitExpression=function(e,t){i("AwaitExpression",e,t)},t.assertBigIntLiteral=function(e,t){i("BigIntLiteral",e,t)},t.assertBinary=function(e,t){i("Binary",e,t)},t.assertBinaryExpression=function(e,t){i("BinaryExpression",e,t)},t.assertBindExpression=function(e,t){i("BindExpression",e,t)},t.assertBlock=function(e,t){i("Block",e,t)},t.assertBlockParent=function(e,t){i("BlockParent",e,t)},t.assertBlockStatement=function(e,t){i("BlockStatement",e,t)},t.assertBooleanLiteral=function(e,t){i("BooleanLiteral",e,t)},t.assertBooleanLiteralTypeAnnotation=function(e,t){i("BooleanLiteralTypeAnnotation",e,t)},t.assertBooleanTypeAnnotation=function(e,t){i("BooleanTypeAnnotation",e,t)},t.assertBreakStatement=function(e,t){i("BreakStatement",e,t)},t.assertCallExpression=function(e,t){i("CallExpression",e,t)},t.assertCatchClause=function(e,t){i("CatchClause",e,t)},t.assertClass=function(e,t){i("Class",e,t)},t.assertClassAccessorProperty=function(e,t){i("ClassAccessorProperty",e,t)},t.assertClassBody=function(e,t){i("ClassBody",e,t)},t.assertClassDeclaration=function(e,t){i("ClassDeclaration",e,t)},t.assertClassExpression=function(e,t){i("ClassExpression",e,t)},t.assertClassImplements=function(e,t){i("ClassImplements",e,t)},t.assertClassMethod=function(e,t){i("ClassMethod",e,t)},t.assertClassPrivateMethod=function(e,t){i("ClassPrivateMethod",e,t)},t.assertClassPrivateProperty=function(e,t){i("ClassPrivateProperty",e,t)},t.assertClassProperty=function(e,t){i("ClassProperty",e,t)},t.assertCompletionStatement=function(e,t){i("CompletionStatement",e,t)},t.assertConditional=function(e,t){i("Conditional",e,t)},t.assertConditionalExpression=function(e,t){i("ConditionalExpression",e,t)},t.assertContinueStatement=function(e,t){i("ContinueStatement",e,t)},t.assertDebuggerStatement=function(e,t){i("DebuggerStatement",e,t)},t.assertDecimalLiteral=function(e,t){i("DecimalLiteral",e,t)},t.assertDeclaration=function(e,t){i("Declaration",e,t)},t.assertDeclareClass=function(e,t){i("DeclareClass",e,t)},t.assertDeclareExportAllDeclaration=function(e,t){i("DeclareExportAllDeclaration",e,t)},t.assertDeclareExportDeclaration=function(e,t){i("DeclareExportDeclaration",e,t)},t.assertDeclareFunction=function(e,t){i("DeclareFunction",e,t)},t.assertDeclareInterface=function(e,t){i("DeclareInterface",e,t)},t.assertDeclareModule=function(e,t){i("DeclareModule",e,t)},t.assertDeclareModuleExports=function(e,t){i("DeclareModuleExports",e,t)},t.assertDeclareOpaqueType=function(e,t){i("DeclareOpaqueType",e,t)},t.assertDeclareTypeAlias=function(e,t){i("DeclareTypeAlias",e,t)},t.assertDeclareVariable=function(e,t){i("DeclareVariable",e,t)},t.assertDeclaredPredicate=function(e,t){i("DeclaredPredicate",e,t)},t.assertDecorator=function(e,t){i("Decorator",e,t)},t.assertDirective=function(e,t){i("Directive",e,t)},t.assertDirectiveLiteral=function(e,t){i("DirectiveLiteral",e,t)},t.assertDoExpression=function(e,t){i("DoExpression",e,t)},t.assertDoWhileStatement=function(e,t){i("DoWhileStatement",e,t)},t.assertEmptyStatement=function(e,t){i("EmptyStatement",e,t)},t.assertEmptyTypeAnnotation=function(e,t){i("EmptyTypeAnnotation",e,t)},t.assertEnumBody=function(e,t){i("EnumBody",e,t)},t.assertEnumBooleanBody=function(e,t){i("EnumBooleanBody",e,t)},t.assertEnumBooleanMember=function(e,t){i("EnumBooleanMember",e,t)},t.assertEnumDeclaration=function(e,t){i("EnumDeclaration",e,t)},t.assertEnumDefaultedMember=function(e,t){i("EnumDefaultedMember",e,t)},t.assertEnumMember=function(e,t){i("EnumMember",e,t)},t.assertEnumNumberBody=function(e,t){i("EnumNumberBody",e,t)},t.assertEnumNumberMember=function(e,t){i("EnumNumberMember",e,t)},t.assertEnumStringBody=function(e,t){i("EnumStringBody",e,t)},t.assertEnumStringMember=function(e,t){i("EnumStringMember",e,t)},t.assertEnumSymbolBody=function(e,t){i("EnumSymbolBody",e,t)},t.assertExistsTypeAnnotation=function(e,t){i("ExistsTypeAnnotation",e,t)},t.assertExportAllDeclaration=function(e,t){i("ExportAllDeclaration",e,t)},t.assertExportDeclaration=function(e,t){i("ExportDeclaration",e,t)},t.assertExportDefaultDeclaration=function(e,t){i("ExportDefaultDeclaration",e,t)},t.assertExportDefaultSpecifier=function(e,t){i("ExportDefaultSpecifier",e,t)},t.assertExportNamedDeclaration=function(e,t){i("ExportNamedDeclaration",e,t)},t.assertExportNamespaceSpecifier=function(e,t){i("ExportNamespaceSpecifier",e,t)},t.assertExportSpecifier=function(e,t){i("ExportSpecifier",e,t)},t.assertExpression=function(e,t){i("Expression",e,t)},t.assertExpressionStatement=function(e,t){i("ExpressionStatement",e,t)},t.assertExpressionWrapper=function(e,t){i("ExpressionWrapper",e,t)},t.assertFile=function(e,t){i("File",e,t)},t.assertFlow=function(e,t){i("Flow",e,t)},t.assertFlowBaseAnnotation=function(e,t){i("FlowBaseAnnotation",e,t)},t.assertFlowDeclaration=function(e,t){i("FlowDeclaration",e,t)},t.assertFlowPredicate=function(e,t){i("FlowPredicate",e,t)},t.assertFlowType=function(e,t){i("FlowType",e,t)},t.assertFor=function(e,t){i("For",e,t)},t.assertForInStatement=function(e,t){i("ForInStatement",e,t)},t.assertForOfStatement=function(e,t){i("ForOfStatement",e,t)},t.assertForStatement=function(e,t){i("ForStatement",e,t)},t.assertForXStatement=function(e,t){i("ForXStatement",e,t)},t.assertFunction=function(e,t){i("Function",e,t)},t.assertFunctionDeclaration=function(e,t){i("FunctionDeclaration",e,t)},t.assertFunctionExpression=function(e,t){i("FunctionExpression",e,t)},t.assertFunctionParameter=function(e,t){i("FunctionParameter",e,t)},t.assertFunctionParent=function(e,t){i("FunctionParent",e,t)},t.assertFunctionTypeAnnotation=function(e,t){i("FunctionTypeAnnotation",e,t)},t.assertFunctionTypeParam=function(e,t){i("FunctionTypeParam",e,t)},t.assertGenericTypeAnnotation=function(e,t){i("GenericTypeAnnotation",e,t)},t.assertIdentifier=function(e,t){i("Identifier",e,t)},t.assertIfStatement=function(e,t){i("IfStatement",e,t)},t.assertImmutable=function(e,t){i("Immutable",e,t)},t.assertImport=function(e,t){i("Import",e,t)},t.assertImportAttribute=function(e,t){i("ImportAttribute",e,t)},t.assertImportDeclaration=function(e,t){i("ImportDeclaration",e,t)},t.assertImportDefaultSpecifier=function(e,t){i("ImportDefaultSpecifier",e,t)},t.assertImportExpression=function(e,t){i("ImportExpression",e,t)},t.assertImportNamespaceSpecifier=function(e,t){i("ImportNamespaceSpecifier",e,t)},t.assertImportOrExportDeclaration=function(e,t){i("ImportOrExportDeclaration",e,t)},t.assertImportSpecifier=function(e,t){i("ImportSpecifier",e,t)},t.assertIndexedAccessType=function(e,t){i("IndexedAccessType",e,t)},t.assertInferredPredicate=function(e,t){i("InferredPredicate",e,t)},t.assertInterfaceDeclaration=function(e,t){i("InterfaceDeclaration",e,t)},t.assertInterfaceExtends=function(e,t){i("InterfaceExtends",e,t)},t.assertInterfaceTypeAnnotation=function(e,t){i("InterfaceTypeAnnotation",e,t)},t.assertInterpreterDirective=function(e,t){i("InterpreterDirective",e,t)},t.assertIntersectionTypeAnnotation=function(e,t){i("IntersectionTypeAnnotation",e,t)},t.assertJSX=function(e,t){i("JSX",e,t)},t.assertJSXAttribute=function(e,t){i("JSXAttribute",e,t)},t.assertJSXClosingElement=function(e,t){i("JSXClosingElement",e,t)},t.assertJSXClosingFragment=function(e,t){i("JSXClosingFragment",e,t)},t.assertJSXElement=function(e,t){i("JSXElement",e,t)},t.assertJSXEmptyExpression=function(e,t){i("JSXEmptyExpression",e,t)},t.assertJSXExpressionContainer=function(e,t){i("JSXExpressionContainer",e,t)},t.assertJSXFragment=function(e,t){i("JSXFragment",e,t)},t.assertJSXIdentifier=function(e,t){i("JSXIdentifier",e,t)},t.assertJSXMemberExpression=function(e,t){i("JSXMemberExpression",e,t)},t.assertJSXNamespacedName=function(e,t){i("JSXNamespacedName",e,t)},t.assertJSXOpeningElement=function(e,t){i("JSXOpeningElement",e,t)},t.assertJSXOpeningFragment=function(e,t){i("JSXOpeningFragment",e,t)},t.assertJSXSpreadAttribute=function(e,t){i("JSXSpreadAttribute",e,t)},t.assertJSXSpreadChild=function(e,t){i("JSXSpreadChild",e,t)},t.assertJSXText=function(e,t){i("JSXText",e,t)},t.assertLVal=function(e,t){i("LVal",e,t)},t.assertLabeledStatement=function(e,t){i("LabeledStatement",e,t)},t.assertLiteral=function(e,t){i("Literal",e,t)},t.assertLogicalExpression=function(e,t){i("LogicalExpression",e,t)},t.assertLoop=function(e,t){i("Loop",e,t)},t.assertMemberExpression=function(e,t){i("MemberExpression",e,t)},t.assertMetaProperty=function(e,t){i("MetaProperty",e,t)},t.assertMethod=function(e,t){i("Method",e,t)},t.assertMiscellaneous=function(e,t){i("Miscellaneous",e,t)},t.assertMixedTypeAnnotation=function(e,t){i("MixedTypeAnnotation",e,t)},t.assertModuleDeclaration=function(e,t){(0,s.default)("assertModuleDeclaration","assertImportOrExportDeclaration"),i("ModuleDeclaration",e,t)},t.assertModuleExpression=function(e,t){i("ModuleExpression",e,t)},t.assertModuleSpecifier=function(e,t){i("ModuleSpecifier",e,t)},t.assertNewExpression=function(e,t){i("NewExpression",e,t)},t.assertNoop=function(e,t){i("Noop",e,t)},t.assertNullLiteral=function(e,t){i("NullLiteral",e,t)},t.assertNullLiteralTypeAnnotation=function(e,t){i("NullLiteralTypeAnnotation",e,t)},t.assertNullableTypeAnnotation=function(e,t){i("NullableTypeAnnotation",e,t)},t.assertNumberLiteral=function(e,t){(0,s.default)("assertNumberLiteral","assertNumericLiteral"),i("NumberLiteral",e,t)},t.assertNumberLiteralTypeAnnotation=function(e,t){i("NumberLiteralTypeAnnotation",e,t)},t.assertNumberTypeAnnotation=function(e,t){i("NumberTypeAnnotation",e,t)},t.assertNumericLiteral=function(e,t){i("NumericLiteral",e,t)},t.assertObjectExpression=function(e,t){i("ObjectExpression",e,t)},t.assertObjectMember=function(e,t){i("ObjectMember",e,t)},t.assertObjectMethod=function(e,t){i("ObjectMethod",e,t)},t.assertObjectPattern=function(e,t){i("ObjectPattern",e,t)},t.assertObjectProperty=function(e,t){i("ObjectProperty",e,t)},t.assertObjectTypeAnnotation=function(e,t){i("ObjectTypeAnnotation",e,t)},t.assertObjectTypeCallProperty=function(e,t){i("ObjectTypeCallProperty",e,t)},t.assertObjectTypeIndexer=function(e,t){i("ObjectTypeIndexer",e,t)},t.assertObjectTypeInternalSlot=function(e,t){i("ObjectTypeInternalSlot",e,t)},t.assertObjectTypeProperty=function(e,t){i("ObjectTypeProperty",e,t)},t.assertObjectTypeSpreadProperty=function(e,t){i("ObjectTypeSpreadProperty",e,t)},t.assertOpaqueType=function(e,t){i("OpaqueType",e,t)},t.assertOptionalCallExpression=function(e,t){i("OptionalCallExpression",e,t)},t.assertOptionalIndexedAccessType=function(e,t){i("OptionalIndexedAccessType",e,t)},t.assertOptionalMemberExpression=function(e,t){i("OptionalMemberExpression",e,t)},t.assertParenthesizedExpression=function(e,t){i("ParenthesizedExpression",e,t)},t.assertPattern=function(e,t){i("Pattern",e,t)},t.assertPatternLike=function(e,t){i("PatternLike",e,t)},t.assertPipelineBareFunction=function(e,t){i("PipelineBareFunction",e,t)},t.assertPipelinePrimaryTopicReference=function(e,t){i("PipelinePrimaryTopicReference",e,t)},t.assertPipelineTopicExpression=function(e,t){i("PipelineTopicExpression",e,t)},t.assertPlaceholder=function(e,t){i("Placeholder",e,t)},t.assertPrivate=function(e,t){i("Private",e,t)},t.assertPrivateName=function(e,t){i("PrivateName",e,t)},t.assertProgram=function(e,t){i("Program",e,t)},t.assertProperty=function(e,t){i("Property",e,t)},t.assertPureish=function(e,t){i("Pureish",e,t)},t.assertQualifiedTypeIdentifier=function(e,t){i("QualifiedTypeIdentifier",e,t)},t.assertRecordExpression=function(e,t){i("RecordExpression",e,t)},t.assertRegExpLiteral=function(e,t){i("RegExpLiteral",e,t)},t.assertRegexLiteral=function(e,t){(0,s.default)("assertRegexLiteral","assertRegExpLiteral"),i("RegexLiteral",e,t)},t.assertRestElement=function(e,t){i("RestElement",e,t)},t.assertRestProperty=function(e,t){(0,s.default)("assertRestProperty","assertRestElement"),i("RestProperty",e,t)},t.assertReturnStatement=function(e,t){i("ReturnStatement",e,t)},t.assertScopable=function(e,t){i("Scopable",e,t)},t.assertSequenceExpression=function(e,t){i("SequenceExpression",e,t)},t.assertSpreadElement=function(e,t){i("SpreadElement",e,t)},t.assertSpreadProperty=function(e,t){(0,s.default)("assertSpreadProperty","assertSpreadElement"),i("SpreadProperty",e,t)},t.assertStandardized=function(e,t){i("Standardized",e,t)},t.assertStatement=function(e,t){i("Statement",e,t)},t.assertStaticBlock=function(e,t){i("StaticBlock",e,t)},t.assertStringLiteral=function(e,t){i("StringLiteral",e,t)},t.assertStringLiteralTypeAnnotation=function(e,t){i("StringLiteralTypeAnnotation",e,t)},t.assertStringTypeAnnotation=function(e,t){i("StringTypeAnnotation",e,t)},t.assertSuper=function(e,t){i("Super",e,t)},t.assertSwitchCase=function(e,t){i("SwitchCase",e,t)},t.assertSwitchStatement=function(e,t){i("SwitchStatement",e,t)},t.assertSymbolTypeAnnotation=function(e,t){i("SymbolTypeAnnotation",e,t)},t.assertTSAnyKeyword=function(e,t){i("TSAnyKeyword",e,t)},t.assertTSArrayType=function(e,t){i("TSArrayType",e,t)},t.assertTSAsExpression=function(e,t){i("TSAsExpression",e,t)},t.assertTSBaseType=function(e,t){i("TSBaseType",e,t)},t.assertTSBigIntKeyword=function(e,t){i("TSBigIntKeyword",e,t)},t.assertTSBooleanKeyword=function(e,t){i("TSBooleanKeyword",e,t)},t.assertTSCallSignatureDeclaration=function(e,t){i("TSCallSignatureDeclaration",e,t)},t.assertTSConditionalType=function(e,t){i("TSConditionalType",e,t)},t.assertTSConstructSignatureDeclaration=function(e,t){i("TSConstructSignatureDeclaration",e,t)},t.assertTSConstructorType=function(e,t){i("TSConstructorType",e,t)},t.assertTSDeclareFunction=function(e,t){i("TSDeclareFunction",e,t)},t.assertTSDeclareMethod=function(e,t){i("TSDeclareMethod",e,t)},t.assertTSEntityName=function(e,t){i("TSEntityName",e,t)},t.assertTSEnumBody=function(e,t){i("TSEnumBody",e,t)},t.assertTSEnumDeclaration=function(e,t){i("TSEnumDeclaration",e,t)},t.assertTSEnumMember=function(e,t){i("TSEnumMember",e,t)},t.assertTSExportAssignment=function(e,t){i("TSExportAssignment",e,t)},t.assertTSExpressionWithTypeArguments=function(e,t){i("TSExpressionWithTypeArguments",e,t)},t.assertTSExternalModuleReference=function(e,t){i("TSExternalModuleReference",e,t)},t.assertTSFunctionType=function(e,t){i("TSFunctionType",e,t)},t.assertTSImportEqualsDeclaration=function(e,t){i("TSImportEqualsDeclaration",e,t)},t.assertTSImportType=function(e,t){i("TSImportType",e,t)},t.assertTSIndexSignature=function(e,t){i("TSIndexSignature",e,t)},t.assertTSIndexedAccessType=function(e,t){i("TSIndexedAccessType",e,t)},t.assertTSInferType=function(e,t){i("TSInferType",e,t)},t.assertTSInstantiationExpression=function(e,t){i("TSInstantiationExpression",e,t)},t.assertTSInterfaceBody=function(e,t){i("TSInterfaceBody",e,t)},t.assertTSInterfaceDeclaration=function(e,t){i("TSInterfaceDeclaration",e,t)},t.assertTSIntersectionType=function(e,t){i("TSIntersectionType",e,t)},t.assertTSIntrinsicKeyword=function(e,t){i("TSIntrinsicKeyword",e,t)},t.assertTSLiteralType=function(e,t){i("TSLiteralType",e,t)},t.assertTSMappedType=function(e,t){i("TSMappedType",e,t)},t.assertTSMethodSignature=function(e,t){i("TSMethodSignature",e,t)},t.assertTSModuleBlock=function(e,t){i("TSModuleBlock",e,t)},t.assertTSModuleDeclaration=function(e,t){i("TSModuleDeclaration",e,t)},t.assertTSNamedTupleMember=function(e,t){i("TSNamedTupleMember",e,t)},t.assertTSNamespaceExportDeclaration=function(e,t){i("TSNamespaceExportDeclaration",e,t)},t.assertTSNeverKeyword=function(e,t){i("TSNeverKeyword",e,t)},t.assertTSNonNullExpression=function(e,t){i("TSNonNullExpression",e,t)},t.assertTSNullKeyword=function(e,t){i("TSNullKeyword",e,t)},t.assertTSNumberKeyword=function(e,t){i("TSNumberKeyword",e,t)},t.assertTSObjectKeyword=function(e,t){i("TSObjectKeyword",e,t)},t.assertTSOptionalType=function(e,t){i("TSOptionalType",e,t)},t.assertTSParameterProperty=function(e,t){i("TSParameterProperty",e,t)},t.assertTSParenthesizedType=function(e,t){i("TSParenthesizedType",e,t)},t.assertTSPropertySignature=function(e,t){i("TSPropertySignature",e,t)},t.assertTSQualifiedName=function(e,t){i("TSQualifiedName",e,t)},t.assertTSRestType=function(e,t){i("TSRestType",e,t)},t.assertTSSatisfiesExpression=function(e,t){i("TSSatisfiesExpression",e,t)},t.assertTSStringKeyword=function(e,t){i("TSStringKeyword",e,t)},t.assertTSSymbolKeyword=function(e,t){i("TSSymbolKeyword",e,t)},t.assertTSTemplateLiteralType=function(e,t){i("TSTemplateLiteralType",e,t)},t.assertTSThisType=function(e,t){i("TSThisType",e,t)},t.assertTSTupleType=function(e,t){i("TSTupleType",e,t)},t.assertTSType=function(e,t){i("TSType",e,t)},t.assertTSTypeAliasDeclaration=function(e,t){i("TSTypeAliasDeclaration",e,t)},t.assertTSTypeAnnotation=function(e,t){i("TSTypeAnnotation",e,t)},t.assertTSTypeAssertion=function(e,t){i("TSTypeAssertion",e,t)},t.assertTSTypeElement=function(e,t){i("TSTypeElement",e,t)},t.assertTSTypeLiteral=function(e,t){i("TSTypeLiteral",e,t)},t.assertTSTypeOperator=function(e,t){i("TSTypeOperator",e,t)},t.assertTSTypeParameter=function(e,t){i("TSTypeParameter",e,t)},t.assertTSTypeParameterDeclaration=function(e,t){i("TSTypeParameterDeclaration",e,t)},t.assertTSTypeParameterInstantiation=function(e,t){i("TSTypeParameterInstantiation",e,t)},t.assertTSTypePredicate=function(e,t){i("TSTypePredicate",e,t)},t.assertTSTypeQuery=function(e,t){i("TSTypeQuery",e,t)},t.assertTSTypeReference=function(e,t){i("TSTypeReference",e,t)},t.assertTSUndefinedKeyword=function(e,t){i("TSUndefinedKeyword",e,t)},t.assertTSUnionType=function(e,t){i("TSUnionType",e,t)},t.assertTSUnknownKeyword=function(e,t){i("TSUnknownKeyword",e,t)},t.assertTSVoidKeyword=function(e,t){i("TSVoidKeyword",e,t)},t.assertTaggedTemplateExpression=function(e,t){i("TaggedTemplateExpression",e,t)},t.assertTemplateElement=function(e,t){i("TemplateElement",e,t)},t.assertTemplateLiteral=function(e,t){i("TemplateLiteral",e,t)},t.assertTerminatorless=function(e,t){i("Terminatorless",e,t)},t.assertThisExpression=function(e,t){i("ThisExpression",e,t)},t.assertThisTypeAnnotation=function(e,t){i("ThisTypeAnnotation",e,t)},t.assertThrowStatement=function(e,t){i("ThrowStatement",e,t)},t.assertTopicReference=function(e,t){i("TopicReference",e,t)},t.assertTryStatement=function(e,t){i("TryStatement",e,t)},t.assertTupleExpression=function(e,t){i("TupleExpression",e,t)},t.assertTupleTypeAnnotation=function(e,t){i("TupleTypeAnnotation",e,t)},t.assertTypeAlias=function(e,t){i("TypeAlias",e,t)},t.assertTypeAnnotation=function(e,t){i("TypeAnnotation",e,t)},t.assertTypeCastExpression=function(e,t){i("TypeCastExpression",e,t)},t.assertTypeParameter=function(e,t){i("TypeParameter",e,t)},t.assertTypeParameterDeclaration=function(e,t){i("TypeParameterDeclaration",e,t)},t.assertTypeParameterInstantiation=function(e,t){i("TypeParameterInstantiation",e,t)},t.assertTypeScript=function(e,t){i("TypeScript",e,t)},t.assertTypeofTypeAnnotation=function(e,t){i("TypeofTypeAnnotation",e,t)},t.assertUnaryExpression=function(e,t){i("UnaryExpression",e,t)},t.assertUnaryLike=function(e,t){i("UnaryLike",e,t)},t.assertUnionTypeAnnotation=function(e,t){i("UnionTypeAnnotation",e,t)},t.assertUpdateExpression=function(e,t){i("UpdateExpression",e,t)},t.assertUserWhitespacable=function(e,t){i("UserWhitespacable",e,t)},t.assertV8IntrinsicIdentifier=function(e,t){i("V8IntrinsicIdentifier",e,t)},t.assertVariableDeclaration=function(e,t){i("VariableDeclaration",e,t)},t.assertVariableDeclarator=function(e,t){i("VariableDeclarator",e,t)},t.assertVariance=function(e,t){i("Variance",e,t)},t.assertVoidPattern=function(e,t){i("VoidPattern",e,t)},t.assertVoidTypeAnnotation=function(e,t){i("VoidTypeAnnotation",e,t)},t.assertWhile=function(e,t){i("While",e,t)},t.assertWhileStatement=function(e,t){i("WhileStatement",e,t)},t.assertWithStatement=function(e,t){i("WithStatement",e,t)},t.assertYieldExpression=function(e,t){i("YieldExpression",e,t)};var r=n(3828),s=n(3762);function i(e,t,n){if(!(0,r.default)(e,t,n))throw new Error(`Expected type "${e}" with option ${JSON.stringify(n)}, but instead got "${t.type}".`)}},2257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrowFunctionToExpression=function({allowInsertArrow:e=!0,allowInsertArrowWithRest:t=e,noNewArrows:n=!(e=>null==(e=arguments[0])?void 0:e.specCompliant)()}={}){if(!this.isArrowFunctionExpression())throw this.buildCodeFrameError("Cannot convert non-arrow function to a function expression.");let r=this;var s;n||(r=null!=(s=r.ensureFunctionName(!1))?s:r);const{thisBinding:i,fnPath:a}=K(r,n,e,t);if(a.ensureBlock(),a.node.type="FunctionExpression",!n){const e=i?null:a.scope.generateUidIdentifier("arrowCheckId");return e&&a.parentPath.scope.push({id:e,init:x([])}),a.get("body").unshiftContainer("body",d(u(this.hub.addHelper("newArrowCheck"),[O(),f(e?e.name:i)]))),a.replaceWith(u(S(a.node,f("bind")),[e?f(e.name):O()])),a.get("callee.object")}return a},t.ensureBlock=function(){const e=this.get("body"),t=e.node;if(Array.isArray(e))throw new Error("Can't convert array path to a block statement");if(!t)throw new Error("Can't convert node without a body");if(e.isBlockStatement())return t;const n=[];let r,s,i="body";e.isStatement()?(s="body",r=0,n.push(e.node)):(i+=".body.0",this.isFunction()?(r="argument",n.push(P(e.node))):(r="expression",n.push(d(e.node)))),this.node.body=p(n);const o=this.get(i);return a.setup.call(e,o,s?o.node[s]:o.node,s,r),this.node},t.ensureFunctionName=function(e){if(this.node.id)return this;const t=D(this.node,this.parent);if(null==t)return this;let{name:n}=t;if(!e&&/[\uD800-\uDFFF]/.test(n))return null;if(n.startsWith("get ")||n.startsWith("set "))return null;n=N(n.replace(/[/ ]/g,"_"));const r=f(n);V(r,t.originalNode);const i={needsRename:!1,name:n},{scope:a}=this,o=a.getOwnBinding(n);if(o?"param"===o.kind&&(i.needsRename=!0):(a.parent.hasBinding(n)||a.hasGlobal(n))&&this.traverse(Y,i),!i.needsRename)return this.node.id=r,a.getProgramParent().references[r.name]=!0,this;if(a.hasBinding(r.name)&&!a.hasGlobal(r.name))return a.rename(r.name),this.node.id=r,a.getProgramParent().references[r.name]=!0,this;if(!k(this.node))return null;const c=a.generateUidIdentifier(r.name),l=[];for(let e=0,t=function(e){const t=e.params.findIndex(e=>R(e)||M(e));return-1===t?e.params.length:t}(this.node);e<t;e++)l.push(a.generateUidIdentifier("x"));const p=s.default.expression.ast`
    (function (${c}) {
      function ${r}(${l}) {
        return ${U(c)}.apply(this, arguments);
      }

      ${U(r)}.toString = function () {
        return ${U(c)}.toString();
      }

      return ${U(r)};
    })(${_(this.node)})
  `;return this.replaceWith(p)[0].get("arguments.0")},t.splitExportDeclaration=function(){if(!this.isExportDeclaration()||this.isExportAllDeclaration())throw new Error("Only default and named export declarations can be split.");if(this.isExportNamedDeclaration()&&this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");const e=this.get("declaration");if(this.isExportDefaultDeclaration()){const t=e.isFunctionDeclaration()||e.isClassDeclaration(),n=e.isFunctionExpression()||e.isClassExpression(),r=e.isScope()?e.scope.parent:e.scope;let s=e.node.id,i=!1;s?n&&r.hasBinding(s.name)&&(i=!0,s=r.generateUidIdentifier(s.name)):(i=!0,s=r.generateUidIdentifier("default"),(t||n)&&(e.node.id=U(s)));const a=t?e.node:F("var",[B(U(s),e.node)]),o=j(null,[$(U(s),f("default"))]);return this.insertAfter(o),this.replaceWith(a),i&&r.registerDeclaration(this),this}if(this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");const t=e.getOuterBindingIdentifiers(),n=Object.keys(t).map(e=>$(f(e),f(e))),r=j(null,n);return this.insertAfter(r),this.replaceWith(e.node),this},t.toComputedKey=function(){let e;if(this.isMemberExpression())e=this.node.property;else{if(!this.isProperty()&&!this.isMethod())throw new ReferenceError("todo");e=this.node.key}return this.node.computed||m(e)&&(e=C(e.name)),e},t.unwrapFunctionEnvironment=function(){if(!this.isArrowFunctionExpression()&&!this.isFunctionExpression()&&!this.isFunctionDeclaration())throw this.buildCodeFrameError("Can only unwrap the environment of a function.");K(this)};var r=n(2352),s=n(2485),i=n(4950),a=n(9578);const{arrowFunctionExpression:o,assignmentExpression:c,binaryExpression:l,blockStatement:p,callExpression:u,conditionalExpression:h,expressionStatement:d,identifier:f,isIdentifier:m,jsxIdentifier:y,logicalExpression:g,LOGICAL_OPERATORS:T,memberExpression:S,metaProperty:b,numericLiteral:E,objectExpression:x,restElement:v,returnStatement:P,sequenceExpression:A,spreadElement:w,stringLiteral:C,super:I,thisExpression:O,toExpression:_,unaryExpression:L,toBindingIdentifierName:N,isFunction:k,isAssignmentPattern:R,isRestElement:M,getFunctionName:D,cloneNode:U,variableDeclaration:F,variableDeclarator:B,exportNamedDeclaration:j,exportSpecifier:$,inherits:V}=r;t.arrowFunctionToShadowed=function(){this.isArrowFunctionExpression()&&this.arrowFunctionToExpression()};const W=(0,i.environmentVisitor)({CallExpression(e,{allSuperCalls:t}){e.get("callee").isSuper()&&t.push(e)}});function K(e,t=!0,n=!0,r=!0){let s,i=e.findParent(e=>e.isArrowFunctionExpression()?(null!=s||(s=e),!1):e.isFunction()||e.isProgram()||e.isClassProperty({static:!1})||e.isClassPrivateProperty({static:!1}));const a=i.isClassMethod({kind:"constructor"});if(i.isClassProperty()||i.isClassPrivateProperty())if(s)i=s;else{if(!n)throw e.buildCodeFrameError("Unable to transform arrow inside class property");e.replaceWith(u(o([],_(e.node)),[])),i=e.get("callee"),e=i.get("body")}const{thisPaths:p,argumentsPaths:d,newTargetPaths:m,superProps:x,superCalls:P}=function(e){const t=[],n=[],r=[],s=[],i=[];return e.traverse(H,{thisPaths:t,argumentsPaths:n,newTargetPaths:r,superProps:s,superCalls:i}),{thisPaths:t,argumentsPaths:n,newTargetPaths:r,superProps:s,superCalls:i}}(e);if(a&&P.length>0){if(!n)throw P[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super()` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");if(!r)throw P[0].buildCodeFrameError("When using '@babel/plugin-transform-parameters', it's not possible to compile `super()` in an arrow function with default or rest parameters without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");const e=[];i.traverse(W,{allSuperCalls:e});const t=function(e){return z(e,"supercall",()=>{const t=e.scope.generateUidIdentifier("args");return o([v(t)],u(I(),[w(f(t.name))]))})}(i);e.forEach(e=>{const n=f(t);n.loc=e.node.callee.loc,e.get("callee").replaceWith(n)})}if(d.length>0){const e=z(i,"arguments",()=>{const e=()=>f("arguments");return i.scope.path.isProgram()?h(l("===",L("typeof",e()),C("undefined")),i.scope.buildUndefinedNode(),e()):e()});d.forEach(t=>{const n=f(e);n.loc=t.node.loc,t.replaceWith(n)})}if(m.length>0){const e=z(i,"newtarget",()=>b(f("new"),f("target")));m.forEach(t=>{const n=f(e);n.loc=t.node.loc,t.replaceWith(n)})}if(x.length>0){if(!n)throw x[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super.prop` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");x.reduce((e,t)=>e.concat(function(e){if(e.parentPath.isAssignmentExpression()&&"="!==e.parentPath.node.operator){const n=e.parentPath,r=n.node.operator.slice(0,-1),s=n.node.right,i=function(e){return T.includes(e)}(r);if(e.node.computed){const a=e.scope.generateDeclaredUidIdentifier("tmp"),{object:o,property:l}=e.node;n.get("left").replaceWith(S(o,c("=",a,l),!0)),n.get("right").replaceWith(t(i?"=":r,S(o,f(a.name),!0),s))}else{const a=e.node.object,o=e.node.property;n.get("left").replaceWith(S(a,o)),n.get("right").replaceWith(t(i?"=":r,S(a,f(o.name)),s))}return i?n.replaceWith(g(r,n.node.left,n.node.right)):n.node.operator="=",[n.get("left"),n.get("right").get("left")]}if(e.parentPath.isUpdateExpression()){const t=e.parentPath,n=e.scope.generateDeclaredUidIdentifier("tmp"),r=e.node.computed?e.scope.generateDeclaredUidIdentifier("prop"):null,s=[c("=",n,S(e.node.object,r?c("=",r,e.node.property):e.node.property,e.node.computed)),c("=",S(e.node.object,r?f(r.name):e.node.property,e.node.computed),l(e.parentPath.node.operator[0],f(n.name),E(1)))];return e.parentPath.node.prefix||s.push(f(n.name)),t.replaceWith(A(s)),[t.get("expressions.0.right"),t.get("expressions.1.left")]}return[e];function t(e,t,n){return"="===e?c("=",t,n):l(e,t,n)}}(t)),[]).forEach(e=>{const t=e.node.computed?"":e.get("property").node.name,n=e.parentPath,r=n.isAssignmentExpression({left:e.node}),s=n.isCallExpression({callee:e.node}),a=n.isTaggedTemplateExpression({tag:e.node}),l=function(e,t,n){return z(e,`superprop_${t?"set":"get"}:${n||""}`,()=>{const r=[];let s;if(n)s=S(I(),f(n));else{const t=e.scope.generateUidIdentifier("prop");r.unshift(t),s=S(I(),f(t.name),!0)}if(t){const t=e.scope.generateUidIdentifier("value");r.push(t),s=c("=",s,f(t.name))}return o(r,s)})}(i,r,t),h=[];if(e.node.computed&&h.push(e.get("property").node),r){const e=n.node.right;h.push(e)}const d=u(f(l),h);s?(n.unshiftContainer("arguments",O()),e.replaceWith(S(d,f("call"))),p.push(n.get("arguments.0"))):r?n.replaceWith(d):a?(e.replaceWith(u(S(d,f("bind"),!1),[O()])),p.push(e.get("arguments.0"))):e.replaceWith(d)})}let N;return(p.length>0||!t)&&(N=function(e,t){return z(e,"this",n=>{if(!t||!G(e))return O();e.traverse(q,{supers:new WeakSet,thisBinding:n})})}(i,a),(t||a&&G(i))&&(p.forEach(e=>{const t=e.isJSX()?y(N):f(N);t.loc=e.node.loc,e.replaceWith(t)}),t||(N=null))),{thisBinding:N,fnPath:e}}function G(e){return e.isClassMethod()&&!!e.parentPath.parentPath.node.superClass}const q=(0,i.environmentVisitor)({CallExpression(e,{supers:t,thisBinding:n}){e.get("callee").isSuper()&&(t.has(e.node)||(t.add(e.node),e.replaceWithMultiple([e.node,c("=",f(n),f("this"))])))}});function z(e,t,n){const r="binding:"+t;let s=e.getData(r);if(!s){const i=e.scope.generateUidIdentifier(t);s=i.name,e.setData(r,s),e.scope.push({id:i,init:n(s)})}return s}const H=(0,i.environmentVisitor)({ThisExpression(e,{thisPaths:t}){t.push(e)},JSXIdentifier(e,{thisPaths:t}){"this"===e.node.name&&(e.parentPath.isJSXMemberExpression({object:e.node})||e.parentPath.isJSXOpeningElement({name:e.node}))&&t.push(e)},CallExpression(e,{superCalls:t}){e.get("callee").isSuper()&&t.push(e)},MemberExpression(e,{superProps:t}){e.get("object").isSuper()&&t.push(e)},Identifier(e,{argumentsPaths:t}){if(!e.isReferencedIdentifier({name:"arguments"}))return;let n=e.scope;do{if(n.hasOwnBinding("arguments"))return void n.rename("arguments");if(n.path.isFunction()&&!n.path.isArrowFunctionExpression())break}while(n=n.parent);t.push(e)},MetaProperty(e,{newTargetPaths:t}){e.get("meta").isIdentifier({name:"new"})&&e.get("property").isIdentifier({name:"target"})&&t.push(e)}}),Y={"ReferencedIdentifier|BindingIdentifier"(e,t){e.node.name===t.name&&(t.needsRename=!0,e.stop())},Scope(e,t){e.scope.hasOwnBinding(t.name)&&e.skip()}}},2259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnyTypeAnnotation=function(){this.word("any")},t.ArrayTypeAnnotation=function(e){this.print(e.elementType,!0),this.tokenChar(91),this.tokenChar(93)},t.BooleanLiteralTypeAnnotation=function(e){this.word(e.value?"true":"false")},t.BooleanTypeAnnotation=function(){this.word("boolean")},t.DeclareClass=function(e,t){o(t)||(this.word("declare"),this.space()),this.word("class"),this.space(),this._interfaceish(e)},t.DeclareExportAllDeclaration=function(e){this.word("declare"),this.space(),s.ExportAllDeclaration.call(this,e)},t.DeclareExportDeclaration=function(e){this.word("declare"),this.space(),this.word("export"),this.space(),e.default&&(this.word("default"),this.space()),h.call(this,e)},t.DeclareFunction=function(e,t){o(t)||(this.word("declare"),this.space()),this.word("function"),this.space(),this.print(e.id),this.print(e.id.typeAnnotation.typeAnnotation),e.predicate&&(this.space(),this.print(e.predicate)),this.semicolon()},t.DeclareInterface=function(e){this.word("declare"),this.space(),this.InterfaceDeclaration(e)},t.DeclareModule=function(e){this.word("declare"),this.space(),this.word("module"),this.space(),this.print(e.id),this.space(),this.print(e.body)},t.DeclareModuleExports=function(e){this.word("declare"),this.space(),this.word("module"),this.tokenChar(46),this.word("exports"),this.print(e.typeAnnotation)},t.DeclareOpaqueType=function(e,t){o(t)||(this.word("declare"),this.space()),this.OpaqueType(e)},t.DeclareTypeAlias=function(e){this.word("declare"),this.space(),this.TypeAlias(e)},t.DeclareVariable=function(e,t){o(t)||(this.word("declare"),this.space()),this.word("var"),this.space(),this.print(e.id),this.print(e.id.typeAnnotation),this.semicolon()},t.DeclaredPredicate=function(e){this.tokenChar(37),this.word("checks"),this.tokenChar(40),this.print(e.value),this.tokenChar(41)},t.EmptyTypeAnnotation=function(){this.word("empty")},t.EnumBooleanBody=function(e){const{explicitType:t}=e;l(this,"boolean",t),p(this,e)},t.EnumBooleanMember=function(e){u(this,e)},t.EnumDeclaration=function(e){const{id:t,body:n}=e;this.word("enum"),this.space(),this.print(t),this.print(n)},t.EnumDefaultedMember=function(e){const{id:t}=e;this.print(t),this.tokenChar(44)},t.EnumNumberBody=function(e){const{explicitType:t}=e;l(this,"number",t),p(this,e)},t.EnumNumberMember=function(e){u(this,e)},t.EnumStringBody=function(e){const{explicitType:t}=e;l(this,"string",t),p(this,e)},t.EnumStringMember=function(e){u(this,e)},t.EnumSymbolBody=function(e){l(this,"symbol",!0),p(this,e)},t.ExistsTypeAnnotation=function(){this.tokenChar(42)},t.FunctionTypeAnnotation=function(e,t){this.print(e.typeParameters),this.tokenChar(40),e.this&&(this.word("this"),this.tokenChar(58),this.space(),this.print(e.this.typeAnnotation),(e.params.length||e.rest)&&(this.tokenChar(44),this.space())),this.printList(e.params),e.rest&&(e.params.length&&(this.tokenChar(44),this.space()),this.token("..."),this.print(e.rest)),this.tokenChar(41);const n=null==t?void 0:t.type;null!=n&&("ObjectTypeCallProperty"===n||"ObjectTypeInternalSlot"===n||"DeclareFunction"===n||"ObjectTypeProperty"===n&&t.method)?this.tokenChar(58):(this.space(),this.token("=>")),this.space(),this.print(e.returnType)},t.FunctionTypeParam=function(e){this.print(e.name),e.optional&&this.tokenChar(63),e.name&&(this.tokenChar(58),this.space()),this.print(e.typeAnnotation)},t.IndexedAccessType=function(e){this.print(e.objectType,!0),this.tokenChar(91),this.print(e.indexType),this.tokenChar(93)},t.InferredPredicate=function(){this.tokenChar(37),this.word("checks")},t.InterfaceDeclaration=function(e){this.word("interface"),this.space(),this._interfaceish(e)},t.GenericTypeAnnotation=t.ClassImplements=t.InterfaceExtends=function(e){this.print(e.id),this.print(e.typeParameters,!0)},t.InterfaceTypeAnnotation=function(e){var t;this.word("interface"),null!=(t=e.extends)&&t.length&&(this.space(),this.word("extends"),this.space(),this.printList(e.extends)),this.space(),this.print(e.body)},t.IntersectionTypeAnnotation=function(e){this.printJoin(e.types,void 0,void 0,d)},t.MixedTypeAnnotation=function(){this.word("mixed")},t.NullLiteralTypeAnnotation=function(){this.word("null")},t.NullableTypeAnnotation=function(e){this.tokenChar(63),this.print(e.typeAnnotation)},Object.defineProperty(t,"NumberLiteralTypeAnnotation",{enumerable:!0,get:function(){return a.NumericLiteral}}),t.NumberTypeAnnotation=function(){this.word("number")},t.ObjectTypeAnnotation=function(e){e.exact?this.token("{|"):this.tokenChar(123);const t=[...e.properties,...e.callProperties||[],...e.indexers||[],...e.internalSlots||[]];t.length&&(this.newline(),this.space(),this.printJoin(t,!0,!0,void 0,void 0,()=>{(1!==t.length||e.inexact)&&(this.tokenChar(44),this.space())}),this.space()),e.inexact&&(this.indent(),this.token("..."),t.length&&this.newline(),this.dedent()),e.exact?this.token("|}"):this.tokenChar(125)},t.ObjectTypeCallProperty=function(e){e.static&&(this.word("static"),this.space()),this.print(e.value)},t.ObjectTypeIndexer=function(e){e.static&&(this.word("static"),this.space()),this._variance(e),this.tokenChar(91),e.id&&(this.print(e.id),this.tokenChar(58),this.space()),this.print(e.key),this.tokenChar(93),this.tokenChar(58),this.space(),this.print(e.value)},t.ObjectTypeInternalSlot=function(e){e.static&&(this.word("static"),this.space()),this.tokenChar(91),this.tokenChar(91),this.print(e.id),this.tokenChar(93),this.tokenChar(93),e.optional&&this.tokenChar(63),e.method||(this.tokenChar(58),this.space()),this.print(e.value)},t.ObjectTypeProperty=function(e){e.proto&&(this.word("proto"),this.space()),e.static&&(this.word("static"),this.space()),"get"!==e.kind&&"set"!==e.kind||(this.word(e.kind),this.space()),this._variance(e),this.print(e.key),e.optional&&this.tokenChar(63),e.method||(this.tokenChar(58),this.space()),this.print(e.value)},t.ObjectTypeSpreadProperty=function(e){this.token("..."),this.print(e.argument)},t.OpaqueType=function(e){this.word("opaque"),this.space(),this.word("type"),this.space(),this.print(e.id),this.print(e.typeParameters),e.supertype&&(this.tokenChar(58),this.space(),this.print(e.supertype)),e.impltype&&(this.space(),this.tokenChar(61),this.space(),this.print(e.impltype)),this.semicolon()},t.OptionalIndexedAccessType=function(e){this.print(e.objectType),e.optional&&this.token("?."),this.tokenChar(91),this.print(e.indexType),this.tokenChar(93)},t.QualifiedTypeIdentifier=function(e){this.print(e.qualification),this.tokenChar(46),this.print(e.id)},Object.defineProperty(t,"StringLiteralTypeAnnotation",{enumerable:!0,get:function(){return a.StringLiteral}}),t.StringTypeAnnotation=function(){this.word("string")},t.SymbolTypeAnnotation=function(){this.word("symbol")},t.ThisTypeAnnotation=function(){this.word("this")},t.TupleTypeAnnotation=function(e){this.tokenChar(91),this.printList(e.types),this.tokenChar(93)},t.TypeAlias=function(e){this.word("type"),this.space(),this.print(e.id),this.print(e.typeParameters),this.space(),this.tokenChar(61),this.space(),this.print(e.right),this.semicolon()},t.TypeAnnotation=function(e,t){this.tokenChar(58),this.space(),"ArrowFunctionExpression"===t.type?this.tokenContext|=i.TokenContext.arrowFlowReturnType:e.optional&&this.tokenChar(63),this.print(e.typeAnnotation)},t.TypeCastExpression=function(e){this.tokenChar(40),this.print(e.expression),this.print(e.typeAnnotation),this.tokenChar(41)},t.TypeParameter=function(e){this._variance(e),this.word(e.name),e.bound&&this.print(e.bound),e.default&&(this.space(),this.tokenChar(61),this.space(),this.print(e.default))},t.TypeParameterDeclaration=t.TypeParameterInstantiation=function(e){this.tokenChar(60),this.printList(e.params),this.tokenChar(62)},t.TypeofTypeAnnotation=function(e){this.word("typeof"),this.space(),this.print(e.argument)},t.UnionTypeAnnotation=function(e){this.printJoin(e.types,void 0,void 0,f)},t.Variance=function(e){"plus"===e.kind?this.tokenChar(43):this.tokenChar(45)},t.VoidTypeAnnotation=function(){this.word("void")},t._interfaceish=function(e){var t,n,r;(this.print(e.id),this.print(e.typeParameters),null!=(t=e.extends)&&t.length&&(this.space(),this.word("extends"),this.space(),this.printList(e.extends)),"DeclareClass"===e.type)&&(null!=(n=e.mixins)&&n.length&&(this.space(),this.word("mixins"),this.space(),this.printList(e.mixins)),null!=(r=e.implements)&&r.length&&(this.space(),this.word("implements"),this.space(),this.printList(e.implements)));this.space(),this.print(e.body)},t._variance=function(e){var t;const n=null==(t=e.variance)?void 0:t.kind;null!=n&&("plus"===n?this.tokenChar(43):"minus"===n&&this.tokenChar(45))};var r=n(2352),s=n(9638),i=n(1373),a=n(7942);const{isDeclareExportDeclaration:o,isStatement:c}=r;function l(e,t,n){n&&(e.space(),e.word("of"),e.space(),e.word(t)),e.space()}function p(e,t){const{members:n}=t;e.token("{"),e.indent(),e.newline();for(const t of n)e.print(t),e.newline();t.hasUnknownMembers&&(e.token("..."),e.newline()),e.dedent(),e.token("}")}function u(e,t){e.print(t.id),e.space(),e.token("="),e.space(),e.print(t.init),e.token(",")}function h(e){if(e.declaration){const t=e.declaration;this.print(t),c(t)||this.semicolon()}else this.tokenChar(123),e.specifiers.length&&(this.space(),this.printList(e.specifiers),this.space()),this.tokenChar(125),e.source&&(this.space(),this.word("from"),this.space(),this.print(e.source)),this.semicolon()}function d(e){this.space(),this.token("&",!1,e),this.space()}function f(e){this.space(),this.token("|",!1,e),this.space()}},2264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseNode=function(e,t,n,s,a,o,c){const l=i[e.type];if(!l)return!1;const p=new r.default(n,t,s,a);if(c)return(null==o||!o[a.parentKey])&&p.visitQueue([a]);for(const t of l)if((null==o||!o[t])&&p.visit(e,t))return!0;return!1};var r=n(1602),s=(n(9709),n(2352));n(9578);const{VISITOR_KEYS:i}=s},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const r=n(2040);class s extends r.APIResource{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}t.Graders=s},2352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={react:!0,assertNode:!0,createTypeAnnotationBasedOnTypeof:!0,createUnionTypeAnnotation:!0,createFlowUnionType:!0,createTSUnionType:!0,cloneNode:!0,clone:!0,cloneDeep:!0,cloneDeepWithoutLoc:!0,cloneWithoutLoc:!0,addComment:!0,addComments:!0,inheritInnerComments:!0,inheritLeadingComments:!0,inheritsComments:!0,inheritTrailingComments:!0,removeComments:!0,ensureBlock:!0,toBindingIdentifierName:!0,toBlock:!0,toComputedKey:!0,toExpression:!0,toIdentifier:!0,toKeyAlias:!0,toStatement:!0,valueToNode:!0,appendToMemberExpression:!0,inherits:!0,prependToMemberExpression:!0,removeProperties:!0,removePropertiesDeep:!0,removeTypeDuplicates:!0,getAssignmentIdentifiers:!0,getBindingIdentifiers:!0,getOuterBindingIdentifiers:!0,getFunctionName:!0,traverse:!0,traverseFast:!0,shallowEqual:!0,is:!0,isBinding:!0,isBlockScoped:!0,isImmutable:!0,isLet:!0,isNode:!0,isNodesEquivalent:!0,isPlaceholderType:!0,isReferenced:!0,isScope:!0,isSpecifierDefault:!0,isType:!0,isValidES3Identifier:!0,isValidIdentifier:!0,isVar:!0,matchesPattern:!0,validate:!0,buildMatchMemberExpression:!0,__internal__deprecationWarning:!0};Object.defineProperty(t,"__internal__deprecationWarning",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(t,"addComment",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"addComments",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"appendToMemberExpression",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"assertNode",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"buildMatchMemberExpression",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"cloneDeepWithoutLoc",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"cloneNode",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"cloneWithoutLoc",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"createFlowUnionType",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"createTSUnionType",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ensureBlock",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"getAssignmentIdentifiers",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(t,"getBindingIdentifiers",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"inheritInnerComments",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"inheritLeadingComments",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"inheritTrailingComments",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"inherits",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"inheritsComments",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"isBinding",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"isBlockScoped",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(t,"isImmutable",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(t,"isLet",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(t,"isNodesEquivalent",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"isPlaceholderType",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(t,"isReferenced",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(t,"isScope",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(t,"isSpecifierDefault",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"isType",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(t,"isValidES3Identifier",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"isValidIdentifier",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(t,"isVar",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"matchesPattern",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(t,"prependToMemberExpression",{enumerable:!0,get:function(){return j.default}}),t.react=void 0,Object.defineProperty(t,"removeComments",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"removeProperties",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"removePropertiesDeep",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"removeTypeDuplicates",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"toBindingIdentifierName",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"toBlock",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"toComputedKey",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"toExpression",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"toIdentifier",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"toKeyAlias",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"toStatement",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"traverse",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"traverseFast",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"valueToNode",{enumerable:!0,get:function(){return D.default}});var s=n(5682),i=n(5004),a=n(9018),o=n(4568),c=n(2246);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=n(5958),p=n(1009),u=n(6049),h=n(985);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))});var d=n(8079);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var f=n(5279),m=n(2107),y=n(245),g=n(5299),T=n(2425),S=n(6211),b=n(2598),E=n(7932),x=n(5766),v=n(8125),P=n(5586),A=n(3437),w=n(7980);Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))});var C=n(3422);Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))});var I=n(7931),O=n(2234),_=n(5010),L=n(5398),N=n(6133),k=n(6744),R=n(2402),M=n(9198),D=n(4544),U=n(9793);Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===U[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return U[e]}}))});var F=n(4001),B=n(9564),j=n(6219),$=n(5333),V=n(7639),W=n(5237),K=n(1343),G=n(329),q=n(9420),z=n(5109),H=n(8119);Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===H[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return H[e]}}))});var Y=n(8943),J=n(6616),X=n(3828),Q=n(2687),Z=n(9127),ee=n(9722),te=n(3847),ne=n(3908),re=n(7003),se=n(3571),ie=n(7591),ae=n(9246),oe=n(2457),ce=n(2079),le=n(1384),pe=n(983),ue=n(499),he=n(4965),de=n(7446),fe=n(3937),me=n(8960);Object.keys(me).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===me[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return me[e]}}))});var ye=n(3762),ge=n(640);t.react={isReactComponent:s.default,isCompatTag:i.default,buildChildren:a.default},t.toSequenceExpression=ge.default,process.env.BABEL_TYPES_8_BREAKING&&console.warn("BABEL_TYPES_8_BREAKING is not supported anymore. Use the latest Babel 8.0.0 pre-release instead!")},2402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(8960),s=n(5279),i=n(7639);function a(e,t=e.key){let n;return"method"===e.kind?a.increment()+"":(n=(0,r.isIdentifier)(t)?t.name:(0,r.isStringLiteral)(t)?JSON.stringify(t.value):JSON.stringify((0,i.default)((0,s.default)(t))),e.computed&&(n=`[${n}]`),e.static&&(n=`static:${n}`),n)}a.uid=0,a.increment=function(){return a.uid>=Number.MAX_SAFE_INTEGER?a.uid=0:a.uid++}},2425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!1,!0)};var r=n(5279)},2428:(e,t,n)=>{var r=n(7534),s=n(346),i=Object.prototype,a=i.hasOwnProperty,o=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return s(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=c},2457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isImportDefaultSpecifier)(e)||(0,r.isIdentifier)(e.imported||e.exported,{name:"default"})};var r=n(8960)},2485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statements=t.statement=t.smart=t.program=t.expression=t.default=void 0;var r=n(826),s=n(4466);const i=t.smart=(0,s.default)(r.smart),a=t.statement=(0,s.default)(r.statement),o=t.statements=(0,s.default)(r.statements),c=t.expression=(0,s.default)(r.expression),l=t.program=(0,s.default)(r.program);t.default=Object.assign(i.bind(void 0),{smart:i,statement:a,statements:o,expression:c,program:l,ast:i.ast})},2507:(e,t,n)=>{var r=n(8754),s=n(9698),i=n(3912),a=n(3222);e.exports=function(e){return function(t){t=a(t);var n=s(t)?i(t):void 0,o=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return o[e]()+c}}},2523:e=>{e.exports=function(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}},2530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(i.path`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",s.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(i.path`/batches/${e}/cancel`,t)}}t.Batches=a},2552:(e,t,n)=>{var r=n(1873),s=n(659),i=n(9350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):i(e)}},2598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!n||!e)return e;const r=`${t}Comments`;return e[r]?"leading"===t?e[r]=n.concat(e[r]):e[r].push(...n):e[r]=n,e}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(6059)),a=n(6059),o=r.__importStar(n(1946)),c=n(1946),l=n(262),p=n(8868),u=n(4815);class h extends s.APIResource{constructor(){super(...arguments),this.runs=new o.Runs(this._client),this.messages=new i.Messages(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(u.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(u.path`/threads/${e}`,{body:t,...n,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t){return this._client.delete(u.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return p.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}t.Threads=h,h.Runs=c.Runs,h.Messages=a.Messages},2687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n&&"Identifier"===e.type&&"ObjectProperty"===t.type&&"ObjectExpression"===n.type)return!1;const s=r.default.keys[t.type];if(s)for(let n=0;n<s.length;n++){const r=t[s[n]];if(Array.isArray(r)){if(r.includes(e))return!0}else if(r===e)return!0}return!1};var r=n(329)},2716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodes=void 0;var r=n(2352);const{FLIPPED_ALIAS_KEYS:s,isArrayExpression:i,isAssignmentExpression:a,isBinary:o,isBlockStatement:c,isCallExpression:l,isFunction:p,isIdentifier:u,isLiteral:h,isMemberExpression:d,isObjectExpression:f,isOptionalCallExpression:m,isOptionalMemberExpression:y,isStringLiteral:g}=r;function T(e,t){return e?(d(e)||y(e)?(T(e.object,t),e.computed&&T(e.property,t)):o(e)||a(e)?(T(e.left,t),T(e.right,t)):l(e)||m(e)?(t.hasCall=!0,T(e.callee,t)):p(e)?t.hasFunction=!0:u(e)&&(t.hasHelper=t.hasHelper||e.callee&&b(e.callee)),t):t}function S(e){return T(e,{hasCall:!1,hasFunction:!1,hasHelper:!1})}function b(e){return!!e&&(d(e)?b(e.object)||b(e.property):u(e)?"require"===e.name||95===e.name.charCodeAt(0):l(e)?b(e.callee):!(!o(e)&&!a(e))&&(u(e.left)&&b(e.left)||b(e.right)))}function E(e){return h(e)||f(e)||i(e)||u(e)||d(e)}const x=t.nodes={AssignmentExpression(e){const t=S(e.right);return t.hasCall&&t.hasHelper||t.hasFunction?t.hasFunction?3:2:0},SwitchCase:(e,t)=>(e.consequent.length||t.cases[0]===e?1:0)|(e.consequent.length||t.cases[t.cases.length-1]!==e?0:2),LogicalExpression:e=>p(e.left)||p(e.right)?2:0,Literal:e=>g(e)&&"use strict"===e.value?2:0,CallExpression:e=>p(e.callee)||b(e)?3:0,OptionalCallExpression:e=>p(e.callee)?3:0,VariableDeclaration(e){for(let t=0;t<e.declarations.length;t++){const n=e.declarations[t];let r=b(n.id)&&!E(n.init);if(!r&&n.init){const e=S(n.init);r=b(n.init)&&e.hasCall||e.hasFunction}if(r)return 3}return 0},IfStatement:e=>c(e.consequent)?3:0};x.ObjectProperty=x.ObjectTypeProperty=x.ObjectMethod=function(e,t){return t.properties[0]===e?1:0},x.ObjectTypeCallProperty=function(e,t){var n;return t.callProperties[0]!==e||null!=(n=t.properties)&&n.length?0:1},x.ObjectTypeIndexer=function(e,t){var n,r;return t.indexers[0]!==e||null!=(n=t.properties)&&n.length||null!=(r=t.callProperties)&&r.length?0:1},x.ObjectTypeInternalSlot=function(e,t){var n,r,s;return t.internalSlots[0]!==e||null!=(n=t.properties)&&n.length||null!=(r=t.callProperties)&&r.length||null!=(s=t.indexers)&&s.length?0:1},[["Function",!0],["Class",!0],["Loop",!0],["LabeledStatement",!0],["SwitchStatement",!0],["TryStatement",!0]].forEach(function([e,t]){[e].concat(s[e]||[]).forEach(function(e){const n=t?3:0;x[e]=()=>n})})},2729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionSessions=void 0;const r=n(2040),s=n(262);class i extends r.APIResource{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.TranscriptionSessions=i},2749:(e,t,n)=>{var r=n(1042),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}},2773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=t.Completions=void 0;const r=n(9632);var s=n(3054);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return s.Completions}}),r.__exportStar(n(3054),t);var i=n(9501);Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return i.Messages}})},2802:function(e,t,n){var r;!function(e,t,n){"use strict";var r,s=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,p=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports},u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===n||i(e,s,{get:()=>t[s],enumerable:!(r=a(t,s))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),d=p({"umd:@jridgewell/sourcemap-codec"(e,t){t.exports=n}}),f=p({"umd:@jridgewell/resolve-uri"(e,n){n.exports=t}}),m={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(m,{AnyMap:()=>M,FlattenMap:()=>M,GREATEST_LOWER_BOUND:()=>W,LEAST_UPPER_BOUND:()=>V,TraceMap:()=>K,allGeneratedPositionsFor:()=>J,decodedMap:()=>ne,decodedMappings:()=>q,eachMapping:()=>X,encodedMap:()=>re,encodedMappings:()=>G,generatedPositionFor:()=>Y,isIgnored:()=>ee,originalPositionFor:()=>H,presortedDecodedMap:()=>te,sourceContentFor:()=>Z,traceSegment:()=>z}),e.exports=(r=m,u(i({},"__esModule",{value:!0}),r));var y=h(d()),g=h(f());var T=0,S=1,b=2,E=3,x=4,v=1,P=2;function A(e,t){for(let n=t;n<e.length;n++)if(!w(e[n]))return n;return e.length}function w(e){for(let t=1;t<e.length;t++)if(e[t][T]<e[t-1][T])return!1;return!0}function C(e,t){return t||(e=e.slice()),e.sort(I)}function I(e,t){return e[T]-t[T]}var O=!1;function _(e,t,n){for(let r=n+1;r<e.length&&e[r][T]===t;n=r++);return n}function L(e,t,n){for(let r=n-1;r>=0&&e[r][T]===t;n=r--);return n}function N(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function k(e,t,n,r){const{lastKey:s,lastNeedle:i,lastIndex:a}=n;let o=0,c=e.length-1;if(r===s){if(t===i)return O=-1!==a&&e[a][T]===t,a;t>=i?o=-1===a?0:a:c=a}return n.lastKey=r,n.lastNeedle=t,n.lastIndex=function(e,t,n,r){for(;n<=r;){const s=n+(r-n>>1),i=e[s][T]-t;if(0===i)return O=!0,s;i<0?n=s+1:r=s-1}return O=!1,n-1}(e,t,o,c)}function R(e){return"string"==typeof e?JSON.parse(e):e}var M=function(e,t){const n=R(e);if(!("sections"in n))return new K(n,t);const r=[],s=[],i=[],a=[],o=[];return D(n,t,r,s,i,a,o,0,0,1/0,1/0),te({version:3,file:n.file,names:a,sources:s,sourcesContent:i,mappings:r,ignoreList:o})};function D(e,t,n,r,s,i,a,o,c,l,p){const{sections:u}=e;for(let e=0;e<u.length;e++){const{map:h,offset:d}=u[e];let f=l,m=p;if(e+1<u.length){const t=u[e+1].offset;f=Math.min(l,o+t.line),f===l?m=Math.min(p,c+t.column):f<l&&(m=c+t.column)}U(h,t,n,r,s,i,a,o+d.line,c+d.column,f,m)}}function U(e,t,n,r,s,i,a,o,c,l,p){const u=R(e);if("sections"in u)return D(...arguments);const h=new K(u,t),d=r.length,f=i.length,m=q(h),{resolvedSources:y,sourcesContent:g,ignoreList:v}=h;if(F(r,y),F(i,h.names),g)F(s,g);else for(let e=0;e<y.length;e++)s.push(null);if(v)for(let e=0;e<v.length;e++)a.push(v[e]+d);for(let e=0;e<m.length;e++){const t=o+e;if(t>l)return;const r=B(n,t),s=0===e?c:0,i=m[e];for(let e=0;e<i.length;e++){const n=i[e],a=s+n[T];if(t===l&&a>=p)return;if(1===n.length){r.push([a]);continue}const o=d+n[S],c=n[b],u=n[E];r.push(4===n.length?[a,o,c,u]:[a,o,c,u,f+n[x]])}}}function F(e,t){for(let n=0;n<t.length;n++)e.push(t[n])}function B(e,t){for(let n=e.length;n<=t;n++)e[n]=[];return e[t]}var j="`line` must be greater than 0 (lines start at line 1)",$="`column` must be greater than or equal to 0 (columns start at column 0)",V=-1,W=1,K=class{constructor(e,t){const n="string"==typeof e;if(!n&&e._decodedMemo)return e;const r=R(e),{version:s,file:i,names:a,sourceRoot:o,sources:c,sourcesContent:l}=r;this.version=s,this.file=i,this.names=a||[],this.sourceRoot=o,this.sources=c,this.sourcesContent=l,this.ignoreList=r.ignoreList||r.x_google_ignoreList||void 0;const p=function(e,t){const n=function(e){if(!e)return"";const t=e.lastIndexOf("/");return e.slice(0,t+1)}(e),r=t?t+"/":"";return e=>(0,g.default)(r+(e||""),n)}(t,o);this.resolvedSources=c.map(p);const{mappings:u}=r;if("string"==typeof u)this._encoded=u,this._decoded=void 0;else{if(!Array.isArray(u))throw r.sections?new Error("TraceMap passed sectioned source map, please use FlattenMap export instead"):new Error(`invalid source map: ${JSON.stringify(r)}`);this._encoded=void 0,this._decoded=function(e,t){const n=A(e,0);if(n===e.length)return e;t||(e=e.slice());for(let r=n;r<e.length;r=A(e,r+1))e[r]=C(e[r],t);return e}(u,n)}this._decodedMemo={lastKey:-1,lastNeedle:-1,lastIndex:-1},this._bySources=void 0,this._bySourceMemos=void 0}};function G(e){var t,n;return null!=(n=(t=e)._encoded)?n:t._encoded=(0,y.encode)(e._decoded)}function q(e){var t;return(t=e)._decoded||(t._decoded=(0,y.decode)(e._encoded))}function z(e,t,n){const r=q(e);if(t>=r.length)return null;const s=r[t],i=oe(s,e._decodedMemo,t,n,W);return-1===i?null:s[i]}function H(e,t){let{line:n,column:r,bias:s}=t;if(n--,n<0)throw new Error(j);if(r<0)throw new Error($);const i=q(e);if(n>=i.length)return ie(null,null,null,null);const a=i[n],o=oe(a,e._decodedMemo,n,r,s||W);if(-1===o)return ie(null,null,null,null);const c=a[o];if(1===c.length)return ie(null,null,null,null);const{names:l,resolvedSources:p}=e;return ie(p[c[S]],c[b]+1,c[E],5===c.length?l[c[x]]:null)}function Y(e,t){const{source:n,line:r,column:s,bias:i}=t;return ce(e,n,r,s,i||W,!1)}function J(e,t){const{source:n,line:r,column:s,bias:i}=t;return ce(e,n,r,s,i||V,!0)}function X(e,t){const n=q(e),{names:r,resolvedSources:s}=e;for(let e=0;e<n.length;e++){const i=n[e];for(let n=0;n<i.length;n++){const a=i[n],o=e+1,c=a[0];let l=null,p=null,u=null,h=null;1!==a.length&&(l=s[a[1]],p=a[2]+1,u=a[3]),5===a.length&&(h=r[a[4]]),t({generatedLine:o,generatedColumn:c,source:l,originalLine:p,originalColumn:u,name:h})}}}function Q(e,t){const{sources:n,resolvedSources:r}=e;let s=n.indexOf(t);return-1===s&&(s=r.indexOf(t)),s}function Z(e,t){const{sourcesContent:n}=e;if(null==n)return null;const r=Q(e,t);return-1===r?null:n[r]}function ee(e,t){const{ignoreList:n}=e;if(null==n)return!1;const r=Q(e,t);return-1!==r&&n.includes(r)}function te(e,t){const n=new K(se(e,[]),t);return n._decoded=e.mappings,n}function ne(e){return se(e,q(e))}function re(e){return se(e,G(e))}function se(e,t){return{version:e.version,file:e.file,names:e.names,sourceRoot:e.sourceRoot,sources:e.sources,sourcesContent:e.sourcesContent,mappings:t,ignoreList:e.ignoreList||e.x_google_ignoreList}}function ie(e,t,n,r){return{source:e,line:t,column:n,name:r}}function ae(e,t){return{line:e,column:t}}function oe(e,t,n,r,s){let i=k(e,r,t,n);return O?i=(s===V?_:L)(e,r,i):s===V&&i++,-1===i||i===e.length?-1:i}function ce(e,t,n,r,s,i){var a,o;if(--n<0)throw new Error(j);if(r<0)throw new Error($);const{sources:c,resolvedSources:l}=e;let p=c.indexOf(t);if(-1===p&&(p=l.indexOf(t)),-1===p)return i?[]:ae(null,null);const u=(a=e)._bySourceMemos||(a._bySourceMemos=c.map(N)),h=((o=e)._bySources||(o._bySources=function(e,t){const n=t.map(()=>[]);for(let t=0;t<e.length;t++){const r=e[t];for(let e=0;e<r.length;e++){const s=r[e];if(1===s.length)continue;const i=s[S],a=s[b],o=s[E],c=n[i];(c[a]||(c[a]=[])).push([o,t,s[T]])}}for(let e=0;e<n.length;e++){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e];n&&n.sort(I)}}return n}(q(e),u)))[p][n];if(null==h)return i?[]:ae(null,null);const d=u[p];if(i)return function(e,t,n,r,s){let i=oe(e,t,n,r,W);if(O||s!==V||i++,-1===i||i===e.length)return[];const a=O?r:e[i][T];O||(i=L(e,a,i));const o=_(e,a,i),c=[];for(;i<=o;i++){const t=e[i];c.push(ae(t[v]+1,t[P]))}return c}(h,d,n,r,s);const f=oe(h,d,n,r,s);if(-1===f)return ae(null,null);const m=h[f];return ae(m[v]+1,m[P])}}(e=n.nmd(e),n(4424),n(4318)),e.exports="default"in(r=e).exports?r.exports.default:r.exports},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},2861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowFunctionExpression=function(e,t){e.async&&(this.word("async",!0),this.space()),this._shouldPrintArrowParamsParens(e)?this._params(e,void 0,t):this.print(e.params[0],!0),this._predicate(e,!0),this.space(),this.printInnerComments(),this.token("=>"),this.space(),this.tokenContext|=s.TokenContext.arrowBody,this.print(e.body)},t.FunctionDeclaration=t.FunctionExpression=function(e,t){this._functionHead(e,t),this.space(),this.print(e.body)},t._functionHead=function(e,t){e.async&&(this.word("async"),this.format.preserveFormat||(this._endsWithInnerRaw=!1),this.space()),this.word("function"),e.generator&&(this.format.preserveFormat||(this._endsWithInnerRaw=!1),this.tokenChar(42)),this.space(),e.id&&this.print(e.id),this._params(e,e.id,t),"TSDeclareFunction"!==e.type&&this._predicate(e)},t._methodHead=function(e){const t=e.kind,n=e.key;"get"!==t&&"set"!==t||(this.word(t),this.space()),e.async&&(this.word("async",!0),this.space()),"method"!==t&&"init"!==t||e.generator&&this.tokenChar(42),e.computed?(this.tokenChar(91),this.print(n),this.tokenChar(93)):this.print(n),e.optional&&this.tokenChar(63),this._params(e,e.computed&&"StringLiteral"!==e.key.type?void 0:e.key)},t._param=function(e){this.printJoin(e.decorators),this.print(e),e.optional&&this.tokenChar(63),this.print(e.typeAnnotation)},t._parameters=function(e,t){const n=this.enterDelimited(),r=this.shouldPrintTrailingComma(t),s=e.length;for(let t=0;t<s;t++)this._param(e[t]),(r||t<s-1)&&(this.token(",",void 0,t),this.space());this.token(t),n()},t._params=function(e,t,n){this.print(e.typeParameters);const r=a.call(this,t,n);r&&this.sourceIdentifierName(r.name,r.pos),this.tokenChar(40),this._parameters(e.params,")");const s="ArrowFunctionExpression"===e.type;this.print(e.returnType,s),this._noLineTerminator=s},t._predicate=function(e,t){e.predicate&&(e.returnType||this.tokenChar(58),this.space(),this.print(e.predicate,t))},t._shouldPrintArrowParamsParens=function(e){var t,n;if(1!==e.params.length)return!0;if(e.typeParameters||e.returnType||e.predicate)return!0;const r=e.params[0];if(!i(r)||r.typeAnnotation||r.optional||null!=(t=r.leadingComments)&&t.length||null!=(n=r.trailingComments)&&n.length)return!0;if(this.tokenMap){if(null==e.loc)return!0;if(null!==this.tokenMap.findMatching(e,"("))return!0;const t=this.tokenMap.findMatching(e,"=>");return null==(null==t?void 0:t.loc)||t.loc.start.line!==e.loc.start.line}return!!this.format.retainLines};var r=n(2352),s=n(1373);const{isIdentifier:i}=r;function a(e,t){let n,r=e;if(!r&&t){const e=t.type;"VariableDeclarator"===e?r=t.id:"AssignmentExpression"===e||"AssignmentPattern"===e?r=t.left:"ObjectProperty"===e||"ClassProperty"===e?t.computed&&"StringLiteral"!==t.key.type||(r=t.key):"ClassPrivateProperty"!==e&&"ClassAccessorProperty"!==e||(r=t.key)}if(r){var s,i;if("Identifier"===r.type)n={pos:null==(s=r.loc)?void 0:s.start,name:(null==(i=r.loc)?void 0:i.identifierName)||r.name};else if("PrivateName"===r.type){var a;n={pos:null==(a=r.loc)?void 0:a.start,name:"#"+r.id.name}}else if("StringLiteral"===r.type){var o;n={pos:null==(o=r.loc)?void 0:o.start,name:r.value}}return n}}},2882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8991),s=n(5879),i=n(1e3);const a=(e,t)=>n=>e(t(n));function o(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:a(a(e.white,e.bgRed),e.bold),gutter:e.gray,marker:a(e.red,e.bold),message:a(e.red,e.bold),reset:e.reset}}const c=o(r.createColors(!0)),l=o(r.createColors(!1));function p(e){return e?c:l}const u=new Set(["as","async","from","get","of","set"]),h=/\r\n|[\n\r\u2028\u2029]/,d=/^[()[\]{}]$/;let f;{const e=/^[a-z][\w-]*$/i,t=function(t,n,r){if("name"===t.type){if(i.isKeyword(t.value)||i.isStrictReservedWord(t.value,!0)||u.has(t.value))return"keyword";if(e.test(t.value)&&("<"===r[n-1]||"</"===r.slice(n-2,n)))return"jsxIdentifier";if(t.value[0]!==t.value[0].toLowerCase())return"capitalized"}return"punctuator"===t.type&&d.test(t.value)?"bracket":"invalid"!==t.type||"@"!==t.value&&"#"!==t.value?t.type:"punctuator"};f=function*(e){let n;for(;n=s.default.exec(e);){const r=s.matchToToken(n);yield{type:t(r,n.index,e),value:r.value}}}}function m(e){if(""===e)return"";const t=p(!0);let n="";for(const{type:r,value:s}of f(e))n+=r in t?s.split(h).map(e=>t[r](e)).join("\n"):s;return n}let y=!1;const g=/\r\n|[\n\r\u2028\u2029]/;function T(e,t,n={}){const s=n.forceColor||("object"!=typeof process||"0"!==process.env.FORCE_COLOR&&"false"!==process.env.FORCE_COLOR)&&r.isColorSupported&&n.highlightCode,i=p(s),a=e.split(g),{start:o,end:c,markerLines:l}=function(e,t,n){const r=Object.assign({column:0,line:-1},e.start),s=Object.assign({},r,e.end),{linesAbove:i=2,linesBelow:a=3}=n||{},o=r.line,c=r.column,l=s.line,p=s.column;let u=Math.max(o-(i+1),0),h=Math.min(t.length,l+a);-1===o&&(u=0),-1===l&&(h=t.length);const d=l-o,f={};if(d)for(let e=0;e<=d;e++){const n=e+o;if(c)if(0===e){const e=t[n-1].length;f[n]=[c,e-c+1]}else if(e===d)f[n]=[0,p];else{const r=t[n-e].length;f[n]=[0,r]}else f[n]=!0}else f[o]=c===p?!c||[c,0]:[c,p-c];return{start:u,end:h,markerLines:f}}(t,a,n),u=t.start&&"number"==typeof t.start.column,h=String(c).length;let d=(s?m(e):e).split(g,c).slice(o,c).map((e,t)=>{const r=o+1+t,s=` ${` ${r}`.slice(-h)} |`,a=l[r],c=!l[r+1];if(a){let t="";if(Array.isArray(a)){const r=e.slice(0,Math.max(a[0]-1,0)).replace(/[^\t]/g," "),o=a[1]||1;t=["\n ",i.gutter(s.replace(/\d/g," "))," ",r,i.marker("^").repeat(o)].join(""),c&&n.message&&(t+=" "+i.message(n.message))}return[i.marker(">"),i.gutter(s),e.length>0?` ${e}`:"",t].join("")}return` ${i.gutter(s)}${e.length>0?` ${e}`:""}`}).join("\n");return n.message&&!u&&(d=`${" ".repeat(h+1)}${n.message}\n${d}`),s?i.reset(d):d}t.codeFrameColumns=T,t.default=function(e,t,n,r={}){if(!y){y=!0;const e="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";process.emitWarning?process.emitWarning(e,"DeprecationWarning"):(new Error(e).name="DeprecationWarning",console.warn(new Error(e)))}return T(e,{start:{column:n=Math.max(n,0),line:t}},r)},t.highlight=m},2921:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentationAgent=void 0,t.getDocumentationAgent=function(){return u||(u=new p),u};const c=a(n(1398)),l=o(n(2012));class p{client=null;isInitialized=!1;model="gpt-4o-mini";constructor(){this.initialize()}initialize(){const e=c.workspace.getConfiguration("codebaseVisualizer"),t=e.get("litellm.apiKey")||process.env.OPENAI_API_KEY||"",n=e.get("litellm.baseUrl")||process.env.OPENAI_API_BASE;if(this.model=e.get("litellm.model")||"gpt-4o-mini",t)try{this.client=new l.default({apiKey:t,baseURL:n||void 0}),this.isInitialized=!0,console.log("DocumentationAgent initialized with model:",this.model)}catch(e){console.error("Failed to initialize DocumentationAgent:",e),this.isInitialized=!1}}reinitialize(){this.initialize()}isReady(){return this.isInitialized&&null!==this.client}async generateDocumentation(e,t,n,r="developer"){if(!this.isReady())throw new Error("Documentation Agent is not initialized. Please configure API key.");let s={node:e,edges:t,allNodes:n,persona:r,currentStep:"analyze_code",errors:[]};try{if(s=await this.analyzeCode(s),s=await this.mapDependencies(s),s=await this.analyzeArchitecture(s),s=await this.generateDocs(s),!s.documentation)throw new Error("Documentation generation failed");return s.documentation}catch(e){throw console.error("Agent workflow error:",e),e}}async callLLM(e,t){if(!this.client)throw new Error("OpenAI client not initialized");const n=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:e},{role:"user",content:t}],temperature:.3,max_tokens:2e3});return n.choices[0]?.message?.content||""}parseJSON(e,t){try{const t=e.match(/\{[\s\S]*\}/);if(t)return JSON.parse(t[0])}catch(e){console.error("Failed to parse JSON from LLM response:",e)}return t}async analyzeCode(e){const{node:t}=e,n=`Analyze this ${t.language} code and provide insights.\n\nCode:\n\`\`\`${t.language}\n${t.sourceCode?.substring(0,3e3)||"// No source code available"}\n\`\`\`\n\nFile: ${t.label}\nType: ${t.type}\n\nRespond with JSON:\n{\n  "purpose": "one sentence describing what this code does",\n  "keyFeatures": ["feature1", "feature2"],\n  "complexity": "low" | "medium" | "high",\n  "patterns": ["pattern names used like 'Observer', 'Factory', 'Hooks', etc."],\n  "codeSmells": ["any issues or improvements needed, or empty array if clean"]\n}`;try{const t=await this.callLLM("You are a code analysis expert. Respond only with valid JSON.",n);e.codeAnalysis=this.parseJSON(t,{purpose:"Unable to analyze code",keyFeatures:[],complexity:"medium",patterns:[],codeSmells:[]})}catch(n){e.errors.push(`Code analysis failed: ${n}`),e.codeAnalysis={purpose:t.documentation?.summary||"Unable to analyze code",keyFeatures:[],complexity:"medium",patterns:[],codeSmells:[]}}return e.currentStep="map_dependencies",e}async mapDependencies(e){const{node:t,edges:n,allNodes:r}=e,s=n.filter(e=>e.from===t.filePath).map(e=>{const t=r.find(t=>t.filePath===e.to);return t?.label||e.to}),i=n.filter(e=>e.to===t.filePath).map(e=>{const t=r.find(t=>t.filePath===e.from);return t?.label||e.from}),a=`Analyze the dependencies for this component.\n\nComponent: ${t.label}\nType: ${t.type}\n\nImports (this component uses):\n${s.join("\n")||"None"}\n\nDependents (these components use this):\n${i.join("\n")||"None"}\n\nRespond with JSON:\n{\n  "imports": [{"name": "ImportName", "purpose": "why it's imported"}],\n  "exports": [{"name": "ExportName", "usedBy": ["Component1", "Component2"]}],\n  "dependencyGraph": "A brief text description of how this fits in the dependency graph"\n}`;try{const n=await this.callLLM("You are a dependency analysis expert. Respond only with valid JSON.",a);e.dependencyMap=this.parseJSON(n,{imports:s.map(e=>({name:e,purpose:"imported"})),exports:[{name:t.label,usedBy:i}],dependencyGraph:`${t.label} imports ${s.length} modules and is used by ${i.length} components.`})}catch(n){e.errors.push(`Dependency mapping failed: ${n}`),e.dependencyMap={imports:s.map(e=>({name:e,purpose:"imported"})),exports:[{name:t.label,usedBy:i}],dependencyGraph:`${t.label} imports ${s.length} modules and is used by ${i.length} components.`}}return e.currentStep="analyze_architecture",e}async analyzeArchitecture(e){const{node:t,codeAnalysis:n,dependencyMap:r}=e,s=`Analyze the architectural role of this component.\n\nComponent: ${t.label}\nType: ${t.type}\nLanguage: ${t.language}\n\nCode Analysis:\n${JSON.stringify(n,null,2)}\n\nDependencies:\n${JSON.stringify(r,null,2)}\n\nRespond with JSON:\n{\n  "role": "The role this component plays (e.g., 'Service Layer', 'UI Component', 'Utility')",\n  "layer": "The architectural layer (e.g., 'Presentation', 'Business Logic', 'Data Access')",\n  "designPatterns": ["patterns used"],\n  "responsibilities": ["key responsibilities"],\n  "collaborators": ["other components it works closely with"]\n}`;try{const r=await this.callLLM("You are a software architecture expert. Respond only with valid JSON.",s);e.architectureInsights=this.parseJSON(r,{role:t.type,layer:"Unknown",designPatterns:n?.patterns||[],responsibilities:n?.keyFeatures||[],collaborators:[]})}catch(r){e.errors.push(`Architecture analysis failed: ${r}`),e.architectureInsights={role:t.type,layer:"Unknown",designPatterns:n?.patterns||[],responsibilities:n?.keyFeatures||[],collaborators:[]}}return e.currentStep="generate_docs",e}async generateDocs(e){const{node:t,codeAnalysis:n,architectureInsights:r,dependencyMap:s,persona:i}=e,a=`Generate comprehensive documentation for this component.\n\nComponent: ${t.label}\nType: ${t.type}\nLanguage: ${t.language}\n\nCode Analysis:\n${JSON.stringify(n,null,2)}\n\nArchitecture Insights:\n${JSON.stringify(r,null,2)}\n\nDependencies:\n${JSON.stringify(s,null,2)}\n\nGenerate documentation for different personas. The current target persona is: ${i}\n\nRespond with JSON:\n{\n  "summary": "A concise 1-2 sentence summary",\n  "description": "A detailed paragraph describing what this component does, why it exists, and how it works",\n  "technicalDetails": "Technical implementation details for developers",\n  "usageExamples": ["Example 1 showing how to use this", "Example 2"],\n  "personaSpecific": {\n    "developer": "Technical details and implementation notes for developers",\n    "architect": "Architectural decisions, patterns, and system integration details",\n    "product-manager": "Business value, features enabled, and user-facing functionality",\n    "business-analyst": "Simple explanation suitable for onboarding, with context about how this fits in the codebase"\n  },\n  "keywords": ["keyword1", "keyword2", "for search indexing"]\n}`;try{const s=await this.callLLM("You are a technical documentation expert. Respond only with valid JSON.",a);e.documentation=this.parseJSON(s,{summary:n?.purpose||t.documentation?.summary||`${t.label} - ${t.type}`,description:`${t.label} is a ${t.type} in ${t.language}.`,technicalDetails:n?.keyFeatures?.join(", ")||"",usageExamples:[],personaSpecific:{developer:n?.purpose||"",architect:r?.role||"","product-manager":`${t.label} provides functionality for the system.`,"business-analyst":`${t.label} is a ${t.type} that ${n?.purpose||"is part of the codebase"}.`},keywords:[t.type,t.language,...n?.patterns||[]]})}catch(s){e.errors.push(`Documentation generation failed: ${s}`),e.documentation={summary:n?.purpose||t.documentation?.summary||`${t.label} - ${t.type}`,description:`${t.label} is a ${t.type} in ${t.language}.`,technicalDetails:n?.keyFeatures?.join(", ")||"",usageExamples:[],personaSpecific:{developer:n?.purpose||"",architect:r?.role||"","product-manager":`${t.label} provides functionality for the system.`,"business-analyst":`${t.label} is a ${t.type}.`},keywords:[t.type,t.language]}}return e.currentStep="complete",e}}t.DocumentationAgent=p;let u=null},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}},2951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Calls=void 0;const r=n(2040),s=n(262),i=n(4815);class a extends r.APIResource{accept(e,t,n){return this._client.post(i.path`/realtime/calls/${e}/accept`,{body:t,...n,headers:(0,s.buildHeaders)([{Accept:"*/*"},n?.headers])})}hangup(e,t){return this._client.post(i.path`/realtime/calls/${e}/hangup`,{...t,headers:(0,s.buildHeaders)([{Accept:"*/*"},t?.headers])})}refer(e,t,n){return this._client.post(i.path`/realtime/calls/${e}/refer`,{body:t,...n,headers:(0,s.buildHeaders)([{Accept:"*/*"},n?.headers])})}reject(e,t={},n){return this._client.post(i.path`/realtime/calls/${e}/reject`,{body:t,...n,headers:(0,s.buildHeaders)([{Accept:"*/*"},n?.headers])})}}t.Calls=a},2964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assistants=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4815);class o extends r.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(a.path`/assistants/${e}`,{...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(a.path`/assistants/${e}`,{body:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",s.CursorPage,{query:e,...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(a.path`/assistants/${e}`,{...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Assistants=o},3017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uploads=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(3061)),a=n(3061),o=n(4815);class c extends s.APIResource{constructor(){super(...arguments),this.parts=new i.Parts(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(o.path`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(o.path`/uploads/${e}/complete`,{body:t,...n})}}t.Uploads=c,c.Parts=a.Parts},3019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const r=(0,i.explode)(t);if(r.enter||r.exit)throw new Error("Should not be used with enter/exit visitors.");!function e(t,i,c,l,p,u,h,d){if(!c)return;const f=d||s.NodePath.get({hub:h,parentPath:t,parent:i,container:l,listKey:u,key:p});a.setScope.call(f);const m=r[c.type];if(m){if(m.enter)for(const e of m.enter)e.call(n,f,n);if(m.exit)for(const e of m.exit)e.call(n,f,n)}if(f.shouldSkip)return;const y=o[c.type];if(null!=y&&y.length)for(const t of y){const n=c[t];if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++)e(f,c,n[r],n,r,t);else e(f,c,n,c,t,null)}}(e.parentPath,e.parent,e.node,e.container,e.key,e.listKey,e.hub,e)};var r=n(2352),s=n(5781),i=n(4950),a=n(9578);const{VISITOR_KEYS:o}=r},3040:(e,t,n)=>{var r=n(1549),s=n(79),i=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||s),string:new r}}},3043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.value.split(/\r\n|\n|\r/);let i=0;for(let e=0;e<n.length;e++)/[^ \t]/.exec(n[e])&&(i=e);let a="";for(let e=0;e<n.length;e++){const t=n[e],r=0===e,s=e===n.length-1,o=e===i;let c=t.replace(/\t/g," ");r||(c=c.replace(/^ +/,"")),s||(c=c.replace(/ +$/,"")),c&&(o||(c+=" "),a+=c)}a&&t.push((0,s.inherits)((0,r.stringLiteral)(a),e))};var r=n(8079),s=n(2352)},3054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=t.ChatCompletionStream=t.ParsingToolFunction=t.ChatCompletionStreamingRunner=t.Completions=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(9501)),a=n(9501),o=n(5552),c=n(4815),l=n(4648),p=n(7730),u=n(5126),h=n(3357);class d extends s.APIResource{constructor(){super(...arguments),this.messages=new i.Messages(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(c.path`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(c.path`/chat/completions/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/chat/completions",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/chat/completions/${e}`,t)}parse(e,t){return(0,h.validateInputTools)(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(t=>(0,h.parseChatCompletion)(t,e))}runTools(e,t){return e.stream?p.ChatCompletionStreamingRunner.runTools(this._client,e,t):l.ChatCompletionRunner.runTools(this._client,e,t)}stream(e,t){return u.ChatCompletionStream.createChatCompletion(this._client,e,t)}}t.Completions=d;var f=n(7730);Object.defineProperty(t,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return f.ChatCompletionStreamingRunner}});var m=n(4691);Object.defineProperty(t,"ParsingToolFunction",{enumerable:!0,get:function(){return m.ParsingToolFunction}});var y=n(5126);Object.defineProperty(t,"ChatCompletionStream",{enumerable:!0,get:function(){return y.ChatCompletionStream}});var g=n(4648);Object.defineProperty(t,"ChatCompletionRunner",{enumerable:!0,get:function(){return g.ChatCompletionRunner}}),d.Messages=a.Messages},3061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parts=void 0;const r=n(2040),s=n(2018),i=n(4815);class a extends r.APIResource{create(e,t,n){return this._client.post(i.path`/uploads/${e}/parts`,(0,s.multipartFormRequestOptions)({body:t,...n},this._client))}}t.Parts=a},3097:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._assertUnremoved=f,t._callRemovalHooks=u,t._markRemoved=d,t._remove=h,t._removeFromScope=p,t.remove=function(){var e;f.call(this),l.resync.call(this),u.call(this)||(null!=(e=this.opts)&&e.noScope||p.call(this),this.shareCommentsWithSiblings(),h.call(this)),d.call(this)};var r=n(7860),s=n(7411),i=n(2037),a=n(9709),o=n(2352),c=n(8345),l=n(9578);function p(){const e=o.getBindingIdentifiers(this.node,!1,!1,!0);Object.keys(e).forEach(e=>this.scope.removeBinding(e))}function u(){if(this.parentPath)for(const e of r.hooks)if(e(this,this.parentPath))return!0}function h(){Array.isArray(this.container)?(this.container.splice(this.key,1),c.updateSiblingKeys.call(this,this.key,-1)):i._replaceWith.call(this,null)}function d(){var e;this._traverseFlags|=a.SHOULD_SKIP|a.REMOVED,this.parent&&(null==(e=(0,s.getCachedPaths)(this))||e.delete(this.node)),this.node=null}function f(){if(this.removed)throw this.buildCodeFrameError("NodePath has been removed so is read-only.")}},3115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=function(e){return n.has(e)},t.isReservedWord=i,t.isStrictBindOnlyReservedWord=o,t.isStrictBindReservedWord=function(e,t){return a(e,t)||o(e)},t.isStrictReservedWord=a;const n=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),r=new Set(["implements","interface","let","package","private","protected","public","static","yield"]),s=new Set(["eval","arguments"]);function i(e,t){return t&&"await"===e||"enum"===e}function a(e,t){return i(e,t)||r.has(e)}function o(e){return s.has(e)}},3141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnionType=function(e){return e.every(e=>o(e))?s?s(e):a(e):e.every(e=>c(e))&&i?i(e):void 0};var r=n(2352);const{createFlowUnionType:s,createTSUnionType:i,createUnionTypeAnnotation:a,isFlowType:o,isTSType:c}=r},3205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){t&&n&&(t[e]=Array.from(new Set([].concat(t[e],n[e]).filter(Boolean))))}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},3286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anyTypeAnnotation=function(){return{type:"AnyTypeAnnotation"}},t.argumentPlaceholder=function(){return{type:"ArgumentPlaceholder"}},t.arrayExpression=function(e=[]){const t={type:"ArrayExpression",elements:e},n=o.ArrayExpression;return a(n.elements,t,"elements",e,1),t},t.arrayPattern=function(e){const t={type:"ArrayPattern",elements:e},n=o.ArrayPattern;return a(n.elements,t,"elements",e,1),t},t.arrayTypeAnnotation=function(e){const t={type:"ArrayTypeAnnotation",elementType:e},n=o.ArrayTypeAnnotation;return a(n.elementType,t,"elementType",e,1),t},t.arrowFunctionExpression=function(e,t,n=!1){const r={type:"ArrowFunctionExpression",params:e,body:t,async:n,expression:null},s=o.ArrowFunctionExpression;return a(s.params,r,"params",e,1),a(s.body,r,"body",t,1),a(s.async,r,"async",n),r},t.assignmentExpression=function(e,t,n){const r={type:"AssignmentExpression",operator:e,left:t,right:n},s=o.AssignmentExpression;return a(s.operator,r,"operator",e),a(s.left,r,"left",t,1),a(s.right,r,"right",n,1),r},t.assignmentPattern=function(e,t){const n={type:"AssignmentPattern",left:e,right:t},r=o.AssignmentPattern;return a(r.left,n,"left",e,1),a(r.right,n,"right",t,1),n},t.awaitExpression=function(e){const t={type:"AwaitExpression",argument:e},n=o.AwaitExpression;return a(n.argument,t,"argument",e,1),t},t.bigIntLiteral=function(e){"bigint"==typeof e&&(e=e.toString());const t={type:"BigIntLiteral",value:e},n=o.BigIntLiteral;return a(n.value,t,"value",e),t},t.binaryExpression=function(e,t,n){const r={type:"BinaryExpression",operator:e,left:t,right:n},s=o.BinaryExpression;return a(s.operator,r,"operator",e),a(s.left,r,"left",t,1),a(s.right,r,"right",n,1),r},t.bindExpression=function(e,t){const n={type:"BindExpression",object:e,callee:t},r=o.BindExpression;return a(r.object,n,"object",e,1),a(r.callee,n,"callee",t,1),n},t.blockStatement=function(e,t=[]){const n={type:"BlockStatement",body:e,directives:t},r=o.BlockStatement;return a(r.body,n,"body",e,1),a(r.directives,n,"directives",t,1),n},t.booleanLiteral=function(e){const t={type:"BooleanLiteral",value:e},n=o.BooleanLiteral;return a(n.value,t,"value",e),t},t.booleanLiteralTypeAnnotation=function(e){const t={type:"BooleanLiteralTypeAnnotation",value:e},n=o.BooleanLiteralTypeAnnotation;return a(n.value,t,"value",e),t},t.booleanTypeAnnotation=function(){return{type:"BooleanTypeAnnotation"}},t.breakStatement=function(e=null){const t={type:"BreakStatement",label:e},n=o.BreakStatement;return a(n.label,t,"label",e,1),t},t.callExpression=function(e,t){const n={type:"CallExpression",callee:e,arguments:t},r=o.CallExpression;return a(r.callee,n,"callee",e,1),a(r.arguments,n,"arguments",t,1),n},t.catchClause=function(e=null,t){const n={type:"CatchClause",param:e,body:t},r=o.CatchClause;return a(r.param,n,"param",e,1),a(r.body,n,"body",t,1),n},t.classAccessorProperty=function(e,t=null,n=null,r=null,s=!1,i=!1){const c={type:"ClassAccessorProperty",key:e,value:t,typeAnnotation:n,decorators:r,computed:s,static:i},l=o.ClassAccessorProperty;return a(l.key,c,"key",e,1),a(l.value,c,"value",t,1),a(l.typeAnnotation,c,"typeAnnotation",n,1),a(l.decorators,c,"decorators",r,1),a(l.computed,c,"computed",s),a(l.static,c,"static",i),c},t.classBody=function(e){const t={type:"ClassBody",body:e},n=o.ClassBody;return a(n.body,t,"body",e,1),t},t.classDeclaration=function(e=null,t=null,n,r=null){const s={type:"ClassDeclaration",id:e,superClass:t,body:n,decorators:r},i=o.ClassDeclaration;return a(i.id,s,"id",e,1),a(i.superClass,s,"superClass",t,1),a(i.body,s,"body",n,1),a(i.decorators,s,"decorators",r,1),s},t.classExpression=function(e=null,t=null,n,r=null){const s={type:"ClassExpression",id:e,superClass:t,body:n,decorators:r},i=o.ClassExpression;return a(i.id,s,"id",e,1),a(i.superClass,s,"superClass",t,1),a(i.body,s,"body",n,1),a(i.decorators,s,"decorators",r,1),s},t.classImplements=function(e,t=null){const n={type:"ClassImplements",id:e,typeParameters:t},r=o.ClassImplements;return a(r.id,n,"id",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.classMethod=function(e="method",t,n,r,s=!1,i=!1,c=!1,l=!1){const p={type:"ClassMethod",kind:e,key:t,params:n,body:r,computed:s,static:i,generator:c,async:l},u=o.ClassMethod;return a(u.kind,p,"kind",e),a(u.key,p,"key",t,1),a(u.params,p,"params",n,1),a(u.body,p,"body",r,1),a(u.computed,p,"computed",s),a(u.static,p,"static",i),a(u.generator,p,"generator",c),a(u.async,p,"async",l),p},t.classPrivateMethod=function(e="method",t,n,r,s=!1){const i={type:"ClassPrivateMethod",kind:e,key:t,params:n,body:r,static:s},c=o.ClassPrivateMethod;return a(c.kind,i,"kind",e),a(c.key,i,"key",t,1),a(c.params,i,"params",n,1),a(c.body,i,"body",r,1),a(c.static,i,"static",s),i},t.classPrivateProperty=function(e,t=null,n=null,r=!1){const s={type:"ClassPrivateProperty",key:e,value:t,decorators:n,static:r},i=o.ClassPrivateProperty;return a(i.key,s,"key",e,1),a(i.value,s,"value",t,1),a(i.decorators,s,"decorators",n,1),a(i.static,s,"static",r),s},t.classProperty=function(e,t=null,n=null,r=null,s=!1,i=!1){const c={type:"ClassProperty",key:e,value:t,typeAnnotation:n,decorators:r,computed:s,static:i},l=o.ClassProperty;return a(l.key,c,"key",e,1),a(l.value,c,"value",t,1),a(l.typeAnnotation,c,"typeAnnotation",n,1),a(l.decorators,c,"decorators",r,1),a(l.computed,c,"computed",s),a(l.static,c,"static",i),c},t.conditionalExpression=function(e,t,n){const r={type:"ConditionalExpression",test:e,consequent:t,alternate:n},s=o.ConditionalExpression;return a(s.test,r,"test",e,1),a(s.consequent,r,"consequent",t,1),a(s.alternate,r,"alternate",n,1),r},t.continueStatement=function(e=null){const t={type:"ContinueStatement",label:e},n=o.ContinueStatement;return a(n.label,t,"label",e,1),t},t.debuggerStatement=function(){return{type:"DebuggerStatement"}},t.decimalLiteral=function(e){const t={type:"DecimalLiteral",value:e},n=o.DecimalLiteral;return a(n.value,t,"value",e),t},t.declareClass=function(e,t=null,n=null,r){const s={type:"DeclareClass",id:e,typeParameters:t,extends:n,body:r},i=o.DeclareClass;return a(i.id,s,"id",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.extends,s,"extends",n,1),a(i.body,s,"body",r,1),s},t.declareExportAllDeclaration=function(e,t=null){const n={type:"DeclareExportAllDeclaration",source:e,attributes:t},r=o.DeclareExportAllDeclaration;return a(r.source,n,"source",e,1),a(r.attributes,n,"attributes",t,1),n},t.declareExportDeclaration=function(e=null,t=null,n=null,r=null){const s={type:"DeclareExportDeclaration",declaration:e,specifiers:t,source:n,attributes:r},i=o.DeclareExportDeclaration;return a(i.declaration,s,"declaration",e,1),a(i.specifiers,s,"specifiers",t,1),a(i.source,s,"source",n,1),a(i.attributes,s,"attributes",r,1),s},t.declareFunction=function(e){const t={type:"DeclareFunction",id:e},n=o.DeclareFunction;return a(n.id,t,"id",e,1),t},t.declareInterface=function(e,t=null,n=null,r){const s={type:"DeclareInterface",id:e,typeParameters:t,extends:n,body:r},i=o.DeclareInterface;return a(i.id,s,"id",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.extends,s,"extends",n,1),a(i.body,s,"body",r,1),s},t.declareModule=function(e,t,n=null){const r={type:"DeclareModule",id:e,body:t,kind:n},s=o.DeclareModule;return a(s.id,r,"id",e,1),a(s.body,r,"body",t,1),a(s.kind,r,"kind",n),r},t.declareModuleExports=function(e){const t={type:"DeclareModuleExports",typeAnnotation:e},n=o.DeclareModuleExports;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.declareOpaqueType=function(e,t=null,n=null){const r={type:"DeclareOpaqueType",id:e,typeParameters:t,supertype:n},s=o.DeclareOpaqueType;return a(s.id,r,"id",e,1),a(s.typeParameters,r,"typeParameters",t,1),a(s.supertype,r,"supertype",n,1),r},t.declareTypeAlias=function(e,t=null,n){const r={type:"DeclareTypeAlias",id:e,typeParameters:t,right:n},s=o.DeclareTypeAlias;return a(s.id,r,"id",e,1),a(s.typeParameters,r,"typeParameters",t,1),a(s.right,r,"right",n,1),r},t.declareVariable=function(e){const t={type:"DeclareVariable",id:e},n=o.DeclareVariable;return a(n.id,t,"id",e,1),t},t.declaredPredicate=function(e){const t={type:"DeclaredPredicate",value:e},n=o.DeclaredPredicate;return a(n.value,t,"value",e,1),t},t.decorator=function(e){const t={type:"Decorator",expression:e},n=o.Decorator;return a(n.expression,t,"expression",e,1),t},t.directive=function(e){const t={type:"Directive",value:e},n=o.Directive;return a(n.value,t,"value",e,1),t},t.directiveLiteral=function(e){const t={type:"DirectiveLiteral",value:e},n=o.DirectiveLiteral;return a(n.value,t,"value",e),t},t.doExpression=function(e,t=!1){const n={type:"DoExpression",body:e,async:t},r=o.DoExpression;return a(r.body,n,"body",e,1),a(r.async,n,"async",t),n},t.doWhileStatement=function(e,t){const n={type:"DoWhileStatement",test:e,body:t},r=o.DoWhileStatement;return a(r.test,n,"test",e,1),a(r.body,n,"body",t,1),n},t.emptyStatement=function(){return{type:"EmptyStatement"}},t.emptyTypeAnnotation=function(){return{type:"EmptyTypeAnnotation"}},t.enumBooleanBody=function(e){const t={type:"EnumBooleanBody",members:e,explicitType:null,hasUnknownMembers:null},n=o.EnumBooleanBody;return a(n.members,t,"members",e,1),t},t.enumBooleanMember=function(e){const t={type:"EnumBooleanMember",id:e,init:null},n=o.EnumBooleanMember;return a(n.id,t,"id",e,1),t},t.enumDeclaration=function(e,t){const n={type:"EnumDeclaration",id:e,body:t},r=o.EnumDeclaration;return a(r.id,n,"id",e,1),a(r.body,n,"body",t,1),n},t.enumDefaultedMember=function(e){const t={type:"EnumDefaultedMember",id:e},n=o.EnumDefaultedMember;return a(n.id,t,"id",e,1),t},t.enumNumberBody=function(e){const t={type:"EnumNumberBody",members:e,explicitType:null,hasUnknownMembers:null},n=o.EnumNumberBody;return a(n.members,t,"members",e,1),t},t.enumNumberMember=function(e,t){const n={type:"EnumNumberMember",id:e,init:t},r=o.EnumNumberMember;return a(r.id,n,"id",e,1),a(r.init,n,"init",t,1),n},t.enumStringBody=function(e){const t={type:"EnumStringBody",members:e,explicitType:null,hasUnknownMembers:null},n=o.EnumStringBody;return a(n.members,t,"members",e,1),t},t.enumStringMember=function(e,t){const n={type:"EnumStringMember",id:e,init:t},r=o.EnumStringMember;return a(r.id,n,"id",e,1),a(r.init,n,"init",t,1),n},t.enumSymbolBody=function(e){const t={type:"EnumSymbolBody",members:e,hasUnknownMembers:null},n=o.EnumSymbolBody;return a(n.members,t,"members",e,1),t},t.existsTypeAnnotation=function(){return{type:"ExistsTypeAnnotation"}},t.exportAllDeclaration=function(e){const t={type:"ExportAllDeclaration",source:e},n=o.ExportAllDeclaration;return a(n.source,t,"source",e,1),t},t.exportDefaultDeclaration=function(e){const t={type:"ExportDefaultDeclaration",declaration:e},n=o.ExportDefaultDeclaration;return a(n.declaration,t,"declaration",e,1),t},t.exportDefaultSpecifier=function(e){const t={type:"ExportDefaultSpecifier",exported:e},n=o.ExportDefaultSpecifier;return a(n.exported,t,"exported",e,1),t},t.exportNamedDeclaration=function(e=null,t=[],n=null){const r={type:"ExportNamedDeclaration",declaration:e,specifiers:t,source:n},s=o.ExportNamedDeclaration;return a(s.declaration,r,"declaration",e,1),a(s.specifiers,r,"specifiers",t,1),a(s.source,r,"source",n,1),r},t.exportNamespaceSpecifier=function(e){const t={type:"ExportNamespaceSpecifier",exported:e},n=o.ExportNamespaceSpecifier;return a(n.exported,t,"exported",e,1),t},t.exportSpecifier=function(e,t){const n={type:"ExportSpecifier",local:e,exported:t},r=o.ExportSpecifier;return a(r.local,n,"local",e,1),a(r.exported,n,"exported",t,1),n},t.expressionStatement=function(e){const t={type:"ExpressionStatement",expression:e},n=o.ExpressionStatement;return a(n.expression,t,"expression",e,1),t},t.file=function(e,t=null,n=null){const r={type:"File",program:e,comments:t,tokens:n},s=o.File;return a(s.program,r,"program",e,1),a(s.comments,r,"comments",t,1),a(s.tokens,r,"tokens",n),r},t.forInStatement=function(e,t,n){const r={type:"ForInStatement",left:e,right:t,body:n},s=o.ForInStatement;return a(s.left,r,"left",e,1),a(s.right,r,"right",t,1),a(s.body,r,"body",n,1),r},t.forOfStatement=function(e,t,n,r=!1){const s={type:"ForOfStatement",left:e,right:t,body:n,await:r},i=o.ForOfStatement;return a(i.left,s,"left",e,1),a(i.right,s,"right",t,1),a(i.body,s,"body",n,1),a(i.await,s,"await",r),s},t.forStatement=function(e=null,t=null,n=null,r){const s={type:"ForStatement",init:e,test:t,update:n,body:r},i=o.ForStatement;return a(i.init,s,"init",e,1),a(i.test,s,"test",t,1),a(i.update,s,"update",n,1),a(i.body,s,"body",r,1),s},t.functionDeclaration=function(e=null,t,n,r=!1,s=!1){const i={type:"FunctionDeclaration",id:e,params:t,body:n,generator:r,async:s},c=o.FunctionDeclaration;return a(c.id,i,"id",e,1),a(c.params,i,"params",t,1),a(c.body,i,"body",n,1),a(c.generator,i,"generator",r),a(c.async,i,"async",s),i},t.functionExpression=function(e=null,t,n,r=!1,s=!1){const i={type:"FunctionExpression",id:e,params:t,body:n,generator:r,async:s},c=o.FunctionExpression;return a(c.id,i,"id",e,1),a(c.params,i,"params",t,1),a(c.body,i,"body",n,1),a(c.generator,i,"generator",r),a(c.async,i,"async",s),i},t.functionTypeAnnotation=function(e=null,t,n=null,r){const s={type:"FunctionTypeAnnotation",typeParameters:e,params:t,rest:n,returnType:r},i=o.FunctionTypeAnnotation;return a(i.typeParameters,s,"typeParameters",e,1),a(i.params,s,"params",t,1),a(i.rest,s,"rest",n,1),a(i.returnType,s,"returnType",r,1),s},t.functionTypeParam=function(e=null,t){const n={type:"FunctionTypeParam",name:e,typeAnnotation:t},r=o.FunctionTypeParam;return a(r.name,n,"name",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.genericTypeAnnotation=function(e,t=null){const n={type:"GenericTypeAnnotation",id:e,typeParameters:t},r=o.GenericTypeAnnotation;return a(r.id,n,"id",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.identifier=function(e){const t={type:"Identifier",name:e},n=o.Identifier;return a(n.name,t,"name",e),t},t.ifStatement=function(e,t,n=null){const r={type:"IfStatement",test:e,consequent:t,alternate:n},s=o.IfStatement;return a(s.test,r,"test",e,1),a(s.consequent,r,"consequent",t,1),a(s.alternate,r,"alternate",n,1),r},t.import=function(){return{type:"Import"}},t.importAttribute=function(e,t){const n={type:"ImportAttribute",key:e,value:t},r=o.ImportAttribute;return a(r.key,n,"key",e,1),a(r.value,n,"value",t,1),n},t.importDeclaration=function(e,t){const n={type:"ImportDeclaration",specifiers:e,source:t},r=o.ImportDeclaration;return a(r.specifiers,n,"specifiers",e,1),a(r.source,n,"source",t,1),n},t.importDefaultSpecifier=function(e){const t={type:"ImportDefaultSpecifier",local:e},n=o.ImportDefaultSpecifier;return a(n.local,t,"local",e,1),t},t.importExpression=function(e,t=null){const n={type:"ImportExpression",source:e,options:t},r=o.ImportExpression;return a(r.source,n,"source",e,1),a(r.options,n,"options",t,1),n},t.importNamespaceSpecifier=function(e){const t={type:"ImportNamespaceSpecifier",local:e},n=o.ImportNamespaceSpecifier;return a(n.local,t,"local",e,1),t},t.importSpecifier=function(e,t){const n={type:"ImportSpecifier",local:e,imported:t},r=o.ImportSpecifier;return a(r.local,n,"local",e,1),a(r.imported,n,"imported",t,1),n},t.indexedAccessType=function(e,t){const n={type:"IndexedAccessType",objectType:e,indexType:t},r=o.IndexedAccessType;return a(r.objectType,n,"objectType",e,1),a(r.indexType,n,"indexType",t,1),n},t.inferredPredicate=function(){return{type:"InferredPredicate"}},t.interfaceDeclaration=function(e,t=null,n=null,r){const s={type:"InterfaceDeclaration",id:e,typeParameters:t,extends:n,body:r},i=o.InterfaceDeclaration;return a(i.id,s,"id",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.extends,s,"extends",n,1),a(i.body,s,"body",r,1),s},t.interfaceExtends=function(e,t=null){const n={type:"InterfaceExtends",id:e,typeParameters:t},r=o.InterfaceExtends;return a(r.id,n,"id",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.interfaceTypeAnnotation=function(e=null,t){const n={type:"InterfaceTypeAnnotation",extends:e,body:t},r=o.InterfaceTypeAnnotation;return a(r.extends,n,"extends",e,1),a(r.body,n,"body",t,1),n},t.interpreterDirective=function(e){const t={type:"InterpreterDirective",value:e},n=o.InterpreterDirective;return a(n.value,t,"value",e),t},t.intersectionTypeAnnotation=function(e){const t={type:"IntersectionTypeAnnotation",types:e},n=o.IntersectionTypeAnnotation;return a(n.types,t,"types",e,1),t},t.jSXAttribute=t.jsxAttribute=function(e,t=null){const n={type:"JSXAttribute",name:e,value:t},r=o.JSXAttribute;return a(r.name,n,"name",e,1),a(r.value,n,"value",t,1),n},t.jSXClosingElement=t.jsxClosingElement=function(e){const t={type:"JSXClosingElement",name:e},n=o.JSXClosingElement;return a(n.name,t,"name",e,1),t},t.jSXClosingFragment=t.jsxClosingFragment=function(){return{type:"JSXClosingFragment"}},t.jSXElement=t.jsxElement=function(e,t=null,n,r=null){const s={type:"JSXElement",openingElement:e,closingElement:t,children:n,selfClosing:r},i=o.JSXElement;return a(i.openingElement,s,"openingElement",e,1),a(i.closingElement,s,"closingElement",t,1),a(i.children,s,"children",n,1),a(i.selfClosing,s,"selfClosing",r),s},t.jSXEmptyExpression=t.jsxEmptyExpression=function(){return{type:"JSXEmptyExpression"}},t.jSXExpressionContainer=t.jsxExpressionContainer=function(e){const t={type:"JSXExpressionContainer",expression:e},n=o.JSXExpressionContainer;return a(n.expression,t,"expression",e,1),t},t.jSXFragment=t.jsxFragment=function(e,t,n){const r={type:"JSXFragment",openingFragment:e,closingFragment:t,children:n},s=o.JSXFragment;return a(s.openingFragment,r,"openingFragment",e,1),a(s.closingFragment,r,"closingFragment",t,1),a(s.children,r,"children",n,1),r},t.jSXIdentifier=t.jsxIdentifier=function(e){const t={type:"JSXIdentifier",name:e},n=o.JSXIdentifier;return a(n.name,t,"name",e),t},t.jSXMemberExpression=t.jsxMemberExpression=function(e,t){const n={type:"JSXMemberExpression",object:e,property:t},r=o.JSXMemberExpression;return a(r.object,n,"object",e,1),a(r.property,n,"property",t,1),n},t.jSXNamespacedName=t.jsxNamespacedName=function(e,t){const n={type:"JSXNamespacedName",namespace:e,name:t},r=o.JSXNamespacedName;return a(r.namespace,n,"namespace",e,1),a(r.name,n,"name",t,1),n},t.jSXOpeningElement=t.jsxOpeningElement=function(e,t,n=!1){const r={type:"JSXOpeningElement",name:e,attributes:t,selfClosing:n},s=o.JSXOpeningElement;return a(s.name,r,"name",e,1),a(s.attributes,r,"attributes",t,1),a(s.selfClosing,r,"selfClosing",n),r},t.jSXOpeningFragment=t.jsxOpeningFragment=function(){return{type:"JSXOpeningFragment"}},t.jSXSpreadAttribute=t.jsxSpreadAttribute=function(e){const t={type:"JSXSpreadAttribute",argument:e},n=o.JSXSpreadAttribute;return a(n.argument,t,"argument",e,1),t},t.jSXSpreadChild=t.jsxSpreadChild=function(e){const t={type:"JSXSpreadChild",expression:e},n=o.JSXSpreadChild;return a(n.expression,t,"expression",e,1),t},t.jSXText=t.jsxText=function(e){const t={type:"JSXText",value:e},n=o.JSXText;return a(n.value,t,"value",e),t},t.labeledStatement=function(e,t){const n={type:"LabeledStatement",label:e,body:t},r=o.LabeledStatement;return a(r.label,n,"label",e,1),a(r.body,n,"body",t,1),n},t.logicalExpression=function(e,t,n){const r={type:"LogicalExpression",operator:e,left:t,right:n},s=o.LogicalExpression;return a(s.operator,r,"operator",e),a(s.left,r,"left",t,1),a(s.right,r,"right",n,1),r},t.memberExpression=function(e,t,n=!1,r=null){const s={type:"MemberExpression",object:e,property:t,computed:n,optional:r},i=o.MemberExpression;return a(i.object,s,"object",e,1),a(i.property,s,"property",t,1),a(i.computed,s,"computed",n),a(i.optional,s,"optional",r),s},t.metaProperty=function(e,t){const n={type:"MetaProperty",meta:e,property:t},r=o.MetaProperty;return a(r.meta,n,"meta",e,1),a(r.property,n,"property",t,1),n},t.mixedTypeAnnotation=function(){return{type:"MixedTypeAnnotation"}},t.moduleExpression=function(e){const t={type:"ModuleExpression",body:e},n=o.ModuleExpression;return a(n.body,t,"body",e,1),t},t.newExpression=function(e,t){const n={type:"NewExpression",callee:e,arguments:t},r=o.NewExpression;return a(r.callee,n,"callee",e,1),a(r.arguments,n,"arguments",t,1),n},t.noop=function(){return{type:"Noop"}},t.nullLiteral=function(){return{type:"NullLiteral"}},t.nullLiteralTypeAnnotation=function(){return{type:"NullLiteralTypeAnnotation"}},t.nullableTypeAnnotation=function(e){const t={type:"NullableTypeAnnotation",typeAnnotation:e},n=o.NullableTypeAnnotation;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.numberLiteral=function(e){return(0,s.default)("NumberLiteral","NumericLiteral","The node type "),c(e)},t.numberLiteralTypeAnnotation=function(e){const t={type:"NumberLiteralTypeAnnotation",value:e},n=o.NumberLiteralTypeAnnotation;return a(n.value,t,"value",e),t},t.numberTypeAnnotation=function(){return{type:"NumberTypeAnnotation"}},t.numericLiteral=c,t.objectExpression=function(e){const t={type:"ObjectExpression",properties:e},n=o.ObjectExpression;return a(n.properties,t,"properties",e,1),t},t.objectMethod=function(e="method",t,n,r,s=!1,i=!1,c=!1){const l={type:"ObjectMethod",kind:e,key:t,params:n,body:r,computed:s,generator:i,async:c},p=o.ObjectMethod;return a(p.kind,l,"kind",e),a(p.key,l,"key",t,1),a(p.params,l,"params",n,1),a(p.body,l,"body",r,1),a(p.computed,l,"computed",s),a(p.generator,l,"generator",i),a(p.async,l,"async",c),l},t.objectPattern=function(e){const t={type:"ObjectPattern",properties:e},n=o.ObjectPattern;return a(n.properties,t,"properties",e,1),t},t.objectProperty=function(e,t,n=!1,r=!1,s=null){const i={type:"ObjectProperty",key:e,value:t,computed:n,shorthand:r,decorators:s},c=o.ObjectProperty;return a(c.key,i,"key",e,1),a(c.value,i,"value",t,1),a(c.computed,i,"computed",n),a(c.shorthand,i,"shorthand",r),a(c.decorators,i,"decorators",s,1),i},t.objectTypeAnnotation=function(e,t=[],n=[],r=[],s=!1){const i={type:"ObjectTypeAnnotation",properties:e,indexers:t,callProperties:n,internalSlots:r,exact:s},c=o.ObjectTypeAnnotation;return a(c.properties,i,"properties",e,1),a(c.indexers,i,"indexers",t,1),a(c.callProperties,i,"callProperties",n,1),a(c.internalSlots,i,"internalSlots",r,1),a(c.exact,i,"exact",s),i},t.objectTypeCallProperty=function(e){const t={type:"ObjectTypeCallProperty",value:e,static:null},n=o.ObjectTypeCallProperty;return a(n.value,t,"value",e,1),t},t.objectTypeIndexer=function(e=null,t,n,r=null){const s={type:"ObjectTypeIndexer",id:e,key:t,value:n,variance:r,static:null},i=o.ObjectTypeIndexer;return a(i.id,s,"id",e,1),a(i.key,s,"key",t,1),a(i.value,s,"value",n,1),a(i.variance,s,"variance",r,1),s},t.objectTypeInternalSlot=function(e,t,n,r,s){const i={type:"ObjectTypeInternalSlot",id:e,value:t,optional:n,static:r,method:s},c=o.ObjectTypeInternalSlot;return a(c.id,i,"id",e,1),a(c.value,i,"value",t,1),a(c.optional,i,"optional",n),a(c.static,i,"static",r),a(c.method,i,"method",s),i},t.objectTypeProperty=function(e,t,n=null){const r={type:"ObjectTypeProperty",key:e,value:t,variance:n,kind:null,method:null,optional:null,proto:null,static:null},s=o.ObjectTypeProperty;return a(s.key,r,"key",e,1),a(s.value,r,"value",t,1),a(s.variance,r,"variance",n,1),r},t.objectTypeSpreadProperty=function(e){const t={type:"ObjectTypeSpreadProperty",argument:e},n=o.ObjectTypeSpreadProperty;return a(n.argument,t,"argument",e,1),t},t.opaqueType=function(e,t=null,n=null,r){const s={type:"OpaqueType",id:e,typeParameters:t,supertype:n,impltype:r},i=o.OpaqueType;return a(i.id,s,"id",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.supertype,s,"supertype",n,1),a(i.impltype,s,"impltype",r,1),s},t.optionalCallExpression=function(e,t,n){const r={type:"OptionalCallExpression",callee:e,arguments:t,optional:n},s=o.OptionalCallExpression;return a(s.callee,r,"callee",e,1),a(s.arguments,r,"arguments",t,1),a(s.optional,r,"optional",n),r},t.optionalIndexedAccessType=function(e,t){const n={type:"OptionalIndexedAccessType",objectType:e,indexType:t,optional:null},r=o.OptionalIndexedAccessType;return a(r.objectType,n,"objectType",e,1),a(r.indexType,n,"indexType",t,1),n},t.optionalMemberExpression=function(e,t,n=!1,r){const s={type:"OptionalMemberExpression",object:e,property:t,computed:n,optional:r},i=o.OptionalMemberExpression;return a(i.object,s,"object",e,1),a(i.property,s,"property",t,1),a(i.computed,s,"computed",n),a(i.optional,s,"optional",r),s},t.parenthesizedExpression=function(e){const t={type:"ParenthesizedExpression",expression:e},n=o.ParenthesizedExpression;return a(n.expression,t,"expression",e,1),t},t.pipelineBareFunction=function(e){const t={type:"PipelineBareFunction",callee:e},n=o.PipelineBareFunction;return a(n.callee,t,"callee",e,1),t},t.pipelinePrimaryTopicReference=function(){return{type:"PipelinePrimaryTopicReference"}},t.pipelineTopicExpression=function(e){const t={type:"PipelineTopicExpression",expression:e},n=o.PipelineTopicExpression;return a(n.expression,t,"expression",e,1),t},t.placeholder=function(e,t){const n={type:"Placeholder",expectedNode:e,name:t},r=o.Placeholder;return a(r.expectedNode,n,"expectedNode",e),a(r.name,n,"name",t,1),n},t.privateName=function(e){const t={type:"PrivateName",id:e},n=o.PrivateName;return a(n.id,t,"id",e,1),t},t.program=function(e,t=[],n="script",r=null){const s={type:"Program",body:e,directives:t,sourceType:n,interpreter:r},i=o.Program;return a(i.body,s,"body",e,1),a(i.directives,s,"directives",t,1),a(i.sourceType,s,"sourceType",n),a(i.interpreter,s,"interpreter",r,1),s},t.qualifiedTypeIdentifier=function(e,t){const n={type:"QualifiedTypeIdentifier",id:e,qualification:t},r=o.QualifiedTypeIdentifier;return a(r.id,n,"id",e,1),a(r.qualification,n,"qualification",t,1),n},t.recordExpression=function(e){const t={type:"RecordExpression",properties:e},n=o.RecordExpression;return a(n.properties,t,"properties",e,1),t},t.regExpLiteral=l,t.regexLiteral=function(e,t=""){return(0,s.default)("RegexLiteral","RegExpLiteral","The node type "),l(e,t)},t.restElement=p,t.restProperty=function(e){return(0,s.default)("RestProperty","RestElement","The node type "),p(e)},t.returnStatement=function(e=null){const t={type:"ReturnStatement",argument:e},n=o.ReturnStatement;return a(n.argument,t,"argument",e,1),t},t.sequenceExpression=function(e){const t={type:"SequenceExpression",expressions:e},n=o.SequenceExpression;return a(n.expressions,t,"expressions",e,1),t},t.spreadElement=u,t.spreadProperty=function(e){return(0,s.default)("SpreadProperty","SpreadElement","The node type "),u(e)},t.staticBlock=function(e){const t={type:"StaticBlock",body:e},n=o.StaticBlock;return a(n.body,t,"body",e,1),t},t.stringLiteral=function(e){const t={type:"StringLiteral",value:e},n=o.StringLiteral;return a(n.value,t,"value",e),t},t.stringLiteralTypeAnnotation=function(e){const t={type:"StringLiteralTypeAnnotation",value:e},n=o.StringLiteralTypeAnnotation;return a(n.value,t,"value",e),t},t.stringTypeAnnotation=function(){return{type:"StringTypeAnnotation"}},t.super=function(){return{type:"Super"}},t.switchCase=function(e=null,t){const n={type:"SwitchCase",test:e,consequent:t},r=o.SwitchCase;return a(r.test,n,"test",e,1),a(r.consequent,n,"consequent",t,1),n},t.switchStatement=function(e,t){const n={type:"SwitchStatement",discriminant:e,cases:t},r=o.SwitchStatement;return a(r.discriminant,n,"discriminant",e,1),a(r.cases,n,"cases",t,1),n},t.symbolTypeAnnotation=function(){return{type:"SymbolTypeAnnotation"}},t.taggedTemplateExpression=function(e,t){const n={type:"TaggedTemplateExpression",tag:e,quasi:t},r=o.TaggedTemplateExpression;return a(r.tag,n,"tag",e,1),a(r.quasi,n,"quasi",t,1),n},t.templateElement=function(e,t=!1){const n={type:"TemplateElement",value:e,tail:t},r=o.TemplateElement;return a(r.value,n,"value",e),a(r.tail,n,"tail",t),n},t.templateLiteral=function(e,t){const n={type:"TemplateLiteral",quasis:e,expressions:t},r=o.TemplateLiteral;return a(r.quasis,n,"quasis",e,1),a(r.expressions,n,"expressions",t,1),n},t.thisExpression=function(){return{type:"ThisExpression"}},t.thisTypeAnnotation=function(){return{type:"ThisTypeAnnotation"}},t.throwStatement=function(e){const t={type:"ThrowStatement",argument:e},n=o.ThrowStatement;return a(n.argument,t,"argument",e,1),t},t.topicReference=function(){return{type:"TopicReference"}},t.tryStatement=function(e,t=null,n=null){const r={type:"TryStatement",block:e,handler:t,finalizer:n},s=o.TryStatement;return a(s.block,r,"block",e,1),a(s.handler,r,"handler",t,1),a(s.finalizer,r,"finalizer",n,1),r},t.tSAnyKeyword=t.tsAnyKeyword=function(){return{type:"TSAnyKeyword"}},t.tSArrayType=t.tsArrayType=function(e){const t={type:"TSArrayType",elementType:e},n=o.TSArrayType;return a(n.elementType,t,"elementType",e,1),t},t.tSAsExpression=t.tsAsExpression=function(e,t){const n={type:"TSAsExpression",expression:e,typeAnnotation:t},r=o.TSAsExpression;return a(r.expression,n,"expression",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSBigIntKeyword=t.tsBigIntKeyword=function(){return{type:"TSBigIntKeyword"}},t.tSBooleanKeyword=t.tsBooleanKeyword=function(){return{type:"TSBooleanKeyword"}},t.tSCallSignatureDeclaration=t.tsCallSignatureDeclaration=function(e=null,t,n=null){const r={type:"TSCallSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n},s=o.TSCallSignatureDeclaration;return a(s.typeParameters,r,"typeParameters",e,1),a(s.parameters,r,"parameters",t,1),a(s.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSConditionalType=t.tsConditionalType=function(e,t,n,r){const s={type:"TSConditionalType",checkType:e,extendsType:t,trueType:n,falseType:r},i=o.TSConditionalType;return a(i.checkType,s,"checkType",e,1),a(i.extendsType,s,"extendsType",t,1),a(i.trueType,s,"trueType",n,1),a(i.falseType,s,"falseType",r,1),s},t.tSConstructSignatureDeclaration=t.tsConstructSignatureDeclaration=function(e=null,t,n=null){const r={type:"TSConstructSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n},s=o.TSConstructSignatureDeclaration;return a(s.typeParameters,r,"typeParameters",e,1),a(s.parameters,r,"parameters",t,1),a(s.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSConstructorType=t.tsConstructorType=function(e=null,t,n=null){const r={type:"TSConstructorType",typeParameters:e,parameters:t,typeAnnotation:n},s=o.TSConstructorType;return a(s.typeParameters,r,"typeParameters",e,1),a(s.parameters,r,"parameters",t,1),a(s.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSDeclareFunction=t.tsDeclareFunction=function(e=null,t=null,n,r=null){const s={type:"TSDeclareFunction",id:e,typeParameters:t,params:n,returnType:r},i=o.TSDeclareFunction;return a(i.id,s,"id",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.params,s,"params",n,1),a(i.returnType,s,"returnType",r,1),s},t.tSDeclareMethod=t.tsDeclareMethod=function(e=null,t,n=null,r,s=null){const i={type:"TSDeclareMethod",decorators:e,key:t,typeParameters:n,params:r,returnType:s},c=o.TSDeclareMethod;return a(c.decorators,i,"decorators",e,1),a(c.key,i,"key",t,1),a(c.typeParameters,i,"typeParameters",n,1),a(c.params,i,"params",r,1),a(c.returnType,i,"returnType",s,1),i},t.tSEnumBody=t.tsEnumBody=function(e){const t={type:"TSEnumBody",members:e},n=o.TSEnumBody;return a(n.members,t,"members",e,1),t},t.tSEnumDeclaration=t.tsEnumDeclaration=function(e,t){const n={type:"TSEnumDeclaration",id:e,members:t},r=o.TSEnumDeclaration;return a(r.id,n,"id",e,1),a(r.members,n,"members",t,1),n},t.tSEnumMember=t.tsEnumMember=function(e,t=null){const n={type:"TSEnumMember",id:e,initializer:t},r=o.TSEnumMember;return a(r.id,n,"id",e,1),a(r.initializer,n,"initializer",t,1),n},t.tSExportAssignment=t.tsExportAssignment=function(e){const t={type:"TSExportAssignment",expression:e},n=o.TSExportAssignment;return a(n.expression,t,"expression",e,1),t},t.tSExpressionWithTypeArguments=t.tsExpressionWithTypeArguments=function(e,t=null){const n={type:"TSExpressionWithTypeArguments",expression:e,typeParameters:t},r=o.TSExpressionWithTypeArguments;return a(r.expression,n,"expression",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSExternalModuleReference=t.tsExternalModuleReference=function(e){const t={type:"TSExternalModuleReference",expression:e},n=o.TSExternalModuleReference;return a(n.expression,t,"expression",e,1),t},t.tSFunctionType=t.tsFunctionType=function(e=null,t,n=null){const r={type:"TSFunctionType",typeParameters:e,parameters:t,typeAnnotation:n},s=o.TSFunctionType;return a(s.typeParameters,r,"typeParameters",e,1),a(s.parameters,r,"parameters",t,1),a(s.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSImportEqualsDeclaration=t.tsImportEqualsDeclaration=function(e,t){const n={type:"TSImportEqualsDeclaration",id:e,moduleReference:t,isExport:null},r=o.TSImportEqualsDeclaration;return a(r.id,n,"id",e,1),a(r.moduleReference,n,"moduleReference",t,1),n},t.tSImportType=t.tsImportType=function(e,t=null,n=null){const r={type:"TSImportType",argument:e,qualifier:t,typeParameters:n},s=o.TSImportType;return a(s.argument,r,"argument",e,1),a(s.qualifier,r,"qualifier",t,1),a(s.typeParameters,r,"typeParameters",n,1),r},t.tSIndexSignature=t.tsIndexSignature=function(e,t=null){const n={type:"TSIndexSignature",parameters:e,typeAnnotation:t},r=o.TSIndexSignature;return a(r.parameters,n,"parameters",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSIndexedAccessType=t.tsIndexedAccessType=function(e,t){const n={type:"TSIndexedAccessType",objectType:e,indexType:t},r=o.TSIndexedAccessType;return a(r.objectType,n,"objectType",e,1),a(r.indexType,n,"indexType",t,1),n},t.tSInferType=t.tsInferType=function(e){const t={type:"TSInferType",typeParameter:e},n=o.TSInferType;return a(n.typeParameter,t,"typeParameter",e,1),t},t.tSInstantiationExpression=t.tsInstantiationExpression=function(e,t=null){const n={type:"TSInstantiationExpression",expression:e,typeParameters:t},r=o.TSInstantiationExpression;return a(r.expression,n,"expression",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSInterfaceBody=t.tsInterfaceBody=function(e){const t={type:"TSInterfaceBody",body:e},n=o.TSInterfaceBody;return a(n.body,t,"body",e,1),t},t.tSInterfaceDeclaration=t.tsInterfaceDeclaration=function(e,t=null,n=null,r){const s={type:"TSInterfaceDeclaration",id:e,typeParameters:t,extends:n,body:r},i=o.TSInterfaceDeclaration;return a(i.id,s,"id",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.extends,s,"extends",n,1),a(i.body,s,"body",r,1),s},t.tSIntersectionType=t.tsIntersectionType=function(e){const t={type:"TSIntersectionType",types:e},n=o.TSIntersectionType;return a(n.types,t,"types",e,1),t},t.tSIntrinsicKeyword=t.tsIntrinsicKeyword=function(){return{type:"TSIntrinsicKeyword"}},t.tSLiteralType=t.tsLiteralType=function(e){const t={type:"TSLiteralType",literal:e},n=o.TSLiteralType;return a(n.literal,t,"literal",e,1),t},t.tSMappedType=t.tsMappedType=function(e,t=null,n=null){const r={type:"TSMappedType",typeParameter:e,typeAnnotation:t,nameType:n},s=o.TSMappedType;return a(s.typeParameter,r,"typeParameter",e,1),a(s.typeAnnotation,r,"typeAnnotation",t,1),a(s.nameType,r,"nameType",n,1),r},t.tSMethodSignature=t.tsMethodSignature=function(e,t=null,n,r=null){const s={type:"TSMethodSignature",key:e,typeParameters:t,parameters:n,typeAnnotation:r,kind:null},i=o.TSMethodSignature;return a(i.key,s,"key",e,1),a(i.typeParameters,s,"typeParameters",t,1),a(i.parameters,s,"parameters",n,1),a(i.typeAnnotation,s,"typeAnnotation",r,1),s},t.tSModuleBlock=t.tsModuleBlock=function(e){const t={type:"TSModuleBlock",body:e},n=o.TSModuleBlock;return a(n.body,t,"body",e,1),t},t.tSModuleDeclaration=t.tsModuleDeclaration=function(e,t){const n={type:"TSModuleDeclaration",id:e,body:t,kind:null},r=o.TSModuleDeclaration;return a(r.id,n,"id",e,1),a(r.body,n,"body",t,1),n},t.tSNamedTupleMember=t.tsNamedTupleMember=function(e,t,n=!1){const r={type:"TSNamedTupleMember",label:e,elementType:t,optional:n},s=o.TSNamedTupleMember;return a(s.label,r,"label",e,1),a(s.elementType,r,"elementType",t,1),a(s.optional,r,"optional",n),r},t.tSNamespaceExportDeclaration=t.tsNamespaceExportDeclaration=function(e){const t={type:"TSNamespaceExportDeclaration",id:e},n=o.TSNamespaceExportDeclaration;return a(n.id,t,"id",e,1),t},t.tSNeverKeyword=t.tsNeverKeyword=function(){return{type:"TSNeverKeyword"}},t.tSNonNullExpression=t.tsNonNullExpression=function(e){const t={type:"TSNonNullExpression",expression:e},n=o.TSNonNullExpression;return a(n.expression,t,"expression",e,1),t},t.tSNullKeyword=t.tsNullKeyword=function(){return{type:"TSNullKeyword"}},t.tSNumberKeyword=t.tsNumberKeyword=function(){return{type:"TSNumberKeyword"}},t.tSObjectKeyword=t.tsObjectKeyword=function(){return{type:"TSObjectKeyword"}},t.tSOptionalType=t.tsOptionalType=function(e){const t={type:"TSOptionalType",typeAnnotation:e},n=o.TSOptionalType;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSParameterProperty=t.tsParameterProperty=function(e){const t={type:"TSParameterProperty",parameter:e},n=o.TSParameterProperty;return a(n.parameter,t,"parameter",e,1),t},t.tSParenthesizedType=t.tsParenthesizedType=function(e){const t={type:"TSParenthesizedType",typeAnnotation:e},n=o.TSParenthesizedType;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSPropertySignature=t.tsPropertySignature=function(e,t=null){const n={type:"TSPropertySignature",key:e,typeAnnotation:t},r=o.TSPropertySignature;return a(r.key,n,"key",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSQualifiedName=t.tsQualifiedName=function(e,t){const n={type:"TSQualifiedName",left:e,right:t},r=o.TSQualifiedName;return a(r.left,n,"left",e,1),a(r.right,n,"right",t,1),n},t.tSRestType=t.tsRestType=function(e){const t={type:"TSRestType",typeAnnotation:e},n=o.TSRestType;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSSatisfiesExpression=t.tsSatisfiesExpression=function(e,t){const n={type:"TSSatisfiesExpression",expression:e,typeAnnotation:t},r=o.TSSatisfiesExpression;return a(r.expression,n,"expression",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.tSStringKeyword=t.tsStringKeyword=function(){return{type:"TSStringKeyword"}},t.tSSymbolKeyword=t.tsSymbolKeyword=function(){return{type:"TSSymbolKeyword"}},t.tSTemplateLiteralType=t.tsTemplateLiteralType=function(e,t){const n={type:"TSTemplateLiteralType",quasis:e,types:t},r=o.TSTemplateLiteralType;return a(r.quasis,n,"quasis",e,1),a(r.types,n,"types",t,1),n},t.tSThisType=t.tsThisType=function(){return{type:"TSThisType"}},t.tSTupleType=t.tsTupleType=function(e){const t={type:"TSTupleType",elementTypes:e},n=o.TSTupleType;return a(n.elementTypes,t,"elementTypes",e,1),t},t.tSTypeAliasDeclaration=t.tsTypeAliasDeclaration=function(e,t=null,n){const r={type:"TSTypeAliasDeclaration",id:e,typeParameters:t,typeAnnotation:n},s=o.TSTypeAliasDeclaration;return a(s.id,r,"id",e,1),a(s.typeParameters,r,"typeParameters",t,1),a(s.typeAnnotation,r,"typeAnnotation",n,1),r},t.tSTypeAnnotation=t.tsTypeAnnotation=function(e){const t={type:"TSTypeAnnotation",typeAnnotation:e},n=o.TSTypeAnnotation;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.tSTypeAssertion=t.tsTypeAssertion=function(e,t){const n={type:"TSTypeAssertion",typeAnnotation:e,expression:t},r=o.TSTypeAssertion;return a(r.typeAnnotation,n,"typeAnnotation",e,1),a(r.expression,n,"expression",t,1),n},t.tSTypeLiteral=t.tsTypeLiteral=function(e){const t={type:"TSTypeLiteral",members:e},n=o.TSTypeLiteral;return a(n.members,t,"members",e,1),t},t.tSTypeOperator=t.tsTypeOperator=function(e,t="keyof"){const n={type:"TSTypeOperator",typeAnnotation:e,operator:t},r=o.TSTypeOperator;return a(r.typeAnnotation,n,"typeAnnotation",e,1),a(r.operator,n,"operator",t),n},t.tSTypeParameter=t.tsTypeParameter=function(e=null,t=null,n){const r={type:"TSTypeParameter",constraint:e,default:t,name:n},s=o.TSTypeParameter;return a(s.constraint,r,"constraint",e,1),a(s.default,r,"default",t,1),a(s.name,r,"name",n),r},t.tSTypeParameterDeclaration=t.tsTypeParameterDeclaration=function(e){const t={type:"TSTypeParameterDeclaration",params:e},n=o.TSTypeParameterDeclaration;return a(n.params,t,"params",e,1),t},t.tSTypeParameterInstantiation=t.tsTypeParameterInstantiation=function(e){const t={type:"TSTypeParameterInstantiation",params:e},n=o.TSTypeParameterInstantiation;return a(n.params,t,"params",e,1),t},t.tSTypePredicate=t.tsTypePredicate=function(e,t=null,n=null){const r={type:"TSTypePredicate",parameterName:e,typeAnnotation:t,asserts:n},s=o.TSTypePredicate;return a(s.parameterName,r,"parameterName",e,1),a(s.typeAnnotation,r,"typeAnnotation",t,1),a(s.asserts,r,"asserts",n),r},t.tSTypeQuery=t.tsTypeQuery=function(e,t=null){const n={type:"TSTypeQuery",exprName:e,typeParameters:t},r=o.TSTypeQuery;return a(r.exprName,n,"exprName",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSTypeReference=t.tsTypeReference=function(e,t=null){const n={type:"TSTypeReference",typeName:e,typeParameters:t},r=o.TSTypeReference;return a(r.typeName,n,"typeName",e,1),a(r.typeParameters,n,"typeParameters",t,1),n},t.tSUndefinedKeyword=t.tsUndefinedKeyword=function(){return{type:"TSUndefinedKeyword"}},t.tSUnionType=t.tsUnionType=function(e){const t={type:"TSUnionType",types:e},n=o.TSUnionType;return a(n.types,t,"types",e,1),t},t.tSUnknownKeyword=t.tsUnknownKeyword=function(){return{type:"TSUnknownKeyword"}},t.tSVoidKeyword=t.tsVoidKeyword=function(){return{type:"TSVoidKeyword"}},t.tupleExpression=function(e=[]){const t={type:"TupleExpression",elements:e},n=o.TupleExpression;return a(n.elements,t,"elements",e,1),t},t.tupleTypeAnnotation=function(e){const t={type:"TupleTypeAnnotation",types:e},n=o.TupleTypeAnnotation;return a(n.types,t,"types",e,1),t},t.typeAlias=function(e,t=null,n){const r={type:"TypeAlias",id:e,typeParameters:t,right:n},s=o.TypeAlias;return a(s.id,r,"id",e,1),a(s.typeParameters,r,"typeParameters",t,1),a(s.right,r,"right",n,1),r},t.typeAnnotation=function(e){const t={type:"TypeAnnotation",typeAnnotation:e},n=o.TypeAnnotation;return a(n.typeAnnotation,t,"typeAnnotation",e,1),t},t.typeCastExpression=function(e,t){const n={type:"TypeCastExpression",expression:e,typeAnnotation:t},r=o.TypeCastExpression;return a(r.expression,n,"expression",e,1),a(r.typeAnnotation,n,"typeAnnotation",t,1),n},t.typeParameter=function(e=null,t=null,n=null){const r={type:"TypeParameter",bound:e,default:t,variance:n,name:null},s=o.TypeParameter;return a(s.bound,r,"bound",e,1),a(s.default,r,"default",t,1),a(s.variance,r,"variance",n,1),r},t.typeParameterDeclaration=function(e){const t={type:"TypeParameterDeclaration",params:e},n=o.TypeParameterDeclaration;return a(n.params,t,"params",e,1),t},t.typeParameterInstantiation=function(e){const t={type:"TypeParameterInstantiation",params:e},n=o.TypeParameterInstantiation;return a(n.params,t,"params",e,1),t},t.typeofTypeAnnotation=function(e){const t={type:"TypeofTypeAnnotation",argument:e},n=o.TypeofTypeAnnotation;return a(n.argument,t,"argument",e,1),t},t.unaryExpression=function(e,t,n=!0){const r={type:"UnaryExpression",operator:e,argument:t,prefix:n},s=o.UnaryExpression;return a(s.operator,r,"operator",e),a(s.argument,r,"argument",t,1),a(s.prefix,r,"prefix",n),r},t.unionTypeAnnotation=function(e){const t={type:"UnionTypeAnnotation",types:e},n=o.UnionTypeAnnotation;return a(n.types,t,"types",e,1),t},t.updateExpression=function(e,t,n=!1){const r={type:"UpdateExpression",operator:e,argument:t,prefix:n},s=o.UpdateExpression;return a(s.operator,r,"operator",e),a(s.argument,r,"argument",t,1),a(s.prefix,r,"prefix",n),r},t.v8IntrinsicIdentifier=function(e){const t={type:"V8IntrinsicIdentifier",name:e},n=o.V8IntrinsicIdentifier;return a(n.name,t,"name",e),t},t.variableDeclaration=function(e,t){const n={type:"VariableDeclaration",kind:e,declarations:t},r=o.VariableDeclaration;return a(r.kind,n,"kind",e),a(r.declarations,n,"declarations",t,1),n},t.variableDeclarator=function(e,t=null){const n={type:"VariableDeclarator",id:e,init:t},r=o.VariableDeclarator;return a(r.id,n,"id",e,1),a(r.init,n,"init",t,1),n},t.variance=function(e){const t={type:"Variance",kind:e},n=o.Variance;return a(n.kind,t,"kind",e),t},t.voidPattern=function(){return{type:"VoidPattern"}},t.voidTypeAnnotation=function(){return{type:"VoidTypeAnnotation"}},t.whileStatement=function(e,t){const n={type:"WhileStatement",test:e,body:t},r=o.WhileStatement;return a(r.test,n,"test",e,1),a(r.body,n,"body",t,1),n},t.withStatement=function(e,t){const n={type:"WithStatement",object:e,body:t},r=o.WithStatement;return a(r.object,n,"object",e,1),a(r.body,n,"body",t,1),n},t.yieldExpression=function(e=null,t=!1){const n={type:"YieldExpression",argument:e,delegate:t},r=o.YieldExpression;return a(r.argument,n,"argument",e,1),a(r.delegate,n,"delegate",t),n};var r=n(7446),s=n(3762),i=n(7596);const{validateInternal:a}=r,{NODE_FIELDS:o}=i;function c(e){const t={type:"NumericLiteral",value:e},n=o.NumericLiteral;return a(n.value,t,"value",e),t}function l(e,t=""){const n={type:"RegExpLiteral",pattern:e,flags:t},r=o.RegExpLiteral;return a(r.pattern,n,"pattern",e),a(r.flags,n,"flags",t),n}function p(e){const t={type:"RestElement",argument:e},n=o.RestElement;return a(n.argument,t,"argument",e,1),t}function u(e){const t={type:"SpreadElement",argument:e},n=o.SpreadElement;return a(n.argument,t,"argument",e,1),t}},3338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBatches=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4741),o=n(3346),c=n(4815);class l extends r.APIResource{create(e,t,n){return this._client.post(c.path`/vector_stores/${e}/file_batches`,{body:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(c.path`/vector_stores/${r}/file_batches/${e}`,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{vector_store_id:r}=t;return this._client.post(c.path`/vector_stores/${r}/file_batches/${e}/cancel`,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n){const{vector_store_id:r,...a}=t;return this._client.getAPIList(c.path`/vector_stores/${r}/file_batches/${e}/files`,s.CursorPage,{query:a,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,t,n){const r=(0,i.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:i}=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse();switch(s.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,a.sleep)(e);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=r?.maxConcurrency??5,i=Math.min(s,t.length),a=this._client,c=t.values(),l=[...n],p=Array(i).fill(c).map(async function(e){for(let t of e){const e=await a.files.create({file:t,purpose:"assistants"},r);l.push(e.id)}});return await(0,o.allSettledWithThrow)(p),await this.createAndPoll(e,{file_ids:l})}}t.FileBatches=l},3345:e=>{e.exports=function(){return[]}},3346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettledWithThrow=void 0,t.allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),n=t.filter(e=>"rejected"===e.status);if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const e of t)"fulfilled"===e.status&&r.push(e.value);return r}},3357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isChatCompletionFunctionTool=s,t.makeParseableResponseFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.makeParseableTextFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.isAutoParsableResponseFormat=i,t.makeParseableTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=a,t.maybeParseChatCompletion=function(e,t){return t&&l(t)?o(e,t):{...e,choices:e.choices.map(e=>(p(e.message.tool_calls),{...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))}},t.parseChatCompletion=o,t.shouldParseToolCall=function(e,t){if(!e||!("tools"in e)||!e.tools)return!1;const n=e.tools?.find(e=>s(e)&&e.function?.name===t.function.name);return s(n)&&(a(n)||n?.function.strict||!1)},t.hasAutoParseableInput=l,t.assertToolCallsAreChatCompletionFunctionToolCalls=p,t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}};const r=n(9526);function s(e){return void 0!==e&&"function"in e&&void 0!==e.function}function i(e){return"auto-parseable-response-format"===e?.$brand}function a(e){return"auto-parseable-tool"===e?.$brand}function o(e,t){const n=e.choices.map(e=>{if("length"===e.finish_reason)throw new r.LengthFinishReasonError;if("content_filter"===e.finish_reason)throw new r.ContentFilterFinishReasonError;return p(e.message.tool_calls),{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>function(e,t){const n=e.tools?.find(e=>s(e)&&e.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:a(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?c(t,e.message.content):null}}});return{...e,choices:n}}function c(e,t){return"json_schema"!==e.response_format?.type?null:"json_schema"===e.response_format?.type?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function l(e){return!!i(e.response_format)||(e.tools?.some(e=>a(e)||"function"===e.type&&!0===e.function.strict)??!1)}function p(e){for(const t of e||[])if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}},3383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addComment=function(e,t,n){s(this.node,e,t,n)},t.addComments=function(e,t){i(this.node,e,t)},t.shareCommentsWithSiblings=function(){if("string"==typeof this.key)return;const e=this.node;if(!e)return;const t=e.trailingComments,n=e.leadingComments;if(!t&&!n)return;const r=this.getSibling(this.key-1),s=this.getSibling(this.key+1),i=Boolean(r.node),o=Boolean(s.node);i&&(n&&r.addComments("trailing",a(n,r.node.trailingComments)),t&&!o&&r.addComments("trailing",t)),o&&(t&&s.addComments("leading",a(t,s.node.leadingComments)),n&&!i&&s.addComments("leading",n))};var r=n(2352);const{addComment:s,addComments:i}=r;function a(e,t){if(null==t||!t.length)return e;const n=new Set(t);return e.filter(e=>!n.has(e))}},3422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_OPERATORS=t.UNARY_OPERATORS=t.STRING_UNARY_OPERATORS=t.STATEMENT_OR_BLOCK_KEYS=t.NUMBER_UNARY_OPERATORS=t.NUMBER_BINARY_OPERATORS=t.LOGICAL_OPERATORS=t.INHERIT_KEYS=t.FOR_INIT_KEYS=t.FLATTENABLE_KEYS=t.EQUALITY_BINARY_OPERATORS=t.COMPARISON_BINARY_OPERATORS=t.COMMENT_KEYS=t.BOOLEAN_UNARY_OPERATORS=t.BOOLEAN_NUMBER_BINARY_OPERATORS=t.BOOLEAN_BINARY_OPERATORS=t.BINARY_OPERATORS=t.ASSIGNMENT_OPERATORS=void 0,t.STATEMENT_OR_BLOCK_KEYS=["consequent","body","alternate"],t.FLATTENABLE_KEYS=["body","expressions"],t.FOR_INIT_KEYS=["left","init"],t.COMMENT_KEYS=["leadingComments","trailingComments","innerComments"];const n=t.LOGICAL_OPERATORS=["||","&&","??"],r=(t.UPDATE_OPERATORS=["++","--"],t.BOOLEAN_NUMBER_BINARY_OPERATORS=[">","<",">=","<="]),s=t.EQUALITY_BINARY_OPERATORS=["==","===","!=","!=="],i=t.COMPARISON_BINARY_OPERATORS=[...s,"in","instanceof"],a=t.BOOLEAN_BINARY_OPERATORS=[...i,...r],o=t.NUMBER_BINARY_OPERATORS=["-","/","%","*","**","&","|",">>",">>>","<<","^"],c=(t.BINARY_OPERATORS=["+",...o,...a,"|>"],t.ASSIGNMENT_OPERATORS=["=","+=",...o.map(e=>e+"="),...n.map(e=>e+"=")],t.BOOLEAN_UNARY_OPERATORS=["delete","!"]),l=t.NUMBER_UNARY_OPERATORS=["+","-","~"],p=t.STRING_UNARY_OPERATORS=["typeof"];t.UNARY_OPERATORS=["void","throw",...c,...l,...p],t.INHERIT_KEYS={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]},t.BLOCK_SCOPED_SYMBOL=Symbol.for("var used to be block scoped"),t.NOT_LOCAL_BINDING=Symbol.for("should not be considered a local binding")},3437:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.COMMENT_KEYS.forEach(t=>{e[t]=null}),e};var r=n(3422)},3438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const{metadata:a,names:o}=function(e,t,n){let r="BABEL_TPL$";const i=t.join("");do{r="$$"+r}while(i.includes(r));const{names:a,code:o}=function(e,t){const n=[];let r=e[0];for(let s=1;s<e.length;s++){const i=`${t}${s-1}`;n.push(i),r+=i+e[s]}return{names:n,code:r}}(t,r);return{metadata:(0,s.default)(e,e.code(o),{parser:n.parser,placeholderWhitelist:new Set(a.concat(n.placeholderWhitelist?Array.from(n.placeholderWhitelist):[])),placeholderPattern:n.placeholderPattern,preserveComments:n.preserveComments,syntacticPlaceholders:n.syntacticPlaceholders}),names:a}}(e,t,n);return t=>{const n={};return t.forEach((e,t)=>{n[o[t]]=e}),t=>{const s=(0,r.normalizeReplacements)(t);return s&&Object.keys(s).forEach(e=>{if(hasOwnProperty.call(n,e))throw new Error("Unexpected replacement overlap.")}),e.unwrap((0,i.default)(a,s?Object.assign(s,n):n))}}};var r=n(9815),s=n(4858),i=n(7427)},3453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuning=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(2241)),a=n(2241),o=r.__importStar(n(4212)),c=n(4212),l=r.__importStar(n(204)),p=n(204),u=r.__importStar(n(1718)),h=n(1718);class d extends s.APIResource{constructor(){super(...arguments),this.methods=new i.Methods(this._client),this.jobs=new u.Jobs(this._client),this.checkpoints=new l.Checkpoints(this._client),this.alpha=new o.Alpha(this._client)}}t.FineTuning=d,d.Methods=a.Methods,d.Jobs=h.Jobs,d.Checkpoints=p.Checkpoints,d.Alpha=c.Alpha},3488:e=>{e.exports=function(e){return e}},3514:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportAnalyzer=void 0;const c=a(n(1398)),l=a(n(2172)),p=o(n(5781)),u=a(n(6928));t.ImportAnalyzer=class{async analyzeImports(e){const t=(await c.workspace.openTextDocument(e)).getText(),n=[];try{const e=l.parse(t,{sourceType:"module",plugins:["jsx","typescript","classProperties","dynamicImport","decorators-legacy"]});(0,p.default)(e,{ImportDeclaration:e=>{const t=e.node,r=[];let s=!1,i=!1;t.specifiers.forEach(e=>{"ImportDefaultSpecifier"===e.type?(r.push(e.local.name),s=!0):"ImportNamespaceSpecifier"===e.type?(r.push(e.local.name),i=!0):"ImportSpecifier"===e.type&&r.push(e.imported.name)}),n.push({source:t.source.value,specifiers:r,isDefault:s,isNamespace:i,line:t.loc?.start.line||0})},Import:e=>{const t=e.parent;if("CallExpression"===t.type&&t.arguments[0]){const r=t.arguments[0].value;r&&n.push({source:r,specifiers:[],isDefault:!1,isNamespace:!1,line:e.node.loc?.start.line||0})}},CallExpression:e=>{const t=e.node;"Identifier"===t.callee.type&&"require"===t.callee.name&&t.arguments[0]&&"StringLiteral"===t.arguments[0].type&&n.push({source:t.arguments[0].value,specifiers:[],isDefault:!0,isNamespace:!1,line:t.loc?.start.line||0})}})}catch(t){console.error(`Failed to analyze imports in ${e.fsPath}:`,t)}return n}async analyzeJavaImports(e){const t=(await c.workspace.openTextDocument(e)).getText(),n=[],r=/import\s+(static\s+)?([a-zA-Z0-9_.]+(\.\*)?);/g;let s;for(;null!==(s=r.exec(t));){const e=s[2],r=e.split(".").pop()||e;n.push({source:e,specifiers:[r],isDefault:!1,isNamespace:e.endsWith(".*"),line:t.substring(0,s.index).split("\n").length})}return n}async resolveImportPath(e,t,n){if(e.endsWith(".java"))return this.resolveJavaImportPath(t,n);if(!t.startsWith(".")&&!t.startsWith("/")&&!t.startsWith("@/"))return null;const r=u.dirname(e);let s="";s=t.startsWith("@/")?u.join(n,"src",t.substring(2)):u.resolve(r,t);const i=[".ts",".tsx",".js",".jsx",".java","/index.ts","/index.tsx","/index.js","/index.jsx"];for(const e of i){const t=s+e;if(await this.fileExists(t))return t}return await this.fileExists(s)?s:null}async buildDependencyMap(e,t){const n=[];let r;r=".java"===u.extname(e.fsPath)?await this.analyzeJavaImports(e):await this.analyzeImports(e);for(const s of r){const r=await this.resolveImportPath(e.fsPath,s.source,t);r&&n.push({sourceFile:e.fsPath,targetFile:r,importedItems:s.specifiers,type:"import"})}return n}async fileExists(e){try{const t=c.Uri.file(e);return await c.workspace.fs.stat(t),!0}catch{return!1}}async resolveJavaImportPath(e,t){if(e.startsWith("java.")||e.startsWith("javax.")||e.startsWith("org.springframework.")||e.startsWith("lombok.")||e.startsWith("org.junit.")||e.startsWith("org.mockito.")||e.startsWith("org.slf4j.")||e.startsWith("org.apache."))return null;const n=e.replace(/\./g,"/");if(n.endsWith("/*"))return null;const r=["src/main/java","src","app/src/main/java","main/java",""];for(const e of r){const r=u.join(t,e,n+".java");if(await this.fileExists(r))return r}try{const t=e.split(".").pop();if(t){const e=await c.workspace.findFiles(`**/${t}.java`,"**/node_modules/**",1);if(e.length>0)return e[0].fsPath}}catch(t){console.error(`Failed to search for Java class ${e}:`,t)}return null}}},3571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;const n=r.PLACEHOLDERS_ALIAS[e];return!(null==n||!n.includes(t))};var r=n(9793)},3599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{constructor({identifier:e,scope:t,path:n,kind:r}){this.identifier=void 0,this.scope=void 0,this.path=void 0,this.kind=void 0,this.constantViolations=[],this.constant=!0,this.referencePaths=[],this.referenced=!1,this.references=0,this.identifier=e,this.scope=t,this.path=n,this.kind=r,"var"!==r&&"hoisted"!==r||!function(e){const t=!e.isVariableDeclarator()||e.node.init;for(let{parentPath:n,key:r}=e;n;({parentPath:n,key:r}=n)){if(n.isFunctionParent())return!1;if("left"===r&&n.isForXStatement()||t&&"body"===r&&n.isLoop())return!0}return!1}(n)||this.reassign(n),this.clearValue()}deoptValue(){this.clearValue(),this.hasDeoptedValue=!0}setValue(e){this.hasDeoptedValue||(this.hasValue=!0,this.value=e)}clearValue(){this.hasDeoptedValue=!1,this.hasValue=!1,this.value=null}reassign(e){this.constant=!1,this.constantViolations.includes(e)||this.constantViolations.push(e)}reference(e){this.referencePaths.includes(e)||(this.referenced=!0,this.references++,this.referencePaths.push(e))}dereference(){this.references--,this.referenced=!!this.references}}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),s=n(9935),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,c=(o?o.isBuffer:void 0)||s;e.exports=c},3661:(e,t,n)=>{var r=n(3040),s=n(7670),i=n(289),a=n(4509),o=n(2949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=a,c.prototype.set=o,e.exports=c},3663:(e,t,n)=>{var r=n(1799),s=n(776),i=n(7197);e.exports=function(e){var t=s(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},3690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MalformedJSON=t.PartialJSON=t.partialParse=void 0;class n extends Error{}t.PartialJSON=n;class r extends Error{}t.MalformedJSON=r;t.partialParse=e=>function(e,t=511){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return((e,t)=>{const s=e.length;let i=0;const a=e=>{throw new n(`${e} at position ${i}`)},o=e=>{throw new r(`${e} at position ${i}`)},c=()=>(d(),i>=s&&a("Unexpected end of input"),'"'===e[i]?l():"{"===e[i]?p():"["===e[i]?u():"null"===e.substring(i,i+4)||16&t&&s-i<4&&"null".startsWith(e.substring(i))?(i+=4,null):"true"===e.substring(i,i+4)||32&t&&s-i<4&&"true".startsWith(e.substring(i))?(i+=4,!0):"false"===e.substring(i,i+5)||32&t&&s-i<5&&"false".startsWith(e.substring(i))?(i+=5,!1):"Infinity"===e.substring(i,i+8)||128&t&&s-i<8&&"Infinity".startsWith(e.substring(i))?(i+=8,1/0):"-Infinity"===e.substring(i,i+9)||256&t&&1<s-i&&s-i<9&&"-Infinity".startsWith(e.substring(i))?(i+=9,-1/0):"NaN"===e.substring(i,i+3)||64&t&&s-i<3&&"NaN".startsWith(e.substring(i))?(i+=3,NaN):h()),l=()=>{const n=i;let r=!1;for(i++;i<s&&('"'!==e[i]||r&&"\\"===e[i-1]);)r="\\"===e[i]&&!r,i++;if('"'==e.charAt(i))try{return JSON.parse(e.substring(n,++i-Number(r)))}catch(e){o(String(e))}else if(1&t)try{return JSON.parse(e.substring(n,i-Number(r))+'"')}catch(t){return JSON.parse(e.substring(n,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},p=()=>{i++,d();const n={};try{for(;"}"!==e[i];){if(d(),i>=s&&8&t)return n;const r=l();d(),i++;try{const e=c();Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(8&t)return n;throw e}d(),","===e[i]&&i++}}catch(e){if(8&t)return n;a("Expected '}' at end of object")}return i++,n},u=()=>{i++;const n=[];try{for(;"]"!==e[i];)n.push(c()),d(),","===e[i]&&i++}catch(e){if(4&t)return n;a("Expected ']' at end of array")}return i++,n},h=()=>{if(0===i){"-"===e&&2&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(n){if(2&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}o(String(n))}}const n=i;for("-"===e[i]&&i++;e[i]&&!",]}".includes(e[i]);)i++;i!=s||2&t||a("Unterminated number literal");try{return JSON.parse(e.substring(n,i))}catch(r){"-"===e.substring(n,i)&&2&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(n,e.lastIndexOf("e")))}catch(e){o(String(e))}}},d=()=>{for(;i<s&&" \n\r\t".includes(e[i]);)i++};return c()})(e.trim(),t)}(e,509)},3694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transcriptions=void 0;const r=n(2040),s=n(2018);class i extends r.APIResource{create(e,t){return this._client.post("/audio/transcriptions",(0,s.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}t.Transcriptions=i},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realtime=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(3850)),a=n(3850),o=r.__importStar(n(2729)),c=n(2729);class l extends s.APIResource{constructor(){super(...arguments),this.sessions=new i.Sessions(this._client),this.transcriptionSessions=new o.TranscriptionSessions(this._client)}}t.Realtime=l,l.Sessions=a.Sessions,l.TranscriptionSessions=c.TranscriptionSessions},3762:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r="",s=e){if(n.has(s))return;n.add(s);const{internal:i,trace:a}=function(){const{stackTraceLimit:e,prepareStackTrace:t}=Error;let n;if(Error.stackTraceLimit=4,Error.prepareStackTrace=function(e,t){n=t},(new Error).stack,Error.stackTraceLimit=e,Error.prepareStackTrace=t,!n)return{internal:!1,trace:""};const r=n.slice(2,4);return{internal:/[\\/]@babel[\\/]/.test(r[1].getFileName()),trace:r.map(e=>`    at ${e}`).join("\n")}}();i||console.warn(`${r}\`${e}\` has been deprecated, please migrate to \`${t}\`\n${a}`)};const n=new Set},3766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4701),o=n(4815);class c extends r.APIResource{create(e,t,n){return this._client.post(o.path`/vector_stores/${e}/files`,{body:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(o.path`/vector_stores/${r}/files/${e}`,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{vector_store_id:r,...s}=t;return this._client.post(o.path`/vector_stores/${r}/files/${e}`,{body:s,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(o.path`/vector_stores/${e}/files`,s.CursorPage,{query:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{vector_store_id:r}=t;return this._client.delete(o.path`/vector_stores/${r}/files/${e}`,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r=(0,i.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const s=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse(),i=s.data;switch(i.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,a.sleep)(e);break;case"failed":case"completed":return i}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){const{vector_store_id:r}=t;return this._client.getAPIList(o.path`/vector_stores/${r}/files/${e}/content`,s.Page,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Files=c},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return!!t&&((0,s.default)(t.type,e)?void 0===n||(0,r.default)(t,n):!n&&"Placeholder"===t.type&&e in a.FLIPPED_ALIAS_KEYS&&(0,i.default)(t.expectedNode,e))};var r=n(6616),s=n(2079),i=n(3571),a=n(9793)},3847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isVariableDeclaration)(e)&&("var"!==e.kind||e[s])};var r=n(8960),s=Symbol.for("var used to be block scoped")},3850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sessions=void 0;const r=n(2040),s=n(262);class i extends r.APIResource{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Sessions=i},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2352),s=r,i=n(2264),a=n(4950),o=n(9578);const{getAssignmentIdentifiers:c}=s,l={ReferencedIdentifier({node:e},t){e.name===t.oldName&&(e.name=t.newName)},Scope(e,t){e.scope.bindingIdentifierEquals(t.oldName,t.binding.identifier)||(e.skip(),e.isMethod()&&(e.requeueComputedKeyAndDecorators?e.requeueComputedKeyAndDecorators():o.requeueComputedKeyAndDecorators.call(e)))},ObjectProperty({node:e,scope:t},n){const{name:r}=e.key;var s;!e.shorthand||r!==n.oldName&&r!==n.newName||t.getBindingIdentifier(r)!==n.binding.identifier||(e.shorthand=!1,null!=(s=e.extra)&&s.shorthand&&(e.extra.shorthand=!1))},"AssignmentExpression|Declaration|VariableDeclarator"(e,t){if(e.isVariableDeclaration())return;const n=e.isAssignmentExpression()?c(e.node):e.getOuterBindingIdentifiers();for(const e in n)e===t.oldName&&(n[e].name=t.newName)}};t.default=class{constructor(e,t,n){this.newName=n,this.oldName=t,this.binding=e}maybeConvertFromExportDeclaration(e){const t=e.parentPath;if(t.isExportDeclaration()){if(t.isExportDefaultDeclaration()){const{declaration:e}=t.node;if(r.isDeclaration(e)&&!e.id)return}t.isExportAllDeclaration()||t.splitExportDeclaration()}}maybeConvertFromClassFunctionDeclaration(e){return e}maybeConvertFromClassFunctionExpression(e){return e}rename(){const{binding:e,oldName:t,newName:n}=this,{scope:s,path:o}=e,c=o.find(e=>e.isDeclaration()||e.isFunctionExpression()||e.isClassExpression());c&&c.getOuterBindingIdentifiers()[t]===e.identifier&&this.maybeConvertFromExportDeclaration(c);const p=arguments[0]||s.block,u={discriminant:!0};r.isMethod(p)&&(p.computed&&(u.key=!0),r.isObjectMethod(p)||(u.decorators=!0)),(0,i.traverseNode)(p,(0,a.explode)(l),s,this,s.path,u),arguments[0]||(s.removeOwnBinding(t),s.bindings[n]=e,this.binding.identifier.name=n),c&&(this.maybeConvertFromClassFunctionDeclaration(o),this.maybeConvertFromClassFunctionExpression(o))}}},3908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!(!e||!r.VISITOR_KEYS[e.type])};var r=n(9793)},3912:(e,t,n)=>{var r=n(1074),s=n(9698),i=n(2054);e.exports=function(e){return s(e)?i(e):r(e)}},3937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.split(".");return e=>(0,r.default)(e,n,t)};var r=n(4965)},3946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=t.Videos=t.VectorStores=t.Uploads=t.Responses=t.Realtime=t.Moderations=t.Models=t.Images=t.Graders=t.FineTuning=t.Files=t.Evals=t.Embeddings=t.Conversations=t.Containers=t.Completions=t.Beta=t.Batches=t.Audio=void 0;const r=n(9632);r.__exportStar(n(7949),t),r.__exportStar(n(5653),t);var s=n(1253);Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return s.Audio}});var i=n(2530);Object.defineProperty(t,"Batches",{enumerable:!0,get:function(){return i.Batches}});var a=n(6183);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return a.Beta}});var o=n(9045);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return o.Completions}});var c=n(2099);Object.defineProperty(t,"Containers",{enumerable:!0,get:function(){return c.Containers}});var l=n(8997);Object.defineProperty(t,"Conversations",{enumerable:!0,get:function(){return l.Conversations}});var p=n(1242);Object.defineProperty(t,"Embeddings",{enumerable:!0,get:function(){return p.Embeddings}});var u=n(4769);Object.defineProperty(t,"Evals",{enumerable:!0,get:function(){return u.Evals}});var h=n(1461);Object.defineProperty(t,"Files",{enumerable:!0,get:function(){return h.Files}});var d=n(3453);Object.defineProperty(t,"FineTuning",{enumerable:!0,get:function(){return d.FineTuning}});var f=n(9777);Object.defineProperty(t,"Graders",{enumerable:!0,get:function(){return f.Graders}});var m=n(7370);Object.defineProperty(t,"Images",{enumerable:!0,get:function(){return m.Images}});var y=n(9458);Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return y.Models}});var g=n(4975);Object.defineProperty(t,"Moderations",{enumerable:!0,get:function(){return g.Moderations}});var T=n(8769);Object.defineProperty(t,"Realtime",{enumerable:!0,get:function(){return T.Realtime}});var S=n(477);Object.defineProperty(t,"Responses",{enumerable:!0,get:function(){return S.Responses}});var b=n(3017);Object.defineProperty(t,"Uploads",{enumerable:!0,get:function(){return b.Uploads}});var E=n(4229);Object.defineProperty(t,"VectorStores",{enumerable:!0,get:function(){return E.VectorStores}});var x=n(8284);Object.defineProperty(t,"Videos",{enumerable:!0,get:function(){return x.Videos}});var v=n(8014);Object.defineProperty(t,"Webhooks",{enumerable:!0,get:function(){return v.Webhooks}})},3955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{list(e,t={},n){return this._client.getAPIList(i.path`/fine_tuning/jobs/${e}/checkpoints`,s.CursorPage,{query:t,...n})}}t.Checkpoints=a},3962:(e,t)=>{"use strict";function n(){this.space()}Object.defineProperty(t,"__esModule",{value:!0}),t.JSXAttribute=function(e){this.print(e.name),e.value&&(this.tokenChar(61),this.print(e.value))},t.JSXClosingElement=function(e){this.tokenChar(60),this.tokenChar(47),this.print(e.name),this.tokenChar(62)},t.JSXClosingFragment=function(){this.token("</"),this.tokenChar(62)},t.JSXElement=function(e){const t=e.openingElement;if(this.print(t),!t.selfClosing){this.indent();for(const t of e.children)this.print(t);this.dedent(),this.print(e.closingElement)}},t.JSXEmptyExpression=function(){this.printInnerComments()},t.JSXExpressionContainer=function(e){this.tokenChar(123),this.print(e.expression),this.rightBrace(e)},t.JSXFragment=function(e){this.print(e.openingFragment),this.indent();for(const t of e.children)this.print(t);this.dedent(),this.print(e.closingFragment)},t.JSXIdentifier=function(e){this.word(e.name)},t.JSXMemberExpression=function(e){this.print(e.object),this.tokenChar(46),this.print(e.property)},t.JSXNamespacedName=function(e){this.print(e.namespace),this.tokenChar(58),this.print(e.name)},t.JSXOpeningElement=function(e){this.tokenChar(60),this.print(e.name),e.typeArguments&&this.print(e.typeArguments),this.print(e.typeParameters),e.attributes.length>0&&(this.space(),this.printJoin(e.attributes,void 0,void 0,n)),e.selfClosing&&(this.space(),this.tokenChar(47)),this.tokenChar(62)},t.JSXOpeningFragment=function(){this.tokenChar(60),this.tokenChar(62)},t.JSXSpreadAttribute=function(e){this.tokenChar(123),this.token("..."),this.print(e.argument),this.rightBrace(e)},t.JSXSpreadChild=function(e){this.tokenChar(123),this.token("..."),this.print(e.expression),this.rightBrace(e)},t.JSXText=function(e){const t=this.getPossibleRaw(e);void 0!==t?this.token(t,!0):this.token(e.value,!0)}},3973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCodePoint=l,t.readInt=c,t.readStringContents=function(e,t,n,r,s,o){const c=n,l=r,p=s;let u="",h=null,d=n;const{length:f}=t;for(;;){if(n>=f){o.unterminated(c,l,p),u+=t.slice(d,n);break}const m=t.charCodeAt(n);if(i(e,m,t,n)){u+=t.slice(d,n);break}if(92===m){u+=t.slice(d,n);const i=a(t,n,r,s,"template"===e,o);null!==i.ch||h?u+=i.ch:h={pos:n,lineStart:r,curLine:s},({pos:n,lineStart:r,curLine:s}=i),d=n}else 8232===m||8233===m?(++s,r=++n):10===m||13===m?"template"===e?(u+=t.slice(d,n)+"\n",++n,13===m&&10===t.charCodeAt(n)&&++n,++s,d=r=n):o.unterminated(c,l,p):++n}return{pos:n,str:u,firstInvalidLoc:h,lineStart:r,curLine:s,containsInvalid:!!h}};var n=function(e){return e>=48&&e<=57};const r={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},s={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function i(e,t,n,r){return"template"===e?96===t||36===t&&123===n.charCodeAt(r+1):t===("double"===e?34:39)}function a(e,t,n,r,s,i){const a=!s;t++;const c=e=>({pos:t,ch:e,lineStart:n,curLine:r}),p=e.charCodeAt(t++);switch(p){case 110:return c("\n");case 114:return c("\r");case 120:{let s;return({code:s,pos:t}=o(e,t,n,r,2,!1,a,i)),c(null===s?null:String.fromCharCode(s))}case 117:{let s;return({code:s,pos:t}=l(e,t,n,r,a,i)),c(null===s?null:String.fromCodePoint(s))}case 116:return c("\t");case 98:return c("\b");case 118:return c("\v");case 102:return c("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:n=t,++r;case 8232:case 8233:return c("");case 56:case 57:if(s)return c(null);i.strictNumericEscape(t-1,n,r);default:if(p>=48&&p<=55){const a=t-1;let o=/^[0-7]+/.exec(e.slice(a,t+2))[0],l=parseInt(o,8);l>255&&(o=o.slice(0,-1),l=parseInt(o,8)),t+=o.length-1;const p=e.charCodeAt(t);if("0"!==o||56===p||57===p){if(s)return c(null);i.strictNumericEscape(a,n,r)}return c(String.fromCharCode(l))}return c(String.fromCharCode(p))}}function o(e,t,n,r,s,i,a,o){const l=t;let p;return({n:p,pos:t}=c(e,t,n,r,16,s,i,!1,o,!a)),null===p&&(a?o.invalidEscapeSequence(l,n,r):t=l-1),{code:p,pos:t}}function c(e,t,i,a,o,c,l,p,u,h){const d=t,f=16===o?r.hex:r.decBinOct,m=16===o?s.hex:10===o?s.dec:8===o?s.oct:s.bin;let y=!1,g=0;for(let r=0,s=null==c?1/0:c;r<s;++r){const r=e.charCodeAt(t);let s;if(95===r&&"bail"!==p){const n=e.charCodeAt(t-1),r=e.charCodeAt(t+1);if(p){if(Number.isNaN(r)||!m(r)||f.has(n)||f.has(r)){if(h)return{n:null,pos:t};u.unexpectedNumericSeparator(t,i,a)}}else{if(h)return{n:null,pos:t};u.numericSeparatorInEscapeSequence(t,i,a)}++t;continue}if(s=r>=97?r-97+10:r>=65?r-65+10:n(r)?r-48:1/0,s>=o){if(s<=9&&h)return{n:null,pos:t};if(s<=9&&u.invalidDigit(t,i,a,o))s=0;else{if(!l)break;s=0,y=!0}}++t,g=g*o+s}return t===d||null!=c&&t-d!==c||y?{n:null,pos:t}:{n:g,pos:t}}function l(e,t,n,r,s,i){let a;if(123===e.charCodeAt(t)){if(++t,({code:a,pos:t}=o(e,t,n,r,e.indexOf("}",t)-t,!0,s,i)),++t,null!==a&&a>1114111){if(!s)return{code:null,pos:t};i.invalidCodePoint(t,n,r)}}else({code:a,pos:t}=o(e,t,n,r,4,!1,s,i));return{code:a,pos:t}}},3991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientSecrets=void 0;const r=n(2040);class s extends r.APIResource{create(e,t){return this._client.post("/realtime/client_secrets",{body:e,...t})}}t.ClientSecrets=s},4001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n=!1){return e.object=(0,r.memberExpression)(e.object,e.property,e.computed),e.property=t,e.computed=!!n,e};var r=n(8079)},4003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sessions=void 0;const r=n(2040),s=n(262),i=n(4815);class a extends r.APIResource{create(e,t){return this._client.post("/chatkit/sessions",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}cancel(e,t){return this._client.post(i.path`/chatkit/sessions/${e}/cancel`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}}t.Sessions=a},4014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDeprecatedGenerators=function(e){{const t={Noop(){},TSExpressionWithTypeArguments(e){this.print(e.expression),this.print(e.typeParameters)},DecimalLiteral(e){const t=this.getPossibleRaw(e);this.format.minified||void 0===t?this.word(e.value+"m"):this.word(t)}};Object.assign(e.prototype,t)}}},4058:(e,t,n)=>{var r=n(4792),s=n(5539)(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=s},4068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9320),s=n(2802);t.default=class{constructor(e,t){var n;this._map=void 0,this._rawMappings=void 0,this._sourceFileName=void 0,this._lastGenLine=0,this._lastSourceLine=0,this._lastSourceColumn=0,this._inputMap=null;const i=this._map=new r.GenMapping({sourceRoot:e.sourceRoot});if(this._sourceFileName=null==(n=e.sourceFileName)?void 0:n.replace(/\\/g,"/"),this._rawMappings=void 0,e.inputSourceMap){this._inputMap=new s.TraceMap(e.inputSourceMap);const t=this._inputMap.resolvedSources;if(t.length)for(let e=0;e<t.length;e++){var a;(0,r.setSourceContent)(i,t[e],null==(a=this._inputMap.sourcesContent)?void 0:a[e])}}if("string"!=typeof t||e.inputSourceMap){if("object"==typeof t)for(const e of Object.keys(t))(0,r.setSourceContent)(i,e.replace(/\\/g,"/"),t[e])}else(0,r.setSourceContent)(i,this._sourceFileName,t)}get(){return(0,r.toEncodedMap)(this._map)}getDecoded(){return(0,r.toDecodedMap)(this._map)}getRawMappings(){return this._rawMappings||(this._rawMappings=(0,r.allMappings)(this._map))}mark(e,t,n,i,a,o){var c;let l;if(this._rawMappings=void 0,null!=t)if(this._inputMap){if(l=(0,s.originalPositionFor)(this._inputMap,{line:t,column:n}),!l.name&&a){const e=(0,s.originalPositionFor)(this._inputMap,a);e.name&&(i=e.name)}}else l={name:null,source:(null==o?void 0:o.replace(/\\/g,"/"))||this._sourceFileName,line:t,column:n};(0,r.maybeAddMapping)(this._map,{name:i,generated:e,source:null==(c=l)?void 0:c.source,original:l})}}},4089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){const c=[];let l=!0;for(const p of t)if((0,s.isEmptyStatement)(p)||(l=!1),(0,s.isExpression)(p))c.push(p);else if((0,s.isExpressionStatement)(p))c.push(p.expression);else if((0,s.isVariableDeclaration)(p)){if("var"!==p.kind)return;for(const e of p.declarations){const t=(0,r.default)(e);for(const e of Object.keys(t))n.push({kind:p.kind,id:(0,o.default)(t[e])});e.init&&c.push((0,i.assignmentExpression)("=",e.id,e.init))}l=!0}else if((0,s.isIfStatement)(p)){const t=p.consequent?e([p.consequent],n):(0,a.buildUndefinedNode)(),r=p.alternate?e([p.alternate],n):(0,a.buildUndefinedNode)();if(!t||!r)return;c.push((0,i.conditionalExpression)(p.test,t,r))}else if((0,s.isBlockStatement)(p)){const t=e(p.body,n);if(!t)return;c.push(t)}else{if(!(0,s.isEmptyStatement)(p))return;0===t.indexOf(p)&&(l=!0)}return l&&c.push((0,a.buildUndefinedNode)()),1===c.length?c[0]:(0,i.sequenceExpression)(c)};var r=n(329),s=n(8960),i=n(8079),a=n(985),o=n(5279)},4128:(e,t,n)=>{var r=n(1800),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},4133:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.EntryPointDetector=void 0;const o=a(n(1398)),c=a(n(6928));t.EntryPointDetector=class{async detectEntryPoints(e){const t=[],n=["**/*[Mm]ain.{java,ts,tsx,js,jsx,py}","**/*[Aa]pp.{tsx,ts,jsx,js,py}","**/*[Ii]ndex.{tsx,ts,jsx,js}","**/*[Aa]pplication.java","**/src/index.{tsx,ts,jsx,js}","**/src/App.{tsx,ts,jsx,js}","**/src/main/java/**/*Application.java","**/__main__.py","**/manage.py","**/app.py","**/run.py","**/wsgi.py","**/asgi.py"];for(const e of n){const n=await o.workspace.findFiles(e,"**/node_modules/**");for(const e of n){const n=this.calculateEntryPointScore(e);n>0&&t.push({filePath:e.fsPath,type:this.detectEntryPointType(e),score:n})}}const r=await this.findFilesWithMainMethod(e);t.push(...r);const s=this.deduplicateEntryPoints(t);return s.sort((e,t)=>t.score-e.score),this.markPrimaryEntryPoint(s),s.sort((e,t)=>e.isPrimaryEntry&&!t.isPrimaryEntry?-1:!e.isPrimaryEntry&&t.isPrimaryEntry?1:t.score-e.score),s.slice(0,10)}markPrimaryEntryPoint(e){const t=[/[\\/]src[\\/]index\.(tsx|ts|jsx|js)$/i,/[\\/]src[\\/]main\.(tsx|ts|jsx|js)$/i,/[\\/]index\.(tsx|ts|jsx|js)$/i,/[\\/]main\.(tsx|ts|jsx|js)$/i];for(const n of t){const t=e.find(e=>n.test(e.filePath));if(t)return t.isPrimaryEntry=!0,t.score+=100,void console.log(`Primary entry point detected: ${t.filePath}`)}const n=e.find(e=>"main"===e.type&&e.filePath.endsWith(".java"));if(n)return n.isPrimaryEntry=!0,n.score+=100,void console.log(`Primary entry point detected (Java main): ${n.filePath}`);const r=[/__main__\.py$/i,/[\/]main\.py$/i,/[\/]app\.py$/i,/[\/]manage\.py$/i,/[\/]run\.py$/i,/[\/]wsgi\.py$/i,/[\/]asgi\.py$/i];for(const t of r){const n=e.find(e=>t.test(e.filePath));if(n)return n.isPrimaryEntry=!0,n.score+=100,void console.log(`Primary entry point detected (Python): ${n.filePath}`)}e.length>0&&(e[0].isPrimaryEntry=!0,console.log(`Primary entry point fallback: ${e[0].filePath}`))}calculateEntryPointScore(e){const t=c.basename(e.fsPath).toLowerCase(),n=e.fsPath.toLowerCase();let r=0;return"index.tsx"!==t&&"index.ts"!==t||(r+=10),"app.tsx"!==t&&"app.ts"!==t||(r+=9),"main.tsx"!==t&&"main.ts"!==t||(r+=8),t.includes("main.java")&&(r+=10),t.includes("application.java")&&(r+=9),"__main__.py"===t&&(r+=10),"main.py"===t&&(r+=9),"app.py"===t&&(r+=8),"manage.py"===t&&(r+=9),"wsgi.py"!==t&&"asgi.py"!==t||(r+=7),"run.py"===t&&(r+=7),n.includes("src/index")&&(r+=5),n.includes("src/app")&&(r+=4),n.includes("src/main")&&(r+=4),n.includes("public/")&&(r+=3),n.includes("/pages/")&&(r+=2),e.fsPath.split(c.sep).length<=5&&(r+=2),r}detectEntryPointType(e){const t=c.basename(e.fsPath).toLowerCase();return t.includes("main")?"main":t.includes("index")?"index":t.includes("app")?"app":"config"}async findFilesWithMainMethod(e){const t=[],n=await o.workspace.findFiles("**/*.java","**/node_modules/**",100);for(const e of n){const n=await this.hasMainMethod(e),r=await this.hasSpringBootAnnotation(e);(n||r)&&(t.push({filePath:e.fsPath,type:"main",score:r?15:10}),r&&console.log(`Spring Boot entry point detected: ${e.fsPath}`))}const r=await o.workspace.findFiles("**/*.py","{**/node_modules/**,**/__pycache__/**,**/venv/**,**/.venv/**,**/env/**}",100);for(const e of r)await this.hasPythonMainBlock(e)&&t.push({filePath:e.fsPath,type:"main",score:8});return t}async hasPythonMainBlock(e){try{const t=(await o.workspace.openTextDocument(e)).getText();return/if\s+__name__\s*==\s*['"]__main__['"]\s*:/.test(t)}catch(e){return!1}}async hasMainMethod(e){try{const t=(await o.workspace.openTextDocument(e)).getText();return[/public\s+static\s+void\s+main\s*\(\s*String\s*\[\s*\]\s*\w*\s*\)/,/public\s+static\s+void\s+main\s*\(\s*String\s+\w*\s*\[\s*\]\s*\)/,/public\s+static\s+void\s+main\s*\(\s*String\s*\.\.\.\s*\w*\s*\)/].some(e=>e.test(t))}catch(e){return!1}}async hasSpringBootAnnotation(e){try{const t=(await o.workspace.openTextDocument(e)).getText();return[/@SpringBootApplication/,/@EnableAutoConfiguration/].some(e=>e.test(t))}catch(e){return!1}}deduplicateEntryPoints(e){const t=new Set,n=[];for(const r of e)t.has(r.filePath)||(t.add(r.filePath),n.push(r));return n}}},4172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWebhookSignatureError=t.ContentFilterFinishReasonError=t.LengthFinishReasonError=t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.OpenAIError=void 0;const r=n(917);class s extends Error{}t.OpenAIError=s;class i extends s{constructor(e,t,n,r){super(`${i.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=t;const s=t;this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,s){if(!e||!s)return new a({message:n,cause:(0,r.castToError)(t)});const m=t?.error;return 400===e?new o(e,m,n,s):401===e?new c(e,m,n,s):403===e?new l(e,m,n,s):404===e?new p(e,m,n,s):409===e?new u(e,m,n,s):422===e?new h(e,m,n,s):429===e?new d(e,m,n,s):e>=500?new f(e,m,n,s):new i(e,m,n,s)}}t.APIError=i,t.APIUserAbortError=class extends i{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class a extends i{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}t.APIConnectionError=a,t.APIConnectionTimeoutError=class extends a{constructor({message:e}={}){super({message:e??"Request timed out."})}};class o extends i{}t.BadRequestError=o;class c extends i{}t.AuthenticationError=c;class l extends i{}t.PermissionDeniedError=l;class p extends i{}t.NotFoundError=p;class u extends i{}t.ConflictError=u;class h extends i{}t.UnprocessableEntityError=h;class d extends i{}t.RateLimitError=d;class f extends i{}t.InternalServerError=f,t.LengthFinishReasonError=class extends s{constructor(){super("Could not parse response content as the length limit was reached")}},t.ContentFilterFinishReasonError=class extends s{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};class m extends Error{constructor(e){super(e)}}t.InvalidWebhookSignatureError=m},4212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(2268)),a=n(2268);class o extends s.APIResource{constructor(){super(...arguments),this.graders=new i.Graders(this._client)}}t.Alpha=o,o.Graders=a.Graders},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStores=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(3338)),a=n(3338),o=r.__importStar(n(3766)),c=n(3766),l=n(5552),p=n(262),u=n(4815);class h extends s.APIResource{constructor(){super(...arguments),this.files=new o.Files(this._client),this.fileBatches=new i.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(u.path`/vector_stores/${e}`,{...t,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(u.path`/vector_stores/${e}`,{body:t,...n,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",l.CursorPage,{query:e,...t,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(u.path`/vector_stores/${e}`,{...t,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,n){return this._client.getAPIList(u.path`/vector_stores/${e}/search`,l.Page,{body:t,method:"post",...n,headers:(0,p.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.VectorStores=h,h.Files=c.Files,h.FileBatches=a.FileBatches},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(4960),s=n(1373),i=s,a=n(2352),o=n(9594),c=n(6735),l=n(4014);const{isExpression:p,isFunction:u,isStatement:h,isClassBody:d,isTSInterfaceBody:f,isTSEnumMember:m}=a,y=/e/i,g=/\.0+$/,T=/[\n\r\u2028\u2029]/,S=/[\n\r\u2028\u2029]|\*\//;function b(e){return"CommentLine"===e.type||T.test(e.value)}const{needsParens:E}=i;class x{constructor(e,t,n=null,i=null){this.tokenContext=s.TokenContext.normal,this._tokens=null,this._originalCode=null,this._currentNode=null,this._indent=0,this._indentRepeat=0,this._insideAux=!1,this._noLineTerminator=!1,this._noLineTerminatorAfterNode=null,this._printAuxAfterOnNextUserNode=!1,this._printedComments=new Set,this._endsWithInteger=!1,this._endsWithWord=!1,this._endsWithDiv=!1,this._lastCommentLine=0,this._endsWithInnerRaw=!1,this._indentInnerComments=!0,this.tokenMap=null,this._boundGetRawIdentifier=this._getRawIdentifier.bind(this),this._printSemicolonBeforeNextNode=-1,this._printSemicolonBeforeNextToken=-1,this.format=e,this._tokens=n,this._originalCode=i,this._indentRepeat=e.indent.style.length,this._inputMap=(null==t?void 0:t._inputMap)||null,this._buf=new r.default(t,e.indent.style[0])}enterForStatementInit(){return this.tokenContext|=s.TokenContext.forInitHead|s.TokenContext.forInOrInitHeadAccumulate,()=>this.tokenContext=s.TokenContext.normal}enterForXStatementInit(e){return e?(this.tokenContext|=s.TokenContext.forOfHead,null):(this.tokenContext|=s.TokenContext.forInHead|s.TokenContext.forInOrInitHeadAccumulate,()=>this.tokenContext=s.TokenContext.normal)}enterDelimited(){const e=this.tokenContext,t=this._noLineTerminatorAfterNode;return e&s.TokenContext.forInOrInitHeadAccumulate||null!==t?(this._noLineTerminatorAfterNode=null,this.tokenContext=s.TokenContext.normal,()=>{this._noLineTerminatorAfterNode=t,this.tokenContext=e}):()=>{}}generate(e){return this.format.preserveFormat&&(this.tokenMap=new o.TokenMap(e,this._tokens,this._originalCode)),this.print(e),this._maybeAddAuxComment(),this._buf.get()}indent(){const{format:e}=this;e.preserveFormat||e.compact||e.concise||this._indent++}dedent(){const{format:e}=this;e.preserveFormat||e.compact||e.concise||this._indent--}semicolon(e=!1){if(this._maybeAddAuxComment(),e)return this._appendChar(59),void(this._noLineTerminator=!1);if(this.tokenMap){const e=this._currentNode;if(null!=e.start&&null!=e.end){if(!this.tokenMap.endMatches(e,";"))return void(this._printSemicolonBeforeNextNode=this._buf.getCurrentLine());const t=this.tokenMap.getIndexes(this._currentNode);this._catchUpTo(this._tokens[t[t.length-1]].loc.start)}}this._queue(59),this._noLineTerminator=!1}rightBrace(e){this.format.minified&&this._buf.removeLastSemicolon(),this.sourceWithOffset("end",e.loc,-1),this.tokenChar(125)}rightParens(e){this.sourceWithOffset("end",e.loc,-1),this.tokenChar(41)}space(e=!1){const{format:t}=this;if(!t.compact&&!t.preserveFormat)if(e)this._space();else if(this._buf.hasContent()){const e=this.getLastChar();32!==e&&10!==e&&this._space()}}word(e,t=!1){this.tokenContext&=s.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(e),this._maybeAddAuxComment(),this.tokenMap&&this._catchUpToCurrentToken(e),(this._endsWithWord||this._endsWithDiv&&47===e.charCodeAt(0))&&this._space(),this._append(e,!1),this._endsWithWord=!0,this._noLineTerminator=t}number(e,t){this.word(e),this._endsWithInteger=Number.isInteger(t)&&!function(e){if(e.length>2&&48===e.charCodeAt(0)){const t=e.charCodeAt(1);return 98===t||111===t||120===t}return!1}(e)&&!y.test(e)&&!g.test(e)&&46!==e.charCodeAt(e.length-1)}token(e,t=!1,n=0){this.tokenContext&=s.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(e,n),this._maybeAddAuxComment(),this.tokenMap&&this._catchUpToCurrentToken(e,n);const r=this.getLastChar(),i=e.charCodeAt(0);(33===r&&("--"===e||61===i)||43===i&&43===r||45===i&&45===r||46===i&&this._endsWithInteger)&&this._space(),this._append(e,t),this._noLineTerminator=!1}tokenChar(e){this.tokenContext&=s.TokenContext.forInOrInitHeadAccumulatePassThroughMask;const t=String.fromCharCode(e);this._maybePrintInnerComments(t),this._maybeAddAuxComment(),this.tokenMap&&this._catchUpToCurrentToken(t);const n=this.getLastChar();(43===e&&43===n||45===e&&45===n||46===e&&this._endsWithInteger)&&this._space(),this._appendChar(e),this._noLineTerminator=!1}newline(e=1,t){if(!(e<=0)){if(!t){if(this.format.retainLines||this.format.compact)return;if(this.format.concise)return void this.space()}e>2&&(e=2),e-=this._buf.getNewlineCount();for(let t=0;t<e;t++)this._newline()}}endsWith(e){return this.getLastChar()===e}getLastChar(){return this._buf.getLastChar()}endsWithCharAndNewline(){return this._buf.endsWithCharAndNewline()}removeTrailingNewline(){this._buf.removeTrailingNewline()}exactSource(e,t){e?(this._catchUp("start",e),this._buf.exactSource(e,t)):t()}source(e,t){t&&(this._catchUp(e,t),this._buf.source(e,t))}sourceWithOffset(e,t,n){t&&!this.format.preserveFormat&&(this._catchUp(e,t),this._buf.sourceWithOffset(e,t,n))}sourceIdentifierName(e,t){if(!this._buf._canMarkIdName)return;const n=this._buf._sourcePosition;n.identifierNamePos=t,n.identifierName=e}_space(){this._queue(32)}_newline(){this._queue(10)}_catchUpToCurrentToken(e,t=0){const n=this.tokenMap.findMatching(this._currentNode,e,t);n&&this._catchUpTo(n.loc.start),-1!==this._printSemicolonBeforeNextToken&&this._printSemicolonBeforeNextToken===this._buf.getCurrentLine()&&(this._buf.appendChar(59),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1),this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1}_append(e,t){this._maybeIndent(e.charCodeAt(0)),this._buf.append(e,t),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1}_appendChar(e){this._maybeIndent(e),this._buf.appendChar(e),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1}_queue(e){this._maybeIndent(e),this._buf.queue(e),this._endsWithWord=!1,this._endsWithInteger=!1}_maybeIndent(e){this._indent&&10!==e&&this.endsWith(10)&&this._buf.queueIndentation(this._getIndent())}_shouldIndent(e){if(this._indent&&10!==e&&this.endsWith(10))return!0}catchUp(e){if(!this.format.retainLines)return;const t=e-this._buf.getCurrentLine();for(let e=0;e<t;e++)this._newline()}_catchUp(e,t){const{format:n}=this;if(!n.preserveFormat)return void(n.retainLines&&null!=t&&t[e]&&this.catchUp(t[e].line));const r=null==t?void 0:t[e];null!=r&&this._catchUpTo(r)}_catchUpTo({line:e,column:t,index:n}){const r=e-this._buf.getCurrentLine();if(r>0&&this._noLineTerminator)return;for(let e=0;e<r;e++)this._newline();const s=r>0?t:t-this._buf.getCurrentColumn();if(s>0){const e=this._originalCode?this._originalCode.slice(n-s,n).replace(/[^\t\x0B\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]/gu," "):" ".repeat(s);this._append(e,!1)}}_getIndent(){return this._indentRepeat*this._indent}printTerminatorless(e){this._noLineTerminator=!0,this.print(e)}print(e,t=!1,n){var r,a,o;if(!e)return;this._endsWithInnerRaw=!1;const c=e.type,l=this.format,u=l.concise;e._compact&&(l.concise=!0);const h=this[c];if(void 0===h)throw new ReferenceError(`unknown node of type ${JSON.stringify(c)} with constructor ${JSON.stringify(e.constructor.name)}`);const d=this._currentNode;this._currentNode=e,this.tokenMap&&(this._printSemicolonBeforeNextToken=this._printSemicolonBeforeNextNode);const f=this._insideAux;this._insideAux=null==e.loc,this._maybeAddAuxComment(this._insideAux&&!f);const m=null==(r=e.extra)?void 0:r.parenthesized;let y=m&&l.preserveFormat||m&&l.retainFunctionParens&&"FunctionExpression"===c||E(e,d,this.tokenContext,l.preserveFormat?this._boundGetRawIdentifier:void 0);if(!y&&m&&null!=(a=e.leadingComments)&&a.length&&"CommentBlock"===e.leadingComments[0].type)switch(null==d?void 0:d.type){case"ExpressionStatement":case"VariableDeclarator":case"AssignmentExpression":case"ReturnStatement":break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":if(d.callee!==e)break;default:y=!0}let g,T,S=!1;var x;!y&&this._noLineTerminator&&(null!=(o=e.leadingComments)&&o.some(b)||this.format.retainLines&&e.loc&&e.loc.start.line>this._buf.getCurrentLine())&&(y=!0,S=!0),y||(t||(t=!!d&&this._noLineTerminatorAfterNode===d&&i.isLastChild(d,e)),t&&(null!=(x=e.trailingComments)&&x.some(b)?p(e)&&(y=!0):(g=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=e))),y&&(this.tokenChar(40),S&&this.indent(),this._endsWithInnerRaw=!1,this.tokenContext&s.TokenContext.forInOrInitHeadAccumulate&&(T=this.tokenContext,this.tokenContext=s.TokenContext.normal),g=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=null),this._lastCommentLine=0,this._printLeadingComments(e,d);const v="Program"===c||"File"===c?null:e.loc;this.exactSource(v,h.bind(this,e,d)),y?(this._printTrailingComments(e,d),S&&(this.dedent(),this.newline()),this.tokenChar(41),this._noLineTerminator=t,T&&(this.tokenContext=T)):t&&!this._noLineTerminator?(this._noLineTerminator=!0,this._printTrailingComments(e,d)):this._printTrailingComments(e,d,n),this._currentNode=d,l.concise=u,this._insideAux=f,void 0!==g&&(this._noLineTerminatorAfterNode=g),this._endsWithInnerRaw=!1}_maybeAddAuxComment(e){e&&this._printAuxBeforeComment(),this._insideAux||this._printAuxAfterComment()}_printAuxBeforeComment(){if(this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!0;const e=this.format.auxiliaryCommentBefore;e&&this._printComment({type:"CommentBlock",value:e},0)}_printAuxAfterComment(){if(!this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!1;const e=this.format.auxiliaryCommentAfter;e&&this._printComment({type:"CommentBlock",value:e},0)}getPossibleRaw(e){const t=e.extra;if(null!=(null==t?void 0:t.raw)&&null!=t.rawValue&&e.value===t.rawValue)return t.raw}printJoin(e,t,n,r,s,i,a){if(null==e||!e.length)return;if(null==n&&this.format.retainLines){var o;const t=null==(o=e[0].loc)?void 0:o.start.line;null!=t&&t!==this._buf.getCurrentLine()&&(n=!0)}n&&this.indent();const c={nextNodeStartLine:0},l=null==r?void 0:r.bind(this),p=e.length;for(let n=0;n<p;n++){const r=e[n];var u;if(r&&(t&&this._printNewline(0===n,c),this.print(r,void 0,a||0),null==i||i(r,n),null!=l&&(n<p-1?l(n,!1):s&&l(n,!0)),t))if(null!=(u=r.trailingComments)&&u.length||(this._lastCommentLine=0),n+1===p)this.newline(1);else{var h;const t=e[n+1];c.nextNodeStartLine=(null==(h=t.loc)?void 0:h.start.line)||0,this._printNewline(!0,c)}}n&&this.dedent()}printAndIndentOnComments(e){const t=e.leadingComments&&e.leadingComments.length>0;t&&this.indent(),this.print(e),t&&this.dedent()}printBlock(e){const t=e.body;"EmptyStatement"!==t.type&&this.space(),this.print(t)}_printTrailingComments(e,t,n){const{innerComments:r,trailingComments:s}=e;null!=r&&r.length&&this._printComments(2,r,e,t,n),null!=s&&s.length&&this._printComments(2,s,e,t,n)}_printLeadingComments(e,t){const n=e.leadingComments;null!=n&&n.length&&this._printComments(0,n,e,t)}_maybePrintInnerComments(e,t){var n;this._endsWithInnerRaw&&this.printInnerComments(null==(n=this.tokenMap)?void 0:n.findMatching(this._currentNode,e,t)),this._endsWithInnerRaw=!0,this._indentInnerComments=!0}printInnerComments(e){const t=this._currentNode,n=t.innerComments;if(null==n||!n.length)return;const r=this.endsWith(32),s=this._indentInnerComments,i=this._printedComments.size;s&&this.indent(),this._printComments(1,n,t,void 0,void 0,e),r&&i!==this._printedComments.size&&this.space(),s&&this.dedent()}noIndentInnerCommentsHere(){this._indentInnerComments=!1}printSequence(e,t,n){this.printJoin(e,!0,null!=t&&t,void 0,void 0,void 0,n)}printList(e,t,n,r,s,i){this.printJoin(e,n,r,null!=s?s:v,t,i)}shouldPrintTrailingComma(e){if(!this.tokenMap)return null;const t=this.tokenMap.findLastIndex(this._currentNode,t=>this.tokenMap.matchesOriginal(t,e));return t<=0?null:this.tokenMap.matchesOriginal(this._tokens[t-1],",")}_printNewline(e,t){const n=this.format;if(n.retainLines||n.compact)return;if(n.concise)return void this.space();if(!e)return;const r=t.nextNodeStartLine,s=this._lastCommentLine;if(r>0&&s>0){const e=r-s;if(e>=0)return void this.newline(e||1)}this._buf.hasContent()&&this.newline(1)}_shouldPrintComment(e,t){if(e.ignore)return 0;if(this._printedComments.has(e))return 0;if(this._noLineTerminator&&S.test(e.value))return 2;if(t&&this.tokenMap){const n=this.tokenMap.find(this._currentNode,t=>t.value===e.value);if(n&&n.start>t.start)return 2}return this._printedComments.add(e),this.format.shouldPrintComment(e.value)?1:0}_printComment(e,t){const n=this._noLineTerminator,r="CommentBlock"===e.type,s=r&&1!==t&&!this._noLineTerminator;s&&this._buf.hasContent()&&2!==t&&this.newline(1);const i=this.getLastChar();let a;if(91!==i&&123!==i&&40!==i&&this.space(),r){if(a=`/*${e.value}*/`,this.format.indent.adjustMultilineComment){var o;const t=null==(o=e.loc)?void 0:o.start.column;if(t){const e=new RegExp("\\n\\s{1,"+t+"}","g");a=a.replace(e,"\n")}if(this.format.concise)a=a.replace(/\n(?!$)/g,"\n");else{let e=this.format.retainLines?0:this._buf.getCurrentColumn();(this._shouldIndent(47)||this.format.retainLines)&&(e+=this._getIndent()),a=a.replace(/\n(?!$)/g,`\n${" ".repeat(e)}`)}}}else a=n?`/*${e.value}*/`:`//${e.value}`;if(this._endsWithDiv&&this._space(),this.tokenMap){const{_printSemicolonBeforeNextToken:t,_printSemicolonBeforeNextNode:n}=this;this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1,this.source("start",e.loc),this._append(a,r),this._printSemicolonBeforeNextNode=n,this._printSemicolonBeforeNextToken=t}else this.source("start",e.loc),this._append(a,r);r||n||this.newline(1,!0),s&&3!==t&&this.newline(1)}_printComments(e,t,n,r,s=0,i){const a=n.loc,o=t.length;let c=!!a;const l=c?a.start.line:0,p=c?a.end.line:0;let y=0,g=0;const S=this._noLineTerminator?function(){}:this.newline.bind(this);for(let a=0;a<o;a++){const b=t[a],E=this._shouldPrintComment(b,i);if(2===E){c=!1;break}if(c&&b.loc&&1===E){const t=b.loc.start.line,n=b.loc.end.line;if(0===e){let e=0;0===a?!this._buf.hasContent()||"CommentLine"!==b.type&&t===n||(e=g=1):e=t-y,y=n,S(e),this._printComment(b,1),a+1===o&&(S(Math.max(l-y,g)),y=l)}else if(1===e){const e=t-(0===a?l:y);y=n,S(e),this._printComment(b,1),a+1===o&&(S(Math.min(1,p-y)),y=p)}else{const e=t-(0===a?p-s:y);y=n,S(e),this._printComment(b,1)}}else{if(c=!1,1!==E)continue;if(1===o){const t=b.loc?b.loc.start.line===b.loc.end.line:!T.test(b.value),s=t&&!h(n)&&!d(r)&&!f(r)&&!m(n);0===e?this._printComment(b,s&&"ObjectExpression"!==n.type||t&&u(r,{body:n})?1:0):s&&2===e?this._printComment(b,1):this._printComment(b,0)}else 1!==e||"ObjectExpression"===n.type&&n.properties.length>1||"ClassBody"===n.type||"TSInterfaceBody"===n.type?this._printComment(b,0):this._printComment(b,0===a?2:a===o-1?3:0)}}2===e&&c&&y&&(this._lastCommentLine=y)}}function v(e,t){this.token(",",!1,e),t||this.space()}Object.assign(x.prototype,c),(0,l.addDeprecatedGenerators)(x),t.default=x},4318:function(e,t,n){var r;!function(e){"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{decode:()=>w,decodeGeneratedRanges:()=>x,decodeOriginalScopes:()=>S,encode:()=>O,encodeGeneratedRanges:()=>v,encodeOriginalScopes:()=>b}),e.exports=(t=a,((e,t,a,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))i.call(e,c)||c===a||n(e,c,{get:()=>t[c],enumerable:!(o=r(t,c))||o.enumerable});return e})(n({},"__esModule",{value:!0}),t));var o=",".charCodeAt(0),c=";".charCodeAt(0),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=new Uint8Array(64),u=new Uint8Array(128);for(let e=0;e<64;e++){const t=l.charCodeAt(e);p[e]=t,u[t]=e}function h(e,t){let n=0,r=0,s=0;do{const t=e.next();s=u[t],n|=(31&s)<<r,r+=5}while(32&s);const i=1&n;return n>>>=1,i&&(n=-2147483648|-n),t+n}function d(e,t,n){let r=t-n;r=r<0?-r<<1|1:r<<1;do{let t=31&r;r>>>=5,r>0&&(t|=32),e.write(p[t])}while(r>0);return t}function f(e,t){return!(e.pos>=t)&&e.peek()!==o}var m="undefined"!=typeof TextDecoder?new TextDecoder:"undefined"!=typeof Buffer?{decode:e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString()}:{decode(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}},y=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(16384)}write(e){const{buffer:t}=this;t[this.pos++]=e,16384===this.pos&&(this.out+=m.decode(t),this.pos=0)}flush(){const{buffer:e,out:t,pos:n}=this;return n>0?t+m.decode(e.subarray(0,n)):t}},g=class{constructor(e){this.pos=0,this.buffer=e}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(e){const{buffer:t,pos:n}=this,r=t.indexOf(e,n);return-1===r?t.length:r}},T=[];function S(e){const{length:t}=e,n=new g(e),r=[],s=[];let i=0;for(;n.pos<t;n.pos++){i=h(n,i);const e=h(n,0);if(!f(n,t)){const t=s.pop();t[2]=i,t[3]=e;continue}const a=h(n,0),o=1&h(n,0)?[i,e,0,0,a,h(n,0)]:[i,e,0,0,a];let c=T;if(f(n,t)){c=[];do{const e=h(n,0);c.push(e)}while(f(n,t))}o.vars=c,r.push(o),s.push(o)}return r}function b(e){const t=new y;for(let n=0;n<e.length;)n=E(e,n,t,[0]);return t.flush()}function E(e,t,n,r){const s=e[t],{0:i,1:a,2:c,3:l,4:p,vars:u}=s;t>0&&n.write(o),r[0]=d(n,i,r[0]),d(n,a,0),d(n,p,0),d(n,6===s.length?1:0,0),6===s.length&&d(n,s[5],0);for(const e of u)d(n,e,0);for(t++;t<e.length;){const s=e[t],{0:i,1:a}=s;if(i>c||i===c&&a>=l)break;t=E(e,t,n,r)}return n.write(o),r[0]=d(n,c,r[0]),d(n,l,0),t}function x(e){const{length:t}=e,n=new g(e),r=[],s=[];let i=0,a=0,o=0,c=0,l=0,p=0,u=0,d=0;do{const e=n.indexOf(";");let t=0;for(;n.pos<e;n.pos++){if(t=h(n,t),!f(n,e)){const e=s.pop();e[2]=i,e[3]=t;continue}const m=h(n,0),y=2&m,g=4&m;let S,b=null,E=T;if(1&m){const e=h(n,a);o=h(n,a===e?o:0),a=e,S=[i,t,0,0,e,o]}else S=[i,t,0,0];if(S.isScope=!!g,y){const e=c,t=l;c=h(n,c);const r=e===c;l=h(n,r?l:0),p=h(n,r&&t===l?p:0),b=[c,l,p]}if(S.callsite=b,f(n,e)){E=[];do{u=i,d=t;const e=h(n,0);let r;if(e<-1){r=[[h(n,0)]];for(let t=-1;t>e;t--){const e=u;u=h(n,u),d=h(n,u===e?d:0);const t=h(n,0);r.push([t,u,d])}}else r=[[e]];E.push(r)}while(f(n,e))}S.bindings=E,r.push(S),s.push(S)}i++,n.pos=e+1}while(n.pos<t);return r}function v(e){if(0===e.length)return"";const t=new y;for(let n=0;n<e.length;)n=P(e,n,t,[0,0,0,0,0,0,0]);return t.flush()}function P(e,t,n,r){const s=e[t],{0:i,1:a,2:c,3:l,isScope:p,callsite:u,bindings:h}=s;if(r[0]<i?(A(n,r[0],i),r[0]=i,r[1]=0):t>0&&n.write(o),r[1]=d(n,s[1],r[1]),d(n,(6===s.length?1:0)|(u?2:0)|(p?4:0),0),6===s.length){const{4:e,5:t}=s;e!==r[2]&&(r[3]=0),r[2]=d(n,e,r[2]),r[3]=d(n,t,r[3])}if(u){const{0:e,1:t,2:i}=s.callsite;e!==r[4]?(r[5]=0,r[6]=0):t!==r[5]&&(r[6]=0),r[4]=d(n,e,r[4]),r[5]=d(n,t,r[5]),r[6]=d(n,i,r[6])}if(h)for(const e of h){e.length>1&&d(n,-e.length,0),d(n,e[0][0],0);let t=i,r=a;for(let s=1;s<e.length;s++){const i=e[s];t=d(n,i[1],t),r=d(n,i[2],r),d(n,i[0],0)}}for(t++;t<e.length;){const s=e[t],{0:i,1:a}=s;if(i>c||i===c&&a>=l)break;t=P(e,t,n,r)}return r[0]<c?(A(n,r[0],c),r[0]=c,r[1]=0):n.write(o),r[1]=d(n,l,r[1]),t}function A(e,t,n){do{e.write(c)}while(++t<n)}function w(e){const{length:t}=e,n=new g(e),r=[];let s=0,i=0,a=0,o=0,c=0;do{const e=n.indexOf(";"),t=[];let l=!0,p=0;for(s=0;n.pos<e;){let r;s=h(n,s),s<p&&(l=!1),p=s,f(n,e)?(i=h(n,i),a=h(n,a),o=h(n,o),f(n,e)?(c=h(n,c),r=[s,i,a,o,c]):r=[s,i,a,o]):r=[s],t.push(r),n.pos++}l||C(t),r.push(t),n.pos=e+1}while(n.pos<=t);return r}function C(e){e.sort(I)}function I(e,t){return e[0]-t[0]}function O(e){const t=new y;let n=0,r=0,s=0,i=0;for(let a=0;a<e.length;a++){const l=e[a];if(a>0&&t.write(c),0===l.length)continue;let p=0;for(let e=0;e<l.length;e++){const a=l[e];e>0&&t.write(o),p=d(t,a[0],p),1!==a.length&&(n=d(t,a[1],n),r=d(t,a[2],r),s=d(t,a[3],s),4!==a.length&&(i=d(t,a[4],i)))}}return t.flush()}}(e=n.nmd(e)),e.exports="default"in(r=e).exports?r.exports.default:r.exports},4319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFloat32Array=t.fromBase64=t.toBase64=void 0;const r=n(4172),s=n(773);t.toBase64=e=>{if(!e)return"";if(void 0!==globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");if("string"==typeof e&&(e=(0,s.encodeUTF8)(e)),"undefined"!=typeof btoa)return btoa(String.fromCharCode.apply(null,e));throw new r.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")},t.fromBase64=e=>{if(void 0!==globalThis.Buffer){const t=globalThis.Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if("undefined"!=typeof atob){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}throw new r.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")},t.toFloat32Array=e=>{if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4394:(e,t,n)=>{var r=n(2552),s=n(346);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}},4424:function(e){e.exports=function(){"use strict";const e=/^[\w+.-]+:\/\//,t=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,n=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function r(e){return e.startsWith("/")}function s(e){return/^[.?#]/.test(e)}function i(e){const n=t.exec(e);return a(n[1],n[2]||"",n[3],n[4]||"",n[5]||"/",n[6]||"",n[7]||"")}function a(e,t,n,r,s,i,a){return{scheme:e,user:t,host:n,port:r,path:s,query:i,hash:a,type:7}}function o(t){if(function(e){return e.startsWith("//")}(t)){const e=i("http:"+t);return e.scheme="",e.type=6,e}if(r(t)){const e=i("http://foo.com"+t);return e.scheme="",e.host="",e.type=5,e}if(function(e){return e.startsWith("file:")}(t))return function(e){const t=n.exec(e),s=t[2];return a("file:","",t[1]||"","",r(s)?s:"/"+s,t[3]||"",t[4]||"")}(t);if(function(t){return e.test(t)}(t))return i(t);const s=i("http://foo.com/"+t);return s.scheme="",s.host="",s.type=t?t.startsWith("?")?3:t.startsWith("#")?2:4:1,s}function c(e,t){const n=t<=4,r=e.path.split("/");let s=1,i=0,a=!1;for(let e=1;e<r.length;e++){const t=r[e];t?(a=!1,"."!==t&&(".."!==t?(r[s++]=t,i++):i?(a=!0,i--,s--):n&&(r[s++]=t))):a=!0}let o="";for(let e=1;e<s;e++)o+="/"+r[e];(!o||a&&!o.endsWith("/.."))&&(o+="/"),e.path=o}return function(e,t){if(!e&&!t)return"";const n=o(e);let r=n.type;if(t&&7!==r){const e=o(t),s=e.type;switch(r){case 1:n.hash=e.hash;case 2:n.query=e.query;case 3:case 4:!function(e,t){c(t,t.type),"/"===e.path?e.path=t.path:e.path=function(e){if(e.endsWith("/.."))return e;const t=e.lastIndexOf("/");return e.slice(0,t+1)}(t.path)+e.path}(n,e);case 5:n.user=e.user,n.host=e.host,n.port=e.port;case 6:n.scheme=e.scheme}s>r&&(r=s)}c(n,r);const i=n.query+n.hash;switch(r){case 2:case 3:return i;case 4:{const r=n.path.slice(1);return r?s(t||e)&&!s(r)?"./"+r+i:r+i:i||"."}case 5:return n.path+i;default:return n.scheme+"//"+n.user+n.host+n.port+n.path+i}}}()},4436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalExpression=t.BinaryExpression=t.AssignmentExpression=function(e){this.print(e.left),this.space(),"in"===e.operator||"instanceof"===e.operator?this.word(e.operator):(this.token(e.operator),this._endsWithDiv="/"===e.operator),this.space(),this.print(e.right)},t.AssignmentPattern=function(e){this.print(e.left),("Identifier"===e.left.type||l(e.left))&&(e.left.optional&&this.tokenChar(63),this.print(e.left.typeAnnotation)),this.space(),this.tokenChar(61),this.space(),this.print(e.right)},t.AwaitExpression=function(e){this.word("await"),this.space(),this.print(e.argument)},t.BindExpression=function(e){this.print(e.object),this.token("::"),this.print(e.callee)},t.CallExpression=function(e){this.print(e.callee),this.print(e.typeArguments),this.print(e.typeParameters),this.tokenChar(40);const t=this.enterDelimited();this.printList(e.arguments,this.shouldPrintTrailingComma(")")),t(),this.rightParens(e)},t.ConditionalExpression=function(e){this.print(e.test),this.space(),this.tokenChar(63),this.space(),this.print(e.consequent),this.space(),this.tokenChar(58),this.space(),this.print(e.alternate)},t.Decorator=function(e){this.tokenChar(64),this.print(e.expression),this.newline()},t.DoExpression=function(e){e.async&&(this.word("async",!0),this.space()),this.word("do"),this.space(),this.print(e.body)},t.EmptyStatement=function(){this.semicolon(!0)},t.ExpressionStatement=function(e){this.tokenContext|=s.TokenContext.expressionStatement,this.print(e.expression),this.semicolon()},t.Import=function(){this.word("import")},t.MemberExpression=function(e){if(this.print(e.object),!e.computed&&o(e.property))throw new TypeError("Got a MemberExpression for MemberExpression property");let t=e.computed;if(a(e.property)&&"number"==typeof e.property.value&&(t=!0),t){const t=this.enterDelimited();this.tokenChar(91),this.print(e.property),this.tokenChar(93),t()}else this.tokenChar(46),this.print(e.property)},t.MetaProperty=function(e){this.print(e.meta),this.tokenChar(46),this.print(e.property)},t.ModuleExpression=function(e){this.word("module",!0),this.space(),this.tokenChar(123),this.indent();const{body:t}=e;(t.body.length||t.directives.length)&&this.newline(),this.print(t),this.dedent(),this.rightBrace(e)},t.NewExpression=function(e,t){if(this.word("new"),this.space(),this.print(e.callee),this.format.minified&&0===e.arguments.length&&!e.optional&&!i(t,{callee:e})&&!o(t)&&!c(t))return;if(this.print(e.typeArguments),this.print(e.typeParameters),e.optional&&this.token("?."),0===e.arguments.length&&this.tokenMap&&!this.tokenMap.endMatches(e,")"))return;this.tokenChar(40);const n=this.enterDelimited();this.printList(e.arguments,this.shouldPrintTrailingComma(")")),n(),this.rightParens(e)},t.OptionalCallExpression=function(e){this.print(e.callee),this.print(e.typeParameters),e.optional&&this.token("?."),this.print(e.typeArguments),this.tokenChar(40);const t=this.enterDelimited();this.printList(e.arguments),t(),this.rightParens(e)},t.OptionalMemberExpression=function(e){let{computed:t}=e;const{optional:n,property:r}=e;if(this.print(e.object),!t&&o(r))throw new TypeError("Got a MemberExpression for MemberExpression property");a(r)&&"number"==typeof r.value&&(t=!0),n&&this.token("?."),t?(this.tokenChar(91),this.print(r),this.tokenChar(93)):(n||this.tokenChar(46),this.print(r))},t.ParenthesizedExpression=function(e){this.tokenChar(40);const t=this.enterDelimited();this.print(e.expression),t(),this.rightParens(e)},t.PrivateName=function(e){this.tokenChar(35),this.print(e.id)},t.SequenceExpression=function(e){this.printList(e.expressions)},t.Super=function(){this.word("super")},t.ThisExpression=function(){this.word("this")},t.UnaryExpression=function(e){const{operator:t}=e;"void"===t||"delete"===t||"typeof"===t||"throw"===t?(this.word(t),this.space()):this.token(t),this.print(e.argument)},t.UpdateExpression=function(e){e.prefix?(this.token(e.operator),this.print(e.argument)):(this.print(e.argument,!0),this.token(e.operator))},t.V8IntrinsicIdentifier=function(e){this.tokenChar(37),this.word(e.name)},t.YieldExpression=function(e){e.delegate?(this.word("yield",!0),this.tokenChar(42),e.argument&&(this.space(),this.print(e.argument))):e.argument?(this.word("yield",!0),this.space(),this.print(e.argument)):this.word("yield")},t._shouldPrintDecoratorsBeforeExport=function(e){return"boolean"==typeof this.format.decoratorsBeforeExport?this.format.decoratorsBeforeExport:"number"==typeof e.start&&e.start===e.declaration.start};var r=n(2352),s=n(1373);const{isCallExpression:i,isLiteral:a,isMemberExpression:o,isNewExpression:c,isPattern:l}=r},4460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputTokens=void 0;const r=n(2040);class s extends r.APIResource{count(e={},t){return this._client.post("/responses/input_tokens",{body:e,...t})}}t.InputTokens=s},4466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){const c=new WeakMap,l=new WeakMap,p=n||(0,r.validate)(null);return Object.assign((n,...a)=>{if("string"==typeof n){if(a.length>1)throw new Error("Unexpected extra params.");return o((0,s.default)(t,n,(0,r.merge)(p,(0,r.validate)(a[0]))))}if(Array.isArray(n)){let e=c.get(n);return e||(e=(0,i.default)(t,n,p),c.set(n,e)),o(e(a))}if("object"==typeof n&&n){if(a.length>0)throw new Error("Unexpected extra params.");return e(t,(0,r.merge)(p,(0,r.validate)(n)))}throw new Error("Unexpected template param "+typeof n)},{ast:(e,...n)=>{if("string"==typeof e){if(n.length>1)throw new Error("Unexpected extra params.");return(0,s.default)(t,e,(0,r.merge)((0,r.merge)(p,(0,r.validate)(n[0])),a))()}if(Array.isArray(e)){let s=l.get(e);return s||(s=(0,i.default)(t,e,(0,r.merge)(p,a)),l.set(e,s)),s(n)()}throw new Error("Unexpected template param "+typeof e)}})};var r=n(9815),s=n(5252),i=n(3438);const a=(0,r.validate)({placeholderPattern:!1});function o(e){let t="";try{throw new Error}catch(e){e.stack&&(t=e.stack.split("\n").slice(3).join("\n"))}return n=>{try{return e(n)}catch(e){throw e.stack+=`\n    =============\n${t}`,e}}}},4469:(e,t,n)=>{var r=n(2523),s=n(5389),i=n(1489),a=Math.max,o=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==n&&(l=i(n),l=n<0?a(c+l,0):o(l,c-1)),r(e,s(t,3),l,!0)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}},4544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(983),s=n(8079);t.default=function e(t){if(void 0===t)return(0,s.identifier)("undefined");if(!0===t||!1===t)return(0,s.booleanLiteral)(t);if(null===t)return(0,s.nullLiteral)();if("string"==typeof t)return(0,s.stringLiteral)(t);if("number"==typeof t){let e;if(Number.isFinite(t))e=(0,s.numericLiteral)(Math.abs(t));else{let n;n=Number.isNaN(t)?(0,s.numericLiteral)(0):(0,s.numericLiteral)(1),e=(0,s.binaryExpression)("/",n,(0,s.numericLiteral)(0))}return(t<0||Object.is(t,-0))&&(e=(0,s.unaryExpression)("-",e)),e}if("bigint"==typeof t)return t<0?(0,s.unaryExpression)("-",(0,s.bigIntLiteral)(-t)):(0,s.bigIntLiteral)(t);if(function(e){return"[object RegExp]"===i(e)}(t)){const e=t.source,n=/\/([a-z]*)$/.exec(t.toString())[1];return(0,s.regExpLiteral)(e,n)}if(Array.isArray(t))return(0,s.arrayExpression)(t.map(e));if(function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}(t)){const n=[];for(const i of Object.keys(t)){let a,o=!1;(0,r.default)(i)?"__proto__"===i?(o=!0,a=(0,s.stringLiteral)(i)):a=(0,s.identifier)(i):a=(0,s.stringLiteral)(i),n.push((0,s.objectProperty)(a,e(t[i]),o))}return(0,s.objectExpression)(n)}throw new Error("don't know how to turn this value into a node")};const i=Function.call.bind(Object.prototype.toString)},4552:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},4568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(0,r.default)(e)){var t;const n=null!=(t=null==e?void 0:e.type)?t:JSON.stringify(e);throw new TypeError(`Not a valid node of type "${n}"`)}};var r=n(3908)},4647:(e,t,n)=>{var r=n(4552)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});e.exports=r},4648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=void 0;const r=n(1118),s=n(6289);class i extends r.AbstractChatCompletionRunner{static runTools(e,t,n){const r=new i,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,s)),r}_addMessage(e,t=!0){super._addMessage(e,t),(0,s.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}t.ChatCompletionRunner=i},4664:(e,t,n)=>{var r=n(9770),s=n(3345),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:s;e.exports=o},4691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingToolFunction=void 0,t.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse},t.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},4701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9632);r.__exportStar(n(5734),t),r.__exportStar(n(4319),t),r.__exportStar(n(7237),t),r.__exportStar(n(6188),t),r.__exportStar(n(9491),t),r.__exportStar(n(4741),t)},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0,t.sleep=e=>new Promise(t=>setTimeout(t,e))},4769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Evals=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(6003)),a=n(6003),o=n(5552),c=n(4815);class l extends s.APIResource{constructor(){super(...arguments),this.runs=new i.Runs(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/evals/${e}`,t)}update(e,t,n){return this._client.post(c.path`/evals/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/evals",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/evals/${e}`,t)}}t.Evals=l,l.Runs=a.Runs},4792:(e,t,n)=>{var r=n(3222),s=n(5808);e.exports=function(e){return s(r(e).toLowerCase())}},4815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=t.createPathTagFunction=void 0,t.encodeURIPath=s;const r=n(4172);function s(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const i=Object.freeze(Object.create(null));t.createPathTagFunction=(e=s)=>function(t,...n){if(1===t.length)return t[0];let s=!1;const a=[],o=t.reduce((t,r,o)=>{/[?#]/.test(r)&&(s=!0);const c=n[o];let l=(s?encodeURIComponent:e)(""+c);return o!==n.length&&(null==c||"object"==typeof c&&c.toString===Object.getPrototypeOf(Object.getPrototypeOf(c.hasOwnProperty??i)??i)?.toString)&&(l=c+"",a.push({start:t.length+r.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+r+(o===n.length?"":l)},""),c=o.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let p;for(;null!==(p=l.exec(c));)a.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(a.sort((e,t)=>e.start-t.start),a.length>0){let e=0;const t=a.reduce((t,n)=>{const r=" ".repeat(n.start-e),s="^".repeat(n.length);return e=n.start+n.length,t+r+s},"");throw new r.OpenAIError(`Path parameters result in path with invalid segments:\n${a.map(e=>e.error).join("\n")}\n${o}\n${t}`)}return o},t.path=(0,t.createPathTagFunction)(s)},4840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},4858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const{placeholderWhitelist:r,placeholderPattern:a,preserveComments:o,syntacticPlaceholders:c}=n,l=function(e,t,n){const r=(t.plugins||[]).slice();!1!==n&&r.push("placeholders"),t=Object.assign({allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowYieldOutsideFunction:!0,sourceType:"module"},t,{plugins:r});try{return(0,s.parse)(e,t)}catch(t){const n=t.loc;throw n&&(t.message+="\n"+(0,i.codeFrameColumns)(e,{start:n}),t.code="BABEL_TEMPLATE_PARSE_ERROR"),t}}(t,n.parser,c);m(l,{preserveComments:o}),e.validate(l);const p={syntactic:{placeholders:[],placeholderNames:new Set},legacy:{placeholders:[],placeholderNames:new Set},placeholderWhitelist:r,placeholderPattern:a,syntacticPlaceholders:c};return y(l,T,p),Object.assign({ast:l},p.syntactic.placeholders.length?p.syntactic:p.legacy)};var r=n(2352),s=n(2172),i=n(2882);const{isCallExpression:a,isExpressionStatement:o,isFunction:c,isIdentifier:l,isJSXIdentifier:p,isNewExpression:u,isPlaceholder:h,isStatement:d,isStringLiteral:f,removePropertiesDeep:m,traverse:y}=r,g=/^[_$A-Z0-9]+$/;function T(e,t,n){var r;let s,i=n.syntactic.placeholders.length>0;if(h(e)){if(!1===n.syntacticPlaceholders)throw new Error("%%foo%%-style placeholders can't be used when '.syntacticPlaceholders' is false.");s=e.name.name,i=!0}else{if(i||n.syntacticPlaceholders)return;if(l(e)||p(e))s=e.name;else{if(!f(e))return;s=e.value}}if(i&&(null!=n.placeholderPattern||null!=n.placeholderWhitelist))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");if(!(i||!1!==n.placeholderPattern&&(n.placeholderPattern||g).test(s)||null!=(r=n.placeholderWhitelist)&&r.has(s)))return;t=t.slice();const{node:m,key:y}=t[t.length-1];let T;f(e)||h(e,{expectedNode:"StringLiteral"})?T="string":u(m)&&"arguments"===y||a(m)&&"arguments"===y||c(m)&&"params"===y?T="param":o(m)&&!h(e)?(T="statement",t=t.slice(0,-1)):T=d(e)&&h(e)?"statement":"other";const{placeholders:S,placeholderNames:b}=i?n.syntactic:n.legacy;S.push({name:s,type:T,resolve:e=>function(e,t){let n=e;for(let e=0;e<t.length-1;e++){const{key:r,index:s}=t[e];n=void 0===s?n[r]:n[r][s]}const{key:r,index:s}=t[t.length-1];return{parent:n,key:r,index:s}}(e,t),isDuplicate:b.has(s)}),b.add(s)}},4894:(e,t,n)=>{var r=n(1882),s=n(294);e.exports=function(e){return null!=e&&s(e.length)&&!r(e)}},4901:(e,t,n)=>{var r=n(2552),s=n(294),i=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&s(e.length)&&!!a[r(e)]}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}},4950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environmentVisitor=function(e){return g([v,e])},t.explode=f,t.isExplodedVisitor=d,t.merge=g,t.verify=m;var r=n(5562),s=n(7973),i=n(2352),a=n(9578);const{DEPRECATED_KEYS:o,DEPRECATED_ALIASES:c,FLIPPED_ALIAS_KEYS:l,TYPES:p,__internal__deprecationWarning:u}=i;function h(e){return e in r}function d(e){return null==e?void 0:e._exploded}function f(e){if(d(e))return e;e._exploded=!0;for(const t of Object.keys(e)){if(E(t))continue;const n=t.split("|");if(1===n.length)continue;const r=e[t];delete e[t];for(const t of n)e[t]=r}m(e),delete e.__esModule,function(e){for(const t of Object.keys(e)){if(E(t))continue;const n=e[t];"function"==typeof n&&(e[t]={enter:n})}}(e),S(e);for(const t of Object.keys(e)){if(E(t))continue;if(!h(t))continue;const n=e[t];for(const e of Object.keys(n))n[e]=b(t,n[e]);delete e[t];const s=r[t];if(null!==s)for(const t of s)null!=e[t]||(e[t]={}),x(e[t],n);else x(e,n)}for(const t of Object.keys(e)){if(E(t))continue;let n=l[t];if(t in o){const e=o[t];u(t,e,"Visitor "),n=[e]}else if(t in c){const e=c[t];u(t,e,"Visitor "),n=l[e]}if(!n)continue;const r=e[t];delete e[t];for(const t of n){const n=e[t];n?x(n,r):e[t]=Object.assign({},r)}}for(const t of Object.keys(e))E(t)||S(e[t]);return e}function m(e){if(!e._verified){if("function"==typeof e)throw new Error("You passed `traverse()` a function when it expected a visitor object, are you sure you didn't mean `{ enter: Function }`?");for(const t of Object.keys(e)){if("enter"!==t&&"exit"!==t||y(t,e[t]),E(t))continue;if(!p.includes(t))throw new Error(`You gave us a visitor for the node type ${t} but it's not a valid type in @babel/traverse 7.28.5`);const n=e[t];if("object"==typeof n)for(const e of Object.keys(n)){if("enter"!==e&&"exit"!==e)throw new Error(`You passed \`traverse()\` a visitor object with the property ${t} that has the invalid property ${e}`);y(`${t}.${e}`,n[e])}}e._verified=!0}}function y(e,t){const n=[].concat(t);for(const t of n)if("function"!=typeof t)throw new TypeError(`Non-function found defined in ${e} with type ${typeof t}`)}function g(e,t=[],n){const r={_verified:!0,_exploded:!0};Object.defineProperty(r,"_exploded",{enumerable:!1}),Object.defineProperty(r,"_verified",{enumerable:!1});for(let s=0;s<e.length;s++){const i=f(e[s]),a=t[s];let o=i;(a||n)&&(o=T(o,a,n)),x(r,o);for(const e of Object.keys(i)){if(E(e))continue;let t=i[e];(a||n)&&(t=T(t,a,n)),x(r[e]||(r[e]={}),t)}}return r}function T(e,t,n){const r={};for(const s of["enter","exit"]){let i=e[s];Array.isArray(i)&&(i=i.map(function(e){let r=e;return t&&(r=function(n){e.call(t,n,t)}),n&&(r=n(null==t?void 0:t.key,s,r)),r!==e&&(r.toString=()=>e.toString()),r}),r[s]=i)}return r}function S(e){e.enter&&!Array.isArray(e.enter)&&(e.enter=[e.enter]),e.exit&&!Array.isArray(e.exit)&&(e.exit=[e.exit])}function b(e,t){const n=s[`is${e}`],r=function(e){if(n.call(e))return t.apply(this,arguments)};return r.toString=()=>t.toString(),r}function E(e){return"_"===e[0]||"enter"===e||"exit"===e||"shouldSkip"===e||"denylist"===e||"noScope"===e||"skipKeys"===e||"blacklist"===e}function x(e,t){for(const n of["enter","exit"])t[n]&&(e[n]=[].concat(e[n]||[],t[n]))}const v={FunctionParent(e){e.isArrowFunctionExpression()||(e.skip(),e.isMethod()&&(e.requeueComputedKeyAndDecorators?e.requeueComputedKeyAndDecorators():a.requeueComputedKeyAndDecorators.call(e)))},Property(e){e.isObjectProperty()||(e.skip(),e.requeueComputedKeyAndDecorators?e.requeueComputedKeyAndDecorators():a.requeueComputedKeyAndDecorators.call(e))}}},4960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{constructor(e,t){this._map=null,this._buf="",this._str="",this._appendCount=0,this._last=0,this._queue=[],this._queueCursor=0,this._canMarkIdName=!0,this._indentChar="",this._fastIndentations=[],this._position={line:1,column:0},this._sourcePosition={identifierName:void 0,identifierNamePos:void 0,line:void 0,column:void 0,filename:void 0},this._map=e,this._indentChar=t;for(let e=0;e<64;e++)this._fastIndentations.push(t.repeat(e));this._allocQueue()}_allocQueue(){const e=this._queue;for(let t=0;t<16;t++)e.push({char:0,repeat:1,line:void 0,column:void 0,identifierName:void 0,identifierNamePos:void 0,filename:""})}_pushQueue(e,t,n,r,s){const i=this._queueCursor;i===this._queue.length&&this._allocQueue();const a=this._queue[i];a.char=e,a.repeat=t,a.line=n,a.column=r,a.filename=s,this._queueCursor++}_popQueue(){if(0===this._queueCursor)throw new Error("Cannot pop from empty queue");return this._queue[--this._queueCursor]}get(){this._flush();const e=this._map,t={code:(this._buf+this._str).trimRight(),decodedMap:null==e?void 0:e.getDecoded(),get __mergedMap(){return this.map},get map(){const n=e?e.get():null;return t.map=n,n},set map(e){Object.defineProperty(t,"map",{value:e,writable:!0})},get rawMappings(){const n=null==e?void 0:e.getRawMappings();return t.rawMappings=n,n},set rawMappings(e){Object.defineProperty(t,"rawMappings",{value:e,writable:!0})}};return t}append(e,t){this._flush(),this._append(e,this._sourcePosition,t)}appendChar(e){this._flush(),this._appendChar(e,1,this._sourcePosition)}queue(e){if(10===e)for(;0!==this._queueCursor;){const e=this._queue[this._queueCursor-1].char;if(32!==e&&9!==e)break;this._queueCursor--}const t=this._sourcePosition;this._pushQueue(e,1,t.line,t.column,t.filename)}queueIndentation(e){0!==e&&this._pushQueue(-1,e,void 0,void 0,void 0)}_flush(){const e=this._queueCursor,t=this._queue;for(let n=0;n<e;n++){const e=t[n];this._appendChar(e.char,e.repeat,e)}this._queueCursor=0}_appendChar(e,t,n){if(this._last=e,-1===e){const e=this._fastIndentations[t];this._str+=void 0!==e?e:t>1?this._indentChar.repeat(t):this._indentChar}else this._str+=t>1?String.fromCharCode(e).repeat(t):String.fromCharCode(e);10!==e?(this._mark(n.line,n.column,n.identifierName,n.identifierNamePos,n.filename),this._position.column+=t):(this._position.line++,this._position.column=0),this._canMarkIdName&&(n.identifierName=void 0,n.identifierNamePos=void 0)}_append(e,t,n){const r=e.length,s=this._position;if(this._last=e.charCodeAt(r-1),++this._appendCount>4096?(this._str,this._buf+=this._str,this._str=e,this._appendCount=0):this._str+=e,!n&&!this._map)return void(s.column+=r);const{column:i,identifierName:a,identifierNamePos:o,filename:c}=t;let l=t.line;null==a&&null==o||!this._canMarkIdName||(t.identifierName=void 0,t.identifierNamePos=void 0);let p=e.indexOf("\n"),u=0;for(0!==p&&this._mark(l,i,a,o,c);-1!==p;)s.line++,s.column=0,u=p+1,u<r&&void 0!==l&&this._mark(++l,0,void 0,void 0,c),p=e.indexOf("\n",u);s.column+=r-u}_mark(e,t,n,r,s){var i;null==(i=this._map)||i.mark(this._position,e,t,n,r,s)}removeTrailingNewline(){const e=this._queueCursor;0!==e&&10===this._queue[e-1].char&&this._queueCursor--}removeLastSemicolon(){const e=this._queueCursor;0!==e&&59===this._queue[e-1].char&&this._queueCursor--}getLastChar(){const e=this._queueCursor;return 0!==e?this._queue[e-1].char:this._last}getNewlineCount(){const e=this._queueCursor;let t=0;if(0===e)return 10===this._last?1:0;for(let n=e-1;n>=0&&10===this._queue[n].char;n--)t++;return t===e&&10===this._last?t+1:t}endsWithCharAndNewline(){const e=this._queue,t=this._queueCursor;if(0!==t){if(10!==e[t-1].char)return;return t>1?e[t-2].char:this._last}}hasContent(){return 0!==this._queueCursor||!!this._last}exactSource(e,t){if(!this._map)return void t();this.source("start",e);const n=e.identifierName,r=this._sourcePosition;n&&(this._canMarkIdName=!1,r.identifierName=n),t(),n&&(this._canMarkIdName=!0,r.identifierName=void 0,r.identifierNamePos=void 0),this.source("end",e)}source(e,t){this._map&&this._normalizePosition(e,t,0)}sourceWithOffset(e,t,n){this._map&&this._normalizePosition(e,t,n)}_normalizePosition(e,t,n){const r=t[e],s=this._sourcePosition;r&&(s.line=r.line,s.column=Math.max(r.column+n,0),s.filename=t.filename)}getCurrentColumn(){const e=this._queue,t=this._queueCursor;let n=-1,r=0;for(let s=0;s<t;s++){const t=e[s];10===t.char&&(n=r),r+=t.repeat}return-1===n?this._position.column+r:r-1-n}getCurrentLine(){let e=0;const t=this._queue;for(let n=0;n<this._queueCursor;n++)10===t[n].char&&e++;return this._position.line+e}}},4965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!s(e))return!1;const i=Array.isArray(t)?t:t.split("."),a=[];let o;for(o=e;s(o);o=null!=(c=o.object)?c:o.meta){var c;a.push(o.property)}if(a.push(o),a.length<i.length)return!1;if(!n&&a.length>i.length)return!1;for(let e=0,t=a.length-1;e<i.length;e++,t--){const n=a[t];let s;if((0,r.isIdentifier)(n))s=n.name;else if((0,r.isStringLiteral)(n))s=n.value;else if((0,r.isThisExpression)(n))s="this";else if((0,r.isSuper)(n))s="super";else{if(!(0,r.isPrivateName)(n))return!1;s="#"+n.id.name}if(i[e]!==s)return!1}return!0};var r=n(8960);function s(e){return(0,r.isMemberExpression)(e)||(0,r.isMetaProperty)(e)}},4975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=void 0;const r=n(2040);class s extends r.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}t.Moderations=s},5004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&/^[a-z]/.test(e)}},5010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.isBlockStatement)(e))return e;let n=[];return(0,r.isEmptyStatement)(e)?n=[]:((0,r.isStatement)(e)||(e=(0,r.isFunction)(t)?(0,s.returnStatement)(e):(0,s.expressionStatement)(e)),n=[e]),(0,s.blockStatement)(n)};var r=n(8960),s=n(8079)},5062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;const r=n(2040),s=n(262),i=n(4815);class a extends r.APIResource{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(i.path`/containers/${r}/files/${e}/content`,{...n,headers:(0,s.buildHeaders)([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}t.Content=a},5083:(e,t,n)=>{var r=n(1882),s=n(7296),i=n(3805),a=n(7473),o=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,p=c.toString,u=l.hasOwnProperty,h=RegExp("^"+p.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||s(e))&&(r(e)?h:o).test(a(e))}},5109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("id"in e&&e.id)return{name:e.id.name,originalNode:e.id};let n,i="";if((0,r.isObjectProperty)(t,{value:e})?n=s(t):(0,r.isObjectMethod)(e)||(0,r.isClassMethod)(e)?(n=s(e),"get"===e.kind?i="get ":"set"===e.kind&&(i="set ")):(0,r.isVariableDeclarator)(t,{init:e})?n=t.id:(0,r.isAssignmentExpression)(t,{operator:"=",right:e})&&(n=t.left),!n)return null;const a=(0,r.isLiteral)(n)?function(e){return(0,r.isNullLiteral)(e)?"null":(0,r.isRegExpLiteral)(e)?`/${e.pattern}/${e.flags}`:(0,r.isTemplateLiteral)(e)?e.quasis.map(e=>e.value.raw).join(""):void 0!==e.value?String(e.value):null}(n):(0,r.isIdentifier)(n)?n.name:(0,r.isPrivateName)(n)?n.id.name:null;return null==a?null:{name:i+a,originalNode:n}};var r=n(8960);function s(e){if(!e.computed||(0,r.isLiteral)(e.key))return e.key}},5113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=void 0;const r=n(2040),s=n(262);class i extends r.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:(0,s.buildHeaders)([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}t.Speech=i},5126:(e,t,n)=>{"use strict";var r,s,i,a,o,c,l,p,u,h,d,f;Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStream=void 0;const m=n(9632),y=n(3690),g=n(9526),T=n(3357),S=n(6716),b=n(1118);class E extends b.AbstractChatCompletionRunner{constructor(e){super(),r.add(this),s.set(this,void 0),i.set(this,void 0),a.set(this,void 0),m.__classPrivateFieldSet(this,s,e,"f"),m.__classPrivateFieldSet(this,i,[],"f")}get currentChatCompletionSnapshot(){return m.__classPrivateFieldGet(this,a,"f")}static fromReadableStream(e){const t=new E(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){const r=new E(t);return r._run(()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),m.__classPrivateFieldGet(this,r,"m",o).call(this);const i=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const e of i)m.__classPrivateFieldGet(this,r,"m",l).call(this,e);if(i.controller.signal?.aborted)throw new g.APIUserAbortError;return this._addChatCompletion(m.__classPrivateFieldGet(this,r,"m",h).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),m.__classPrivateFieldGet(this,r,"m",o).call(this),this._connected();const s=S.Stream.fromReadableStream(e,this.controller);let i;for await(const e of s)i&&i!==e.id&&this._addChatCompletion(m.__classPrivateFieldGet(this,r,"m",h).call(this)),m.__classPrivateFieldGet(this,r,"m",l).call(this,e),i=e.id;if(s.controller.signal?.aborted)throw new g.APIUserAbortError;return this._addChatCompletion(m.__classPrivateFieldGet(this,r,"m",h).call(this))}[(s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakSet,o=function(){this.ended||m.__classPrivateFieldSet(this,a,void 0,"f")},c=function(e){let t=m.__classPrivateFieldGet(this,i,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},m.__classPrivateFieldGet(this,i,"f")[e.index]=t,t)},l=function(e){if(this.ended)return;const t=m.__classPrivateFieldGet(this,r,"m",f).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const s=m.__classPrivateFieldGet(this,r,"m",c).call(this,e);e.finish_reason&&(m.__classPrivateFieldGet(this,r,"m",u).call(this,e),null!=s.current_tool_call_index&&m.__classPrivateFieldGet(this,r,"m",p).call(this,e,s.current_tool_call_index));for(const t of n.delta.tool_calls??[])s.current_tool_call_index!==t.index&&(m.__classPrivateFieldGet(this,r,"m",u).call(this,e),null!=s.current_tool_call_index&&m.__classPrivateFieldGet(this,r,"m",p).call(this,e,s.current_tool_call_index)),s.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type?this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):P())}}},p=function(e,t){if(m.__classPrivateFieldGet(this,r,"m",c).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=m.__classPrivateFieldGet(this,s,"f")?.tools?.find(e=>(0,T.isChatCompletionFunctionTool)(e)&&e.function.name===n.function.name);this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:(0,T.isAutoParsableTool)(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},u=function(e){const t=m.__classPrivateFieldGet(this,r,"m",c).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=m.__classPrivateFieldGet(this,r,"m",d).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},h=function(){if(this.ended)throw new g.OpenAIError("stream has ended, this shouldn't happen");const e=m.__classPrivateFieldGet(this,a,"f");if(!e)throw new g.OpenAIError("request ended without sending any chunks");return m.__classPrivateFieldSet(this,a,void 0,"f"),m.__classPrivateFieldSet(this,i,[],"f"),function(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=e,c={...o,id:n,choices:r.map(({message:t,finish_reason:n,index:r,logprobs:s,...i})=>{if(!n)throw new g.OpenAIError(`missing finish_reason for choice ${r}`);const{content:a=null,function_call:o,tool_calls:c,...l}=t,p=t.role;if(!p)throw new g.OpenAIError(`missing role for choice ${r}`);if(o){const{arguments:e,name:c}=o;if(null==e)throw new g.OpenAIError(`missing function_call.arguments for choice ${r}`);if(!c)throw new g.OpenAIError(`missing function_call.name for choice ${r}`);return{...i,message:{content:a,function_call:{arguments:e,name:c},role:p,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:s}}return c?{...i,index:r,finish_reason:n,logprobs:s,message:{...l,role:p,content:a,refusal:t.refusal??null,tool_calls:c.map((t,n)=>{const{function:s,type:i,id:a,...o}=t,{arguments:c,name:l,...p}=s||{};if(null==a)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].id\n${x(e)}`);if(null==i)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].type\n${x(e)}`);if(null==l)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.name\n${x(e)}`);if(null==c)throw new g.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.arguments\n${x(e)}`);return{...o,id:a,type:i,function:{...p,name:l,arguments:c}}})}}:{...i,message:{...l,content:a,role:p,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:s}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return(0,T.maybeParseChatCompletion)(c,t)}(e,m.__classPrivateFieldGet(this,s,"f"))},d=function(){const e=m.__classPrivateFieldGet(this,s,"f")?.response_format;return(0,T.isAutoParsableResponseFormat)(e)?e:null},f=function(e){var t,n,i,o;let c=m.__classPrivateFieldGet(this,a,"f");const{choices:l,...p}=e;c?Object.assign(c,p):c=m.__classPrivateFieldSet(this,a,{...p,choices:[]},"f");for(const{delta:a,finish_reason:l,index:p,logprobs:u=null,...h}of e.choices){let e=c.choices[p];if(e||(e=c.choices[p]={finish_reason:l,index:p,message:{},logprobs:u,...h}),u)if(e.logprobs){const{content:r,refusal:s,...i}=u;v(),Object.assign(e.logprobs,i),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),s&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...s))}else e.logprobs=Object.assign({},u);if(l&&(e.finish_reason=l,m.__classPrivateFieldGet(this,s,"f")&&(0,T.hasAutoParseableInput)(m.__classPrivateFieldGet(this,s,"f")))){if("length"===l)throw new g.LengthFinishReasonError;if("content_filter"===l)throw new g.ContentFilterFinishReasonError}if(Object.assign(e,h),!a)continue;const{content:f,refusal:S,function_call:b,role:E,tool_calls:x,...P}=a;if(v(),Object.assign(e.message,P),S&&(e.message.refusal=(e.message.refusal||"")+S),E&&(e.message.role=E),b&&(e.message.function_call?(b.name&&(e.message.function_call.name=b.name),b.arguments&&((i=e.message.function_call).arguments??(i.arguments=""),e.message.function_call.arguments+=b.arguments)):e.message.function_call=b),f&&(e.message.content=(e.message.content||"")+f,!e.message.refusal&&m.__classPrivateFieldGet(this,r,"m",d).call(this)&&(e.message.parsed=(0,y.partialParse)(e.message.content))),x){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:i,...a}of x){const c=(o=e.message.tool_calls)[t]??(o[t]={});Object.assign(c,a),n&&(c.id=n),r&&(c.type=r),i&&(c.function??(c.function={name:i.name??"",arguments:""})),i?.name&&(c.function.name=i.name),i?.arguments&&(c.function.arguments+=i.arguments,(0,T.shouldParseToolCall)(m.__classPrivateFieldGet(this,s,"f"),c)&&(c.function.parsed_arguments=(0,y.partialParse)(c.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new S.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function x(e){return JSON.stringify(e)}function v(e){}function P(e){}t.ChatCompletionStream=E},5137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraderModels=void 0;const r=n(2040);class s extends r.APIResource{}t.GraderModels=s},5158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patternLikeCommon=t.importAttributes=t.functionTypeAnnotationCommon=t.functionDeclarationCommon=t.functionCommon=t.classMethodOrPropertyUnionShapeCommon=t.classMethodOrPropertyCommon=t.classMethodOrDeclareMethodCommon=void 0;var r=n(3828),s=n(983),i=n(1e3),a=n(3973),o=n(3422),c=n(7596);const l=(e=!1)=>({unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{key:{validate:(0,c.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{key:{validate:e?(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"):(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral")}}}]}});t.classMethodOrPropertyUnionShapeCommon=l;const p=(0,c.defineAliasedType)("Standardized");p("ArrayExpression",{fields:{elements:{validate:(0,c.arrayOf)((0,c.assertNodeOrValueType)("null","Expression","SpreadElement")),default:process.env.BABEL_TYPES_8_BREAKING?void 0:[]}},visitor:["elements"],aliases:["Expression"]}),p("AssignmentExpression",{fields:{operator:{validate:process.env.BABEL_TYPES_8_BREAKING?Object.assign(function(){const e=(0,c.assertOneOf)(...o.ASSIGNMENT_OPERATORS),t=(0,c.assertOneOf)("=");return function(n,s,i){((0,r.default)("Pattern",n.left)?t:e)(n,s,i)}}(),{oneOf:o.ASSIGNMENT_OPERATORS}):(0,c.assertValueType)("string")},left:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","MemberExpression","OptionalMemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("LVal","OptionalMemberExpression")},right:{validate:(0,c.assertNodeType)("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),p("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:(0,c.assertOneOf)(...o.BINARY_OPERATORS)},left:{validate:function(){const e=(0,c.assertNodeType)("Expression"),t=(0,c.assertNodeType)("Expression","PrivateName");return Object.assign(function(n,r,s){("in"===n.operator?t:e)(n,r,s)},{oneOfNodeTypes:["Expression","PrivateName"]})}()},right:{validate:(0,c.assertNodeType)("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),p("InterpreterDirective",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}}}),p("Directive",{visitor:["value"],fields:{value:{validate:(0,c.assertNodeType)("DirectiveLiteral")}}}),p("DirectiveLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}}}),p("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:(0,c.arrayOfType)("Directive"),default:[]},body:(0,c.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","Block","Statement"]}),p("BreakStatement",{visitor:["label"],fields:{label:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),p("CallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,c.assertNodeType)("Expression","Super","V8IntrinsicIdentifier")},arguments:(0,c.validateArrayOfType)("Expression","SpreadElement","ArgumentPlaceholder"),typeArguments:{validate:(0,c.assertNodeType)("TypeParameterInstantiation"),optional:!0}},process.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),p("CatchClause",{visitor:["param","body"],fields:{param:{validate:(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")}},aliases:["Scopable","BlockParent"]}),p("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},consequent:{validate:(0,c.assertNodeType)("Expression")},alternate:{validate:(0,c.assertNodeType)("Expression")}},aliases:["Expression","Conditional"]}),p("ContinueStatement",{visitor:["label"],fields:{label:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),p("DebuggerStatement",{aliases:["Statement"]}),p("DoWhileStatement",{builder:["test","body"],visitor:["body","test"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),p("EmptyStatement",{aliases:["Statement"]}),p("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:(0,c.assertNodeType)("Expression")}},aliases:["Statement","ExpressionWrapper"]}),p("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:(0,c.assertNodeType)("Program")},comments:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertEach)((0,c.assertNodeType)("CommentBlock","CommentLine")):Object.assign(()=>{},{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}),optional:!0},tokens:{validate:(0,c.assertEach)(Object.assign(()=>{},{type:"any"})),optional:!0}}}),p("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),p("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:(0,c.assertNodeType)("VariableDeclaration","Expression"),optional:!0},test:{validate:(0,c.assertNodeType)("Expression"),optional:!0},update:{validate:(0,c.assertNodeType)("Expression"),optional:!0},body:{validate:(0,c.assertNodeType)("Statement")}}});const u=()=>({params:(0,c.validateArrayOfType)("FunctionParameter"),generator:{default:!1},async:{default:!1}});t.functionCommon=u;const h=()=>({returnType:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}});t.functionTypeAnnotationCommon=h;const d=()=>Object.assign({},u(),{declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}});t.functionDeclarationCommon=d,p("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","typeParameters","params","predicate","returnType","body"],fields:Object.assign({},d(),h(),{body:{validate:(0,c.assertNodeType)("BlockStatement")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:process.env.BABEL_TYPES_8_BREAKING?function(){const e=(0,c.assertNodeType)("Identifier");return function(t,n,s){(0,r.default)("ExportDefaultDeclaration",t)||e(s,"id",s.id)}}():void 0}),p("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},u(),h(),{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})});const f=()=>({typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}});t.patternLikeCommon=f,p("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","FunctionParameter","PatternLike","LVal","TSEntityName"],fields:Object.assign({},f(),{name:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("string"),Object.assign(function(e,t,n){if(!(0,s.default)(n,!1))throw new TypeError(`"${n}" is not a valid identifier name`)},{type:"string"})):(0,c.assertValueType)("string")}}),validate:process.env.BABEL_TYPES_8_BREAKING?function(e,t,n){const s=/\.(\w+)$/.exec(t.toString());if(!s)return;const[,a]=s,o={computed:!1};if("property"===a){if((0,r.default)("MemberExpression",e,o))return;if((0,r.default)("OptionalMemberExpression",e,o))return}else if("key"===a){if((0,r.default)("Property",e,o))return;if((0,r.default)("Method",e,o))return}else if("exported"===a){if((0,r.default)("ExportSpecifier",e))return}else if("imported"===a){if((0,r.default)("ImportSpecifier",e,{imported:n}))return}else if("meta"===a&&(0,r.default)("MetaProperty",e,{meta:n}))return;if(((0,i.isKeyword)(n.name)||(0,i.isReservedWord)(n.name,!1))&&"this"!==n.name)throw new TypeError(`"${n.name}" is not a valid identifier`)}:void 0}),p("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},consequent:{validate:(0,c.assertNodeType)("Statement")},alternate:{optional:!0,validate:(0,c.assertNodeType)("Statement")}}}),p("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:(0,c.assertNodeType)("Identifier")},body:{validate:(0,c.assertNodeType)("Statement")}}}),p("StringLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),p("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:(0,c.chain)((0,c.assertValueType)("number"),Object.assign(function(e,t,n){(1/n<0||!Number.isFinite(n))&&new Error(`NumericLiterals must be non-negative finite numbers. You can use t.valueToNode(${n}) instead.`)},{type:"number"}))}},aliases:["Expression","Pureish","Literal","Immutable"]}),p("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),p("BooleanLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),p("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:(0,c.assertValueType)("string")},flags:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("string"),Object.assign(function(e,t,n){const r=/[^dgimsuvy]/.exec(n);if(r)throw new TypeError(`"${r[0]}" is not a valid RegExp flag`)},{type:"string"})):(0,c.assertValueType)("string"),default:""}}}),p("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:(0,c.assertOneOf)(...o.LOGICAL_OPERATORS)},left:{validate:(0,c.assertNodeType)("Expression")},right:{validate:(0,c.assertNodeType)("Expression")}}}),p("MemberExpression",{builder:["object","property","computed",...process.env.BABEL_TYPES_8_BREAKING?[]:["optional"]],visitor:["object","property"],aliases:["Expression","LVal","PatternLike"],unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{property:{validate:(0,c.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{property:{validate:(0,c.assertNodeType)("Identifier","PrivateName")}}}]},fields:Object.assign({object:{validate:(0,c.assertNodeType)("Expression","Super")},property:{validate:function(){const e=(0,c.assertNodeType)("Identifier","PrivateName"),t=(0,c.assertNodeType)("Expression"),n=function(n,r,s){(n.computed?t:e)(n,r,s)};return n.oneOfNodeTypes=["Expression","Identifier","PrivateName"],n}()},computed:{default:!1}},process.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,c.assertValueType)("boolean"),optional:!0}})}),p("NewExpression",{inherits:"CallExpression"}),p("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceType:{validate:(0,c.assertOneOf)("script","module"),default:"script"},interpreter:{validate:(0,c.assertNodeType)("InterpreterDirective"),default:null,optional:!0},directives:{validate:(0,c.arrayOfType)("Directive"),default:[]},body:(0,c.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","Block"]}),p("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:(0,c.validateArrayOfType)("ObjectMethod","ObjectProperty","SpreadElement")}}),p("ObjectMethod",Object.assign({builder:["kind","key","params","body","computed","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"]},l(),{fields:Object.assign({},u(),h(),{kind:Object.assign({validate:(0,c.assertOneOf)("method","get","set")},process.env.BABEL_TYPES_8_BREAKING?{}:{default:"method"}),computed:{default:!1},key:{validate:function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),t=(0,c.assertNodeType)("Expression"),n=function(n,r,s){(n.computed?t:e)(n,r,s)};return n.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral"],n}()},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")}}),aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]})),p("ObjectProperty",{builder:["key","value","computed","shorthand",...process.env.BABEL_TYPES_8_BREAKING?[]:["decorators"]],unionShape:{discriminator:"computed",shapes:[{name:"computed",value:[!0],properties:{key:{validate:(0,c.assertNodeType)("Expression")}}},{name:"nonComputed",value:[!1],properties:{key:{validate:(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName")}}}]},fields:{computed:{default:!1},key:{validate:function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"),t=(0,c.assertNodeType)("Expression");return Object.assign(function(n,r,s){(n.computed?t:e)(n,r,s)},{oneOfNodeTypes:["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"]})}()},value:{validate:(0,c.assertNodeType)("Expression","PatternLike")},shorthand:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),Object.assign(function(e,t,n){if(n){if(e.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true");if(!(0,r.default)("Identifier",e.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")}},{type:"boolean"})):(0,c.assertValueType)("boolean"),default:!1},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}},visitor:["decorators","key","value"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:process.env.BABEL_TYPES_8_BREAKING?function(){const e=(0,c.assertNodeType)("Identifier","Pattern","TSAsExpression","TSSatisfiesExpression","TSNonNullExpression","TSTypeAssertion"),t=(0,c.assertNodeType)("Expression");return function(n,s,i){((0,r.default)("ObjectPattern",n)?e:t)(i,"value",i.value)}}():void 0}),p("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["FunctionParameter","PatternLike","LVal"],deprecatedAlias:"RestProperty",fields:Object.assign({},f(),{argument:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression","RestElement","AssignmentPattern")}}),validate:process.env.BABEL_TYPES_8_BREAKING?function(e,t){const n=/(\w+)\[(\d+)\]/.exec(t.toString());if(!n)throw new Error("Internal Babel error: malformed key.");const[,r,s]=n;if(e[r].length>+s+1)throw new TypeError(`RestElement must be last element of ${r}`)}:void 0}),p("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,c.assertNodeType)("Expression"),optional:!0}}}),p("SequenceExpression",{visitor:["expressions"],fields:{expressions:(0,c.validateArrayOfType)("Expression")},aliases:["Expression"]}),p("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:(0,c.assertNodeType)("Expression")}}}),p("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:(0,c.assertNodeType)("Expression"),optional:!0},consequent:(0,c.validateArrayOfType)("Statement")}}),p("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:(0,c.assertNodeType)("Expression")},cases:(0,c.validateArrayOfType)("SwitchCase")}}),p("ThisExpression",{aliases:["Expression"]}),p("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),p("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertNodeType)("BlockStatement"),Object.assign(function(e){if(!e.handler&&!e.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")},{oneOfNodeTypes:["BlockStatement"]})):(0,c.assertNodeType)("BlockStatement")},handler:{optional:!0,validate:(0,c.assertNodeType)("CatchClause")},finalizer:{optional:!0,validate:(0,c.assertNodeType)("BlockStatement")}}}),p("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:(0,c.assertNodeType)("Expression")},operator:{validate:(0,c.assertOneOf)(...o.UNARY_OPERATORS)}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),p("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","MemberExpression"):(0,c.assertNodeType)("Expression")},operator:{validate:(0,c.assertOneOf)(...o.UPDATE_OPERATORS)}},visitor:["argument"],aliases:["Expression"]}),p("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},kind:{validate:(0,c.assertOneOf)("var","let","const","using","await using")},declarations:(0,c.validateArrayOfType)("VariableDeclarator")},validate:process.env.BABEL_TYPES_8_BREAKING?(()=>{const e=(0,c.assertNodeType)("Identifier","Placeholder"),t=(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","Placeholder"),n=(0,c.assertNodeType)("Identifier","VoidPattern","Placeholder");return function(s,i,a){const{kind:o,declarations:c}=a,l=(0,r.default)("ForXStatement",s,{left:a});if(l&&1!==c.length)throw new TypeError(`Exactly one VariableDeclarator is required in the VariableDeclaration of a ${s.type}`);for(const r of c)"const"===o||"let"===o||"var"===o?l||r.init?t(r,"id",r.id):e(r,"id",r.id):n(r,"id",r.id)}})():void 0}),p("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","VoidPattern"):(0,c.assertNodeType)("LVal","VoidPattern")},definite:{optional:!0,validate:(0,c.assertValueType)("boolean")},init:{optional:!0,validate:(0,c.assertNodeType)("Expression")}}}),p("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),p("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),p("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{left:{validate:(0,c.assertNodeType)("Identifier","ObjectPattern","ArrayPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:(0,c.assertNodeType)("Expression")},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}})}),p("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{elements:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeOrValueType)("null","PatternLike")))}})}),p("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["typeParameters","params","predicate","returnType","body"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},u(),h(),{expression:{validate:(0,c.assertValueType)("boolean")},body:{validate:(0,c.assertNodeType)("BlockStatement","Expression")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})}),p("ClassBody",{visitor:["body"],fields:{body:(0,c.validateArrayOfType)("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","ClassAccessorProperty","TSDeclareMethod","TSIndexSignature","StaticBlock")}}),p("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["decorators","id","typeParameters","superClass","superTypeParameters","mixins","implements","body"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,c.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,c.assertNodeType)("Expression")},superTypeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,c.arrayOfType)("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},mixins:{validate:(0,c.assertNodeType)("InterfaceExtends"),optional:!0}}}),p("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,c.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,c.assertNodeType)("Expression")},superTypeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,c.arrayOfType)("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},mixins:{validate:(0,c.assertNodeType)("InterfaceExtends"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},abstract:{validate:(0,c.assertValueType)("boolean"),optional:!0}},validate:process.env.BABEL_TYPES_8_BREAKING?function(){const e=(0,c.assertNodeType)("Identifier");return function(t,n,s){(0,r.default)("ExportDefaultDeclaration",t)||e(s,"id",s.id)}}():void 0});const m=t.importAttributes={attributes:{optional:!0,validate:(0,c.arrayOfType)("ImportAttribute")},assertions:{deprecated:!0,optional:!0,validate:(0,c.arrayOfType)("ImportAttribute")}};p("ExportAllDeclaration",{builder:["source"],visitor:["source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({source:{validate:(0,c.assertNodeType)("StringLiteral")},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("type","value"))},m)}),p("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:(0,c.validateType)("TSDeclareFunction","FunctionDeclaration","ClassDeclaration","Expression"),exportKind:(0,c.validateOptional)((0,c.assertOneOf)("value"))}}),p("ExportNamedDeclaration",{builder:["declaration","specifiers","source"],visitor:["declaration","specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({declaration:{optional:!0,validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertNodeType)("Declaration"),Object.assign(function(e,t,n){if(n&&e.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration");if(n&&e.source)throw new TypeError("Cannot export a declaration from a source")},{oneOfNodeTypes:["Declaration"]})):(0,c.assertNodeType)("Declaration")}},m,{specifiers:{default:[],validate:(0,c.arrayOf)(function(){const e=(0,c.assertNodeType)("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),t=(0,c.assertNodeType)("ExportSpecifier");return process.env.BABEL_TYPES_8_BREAKING?Object.assign(function(n,r,s){(n.source?e:t)(n,r,s)},{oneOfNodeTypes:["ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"]}):e}())},source:{validate:(0,c.assertNodeType)("StringLiteral"),optional:!0},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("type","value"))})}),p("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")},exported:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},exportKind:{validate:(0,c.assertOneOf)("type","value"),optional:!0}}}),p("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:function(){if(!process.env.BABEL_TYPES_8_BREAKING)return(0,c.assertNodeType)("VariableDeclaration","LVal");const e=(0,c.assertNodeType)("VariableDeclaration"),t=(0,c.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression");return Object.assign(function(n,s,i){(0,r.default)("VariableDeclaration",i)?e(n,s,i):t(n,s,i)},{oneOfNodeTypes:["VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"]})}()},right:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")},await:{default:!1}}}),p("ImportDeclaration",{builder:["specifiers","source"],visitor:["specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration"],fields:Object.assign({},m,{module:{optional:!0,validate:(0,c.assertValueType)("boolean")},phase:{default:null,validate:(0,c.assertOneOf)("source","defer")},specifiers:(0,c.validateArrayOfType)("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier"),source:{validate:(0,c.assertNodeType)("StringLiteral")},importKind:{validate:(0,c.assertOneOf)("type","typeof","value"),optional:!0}})}),p("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")}}}),p("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")}}}),p("ImportSpecifier",{visitor:["imported","local"],builder:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")},imported:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},importKind:{validate:(0,c.assertOneOf)("type","typeof","value"),optional:!0}}}),p("ImportExpression",{visitor:["source","options"],aliases:["Expression"],fields:{phase:{default:null,validate:(0,c.assertOneOf)("source","defer")},source:{validate:(0,c.assertNodeType)("Expression")},options:{validate:(0,c.assertNodeType)("Expression"),optional:!0}}}),p("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertNodeType)("Identifier"),Object.assign(function(e,t,n){let s;switch(n.name){case"function":s="sent";break;case"new":s="target";break;case"import":s="meta"}if(!(0,r.default)("Identifier",e.property,{name:s}))throw new TypeError("Unrecognised MetaProperty")},{oneOfNodeTypes:["Identifier"]})):(0,c.assertNodeType)("Identifier")},property:{validate:(0,c.assertNodeType)("Identifier")}}});const y=()=>({abstract:{validate:(0,c.assertValueType)("boolean"),optional:!0},accessibility:{validate:(0,c.assertOneOf)("public","private","protected"),optional:!0},static:{default:!1},override:{default:!1},computed:{default:!1},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},key:{validate:(0,c.chain)(function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),t=(0,c.assertNodeType)("Expression");return function(n,r,s){(n.computed?t:e)(n,r,s)}}(),(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression"))}});t.classMethodOrPropertyCommon=y;const g=()=>Object.assign({},u(),y(),{params:(0,c.validateArrayOfType)("FunctionParameter","TSParameterProperty"),kind:{validate:(0,c.assertOneOf)("get","set","method","constructor"),default:"method"},access:{validate:(0,c.chain)((0,c.assertValueType)("string"),(0,c.assertOneOf)("public","private","protected")),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0}});t.classMethodOrDeclareMethodCommon=g,p("ClassMethod",Object.assign({aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"]},l(),{fields:Object.assign({},g(),h(),{body:{validate:(0,c.assertNodeType)("BlockStatement")}})})),p("ObjectPattern",{visitor:["decorators","properties","typeAnnotation"],builder:["properties"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{properties:(0,c.validateArrayOfType)("RestElement","ObjectProperty")})}),p("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),p("Super",{aliases:["Expression"]}),p("TaggedTemplateExpression",{visitor:["tag","typeParameters","quasi"],builder:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:(0,c.assertNodeType)("Expression")},quasi:{validate:(0,c.assertNodeType)("TemplateLiteral")},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),p("TemplateElement",{builder:["value","tail"],fields:{value:{validate:(0,c.chain)((0,c.assertShape)({raw:{validate:(0,c.assertValueType)("string")},cooked:{validate:(0,c.assertValueType)("string"),optional:!0}}),function(e){const t=e.value.raw;let n=!1;const r=()=>{throw new Error("Internal @babel/types error.")},{str:s,firstInvalidLoc:i}=(0,a.readStringContents)("template",t,0,0,0,{unterminated(){n=!0},strictNumericEscape:r,invalidEscapeSequence:r,numericSeparatorInEscapeSequence:r,unexpectedNumericSeparator:r,invalidDigit:r,invalidCodePoint:r});if(!n)throw new Error("Invalid raw");e.value.cooked=i?null:s})},tail:{default:!1}}}),p("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:(0,c.validateArrayOfType)("TemplateElement"),expressions:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Expression","TSType")),function(e,t,n){if(e.quasis.length!==n.length+1)throw new TypeError(`Number of ${e.type} quasis should be exactly one more than the number of expressions.\nExpected ${n.length+1} quasis but got ${e.quasis.length}`)})}}}),p("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),Object.assign(function(e,t,n){if(n&&!e.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")},{type:"boolean"})):(0,c.assertValueType)("boolean"),default:!1},argument:{optional:!0,validate:(0,c.assertNodeType)("Expression")}}}),p("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),p("Import",{aliases:["Expression"]}),p("BigIntLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),p("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,c.assertNodeType)("Identifier")}}}),p("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:(0,c.assertNodeType)("Expression")},property:{validate:function(){const e=(0,c.assertNodeType)("Identifier"),t=(0,c.assertNodeType)("Expression");return Object.assign(function(n,r,s){(n.computed?t:e)(n,r,s)},{oneOfNodeTypes:["Expression","Identifier"]})}()},computed:{default:!1},optional:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),(0,c.assertOptionalChainStart)()):(0,c.assertValueType)("boolean")}}}),p("OptionalCallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,c.assertNodeType)("Expression")},arguments:(0,c.validateArrayOfType)("Expression","SpreadElement","ArgumentPlaceholder"),optional:{validate:process.env.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),(0,c.assertOptionalChainStart)()):(0,c.assertValueType)("boolean")},typeArguments:{validate:(0,c.assertNodeType)("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:(0,c.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),p("ClassProperty",Object.assign({visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"]},l(),{fields:Object.assign({},y(),{value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}})})),p("ClassAccessorProperty",Object.assign({visitor:["decorators","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property","Accessor"]},l(!0),{fields:Object.assign({},y(),{key:{validate:(0,c.chain)(function(){const e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"),t=(0,c.assertNodeType)("Expression");return function(n,r,s){(n.computed?t:e)(n,r,s)}}(),(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression","PrivateName"))},value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}})})),p("ClassPrivateProperty",{visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:(0,c.assertNodeType)("PrivateName")},value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.arrayOfType)("Decorator"),optional:!0},static:{validate:(0,c.assertValueType)("boolean"),default:!1},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}}}),p("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["decorators","key","typeParameters","params","returnType","body"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},g(),h(),{kind:{validate:(0,c.assertOneOf)("get","set","method"),default:"method"},key:{validate:(0,c.assertNodeType)("PrivateName")},body:{validate:(0,c.assertNodeType)("BlockStatement")}})}),p("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:(0,c.assertNodeType)("Identifier")}}}),p("StaticBlock",{visitor:["body"],fields:{body:(0,c.validateArrayOfType)("Statement")},aliases:["Scopable","BlockParent","FunctionParent"]}),p("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},value:{validate:(0,c.assertNodeType)("StringLiteral")}}})},5160:e=>{e.exports=function(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}},5237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){const n=Array.from(t),i=new Map,a=new Map,o=new Set,c=[];for(let t=0;t<n.length;t++){const l=n[t];if(l&&!c.includes(l)){if((0,r.isAnyTypeAnnotation)(l))return[l];if((0,r.isFlowBaseAnnotation)(l))a.set(l.type,l);else if((0,r.isUnionTypeAnnotation)(l))o.has(l.types)||(n.push(...l.types),o.add(l.types));else{if((0,r.isGenericTypeAnnotation)(l)){const t=s(l.id);if(i.has(t)){let n=i.get(t);n.typeParameters?l.typeParameters&&(n.typeParameters.params.push(...l.typeParameters.params),n.typeParameters.params=e(n.typeParameters.params)):n=l.typeParameters}else i.set(t,l);continue}c.push(l)}}}for(const[,e]of a)c.push(e);for(const[,e]of i)c.push(e);return c};var r=n(8960);function s(e){return(0,r.isIdentifier)(e)?e.name:`${e.id.name}.${s(e.qualification)}`}},5252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let a;return t=e.code(t),o=>{const c=(0,r.normalizeReplacements)(o);return a||(a=(0,s.default)(e,t,n)),e.unwrap((0,i.default)(a,c))}};var r=n(9815),s=n(4858),i=n(7427)},5257:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RFC3986=t.RFC1738=t.formatters=t.default_formatter=t.default_format=void 0,t.default_format="RFC3986",t.default_formatter=e=>String(e),t.formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:t.default_formatter},t.RFC1738="RFC1738",t.RFC3986="RFC3986"},5279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!0,n=!1){return c(e,t,n,new Map)};var r=n(9793),s=n(8960);const{hasOwn:i}={hasOwn:Function.call.bind(Object.prototype.hasOwnProperty)};function a(e,t,n,r){return e&&"string"==typeof e.type?c(e,t,n,r):e}function o(e,t,n,r){return Array.isArray(e)?e.map(e=>a(e,t,n,r)):a(e,t,n,r)}function c(e,t=!0,n=!1,a){if(!e)return e;const{type:c}=e,p={type:e.type};if((0,s.isIdentifier)(e))p.name=e.name,i(e,"optional")&&"boolean"==typeof e.optional&&(p.optional=e.optional),i(e,"typeAnnotation")&&(p.typeAnnotation=t?o(e.typeAnnotation,!0,n,a):e.typeAnnotation),i(e,"decorators")&&(p.decorators=t?o(e.decorators,!0,n,a):e.decorators);else{if(!i(r.NODE_FIELDS,c))throw new Error(`Unknown node type: "${c}"`);for(const u of Object.keys(r.NODE_FIELDS[c]))i(e,u)&&(p[u]=t?(0,s.isFile)(e)&&"comments"===u?l(e.comments,t,n,a):o(e[u],!0,n,a):e[u])}return i(e,"loc")&&(p.loc=n?null:e.loc),i(e,"leadingComments")&&(p.leadingComments=l(e.leadingComments,t,n,a)),i(e,"innerComments")&&(p.innerComments=l(e.innerComments,t,n,a)),i(e,"trailingComments")&&(p.trailingComments=l(e.trailingComments,t,n,a)),i(e,"extra")&&(p.extra=Object.assign({},e.extra)),p}function l(e,t,n,r){return e&&t?e.map(e=>{const t=r.get(e);if(t)return t;const{type:s,value:i,loc:a}=e,o={type:s,value:i,loc:a};return n&&(o.loc=null),r.set(e,o),o}):e}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5296:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.FileHashCache=void 0,t.getFileHashCache=function(){return u||(u=new p),u};const o=a(n(9896)),c=a(n(6928)),l=a(n(6982));class p{cacheDir="";hashCachePath="";metadataPath="";hashCache=new Map;workspaceRoot="";isInitialized=!1;static CACHE_VERSION="1.0.0";static HASH_ALGORITHM="md5";async initialize(e){this.workspaceRoot=e,this.cacheDir=c.join(e,".doc_sync","cache"),this.hashCachePath=c.join(this.cacheDir,"file_hashes.json"),this.metadataPath=c.join(this.cacheDir,"cache_metadata.json"),o.existsSync(this.cacheDir)||o.mkdirSync(this.cacheDir,{recursive:!0}),await this.loadCache(),this.isInitialized=!0}async loadCache(){try{if(o.existsSync(this.hashCachePath)){const e=JSON.parse(o.readFileSync(this.hashCachePath,"utf-8"));e.version===p.CACHE_VERSION?(this.hashCache=new Map(Object.entries(e.entries)),console.log(`Loaded ${this.hashCache.size} cached file hashes`)):(console.log("Cache version mismatch, rebuilding..."),this.hashCache=new Map)}}catch(e){console.error("Failed to load hash cache:",e),this.hashCache=new Map}}async saveCache(){try{const e={version:p.CACHE_VERSION,entries:Object.fromEntries(this.hashCache)};o.writeFileSync(this.hashCachePath,JSON.stringify(e,null,2));const t={version:p.CACHE_VERSION,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),workspaceRoot:this.workspaceRoot,totalFiles:this.hashCache.size};o.writeFileSync(this.metadataPath,JSON.stringify(t,null,2)),console.log(`Saved ${this.hashCache.size} file hashes to cache`)}catch(e){console.error("Failed to save hash cache:",e)}}calculateFileHash(e){try{const t=o.readFileSync(e);return l.createHash(p.HASH_ALGORITHM).update(t).digest("hex")}catch(t){return console.error(`Failed to hash file ${e}:`,t),""}}getFileStats(e){try{const t=o.statSync(e);return{mtime:t.mtimeMs,size:t.size}}catch{return null}}hasFileChangedQuick(e,t){const n=this.getFileStats(e);return!n||n.mtime!==t.lastModified||n.size!==t.size}async detectChanges(e){const t={added:[],modified:[],deleted:[],unchanged:[],totalFiles:e.length,changedCount:0},n=new Set(e),r=new Set(this.hashCache.keys());for(const n of e){c.relative(this.workspaceRoot,n);const e=this.hashCache.get(n);if(e)if(this.hasFileChangedQuick(n,e))if(this.calculateFileHash(n)!==e.hash)t.modified.push(n);else{t.unchanged.push(n);const r=this.getFileStats(n);r&&(e.lastModified=r.mtime,e.size=r.size)}else t.unchanged.push(n);else t.added.push(n)}for(const e of r)n.has(e)||t.deleted.push(e);return t.changedCount=t.added.length+t.modified.length+t.deleted.length,t}updateEntry(e,t){const n=this.getFileStats(e);if(!n)return;const r=this.calculateFileHash(e),s=c.relative(this.workspaceRoot,e);this.hashCache.set(e,{filePath:e,relativePath:s,hash:r,lastModified:n.mtime,size:n.size,nodeIds:t})}removeEntry(e){const t=this.hashCache.get(e),n=t?.nodeIds||[];return this.hashCache.delete(e),n}hasEntry(e){return this.hashCache.has(e)}getNodeIds(e){return this.hashCache.get(e)?.nodeIds||[]}async getFileHash(e){const t=this.hashCache.get(e);return t?.hash||null}async setFileHash(e,t){const n=this.getFileStats(e),r={filePath:e,relativePath:c.relative(this.workspaceRoot,e),hash:t,lastModified:n?.mtime||Date.now(),size:n?.size||0,nodeIds:this.hashCache.get(e)?.nodeIds||[]};this.hashCache.set(e,r)}clearCache(){this.hashCache.clear()}getStats(){return{totalFiles:this.hashCache.size,cacheSize:this.hashCachePath&&o.existsSync(this.hashCachePath)?o.statSync(this.hashCachePath).size:0}}isReady(){return this.isInitialized}}t.FileHashCache=p;let u=null},5299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!0,!0)};var r=n(5279)},5333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t={}){const n=t.preserveComments?s:i;for(const t of n)null!=e[t]&&(e[t]=void 0);for(const t of Object.keys(e))"_"===t[0]&&null!=e[t]&&(e[t]=void 0);const r=Object.getOwnPropertySymbols(e);for(const t of r)e[t]=null};var r=n(3422);const s=["tokens","start","end","loc","raw","rawValue"],i=[...r.COMMENT_KEYS,"comments",...s]},5387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseJavaCstVisitor:()=>kc,BaseJavaCstVisitorWithDefaults:()=>Rc,default:()=>Uc,lexAndParse:()=>Mc,parse:()=>Dc});const r=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},s=function(e,t,n){for(var r=-1,s=Object(e),i=n(e),a=i.length;a--;){var o=i[++r];if(!1===t(s[o],o,s))break}return e},i="object"==typeof global&&global&&global.Object===Object&&global;var a="object"==typeof self&&self&&self.Object===Object&&self;const o=i||a||Function("return this")(),c=o.Symbol;var l=Object.prototype,p=l.hasOwnProperty,u=l.toString,h=c?c.toStringTag:void 0;var d=Object.prototype.toString;var f=c?c.toStringTag:void 0;const m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?function(e){var t=p.call(e,h),n=e[h];try{e[h]=void 0;var r=!0}catch(e){}var s=u.call(e);return r&&(t?e[h]=n:delete e[h]),s}(e):function(e){return d.call(e)}(e)},y=function(e){return null!=e&&"object"==typeof e},g=function(e){return y(e)&&"[object Arguments]"==m(e)};var T=Object.prototype,S=T.hasOwnProperty,b=T.propertyIsEnumerable;const E=g(function(){return arguments}())?g:function(e){return y(e)&&S.call(e,"callee")&&!b.call(e,"callee")},x=Array.isArray;var v="object"==typeof exports&&exports&&!exports.nodeType&&exports,P=v&&"object"==typeof module&&module&&!module.nodeType&&module,A=P&&P.exports===v?o.Buffer:void 0;const w=(A?A.isBuffer:void 0)||function(){return!1};var C=/^(?:0|[1-9]\d*)$/;const I=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&C.test(e))&&e>-1&&e%1==0&&e<t},O=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var _={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1;const L=function(e){return function(t){return e(t)}};var N="object"==typeof exports&&exports&&!exports.nodeType&&exports,k=N&&"object"==typeof module&&module&&!module.nodeType&&module,R=k&&k.exports===N&&i.process;const M=function(){try{return k&&k.require&&k.require("util").types||R&&R.binding&&R.binding("util")}catch(e){}}();var D=M&&M.isTypedArray;const U=D?L(D):function(e){return y(e)&&O(e.length)&&!!_[m(e)]};var F=Object.prototype.hasOwnProperty;const B=function(e,t){var n=x(e),r=!n&&E(e),s=!n&&!r&&w(e),i=!n&&!r&&!s&&U(e),a=n||r||s||i,o=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=o.length;for(var l in e)!t&&!F.call(e,l)||a&&("length"==l||s&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||I(l,c))||o.push(l);return o};var j=Object.prototype;const $=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)},V=function(e,t){return function(n){return e(t(n))}},W=V(Object.keys,Object);var K=Object.prototype.hasOwnProperty;const G=function(e){if(!$(e))return W(e);var t=[];for(var n in Object(e))K.call(e,n)&&"constructor"!=n&&t.push(n);return t},q=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},z=function(e){if(!q(e))return!1;var t=m(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},H=function(e){return null!=e&&O(e.length)&&!z(e)},Y=function(e){return H(e)?B(e):G(e)},J=function(e,t){if(null==e)return e;if(!H(e))return function(e,t){return e&&s(e,t,Y)}(e,t);for(var n=e.length,r=-1,i=Object(e);++r<n&&!1!==t(i[r],r,i););return e},X=function(e){return e},Q=function(e,t){return(x(e)?r:J)(e,"function"==typeof(n=t)?n:X);var n},Z=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s},ee=function(e){return null==e?[]:function(e,t){return Z(t,function(t){return e[t]})}(e,Y(e))},te=o["__core-js_shared__"];var ne,re=(ne=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+ne:"";var se=Function.prototype.toString;const ie=function(e){if(null!=e){try{return se.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var ae=/^\[object .+?Constructor\]$/,oe=Function.prototype,ce=Object.prototype,le=oe.toString,pe=ce.hasOwnProperty,ue=RegExp("^"+le.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const he=function(e){return!(!q(e)||(t=e,re&&re in t))&&(z(e)?ue:ae).test(ie(e));var t},de=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return he(n)?n:void 0},fe=de(o,"DataView"),me=de(o,"Map"),ye=de(o,"Promise"),ge=de(o,"Set"),Te=de(o,"WeakMap");var Se="[object Map]",be="[object Promise]",Ee="[object Set]",xe="[object WeakMap]",ve="[object DataView]",Pe=ie(fe),Ae=ie(me),we=ie(ye),Ce=ie(ge),Ie=ie(Te),Oe=m;(fe&&Oe(new fe(new ArrayBuffer(1)))!=ve||me&&Oe(new me)!=Se||ye&&Oe(ye.resolve())!=be||ge&&Oe(new ge)!=Ee||Te&&Oe(new Te)!=xe)&&(Oe=function(e){var t=m(e),n="[object Object]"==t?e.constructor:void 0,r=n?ie(n):"";if(r)switch(r){case Pe:return ve;case Ae:return Se;case we:return be;case Ce:return Ee;case Ie:return xe}return t});const _e=Oe;var Le=Object.prototype.hasOwnProperty;const Ne=function(e){if(null==e)return!0;if(H(e)&&(x(e)||"string"==typeof e||"function"==typeof e.splice||w(e)||U(e)||E(e)))return!e.length;var t=_e(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if($(e))return!G(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},ke=function(e,t){return e===t||e!=e&&t!=t},Re=function(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1};var Me=Array.prototype.splice;function De(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}De.prototype.clear=function(){this.__data__=[],this.size=0},De.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0||(n==t.length-1?t.pop():Me.call(t,n,1),--this.size,0))},De.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},De.prototype.has=function(e){return Re(this.__data__,e)>-1},De.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const Ue=De,Fe=de(Object,"create");var Be=Object.prototype.hasOwnProperty;var je=Object.prototype.hasOwnProperty;function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$e.prototype.clear=function(){this.__data__=Fe?Fe(null):{},this.size=0},$e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$e.prototype.get=function(e){var t=this.__data__;if(Fe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Be.call(t,e)?t[e]:void 0},$e.prototype.has=function(e){var t=this.__data__;return Fe?void 0!==t[e]:je.call(t,e)},$e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fe&&void 0===t?"__lodash_hash_undefined__":t,this};const Ve=$e,We=function(e,t){var n,r,s=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map};function Ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ke.prototype.clear=function(){this.size=0,this.__data__={hash:new Ve,map:new(me||Ue),string:new Ve}},Ke.prototype.delete=function(e){var t=We(this,e).delete(e);return this.size-=t?1:0,t},Ke.prototype.get=function(e){return We(this,e).get(e)},Ke.prototype.has=function(e){return We(this,e).has(e)},Ke.prototype.set=function(e,t){var n=We(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const Ge=Ke;function qe(e){var t=this.__data__=new Ue(e);this.size=t.size}qe.prototype.clear=function(){this.__data__=new Ue,this.size=0},qe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qe.prototype.get=function(e){return this.__data__.get(e)},qe.prototype.has=function(e){return this.__data__.has(e)},qe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ue){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ge(r)}return n.set(e,t),this.size=n.size,this};const ze=qe;function He(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ge;++t<n;)this.add(e[t])}He.prototype.add=He.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},He.prototype.has=function(e){return this.__data__.has(e)};const Ye=He,Je=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Xe=function(e,t){return e.has(t)},Qe=function(e,t,n,r,s,i){var a=1&n,o=e.length,c=t.length;if(o!=c&&!(a&&c>o))return!1;var l=i.get(e),p=i.get(t);if(l&&p)return l==t&&p==e;var u=-1,h=!0,d=2&n?new Ye:void 0;for(i.set(e,t),i.set(t,e);++u<o;){var f=e[u],m=t[u];if(r)var y=a?r(m,f,u,t,e,i):r(f,m,u,e,t,i);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!Je(t,function(e,t){if(!Xe(d,t)&&(f===e||s(f,e,n,r,i)))return d.push(t)})){h=!1;break}}else if(f!==m&&!s(f,m,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h},Ze=o.Uint8Array,et=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},tt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var nt=c?c.prototype:void 0,rt=nt?nt.valueOf:void 0;const st=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e},it=function(e,t,n){var r=t(e);return x(e)?r:st(r,n(e))},at=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[s++]=a)}return i},ot=function(){return[]};var ct=Object.prototype.propertyIsEnumerable,lt=Object.getOwnPropertySymbols;const pt=lt?function(e){return null==e?[]:(e=Object(e),at(lt(e),function(t){return ct.call(e,t)}))}:ot,ut=function(e){return it(e,Y,pt)};var ht=Object.prototype.hasOwnProperty;var dt="[object Arguments]",ft="[object Array]",mt="[object Object]",yt=Object.prototype.hasOwnProperty;const gt=function(e,t,n,r,s,i){var a=x(e),o=x(t),c=a?ft:_e(e),l=o?ft:_e(t),p=(c=c==dt?mt:c)==mt,u=(l=l==dt?mt:l)==mt,h=c==l;if(h&&w(e)){if(!w(t))return!1;a=!0,p=!1}if(h&&!p)return i||(i=new ze),a||U(e)?Qe(e,t,n,r,s,i):function(e,t,n,r,s,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ze(e),new Ze(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ke(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=et;case"[object Set]":var c=1&r;if(o||(o=tt),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var p=Qe(o(e),o(t),r,s,i,a);return a.delete(e),p;case"[object Symbol]":if(rt)return rt.call(e)==rt.call(t)}return!1}(e,t,c,n,r,s,i);if(!(1&n)){var d=p&&yt.call(e,"__wrapped__"),f=u&&yt.call(t,"__wrapped__");if(d||f){var m=d?e.value():e,y=f?t.value():t;return i||(i=new ze),s(m,y,n,r,i)}}return!!h&&(i||(i=new ze),function(e,t,n,r,s,i){var a=1&n,o=ut(e),c=o.length;if(c!=ut(t).length&&!a)return!1;for(var l=c;l--;){var p=o[l];if(!(a?p in t:ht.call(t,p)))return!1}var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var d=!0;i.set(e,t),i.set(t,e);for(var f=a;++l<c;){var m=e[p=o[l]],y=t[p];if(r)var g=a?r(y,m,p,t,e,i):r(m,y,p,e,t,i);if(!(void 0===g?m===y||s(m,y,n,r,i):g)){d=!1;break}f||(f="constructor"==p)}if(d&&!f){var T=e.constructor,S=t.constructor;T==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof T&&T instanceof T&&"function"==typeof S&&S instanceof S||(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,r,s,i))},Tt=function e(t,n,r,s,i){return t===n||(null==t||null==n||!y(t)&&!y(n)?t!=t&&n!=n:gt(t,n,r,s,e,i))},St=function(e){return e==e&&!q(e)},bt=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Et=function(e){var t=function(e){for(var t=Y(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,St(s)]}return t}(e);return 1==t.length&&t[0][2]?bt(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var s=n.length,i=s,a=!r;if(null==e)return!i;for(e=Object(e);s--;){var o=n[s];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<i;){var c=(o=n[s])[0],l=e[c],p=o[1];if(a&&o[2]){if(void 0===l&&!(c in e))return!1}else{var u=new ze;if(r)var h=r(l,p,c,e,t,u);if(!(void 0===h?Tt(p,l,3,r,u):h))return!1}}return!0}(n,e,t)}},xt=function(e){return"symbol"==typeof e||y(e)&&"[object Symbol]"==m(e)};var vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/;const At=function(e,t){if(x(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!xt(e))||Pt.test(e)||!vt.test(e)||null!=t&&e in Object(t)};function wt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=e.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(wt.Cache||Ge),n}wt.Cache=Ge;var Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/\\(\\)?/g;const Ot=(_t=wt(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ct,function(e,n,r,s){t.push(r?s.replace(It,"$1"):n||e)}),t},function(e){return 500===Lt.size&&Lt.clear(),e}),Lt=_t.cache,_t);var _t,Lt,Nt=c?c.prototype:void 0,kt=Nt?Nt.toString:void 0;const Rt=function e(t){if("string"==typeof t)return t;if(x(t))return Z(t,e)+"";if(xt(t))return kt?kt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Mt=function(e){return null==e?"":Rt(e)},Dt=function(e,t){return x(e)?e:At(e,t)?[e]:Ot(Mt(e))},Ut=function(e){if("string"==typeof e||xt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Ft=function(e,t){for(var n=0,r=(t=Dt(t,e)).length;null!=e&&n<r;)e=e[Ut(t[n++])];return n&&n==r?e:void 0},Bt=function(e,t){return null!=e&&t in Object(e)},jt=function(e,t,n){for(var r=-1,s=(t=Dt(t,e)).length,i=!1;++r<s;){var a=Ut(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=s?i:!!(s=null==e?0:e.length)&&O(s)&&I(a,s)&&(x(e)||E(e))},$t=function(e,t){return At(e)&&St(t)?bt(Ut(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Ft(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&jt(e,t,Bt)}(n,e):Tt(t,r,3)}},Vt=function(e){return At(e)?(t=Ut(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Ft(t,e)}}(e);var t},Wt=function(e){return"function"==typeof e?e:null==e?X:"object"==typeof e?x(e)?$t(e[0],e[1]):Et(e):Vt(e)},Kt=function(e,t){var n=-1,r=H(e)?Array(e.length):[];return J(e,function(e,s,i){r[++n]=t(e,s,i)}),r},Gt=function(e,t){return(x(e)?Z:Kt)(e,Wt(t))};var qt=Object.prototype.hasOwnProperty;const zt=function(e,t){return null!=e&&qt.call(e,t)},Ht=function(e,t){return null!=e&&jt(e,t,zt)},Yt=function(){try{var e=de(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Jt=function(e,t,n){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Xt=Object.prototype.hasOwnProperty;const Qt=function(e,t,n){var r=e[t];Xt.call(e,t)&&ke(r,n)&&(void 0!==n||t in e)||Jt(e,t,n)},Zt=function(e,t,n,r){var s=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],c=r?r(n[o],e[o],o,n,e):void 0;void 0===c&&(c=e[o]),s?Jt(n,o,c):Qt(n,o,c)}return n};var en=Object.prototype.hasOwnProperty;const tn=function(e){if(!q(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=$(e),n=[];for(var r in e)("constructor"!=r||!t&&en.call(e,r))&&n.push(r);return n},nn=function(e){return H(e)?B(e,!0):tn(e)};var rn="object"==typeof exports&&exports&&!exports.nodeType&&exports,sn=rn&&"object"==typeof module&&module&&!module.nodeType&&module,an=sn&&sn.exports===rn?o.Buffer:void 0,on=an?an.allocUnsafe:void 0;const cn=V(Object.getPrototypeOf,Object),ln=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)st(t,pt(e)),e=cn(e);return t}:ot,pn=function(e){return it(e,nn,ln)};var un=Object.prototype.hasOwnProperty;const hn=function(e){var t=new e.constructor(e.byteLength);return new Ze(t).set(new Ze(e)),t};var dn=/\w*$/;var fn=c?c.prototype:void 0,mn=fn?fn.valueOf:void 0;const yn=function(e,t,n){var r,s=e.constructor;switch(t){case"[object ArrayBuffer]":return hn(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var n=t?hn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?hn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,dn.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return r=e,mn?Object(mn.call(r)):{}}};var gn=Object.create;const Tn=function(){function e(){}return function(t){if(!q(t))return{};if(gn)return gn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Sn=M&&M.isMap;const bn=Sn?L(Sn):function(e){return y(e)&&"[object Map]"==_e(e)};var En=M&&M.isSet;const xn=En?L(En):function(e){return y(e)&&"[object Set]"==_e(e)};var vn="[object Arguments]",Pn="[object Function]",An="[object Object]",wn={};wn[vn]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object DataView]"]=wn["[object Boolean]"]=wn["[object Date]"]=wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Map]"]=wn["[object Number]"]=wn[An]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object Symbol]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Error]"]=wn[Pn]=wn["[object WeakMap]"]=!1;const Cn=function e(t,n,s,i,a,o){var c,l=1&n,p=2&n,u=4&n;if(s&&(c=a?s(t,i,a,o):s(t)),void 0!==c)return c;if(!q(t))return t;var h=x(t);if(h){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&un.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,c)}else{var d=_e(t),f=d==Pn||"[object GeneratorFunction]"==d;if(w(t))return function(e,t){if(t)return e.slice();var n=e.length,r=on?on(n):new e.constructor(n);return e.copy(r),r}(t,l);if(d==An||d==vn||f&&!a){if(c=p||f?{}:function(e){return"function"!=typeof e.constructor||$(e)?{}:Tn(cn(e))}(t),!l)return p?function(e,t){return Zt(e,ln(e),t)}(t,function(e,t){return e&&Zt(t,nn(t),e)}(c,t)):function(e,t){return Zt(e,pt(e),t)}(t,function(e,t){return e&&Zt(t,Y(t),e)}(c,t))}else{if(!wn[d])return a?t:{};c=yn(t,d,l)}}o||(o=new ze);var m=o.get(t);if(m)return m;o.set(t,c),xn(t)?t.forEach(function(r){c.add(e(r,n,s,r,t,o))}):bn(t)&&t.forEach(function(r,i){c.set(i,e(r,n,s,i,t,o))});var y=h?void 0:(u?p?pn:ut:p?nn:Y)(t);return r(y||t,function(r,i){y&&(r=t[i=r]),Qt(c,i,e(r,n,s,i,t,o))}),c},In=function(e){return Cn(e,4)};function On(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}return r(),r(),e}const _n=function(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i};var Ln=/\s/;var Nn=/^\s+/;const kn=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ln.test(e.charAt(t)););return t}(e)+1).replace(Nn,""):e};var Rn=/^[-+]0x[0-9a-f]+$/i,Mn=/^0b[01]+$/i,Dn=/^0o[0-7]+$/i,Un=parseInt;var Fn=1/0;const Bn=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(xt(e))return NaN;if(q(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=q(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=kn(e);var n=Mn.test(e);return n||Dn.test(e)?Un(e.slice(2),n?2:8):Rn.test(e)?NaN:+e}(e))===Fn||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},jn=function(e){var t=Bn(e),n=t%1;return t==t?n?t-n:t:0},$n=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:jn(t),_n(e,t<0?0:t,r)):[]},Vn=function(e){return"string"==typeof e||!x(e)&&y(e)&&"[object String]"==m(e)};var Wn=Math.max;const Kn=Yt?function(e,t){return Yt(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:X;var Gn=Date.now;const qn=(zn=Kn,Hn=0,Yn=0,function(){var e=Gn(),t=16-(e-Yn);if(Yn=e,t>0){if(++Hn>=800)return arguments[0]}else Hn=0;return zn.apply(void 0,arguments)});var zn,Hn,Yn;const Jn=function(e,t){return qn(function(e,t,n){return t=Wn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=Wn(r.length-t,0),a=Array(i);++s<i;)a[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}(e,t,X),e+"")},Xn=function(e,t,n){if(!q(n))return!1;var r=typeof t;return!!("number"==r?H(n)&&I(t,n.length):"string"==r&&t in n)&&ke(n[t],e)};var Qn=Object.prototype.hasOwnProperty;const Zn=(er=function(e,t){if($(t)||H(t))Zt(t,Y(t),e);else for(var n in t)Qn.call(t,n)&&Qt(e,n,t[n])},Jn(function(e,t){var n=-1,r=t.length,s=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(s=er.length>3&&"function"==typeof s?(r--,s):void 0,i&&Xn(t[0],t[1],i)&&(s=r<3?void 0:s,r=1),e=Object(e);++n<r;){var a=t[n];a&&er(e,a,n,s)}return e}));var er;const tr=function(e,t,n,r){if(!q(e))return e;for(var s=-1,i=(t=Dt(t,e)).length,a=i-1,o=e;null!=o&&++s<i;){var c=Ut(t[s]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=a){var p=o[c];void 0===(l=r?r(p,c,o):void 0)&&(l=q(p)?p:I(t[s+1])?[]:{})}Qt(o,c,l),o=o[c]}return e},nr=function(e,t){if(null==e)return{};var n=Z(pn(e),function(e){return[e]});return t=Wt(t),function(e,t,n){for(var r=-1,s=t.length,i={};++r<s;){var a=t[r],o=Ft(e,a);n(o,a)&&tr(i,Dt(a,e),o)}return i}(e,n,function(e,n){return t(e,n[0])})};var rr=M&&M.isRegExp;const sr=rr?L(rr):function(e){return y(e)&&"[object RegExp]"==m(e)};class ir{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Q(this.definition,t=>{t.accept(e)})}}class ar extends ir{constructor(e){super([]),this.idx=1,Zn(this,nr(e,e=>void 0!==e))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class or extends ir{constructor(e){super(e.definition),this.orgText="",Zn(this,nr(e,e=>void 0!==e))}}class cr extends ir{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Zn(this,nr(e,e=>void 0!==e))}}class lr extends ir{constructor(e){super(e.definition),this.idx=1,Zn(this,nr(e,e=>void 0!==e))}}class pr extends ir{constructor(e){super(e.definition),this.idx=1,Zn(this,nr(e,e=>void 0!==e))}}class ur extends ir{constructor(e){super(e.definition),this.idx=1,Zn(this,nr(e,e=>void 0!==e))}}class hr extends ir{constructor(e){super(e.definition),this.idx=1,Zn(this,nr(e,e=>void 0!==e))}}class dr extends ir{constructor(e){super(e.definition),this.idx=1,Zn(this,nr(e,e=>void 0!==e))}}class fr extends ir{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Zn(this,nr(e,e=>void 0!==e))}}class mr{constructor(e){this.idx=1,Zn(this,nr(e,e=>void 0!==e))}accept(e){e.visit(this)}}function yr(e){function t(e){return Gt(e,yr)}if(e instanceof ar){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Vn(e.label)&&(t.label=e.label),t}if(e instanceof cr)return{type:"Alternative",definition:t(e.definition)};if(e instanceof lr)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof pr)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof ur)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:yr(new mr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof dr)return{type:"RepetitionWithSeparator",idx:e.idx,separator:yr(new mr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof hr)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof fr)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof mr){const t={type:"Terminal",name:e.terminalType.name,label:(n=e.terminalType,Vn((r=n).LABEL)&&""!==r.LABEL?n.LABEL:n.name),idx:e.idx};Vn(e.label)&&(t.terminalLabel=e.label);const s=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=sr(s)?s.source:s),t}var n,r;if(e instanceof or)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class gr{visit(e){const t=e;switch(t.constructor){case ar:return this.visitNonTerminal(t);case cr:return this.visitAlternative(t);case lr:return this.visitOption(t);case pr:return this.visitRepetitionMandatory(t);case ur:return this.visitRepetitionMandatoryWithSeparator(t);case dr:return this.visitRepetitionWithSeparator(t);case hr:return this.visitRepetition(t);case fr:return this.visitAlternation(t);case mr:return this.visitTerminal(t);case or:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}const Tr=function(e,t){var n;return J(e,function(e,r,s){return!(n=t(e,r,s))}),!!n},Sr=function(e,t,n){var r=x(e)?Je:Tr;return n&&Xn(e,t,n)&&(t=void 0),r(e,Wt(t))},br=function(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1},Er=function(e){return e!=e},xr=function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}(e,t,n):br(e,Er,n)};var vr=Math.max;const Pr=function(e,t,n,r){e=H(e)?e:ee(e),n=n&&!r?jn(n):0;var s=e.length;return n<0&&(n=vr(s+n,0)),Vn(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&xr(e,t,n)>-1},Ar=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},wr=function(e,t){var n=!0;return J(e,function(e,r,s){return n=!!t(e,r,s)}),n},Cr=function(e,t,n){var r=x(e)?Ar:wr;return n&&Xn(e,t,n)&&(t=void 0),r(e,Wt(t))};function Ir(e,t=[]){return!!(e instanceof lr||e instanceof hr||e instanceof dr)||(e instanceof fr?Sr(e.definition,e=>Ir(e,t)):!(e instanceof ar&&Pr(t,e))&&e instanceof ir&&(e instanceof ar&&t.push(e),Cr(e.definition,e=>Ir(e,t))))}function Or(e){if(e instanceof ar)return"SUBRULE";if(e instanceof lr)return"OPTION";if(e instanceof fr)return"OR";if(e instanceof pr)return"AT_LEAST_ONE";if(e instanceof ur)return"AT_LEAST_ONE_SEP";if(e instanceof dr)return"MANY_SEP";if(e instanceof hr)return"MANY";if(e instanceof mr)return"CONSUME";throw Error("non exhaustive match")}class _r{walk(e,t=[]){Q(e.definition,(n,r)=>{const s=$n(e.definition,r+1);if(n instanceof ar)this.walkProdRef(n,s,t);else if(n instanceof mr)this.walkTerminal(n,s,t);else if(n instanceof cr)this.walkFlat(n,s,t);else if(n instanceof lr)this.walkOption(n,s,t);else if(n instanceof pr)this.walkAtLeastOne(n,s,t);else if(n instanceof ur)this.walkAtLeastOneSep(n,s,t);else if(n instanceof dr)this.walkManySep(n,s,t);else if(n instanceof hr)this.walkMany(n,s,t);else{if(!(n instanceof fr))throw Error("non exhaustive match");this.walkOr(n,s,t)}})}walkTerminal(e,t,n){}walkProdRef(e,t,n){}walkFlat(e,t,n){const r=t.concat(n);this.walk(e,r)}walkOption(e,t,n){const r=t.concat(n);this.walk(e,r)}walkAtLeastOne(e,t,n){const r=[new lr({definition:e.definition})].concat(t,n);this.walk(e,r)}walkAtLeastOneSep(e,t,n){const r=Lr(e,t,n);this.walk(e,r)}walkMany(e,t,n){const r=[new lr({definition:e.definition})].concat(t,n);this.walk(e,r)}walkManySep(e,t,n){const r=Lr(e,t,n);this.walk(e,r)}walkOr(e,t,n){const r=t.concat(n);Q(e.definition,e=>{const t=new cr({definition:[e]});this.walk(t,r)})}}function Lr(e,t,n){return[new lr({definition:[new mr({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}const Nr=function(e,t){return!(null==e||!e.length)&&xr(e,t,0)>-1},kr=function(e,t,n){for(var r=-1,s=null==e?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1},Rr=function(){},Mr=ge&&1/tt(new ge([,-0]))[1]==1/0?function(e){return new ge(e)}:Rr,Dr=function(e,t,n){var r=-1,s=Nr,i=e.length,a=!0,o=[],c=o;if(n)a=!1,s=kr;else if(i>=200){var l=t?null:Mr(e);if(l)return tt(l);a=!1,s=Xe,c=new Ye}else c=t?[]:o;e:for(;++r<i;){var p=e[r],u=t?t(p):p;if(p=n||0!==p?p:0,a&&u==u){for(var h=c.length;h--;)if(c[h]===u)continue e;t&&c.push(u),o.push(p)}else s(c,u,n)||(c!==o&&c.push(u),o.push(p))}return o},Ur=function(e){return e&&e.length?Dr(e):[]};var Fr=c?c.isConcatSpreadable:void 0;const Br=function(e){return x(e)||E(e)||!!(Fr&&e&&e[Fr])},jr=function e(t,n,r,s,i){var a=-1,o=t.length;for(r||(r=Br),i||(i=[]);++a<o;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,s,i):st(i,c):s||(i[i.length]=c)}return i},$r=function(e){return null!=e&&e.length?jr(e,1):[]};function Vr(e){if(e instanceof ar)return Vr(e.referencedRule);if(e instanceof mr)return[e.terminalType];if(function(e){return e instanceof cr||e instanceof lr||e instanceof hr||e instanceof pr||e instanceof ur||e instanceof dr||e instanceof mr||e instanceof or}(e))return function(e){let t=[];const n=e.definition;let r,s=0,i=n.length>s,a=!0;for(;i&&a;)r=n[s],a=Ir(r),t=t.concat(Vr(r)),s+=1,i=n.length>s;return Ur(t)}(e);if(function(e){return e instanceof fr}(e))return function(e){const t=Gt(e.definition,e=>Vr(e));return Ur($r(t))}(e);throw Error("non exhaustive match")}const Wr="_~IN~_";class Kr extends _r{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,n){}walkProdRef(e,t,n){const r=(s=e.referencedRule,i=e.idx,s.name+i+Wr+this.topProd.name);var s,i;const a=t.concat(n),o=Vr(new cr({definition:a}));this.follows[r]=o}}const Gr=function(e){return void 0===e};function qr(e){return e.charCodeAt(0)}function zr(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function Hr(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function Yr(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function Jr(){throw Error("Internal Error - Should never get here!")}function Xr(e){return"Character"===e.type}const Qr=[];for(let e=qr("0");e<=qr("9");e++)Qr.push(e);const Zr=[qr("_")].concat(Qr);for(let e=qr("a");e<=qr("z");e++)Zr.push(e);for(let e=qr("A");e<=qr("Z");e++)Zr.push(e);const es=[qr(" "),qr("\f"),qr("\n"),qr("\r"),qr("\t"),qr("\v"),qr("\t"),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr(""),qr("\u2028"),qr("\u2029"),qr(""),qr(""),qr(""),qr("\ufeff")],ts=/[0-9a-fA-F]/,ns=/[0-9]/,rs=/[1-9]/;class ss{visitChildren(e){for(const t in e){const n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}var is=Object.prototype,as=is.hasOwnProperty;const os=Jn(function(e,t){e=Object(e);var n=-1,r=t.length,s=r>2?t[2]:void 0;for(s&&Xn(t[0],t[1],s)&&(r=1);++n<r;)for(var i=t[n],a=nn(i),o=-1,c=a.length;++o<c;){var l=a[o],p=e[l];(void 0===p||ke(p,is[l])&&!as.call(e,l))&&(e[l]=i[l])}return e}),cs=function(e,t){var n=[];return J(e,function(e,r,s){t(e,r,s)&&n.push(e)}),n},ls=function(e,t){return(x(e)?at:cs)(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(Wt(t)))};var ps=Math.max;const us=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:jn(n);return s<0&&(s=ps(r+s,0)),xr(e,t,s)},hs=function(e,t,n,r){var s=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++s]);++s<i;)n=t(n,e[s],s,e);return n},ds=function(e,t,n,r,s){return s(e,function(e,s,i){n=r?(r=!1,e):t(n,e,s,i)}),n},fs=function(e,t,n){var r=x(e)?hs:ds,s=arguments.length<3;return r(e,Wt(t),n,s,J)},ms=function(e,t){return(x(e)?at:cs)(e,Wt(t))},ys=function(e){return y(e)&&H(e)},gs=Jn(function(e,t){return ys(e)?function(e,t,n,r){var s=-1,i=Nr,a=!0,o=e.length,c=[],l=t.length;if(!o)return c;n&&(t=Z(t,L(n))),r?(i=kr,a=!1):t.length>=200&&(i=Xe,a=!1,t=new Ye(t));e:for(;++s<o;){var p=e[s],u=null==n?p:n(p);if(p=r||0!==p?p:0,a&&u==u){for(var h=l;h--;)if(t[h]===u)continue e;c.push(p)}else i(t,u,r)||c.push(p)}return c}(e,jr(t,1,ys,!0)):[]}),Ts=function(e){for(var t=-1,n=null==e?0:e.length,r=0,s=[];++t<n;){var i=e[t];i&&(s[r++]=i)}return s},Ss=function(e){return e&&e.length?e[0]:void 0};var bs=Math.max;const Es=(xs=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:jn(n);return s<0&&(s=bs(r+s,0)),br(e,Wt(t),s)},function(e,t,n){var r=Object(e);if(!H(e)){var s=Wt(t);e=Y(e),t=function(e){return s(r[e],e,r)}}var i=xs(e,t,n);return i>-1?r[s?e[i]:i]:void 0});var xs;function vs(e){console&&console.error&&console.error(`Error: ${e}`)}function Ps(e){console&&console.warn&&console.warn(`Warning: ${e}`)}let As={};const ws=new class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Hr(n,"global");break;case"i":Hr(n,"ignoreCase");break;case"m":Hr(n,"multiLine");break;case"u":Hr(n,"unicode");break;case"y":Hr(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}Yr(t);const n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return Jr()}quantifier(e=!1){let t;const n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:n,atMost:e}):t={atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;Yr(t)}if(!0!==e||void 0!==t)return Yr(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),Yr(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Jr()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[qr("\n"),qr("\r"),qr("\u2028"),qr("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=Qr;break;case"D":e=Qr,t=!0;break;case"s":e=es;break;case"S":e=es,t=!0;break;case"w":e=Zr;break;case"W":e=Zr,t=!0}return Yr(e)?{type:"Set",value:e,complement:t}:Jr()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=qr("\f");break;case"n":e=qr("\n");break;case"r":e=qr("\r");break;case"t":e=qr("\t");break;case"v":e=qr("\v")}return Yr(e)?{type:"Character",value:e}:Jr()}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:qr("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:qr(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:qr(this.popChar())}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const t=this.classAtom();if(t.type,Xr(t)&&this.isRangeDash()){this.consumeChar("-");const n=this.classAtom();if(n.type,Xr(n)){if(n.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:n.value})}else zr(t.value,e),e.push(qr("-")),zr(n.value,e)}else zr(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:qr("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(!1===rs.test(e))throw Error("Expecting a positive integer");for(;ns.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===ns.test(e))throw Error("Expecting an integer");for(;ns.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:qr(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return ns.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){const e=this.popChar();if(!1===ts.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}};function Cs(e){const t=e.toString();if(As.hasOwnProperty(t))return As[t];{const e=ws.pattern(t);return As[t]=e,e}}const Is="Complement Sets are not supported for first char optimization",Os='Unable to use "first char" lexer optimizations:\n';function _s(e,t=!1){try{const t=Cs(e);return Ls(t.value,{},t.flags.ignoreCase)}catch(n){if(n.message===Is)t&&Ps(`${Os}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),vs(`${Os}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Ls(e,t,n){switch(e.type){case"Disjunction":for(let r=0;r<e.value.length;r++)Ls(e.value[r],t,n);break;case"Alternative":const r=e.value;for(let e=0;e<r.length;e++){const s=r[e];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const i=s;switch(i.type){case"Character":Ns(i.value,t,n);break;case"Set":if(!0===i.complement)throw Error(Is);Q(i.value,e=>{if("number"==typeof e)Ns(e,t,n);else{const r=e;if(!0===n)for(let e=r.from;e<=r.to;e++)Ns(e,t,n);else{for(let e=r.from;e<=r.to&&e<Xs;e++)Ns(e,t,n);if(r.to>=Xs){const e=r.from>=Xs?r.from:Xs,n=r.to,s=Zs(e),i=Zs(n);for(let e=s;e<=i;e++)t[e]=e}}}});break;case"Group":Ls(i.value,t,n);break;default:throw Error("Non Exhaustive Match")}const a=void 0!==i.quantifier&&0===i.quantifier.atLeast;if("Group"===i.type&&!1===Rs(i)||"Group"!==i.type&&!1===a)break}break;default:throw Error("non exhaustive match!")}return ee(t)}function Ns(e,t,n){const r=Zs(e);t[r]=r,!0===n&&function(e,t){const n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){const e=Zs(r.charCodeAt(0));t[e]=e}else{const e=n.toLowerCase();if(e!==n){const n=Zs(e.charCodeAt(0));t[n]=n}}}(e,t)}function ks(e,t){return Es(e.value,e=>{if("number"==typeof e)return Pr(t,e);{const n=e;return void 0!==Es(t,e=>n.from<=e&&e<=n.to)}})}function Rs(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(x(e.value)?Cr(e.value,Rs):Rs(e.value))}class Ms extends ss{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){Pr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===ks(e,this.targetCharCodes)&&(this.found=!0):void 0!==ks(e,this.targetCharCodes)&&(this.found=!0)}}function Ds(e,t){if(t instanceof RegExp){const n=Cs(t),r=new Ms(e);return r.visit(n),r.found}return void 0!==Es(t,t=>Pr(e,t.charCodeAt(0)))}const Us="PATTERN",Fs="defaultMode",Bs="modes";let js="boolean"==typeof new RegExp("(?:)").sticky;const $s=/[^\\][$]/,Vs=/[^\\[][\^]|^\^/;function Ws(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Ks(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Gs(e){const t=e.PATTERN;if(sr(t))return!1;if(z(t))return!0;if(Ht(t,"exec"))return!0;if(Vn(t))return!1;throw Error("non exhaustive match")}function qs(e){return!(!Vn(e)||1!==e.length)&&e.charCodeAt(0)}const zs={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const t=e.charCodeAt(n);if(10===t)return this.lastIndex=n+1,!0;if(13===t)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function Hs(e,t){if(Ht(e,"LINE_BREAKS"))return!1;if(sr(e.PATTERN)){try{Ds(t,e.PATTERN)}catch(e){return{issue:ui.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Vn(e.PATTERN))return!1;if(Gs(e))return{issue:ui.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Ys(e){return Gt(e,e=>Vn(e)?e.charCodeAt(0):e)}function Js(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}const Xs=256;let Qs=[];function Zs(e){return e<Xs?e:Qs[e]}const ei=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};function ti(e){const t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function ni(e,t){const n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function ri(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let si=1;const ii={};function ai(e){const t=function(e){let t=In(e),n=e,r=!0;for(;r;){n=Ts($r(Gt(n,e=>e.CATEGORIES)));const e=gs(n,t);t=t.concat(e),Ne(e)?r=!1:n=e}return t}(e);!function(e){Q(e,e=>{ci(e)||(ii[si]=e,e.tokenTypeIdx=si++),li(e)&&!x(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),li(e)||(e.CATEGORIES=[]),Ht(e,"categoryMatches")||(e.categoryMatches=[]),Ht(e,"categoryMatchesMap")||(e.categoryMatchesMap={})})}(t),function(e){Q(e,e=>{oi([],e)})}(t),function(e){Q(e,e=>{e.categoryMatches=[],Q(e.categoryMatchesMap,(t,n)=>{e.categoryMatches.push(ii[n].tokenTypeIdx)})})}(t),Q(t,e=>{e.isParent=e.categoryMatches.length>0})}function oi(e,t){Q(e,e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0}),Q(t.CATEGORIES,n=>{const r=e.concat(t);Pr(r,n)||oi(r,n)})}function ci(e){return Ht(e,"tokenTypeIdx")}function li(e){return Ht(e,"CATEGORIES")}function pi(e){return Ht(e,"tokenTypeIdx")}var ui;!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(ui||(ui={}));const hi={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:{buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,n,r,s)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`},traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(hi);class di{constructor(e,t=hi){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${e}>`);const{time:r,value:s}=ti(t),i=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&i(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Zn({},hi,t);const n=this.config.traceInitPerf;!0===n?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof n&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,r=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===hi.lineTerminatorsPattern)this.config.lineTerminatorsPattern=zs;else if(this.config.lineTerminatorCharacters===hi.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),x(e)?n={modes:{defaultMode:In(e)},defaultMode:Fs}:(r=!1,n=In(e))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e){const t=[];return Ht(e,Fs)||t.push({message:"A MultiMode Lexer cannot be initialized without a <"+Fs+"> property in its definition\n",type:ui.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Ht(e,Bs)||t.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:ui.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Ht(e,Bs)&&Ht(e,Fs)&&!Ht(e.modes,e.defaultMode)&&t.push({message:`A MultiMode Lexer cannot be initialized with a ${Fs}: <${e.defaultMode}>which does not exist\n`,type:ui.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Ht(e,Bs)&&Q(e.modes,(e,n)=>{Q(e,(r,s)=>{if(Gr(r))t.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${n}> at index: <${s}>\n`,type:ui.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Ht(r,"LONGER_ALT")){const s=x(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT];Q(s,s=>{Gr(s)||Pr(e,s)||t.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${s.name}> on token <${r.name}> outside of mode <${n}>\n`,type:ui.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),t}(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function(e,t,n){const r=[];let s=!1;const i=Ts($r(ee(e.modes))),a=ls(i,e=>e[Us]===di.NA),o=Ys(n);return t&&Q(a,e=>{const t=Hs(e,o);if(!1!==t){const n=function(e,t){if(t.issue===ui.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ui.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),s={message:n,type:t.issue,tokenType:e};r.push(s)}else Ht(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(s=!0):Ds(o,e.PATTERN)&&(s=!0)}),t&&!s&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:ui.NO_LINE_BREAKS_FLAGS}),r}(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},Q(n.modes,(e,t)=>{n.modes[t]=ls(e,e=>Gr(e))});const s=Y(n.modes);if(Q(n.modes,(e,n)=>{this.TRACE_INIT(`Mode: <${n}> processing`,()=>{if(this.modes.push(n),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e,t){let n=[];const r=function(e){const t=ms(e,e=>!Ht(e,Us));return{errors:Gt(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:ui.MISSING_PATTERN,tokenTypes:[e]})),valid:gs(e,t)}}(e);n=n.concat(r.errors);const s=function(e){const t=ms(e,e=>{const t=e[Us];return!(sr(t)||z(t)||Ht(t,"exec")||Vn(t))});return{errors:Gt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ui.INVALID_PATTERN,tokenTypes:[e]})),valid:gs(e,t)}}(r.valid),i=s.valid;return n=n.concat(s.errors),n=n.concat(function(e){let t=[];const n=ms(e,e=>sr(e[Us]));return t=t.concat(function(e){class t extends ss{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}const n=ms(e,e=>{const n=e.PATTERN;try{const e=Cs(n),r=new t;return r.visit(e),r.found}catch(e){return $s.test(n.source)}});return Gt(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ui.EOI_ANCHOR_FOUND,tokenTypes:[e]}))}(n)),t=t.concat(function(e){class t extends ss{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}const n=ms(e,e=>{const n=e.PATTERN;try{const e=Cs(n),r=new t;return r.visit(e),r.found}catch(e){return Vs.test(n.source)}});return Gt(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ui.SOI_ANCHOR_FOUND,tokenTypes:[e]}))}(n)),t=t.concat(function(e){const t=ms(e,e=>{const t=e[Us];return t instanceof RegExp&&(t.multiline||t.global)});return Gt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ui.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}))}(n)),t=t.concat(function(e){const t=[];let n=Gt(e,n=>fs(e,(e,r)=>(n.PATTERN.source!==r.PATTERN.source||Pr(t,r)||r.PATTERN===di.NA||(t.push(r),e.push(r)),e),[]));n=Ts(n);const r=ms(n,e=>e.length>1);return Gt(r,e=>{const t=Gt(e,e=>e.name);return{message:`The same RegExp pattern ->${Ss(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:ui.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}})}(n)),t=t.concat(function(e){const t=ms(e,e=>e.PATTERN.test(""));return Gt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:ui.EMPTY_MATCH_PATTERN,tokenTypes:[e]}))}(n)),t}(i)),n=n.concat(function(e){const t=ms(e,e=>{if(!Ht(e,"GROUP"))return!1;const t=e.GROUP;return t!==di.SKIPPED&&t!==di.NA&&!Vn(t)});return Gt(t,e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ui.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}))}(i)),n=n.concat(function(e,t){const n=ms(e,e=>void 0!==e.PUSH_MODE&&!Pr(t,e.PUSH_MODE));return Gt(n,e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:ui.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}))}(i,t)),n=n.concat(function(e){const t=[],n=fs(e,(e,t,n)=>{const r=t.PATTERN;return r===di.NA||(Vn(r)?e.push({str:r,idx:n,tokenType:t}):sr(r)&&(s=r,void 0===Es([".","\\","[","]","|","^","$","(",")","?","*","+","{"],e=>-1!==s.source.indexOf(e)))&&e.push({str:r.source,idx:n,tokenType:t})),e;var s},[]);return Q(e,(e,r)=>{Q(n,({str:n,idx:s,tokenType:i})=>{if(r<s&&function(e,t){if(sr(t)){const n=t.exec(e);return null!==n&&0===n.index}if(z(t))return t(e,0,[],{});if(Ht(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(n,e.PATTERN)){const n=`Token: ->${i.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:n,type:ui.UNREACHABLE_PATTERN,tokenTypes:[e,i]})}})}),t}(i)),n}(e,s))}),Ne(this.lexerDefinitionErrors)){let r;ai(e),this.TRACE_INIT("analyzeTokenTypes",()=>{r=function(e,t){const n=(t=os(t,{useSticky:js,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;let r;n("initCharCodeToOptimizedIndexMap",()=>{!function(){if(Ne(Qs)){Qs=new Array(65536);for(let e=0;e<65536;e++)Qs[e]=e>255?255+~~(e/255):e}}()}),n("Reject Lexer.NA",()=>{r=ls(e,e=>e[Us]===di.NA)});let s,i,a,o,c,l,p,u,h,d,f,m=!1;n("Transform Patterns",()=>{m=!1,s=Gt(r,e=>{const n=e[Us];if(sr(n)){const e=n.source;return 1!==e.length||"^"===e||"$"===e||"."===e||n.ignoreCase?2!==e.length||"\\"!==e[0]||Pr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?Ks(n):Ws(n):e[1]:e}if(z(n))return m=!0,{exec:n};if("object"==typeof n)return m=!0,n;if("string"==typeof n){if(1===n.length)return n;{const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=new RegExp(e);return t.useSticky?Ks(r):Ws(r)}}throw Error("non exhaustive match")})}),n("misc mapping",()=>{i=Gt(r,e=>e.tokenTypeIdx),a=Gt(r,e=>{const t=e.GROUP;if(t!==di.SKIPPED){if(Vn(t))return t;if(Gr(t))return!1;throw Error("non exhaustive match")}}),o=Gt(r,e=>{const t=e.LONGER_ALT;if(t)return x(t)?Gt(t,e=>us(r,e)):[us(r,t)]}),c=Gt(r,e=>e.PUSH_MODE),l=Gt(r,e=>Ht(e,"POP_MODE"))}),n("Line Terminator Handling",()=>{const e=Ys(t.lineTerminatorCharacters);p=Gt(r,e=>!1),"onlyOffset"!==t.positionTracking&&(p=Gt(r,t=>Ht(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===Hs(t,e)&&Ds(e,t.PATTERN)))}),n("Misc Mapping #2",()=>{u=Gt(r,Gs),h=Gt(s,qs),d=fs(r,(e,t)=>{const n=t.GROUP;return Vn(n)&&n!==di.SKIPPED&&(e[n]=[]),e},{}),f=Gt(s,(e,t)=>({pattern:s[t],longerAlt:o[t],canLineTerminator:p[t],isCustom:u[t],short:h[t],group:a[t],push:c[t],pop:l[t],tokenTypeIdx:i[t],tokenType:r[t]}))});let y=!0,g=[];return t.safeMode||n("First Char Optimization",()=>{g=fs(r,(e,n,r)=>{if("string"==typeof n.PATTERN){const t=Zs(n.PATTERN.charCodeAt(0));Js(e,t,f[r])}else if(x(n.START_CHARS_HINT)){let t;Q(n.START_CHARS_HINT,n=>{const s=Zs("string"==typeof n?n.charCodeAt(0):n);t!==s&&(t=s,Js(e,s,f[r]))})}else if(sr(n.PATTERN))if(n.PATTERN.unicode)y=!1,t.ensureOptimizations&&vs(`${Os}\tUnable to analyze < ${n.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const s=_s(n.PATTERN,t.ensureOptimizations);Ne(s)&&(y=!1),Q(s,t=>{Js(e,t,f[r])})}else t.ensureOptimizations&&vs(`${Os}\tTokenType: <${n.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return e},[])}),{emptyGroups:d,patternIdxToConfig:f,charCodeToPatternIdxToConfig:g,hasCustom:m,canBeOptimized:y}}(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[n]=r.patternIdxToConfig,this.charCodeToPatternIdxToConfig[n]=r.charCodeToPatternIdxToConfig,this.emptyGroups=Zn({},this.emptyGroups,r.emptyGroups),this.hasCustom=r.hasCustom||this.hasCustom,this.canModeBeOptimized[n]=r.canBeOptimized}})}),this.defaultMode=n.defaultMode,!Ne(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const e=Gt(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}Q(this.lexerDefinitionWarning,e=>{Ps(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(js?(this.chopInput=X,this.match=this.matchWithTest):(this.updateLastIndex=Rr,this.match=this.matchWithExec),r&&(this.handleModes=Rr),!1===this.trackStartLines&&(this.computeNewColumn=X),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=Rr),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const e=fs(this.canModeBeOptimized,(e,t,n)=>(!1===t&&e.push(n),e),[]);if(t.ensureOptimizations&&!Ne(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{As={}}),this.TRACE_INIT("toFastProperties",()=>{On(this)})})}tokenize(e,t=this.defaultMode){if(!Ne(this.lexerDefinitionErrors)){const e=Gt(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let n,r,s,i,a,o,c,l,p,u,h,d,f,m,y;const g=e,T=g.length;let S=0,b=0;const E=this.hasCustom?0:Math.floor(e.length/10),v=new Array(E),P=[];let A=this.trackStartLines?1:void 0,w=this.trackStartLines?1:void 0;const C=function(e){const t={},n=Y(e);return Q(n,n=>{const r=e[n];if(!x(r))throw Error("non exhaustive match");t[n]=[]}),t}(this.emptyGroups),I=this.trackStartLines,O=this.config.lineTerminatorsPattern;let _=0,L=[],N=[];const k=[],R=[];let M;function D(){return L}function U(e){const t=Zs(e),n=N[t];return void 0===n?R:n}Object.freeze(R);const F=e=>{if(1===k.length&&void 0===e.tokenType.PUSH_MODE){const t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);P.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{k.pop();const e=ei(k);L=this.patternIdxToConfig[e],N=this.charCodeToPatternIdxToConfig[e],_=L.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;M=N&&t?U:D}};function B(e){k.push(e),N=this.charCodeToPatternIdxToConfig[e],L=this.patternIdxToConfig[e],_=L.length,_=L.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;M=N&&t?U:D}let j;B.call(this,t);const $=this.config.recoveryEnabled;for(;S<T;){o=null;const t=g.charCodeAt(S),E=M(t),x=E.length;for(n=0;n<x;n++){j=E[n];const r=j.pattern;c=null;const p=j.short;if(!1!==p?t===p&&(o=r):!0===j.isCustom?(y=r.exec(g,S,v,C),null!==y?(o=y[0],void 0!==y.payload&&(c=y.payload)):o=null):(this.updateLastIndex(r,S),o=this.match(r,e,S)),null!==o){if(a=j.longerAlt,void 0!==a){const t=a.length;for(s=0;s<t;s++){const t=L[a[s]],n=t.pattern;if(l=null,!0===t.isCustom?(y=n.exec(g,S,v,C),null!==y?(i=y[0],void 0!==y.payload&&(l=y.payload)):i=null):(this.updateLastIndex(n,S),i=this.match(n,e,S)),i&&i.length>o.length){o=i,c=l,j=t;break}}}break}}if(null!==o){if(p=o.length,u=j.group,void 0!==u&&(h=j.tokenTypeIdx,d=this.createTokenInstance(o,S,h,j.tokenType,A,w,p),this.handlePayload(d,c),!1===u?b=this.addToken(v,b,d):C[u].push(d)),e=this.chopInput(e,p),S+=p,w=this.computeNewColumn(w,p),!0===I&&!0===j.canLineTerminator){let e,t,n=0;O.lastIndex=0;do{e=O.test(o),!0===e&&(t=O.lastIndex-1,n++)}while(!0===e);0!==n&&(A+=n,w=p-t,this.updateTokenEndLineColumnLocation(d,u,t,n,A,w,p))}this.handleModes(j,F,B,d)}else{const t=S,n=A,s=w;let i=!1===$;for(;!1===i&&S<T;)for(e=this.chopInput(e,1),S++,r=0;r<_;r++){const t=L[r],n=t.pattern,s=t.short;if(!1!==s?g.charCodeAt(S)===s&&(i=!0):!0===t.isCustom?i=null!==n.exec(g,S,v,C):(this.updateLastIndex(n,S),i=null!==n.exec(e)),!0===i)break}if(f=S-t,w=this.computeNewColumn(w,f),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(g,t,f,n,s),P.push({offset:t,line:n,column:s,length:f,message:m}),!1===$)break}}return this.hasCustom||(v.length=b),{tokens:v,groups:C,errors:P}}handleModes(e,t,n,r){if(!0===e.pop){const s=e.push;t(r),void 0!==s&&n.call(this,s)}else void 0!==e.push&&n.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,n,r,s,i,a){let o,c;void 0!==t&&(o=n===a-1,c=o?-1:0,1===r&&!0===o||(e.endLine=s+c,e.endColumn=i-1-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(e,t,n,r,s,i){return{image:e,startOffset:t,startLine:s,startColumn:i,tokenTypeIdx:n,tokenType:r}}createFullToken(e,t,n,r,s,i,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:s,endLine:s,startColumn:i,endColumn:i+a-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(e,t,n){return e.push(n),t}addTokenUsingMemberAccess(e,t,n){return e[t]=n,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}matchWithExec(e,t){const n=e.exec(t);return null!==n?n[0]:null}}function fi(e){return mi(e)?e.LABEL:e.name}function mi(e){return Vn(e.LABEL)&&""!==e.LABEL}di.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",di.NA=/NOT_APPLICABLE/;const yi="categories",gi="label",Ti="group",Si="push_mode",bi="pop_mode",Ei="longer_alt",xi="line_breaks",vi="start_chars_hint";function Pi(e){return function(e){const t=e.pattern,n={};if(n.name=e.name,Gr(t)||(n.PATTERN=t),Ht(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return Ht(e,yi)&&(n.CATEGORIES=e[yi]),ai([n]),Ht(e,gi)&&(n.LABEL=e[gi]),Ht(e,Ti)&&(n.GROUP=e[Ti]),Ht(e,bi)&&(n.POP_MODE=e[bi]),Ht(e,Si)&&(n.PUSH_MODE=e[Si]),Ht(e,Ei)&&(n.LONGER_ALT=e[Ei]),Ht(e,xi)&&(n.LINE_BREAKS=e[xi]),Ht(e,vi)&&(n.START_CHARS_HINT=e[vi]),n}(e)}const Ai=Pi({name:"EOF",pattern:di.NA});function wi(e,t,n,r,s,i,a,o){return{image:t,startOffset:n,endOffset:r,startLine:s,endLine:i,startColumn:a,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Ci(e,t){return ni(e,t)}ai([Ai]);const Ii={buildMismatchTokenMessage:({expected:e,actual:t,previous:n,ruleName:r})=>`Expecting ${mi(e)?`--\x3e ${fi(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:s}){const i="Expecting: ",a="\nbut found: '"+Ss(t).image+"'";if(r)return i+r+a;{const t=fs(e,(e,t)=>e.concat(t),[]),n=Gt(t,e=>`[${Gt(e,e=>fi(e)).join(", ")}]`);return i+`one of these possible Token sequences:\n${Gt(n,(e,t)=>`  ${t+1}. ${e}`).join("\n")}`+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const s="Expecting: ",i="\nbut found: '"+Ss(t).image+"'";return n?s+n+i:s+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${Gt(e,e=>`[${Gt(e,e=>fi(e)).join(",")}]`).join(" ,")}>`+i}};Object.freeze(Ii);const Oi={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},_i={buildDuplicateFoundError(e,t){const n=e.name,r=Ss(t),s=r.idx,i=Or(r),a=(o=r)instanceof mr?o.terminalType.name:o instanceof ar?o.nonTerminalName:"";var o;let c=`->${i}${s>0?s:""}<- ${a?`with argument: ->${a}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=Gt(e.prefixPath,e=>fi(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=Gt(e.prefixPath,e=>fi(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError(e){let t=Or(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${Gt(e.leftRecursionPath,e=>e.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof or?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class Li extends gr{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Q(ee(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:ro.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}const Ni=function(e,t){return jr(Gt(e,t),1)},ki=function(e,t,n,r){for(var s=-1,i=null==e?0:e.length;++s<i;){var a=e[s];t(r,a,n(a),e)}return r},Ri=function(e,t,n,r){return J(e,function(e,s,i){t(r,e,n(e),i)}),r};var Mi=Object.prototype.hasOwnProperty;const Di=(Ui=function(e,t,n){Mi.call(e,n)?e[n].push(t):Jt(e,n,[t])},function(e,t){var n=x(e)?ki:Ri,r=Fi?Fi():{};return n(e,Ui,Wt(t),r)});var Ui,Fi;const Bi=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:jn(t),_n(e,0,(t=r-t)<0?0:t)):[]};class ji extends _r{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=In(this.path.ruleStack).reverse(),this.occurrenceStack=In(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){Ne(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class $i extends ji{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const e=t.concat(n),r=new cr({definition:e});this.possibleTokTypes=Vr(r),this.found=!0}}}class Vi extends _r{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Wi extends Vi{walkMany(e,t,n){if(e.idx===this.occurrence){const e=Ss(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,n)}}class Ki extends Vi{walkManySep(e,t,n){if(e.idx===this.occurrence){const e=Ss(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,n)}}class Gi extends Vi{walkAtLeastOne(e,t,n){if(e.idx===this.occurrence){const e=Ss(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,n)}}class qi extends Vi{walkAtLeastOneSep(e,t,n){if(e.idx===this.occurrence){const e=Ss(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof mr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,n)}}function zi(e,t,n=[]){n=In(n);let r=[],s=0;function i(i){const a=zi(i.concat($n(e,s+1)),t,n);return r.concat(a)}for(;n.length<t&&s<e.length;){const t=e[s];if(t instanceof cr)return i(t.definition);if(t instanceof ar)return i(t.definition);if(t instanceof lr)r=i(t.definition);else{if(t instanceof pr)return i(t.definition.concat([new hr({definition:t.definition})]));if(t instanceof ur)return i([new cr({definition:t.definition}),new hr({definition:[new mr({terminalType:t.separator})].concat(t.definition)})]);if(t instanceof dr){const e=t.definition.concat([new hr({definition:[new mr({terminalType:t.separator})].concat(t.definition)})]);r=i(e)}else if(t instanceof hr){const e=t.definition.concat([new hr({definition:t.definition})]);r=i(e)}else{if(t instanceof fr)return Q(t.definition,e=>{!1===Ne(e.definition)&&(r=i(e.definition))}),r;if(!(t instanceof mr))throw Error("non exhaustive match");n.push(t.terminalType)}}s++}return r.push({partialPath:n,suffixDef:$n(e,s)}),r}function Hi(e,t,n,r){const s="EXIT_NONE_TERMINAL",i=[s],a="EXIT_ALTERNATIVE";let o=!1;const c=t.length,l=c-r-1,p=[],u=[];for(u.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Ne(u);){const e=u.pop();if(e===a){o&&ei(u).idx<=l&&u.pop();continue}const r=e.def,h=e.idx,d=e.ruleStack,f=e.occurrenceStack;if(Ne(r))continue;const m=r[0];if(m===s){const e={idx:h,def:$n(r),ruleStack:Bi(d),occurrenceStack:Bi(f)};u.push(e)}else if(m instanceof mr)if(h<c-1){const e=h+1;if(n(t[e],m.terminalType)){const t={idx:e,def:$n(r),ruleStack:d,occurrenceStack:f};u.push(t)}}else{if(h!==c-1)throw Error("non exhaustive match");p.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:d,occurrenceStack:f}),o=!0}else if(m instanceof ar){const e=In(d);e.push(m.nonTerminalName);const t=In(f);t.push(m.idx);const n={idx:h,def:m.definition.concat(i,$n(r)),ruleStack:e,occurrenceStack:t};u.push(n)}else if(m instanceof lr){const e={idx:h,def:$n(r),ruleStack:d,occurrenceStack:f};u.push(e),u.push(a);const t={idx:h,def:m.definition.concat($n(r)),ruleStack:d,occurrenceStack:f};u.push(t)}else if(m instanceof pr){const e=new hr({definition:m.definition,idx:m.idx}),t={idx:h,def:m.definition.concat([e],$n(r)),ruleStack:d,occurrenceStack:f};u.push(t)}else if(m instanceof ur){const e=new mr({terminalType:m.separator}),t=new hr({definition:[e].concat(m.definition),idx:m.idx}),n={idx:h,def:m.definition.concat([t],$n(r)),ruleStack:d,occurrenceStack:f};u.push(n)}else if(m instanceof dr){const e={idx:h,def:$n(r),ruleStack:d,occurrenceStack:f};u.push(e),u.push(a);const t=new mr({terminalType:m.separator}),n=new hr({definition:[t].concat(m.definition),idx:m.idx}),s={idx:h,def:m.definition.concat([n],$n(r)),ruleStack:d,occurrenceStack:f};u.push(s)}else if(m instanceof hr){const e={idx:h,def:$n(r),ruleStack:d,occurrenceStack:f};u.push(e),u.push(a);const t=new hr({definition:m.definition,idx:m.idx}),n={idx:h,def:m.definition.concat([t],$n(r)),ruleStack:d,occurrenceStack:f};u.push(n)}else if(m instanceof fr)for(let e=m.definition.length-1;e>=0;e--){const t={idx:h,def:m.definition[e].definition.concat($n(r)),ruleStack:d,occurrenceStack:f};u.push(t),u.push(a)}else if(m instanceof cr)u.push({idx:h,def:m.definition.concat($n(r)),ruleStack:d,occurrenceStack:f});else{if(!(m instanceof or))throw Error("non exhaustive match");u.push(Yi(m,h,d,f))}}return p}function Yi(e,t,n,r){const s=In(n);s.push(e.name);const i=In(r);return i.push(1),{idx:t,def:e.definition,ruleStack:s,occurrenceStack:i}}var Ji;function Xi(e){if(e instanceof lr||"Option"===e)return Ji.OPTION;if(e instanceof hr||"Repetition"===e)return Ji.REPETITION;if(e instanceof pr||"RepetitionMandatory"===e)return Ji.REPETITION_MANDATORY;if(e instanceof ur||"RepetitionMandatoryWithSeparator"===e)return Ji.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof dr||"RepetitionWithSeparator"===e)return Ji.REPETITION_WITH_SEPARATOR;if(e instanceof fr||"Alternation"===e)return Ji.ALTERNATION;throw Error("non exhaustive match")}function Qi(e){const{occurrence:t,rule:n,prodType:r,maxLookahead:s}=e,i=Xi(r);return i===Ji.ALTERNATION?oa(t,n,s):ca(t,n,i,s)}function Zi(e,t,n,r){const s=e.length,i=Cr(e,e=>Cr(e,e=>1===e.length));if(t)return function(t){const r=Gt(t,e=>e.GATE);for(let t=0;t<s;t++){const s=e[t],i=s.length,a=r[t];if(void 0===a||!1!==a.call(this))e:for(let e=0;e<i;e++){const r=s[e],i=r.length;for(let e=0;e<i;e++){const t=this.LA(e+1);if(!1===n(t,r[e]))continue e}return t}}};if(i&&!r){const t=Gt(e,e=>$r(e)),n=fs(t,(e,t,n)=>(Q(t,t=>{Ht(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),Q(t.categoryMatches,t=>{Ht(e,t)||(e[t]=n)})}),e),{});return function(){const e=this.LA(1);return n[e.tokenTypeIdx]}}return function(){for(let t=0;t<s;t++){const r=e[t],s=r.length;e:for(let e=0;e<s;e++){const s=r[e],i=s.length;for(let e=0;e<i;e++){const t=this.LA(e+1);if(!1===n(t,s[e]))continue e}return t}}}}function ea(e,t,n){const r=Cr(e,e=>1===e.length),s=e.length;if(r&&!n){const t=$r(e);if(1===t.length&&Ne(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=fs(t,(e,t,n)=>(e[t.tokenTypeIdx]=!0,Q(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let n=0;n<s;n++){const r=e[n],s=r.length;for(let e=0;e<s;e++){const n=this.LA(e+1);if(!1===t(n,r[e]))continue e}return!0}return!1}}!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(Ji||(Ji={}));class ta extends _r{constructor(e,t,n){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}walkOption(e,t,n){this.checkIsTarget(e,Ji.OPTION,t,n)||super.walkOption(e,t,n)}walkAtLeastOne(e,t,n){this.checkIsTarget(e,Ji.REPETITION_MANDATORY,t,n)||super.walkOption(e,t,n)}walkAtLeastOneSep(e,t,n){this.checkIsTarget(e,Ji.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}walkMany(e,t,n){this.checkIsTarget(e,Ji.REPETITION,t,n)||super.walkOption(e,t,n)}walkManySep(e,t,n){this.checkIsTarget(e,Ji.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}}class na extends gr{constructor(e,t,n){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Ji.OPTION)}visitRepetition(e){this.checkIsTarget(e,Ji.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Ji.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Ji.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Ji.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Ji.ALTERNATION)}}function ra(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function sa(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n],s=[];for(let e=0;e<t.length;e++){const n=t[e];s.push(n+"_"+r.tokenTypeIdx);for(let e=0;e<r.categoryMatches.length;e++){const t="_"+r.categoryMatches[e];s.push(n+t)}}t=s}return t}function ia(e,t,n){for(let r=0;r<e.length;r++){if(r===n)continue;const s=e[r];for(let e=0;e<t.length;e++)if(!0===s[t[e]])return!1}return!0}function aa(e,t){const n=Gt(e,e=>zi([e],1)),r=ra(n.length),s=Gt(n,e=>{const t={};return Q(e,e=>{const n=sa(e.partialPath);Q(n,e=>{t[e]=!0})}),t});let i=n;for(let e=1;e<=t;e++){const n=i;i=ra(n.length);for(let a=0;a<n.length;a++){const o=n[a];for(let n=0;n<o.length;n++){const c=o[n].partialPath,l=o[n].suffixDef,p=sa(c);if(ia(s,p,a)||Ne(l)||c.length===t){const e=r[a];if(!1===la(e,c)){e.push(c);for(let e=0;e<p.length;e++){const t=p[e];s[a][t]=!0}}}else{const t=zi(l,e+1,c);i[a]=i[a].concat(t),Q(t,e=>{const t=sa(e.partialPath);Q(t,e=>{s[a][e]=!0})})}}}}return r}function oa(e,t,n,r){const s=new na(e,Ji.ALTERNATION,r);return t.accept(s),aa(s.result,n)}function ca(e,t,n,r){const s=new na(e,n);t.accept(s);const i=s.result,a=new ta(t,e,n).startWalking();return aa([new cr({definition:i}),new cr({definition:a})],r)}function la(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length===t.length){for(let e=0;e<r.length;e++){const n=t[e],s=r[e];if(!1==(n===s||void 0!==s.categoryMatchesMap[n.tokenTypeIdx]))continue e}return!0}}return!1}function pa(e){return Cr(e,e=>Cr(e,e=>Cr(e,e=>Ne(e.categoryMatches))))}function ua(e){return`${Or(e)}_#_${e.idx}_#_${ha(e)}`}function ha(e){return e instanceof mr?e.terminalType.name:e instanceof ar?e.nonTerminalName:""}class da extends gr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function fa(e,t,n,r=[]){const s=[],i=ma(t.definition);if(Ne(i))return[];{const t=e.name;Pr(i,e)&&s.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:ro.LEFT_RECURSION,ruleName:t});const a=gs(i,r.concat([e])),o=Ni(a,t=>{const s=In(r);return s.push(t),fa(e,t,n,s)});return s.concat(o)}}function ma(e){let t=[];if(Ne(e))return t;const n=Ss(e);if(n instanceof ar)t.push(n.referencedRule);else if(n instanceof cr||n instanceof lr||n instanceof pr||n instanceof ur||n instanceof dr||n instanceof hr)t=t.concat(ma(n.definition));else if(n instanceof fr)t=$r(Gt(n.definition,e=>ma(e.definition)));else if(!(n instanceof mr))throw Error("non exhaustive match");const r=Ir(n),s=e.length>1;if(r&&s){const n=$n(e);return t.concat(ma(n))}return t}class ya extends gr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}class ga extends gr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}const Ta="MismatchedTokenException",Sa="NoViableAltException",ba="EarlyExitException",Ea="NotAllInputParsedException",xa=[Ta,Sa,ba,Ea];function va(e){return Pr(xa,e.name)}Object.freeze(xa);class Pa extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Aa extends Pa{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=Ta}}class wa extends Pa{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=Sa}}class Ca extends Pa{constructor(e,t){super(e,t),this.name=Ea}}class Ia extends Pa{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=ba}}const Oa={},_a="InRuleRecoveryException";class La extends Error{constructor(e){super(e),this.name=_a}}function Na(e,t,n,r,s,i,a){const o=this.getKeyForAutomaticLookahead(r,s);let c=this.firstAfterRepMap[o];if(void 0===c){const e=this.getCurrRuleFullName();c=new i(this.getGAstProductions()[e],s).startWalking(),this.firstAfterRepMap[o]=c}let l=c.token,p=c.occurrence;const u=c.isEndOfRule;1===this.RULE_STACK.length&&u&&void 0===l&&(l=Ai,p=1),void 0!==l&&void 0!==p&&this.shouldInRepetitionRecoveryBeTried(l,p,a)&&this.tryInRepetitionRecovery(e,t,n,l)}const ka=1024,Ra=1280,Ma=1536;function Da(e,t,n){return n|t|e}class Ua{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:to.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if(Ne(t)){const n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...n,...r,...s]}return t}validateNoLeftRecursion(e){return Ni(e,e=>fa(e,e,_i))}validateEmptyOrAlternatives(e){return Ni(e,e=>function(e,t){const n=new ya;e.accept(n);const r=n.alternations;return Ni(r,n=>{const r=Bi(n.definition);return Ni(r,(r,s)=>{const i=Hi([r],[],ni,1);return Ne(i)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:s}),type:ro.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:s+1}]:[]})})}(e,_i))}validateAmbiguousAlternationAlternatives(e,t){return Ni(e,e=>function(e,t,n){const r=new ya;e.accept(r);let s=r.alternations;s=ls(s,e=>!0===e.ignoreAmbiguities);const i=Ni(s,r=>{const s=r.idx,i=r.maxLookahead||t,a=oa(s,e,i,r),o=function(e,t,n,r){const s=[],i=fs(e,(n,r,i)=>(!0===t.definition[i].ignoreAmbiguities||Q(r,r=>{const a=[i];Q(e,(e,n)=>{i!==n&&la(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)}),a.length>1&&!la(s,r)&&(s.push(r),n.push({alts:a,path:r}))}),n),[]);return Gt(i,e=>{const s=Gt(e.alts,e=>e+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:s,prefixPath:e.path}),type:ro.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}})}(a,r,e,n),c=function(e,t,n,r){const s=fs(e,(e,t,n)=>{const r=Gt(t,e=>({idx:n,path:e}));return e.concat(r)},[]);return Ts(Ni(s,e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];const i=e.idx,a=e.path,o=ms(s,e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<i&&(n=e.path,r=a,n.length<r.length&&Cr(n,(e,t)=>{const n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]}));var n,r});return Gt(o,e=>{const s=[e.idx+1,i+1],a=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:s,prefixPath:e.path}),type:ro.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:a,alternatives:s}})}))}(a,r,e,n);return o.concat(c)});return i}(e,t,_i))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,n){const r=[];return Q(e,e=>{const s=new ga;e.accept(s);const i=s.allProductions;Q(i,s=>{const i=Xi(s),a=s.maxLookahead||t,o=ca(s.idx,e,i,a)[0];if(Ne($r(o))){const t=n.buildEmptyRepetitionError({topLevelRule:e,repetition:s});r.push({message:t,type:ro.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),r}(e,t,_i)}buildLookaheadForAlternation(e){return function(e,t,n,r,s,i){const a=oa(e,t,n);return i(a,r,pa(a)?ri:ni,s)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Zi)}buildLookaheadForOptional(e){return function(e,t,n,r,s,i){const a=ca(e,t,s,n),o=pa(a)?ri:ni;return i(a[0],o,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Xi(e.prodType),ea)}}const Fa=new class extends gr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function Ba(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset)}function ja(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function $a(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function Va(e,t){const n=Y(e),r=n.length;for(let s=0;s<r;s++){const r=e[n[s]],i=r.length;for(let e=0;e<i;e++){const n=r[e];void 0===n.tokenTypeIdx&&this[n.name](n.children,t)}}}var Wa;!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(Wa||(Wa={}));const Ka={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Ka);const Ga=!0,qa=Math.pow(2,8)-1,za=Pi({name:"RECORDING_PHASE_TOKEN",pattern:di.NA});ai([za]);const Ha=wi(za,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ha);const Ya={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Ja(e,t,n,r=!1){Za(n);const s=ei(this.recordingProdStack),i=z(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),Ht(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),i.call(this),s.definition.push(a),this.recordingProdStack.pop(),Ka}function Xa(e,t){Za(t);const n=ei(this.recordingProdStack),r=!1===x(e),s=!1===r?e:e.DEF,i=new fr({definition:[],idx:t,ignoreAmbiguities:r&&!0===e.IGNORE_AMBIGUITIES});Ht(e,"MAX_LOOKAHEAD")&&(i.maxLookahead=e.MAX_LOOKAHEAD);const a=Sr(s,e=>z(e.GATE));return i.hasPredicates=a,n.definition.push(i),Q(s,e=>{const t=new cr({definition:[]});i.definition.push(t),Ht(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Ht(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),Ka}function Qa(e){return 0===e?"":`${e}`}function Za(e){if(e<0||e>qa){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${qa+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const eo=wi(Ai,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(eo);const to=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Ii,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),no=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ro,so,io;!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(ro||(ro={}));class ao{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{On(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Q(this.definedRulesNames,e=>{const t=this[e].originalGrammarAction;let n;this.TRACE_INIT(`${e} Rule`,()=>{n=this.topLevelRuleRecord(e,t)}),this.gastProductionsCache[e]=n})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=function(e){const t=os(e,{errMsgProvider:Oi}),n={};return Q(e.rules,e=>{n[e.name]=e}),function(e,t){const n=new Li(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}({rules:ee(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Ne(n)&&!1===this.skipValidations){const n=(e={rules:ee(this.gastProductionsCache),tokenTypes:ee(this.tokensMap),errMsgProvider:_i,grammarName:t},function(e,t,n,r){const s=Ni(e,e=>function(e,t){const n=new da;e.accept(n);const r=n.allProductions,s=Di(r,ua),i=nr(s,e=>e.length>1);return Gt(ee(i),n=>{const r=Ss(n),s=t.buildDuplicateFoundError(e,n),i=Or(r),a={message:s,type:ro.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:i,occurrence:r.idx},o=ha(r);return o&&(a.parameter=o),a})}(e,n)),i=function(e,t,n){const r=[],s=Gt(t,e=>e.name);return Q(e,e=>{const t=e.name;if(Pr(s,t)){const s=n.buildNamespaceConflictError(e);r.push({message:s,type:ro.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),r}(e,t,n),a=Ni(e,e=>function(e,t){const n=new ya;e.accept(n);const r=n.alternations;return Ni(r,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:ro.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[])}(e,n)),o=Ni(e,t=>function(e,t,n,r){const s=[],i=fs(t,(t,n)=>n.name===e.name?t+1:t,0);if(i>1){const t=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});s.push({message:t,type:ro.DUPLICATE_RULE_NAME,ruleName:e.name})}return s}(t,e,r,n));return s.concat(i,a,o)}((e=os(e,{errMsgProvider:_i})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)),r=function(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Gt(t,e=>Object.assign({type:ro.CUSTOM_LOOKAHEAD_VALIDATION},e))}({lookaheadStrategy:this.lookaheadStrategy,rules:ee(this.gastProductionsCache),tokenTypes:ee(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(n,r)}var e}),Ne(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const e=function(e){const t={};return Q(e,e=>{const n=new Kr(e).startWalking();Zn(t,n)}),t}(ee(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:ee(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ee(this.gastProductionsCache))})),!ao.DEFER_DEFINITION_ERRORS_HANDLING&&!Ne(this.definitionErrors))throw e=Gt(this.definitionErrors,e=>e.message),new Error(`Parser Definition Errors detected:\n ${e.join("\n-------------------------------\n")}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),Ht(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Ht(t,"skipValidations")?t.skipValidations:to.skipValidations}}ao.DEFER_DEFINITION_ERRORS_HANDLING=!1,so=ao,io=[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Ht(e,"recoveryEnabled")?e.recoveryEnabled:to.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Na)}getTokenToInsert(e){const t=wi(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,n,r){const s=this.findReSyncTokenType(),i=this.exportLexerState(),a=[];let o=!1;const c=this.LA(1);let l=this.LA(1);const p=()=>{const e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:this.getCurrRuleFullName()}),n=new Aa(t,c,this.LA(0));n.resyncedTokens=Bi(a),this.SAVE_ERROR(n)};for(;!o;){if(this.tokenMatcher(l,r))return void p();if(n.call(this))return p(),void e.apply(this,t);this.tokenMatcher(l,s)?o=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,a))}this.importLexerState(i)}shouldInRepetitionRecoveryBeTried(e,t,n){return!1!==n&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){const n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new La("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Ne(t))return!1;const n=this.LA(1);return void 0!==Es(t,e=>this.tokenMatcher(n,e))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Pr(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=Es(e,e=>Ci(t,e));if(void 0!==r)return r;t=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return Oa;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return Gt(e,(n,r)=>0===r?Oa:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=Gt(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e));return $r(e)}getFollowSetFromFollowKey(e){if(e===Oa)return[Ai];const t=e.ruleName+e.idxInCallingRule+Wr+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Ai)||t.push(e),t}reSyncTo(e){const t=[];let n=this.LA(1);for(;!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Bi(t)}attemptInRepetitionRecovery(e,t,n,r,s,i,a){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:In(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return Gt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},class{initLooksAhead(e){this.dynamicTokensEnabled=Ht(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:to.dynamicTokensEnabled,this.maxLookahead=Ht(e,"maxLookahead")?e.maxLookahead:to.maxLookahead,this.lookaheadStrategy=Ht(e,"lookaheadStrategy")?e.lookaheadStrategy:new Ua({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Q(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{const{alternation:t,repetition:n,option:r,repetitionMandatory:s,repetitionMandatoryWithSeparator:i,repetitionWithSeparator:a}=function(e){Fa.reset(),e.accept(Fa);const t=Fa.dslMethods;return Fa.reset(),t}(e);Q(t,t=>{const n=0===t.idx?"":t.idx;this.TRACE_INIT(`${Or(t)}${n}`,()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),r=Da(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(r,n)})}),Q(n,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,Or(t))}),Q(r,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,Or(t))}),Q(s,t=>{this.computeLookaheadFunc(e,t.idx,ka,"RepetitionMandatory",t.maxLookahead,Or(t))}),Q(i,t=>{this.computeLookaheadFunc(e,t.idx,Ma,"RepetitionMandatoryWithSeparator",t.maxLookahead,Or(t))}),Q(a,t=>{this.computeLookaheadFunc(e,t.idx,Ra,"RepetitionWithSeparator",t.maxLookahead,Or(t))})})})}computeLookaheadFunc(e,t,n,r,s,i){this.TRACE_INIT(`${i}${0===t?"":t}`,()=>{const i=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),a=Da(this.fullRuleNameToShort[e.name],n,t);this.setLaFuncCache(a,i)})}getKeyForAutomaticLookahead(e,t){return Da(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Ht(e,"nodeLocationTracking")?e.nodeLocationTracking:to.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=ja,this.setNodeLocationFromNode=ja,this.cstPostRule=Rr,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Rr,this.setNodeLocationFromNode=Rr,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ba,this.setNodeLocationFromNode=Ba,this.cstPostRule=Rr,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Rr,this.setNodeLocationFromNode=Rr,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=Rr,this.setNodeLocationFromNode=Rr,this.cstPostRule=Rr,this.setInitialNodeLocation=Rr}else this.cstInvocationStateUpdate=Rr,this.cstFinallyStateUpdate=Rr,this.cstPostTerminal=Rr,this.cstPostNonTerminal=Rr,this.cstPostRule=Rr}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?n.endOffset=t.endOffset:n.startOffset=NaN}cstPostTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];var r,s,i;s=t,i=e,void 0===(r=n).children[i]?r.children[i]=[s]:r.children[i].push(s),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Gr(this.baseCstVisitorConstructor)){const e=function(e,t){const n=function(){};$a(n,e+"BaseSemantics");const r={visit:function(e,t){if(x(e)&&(e=e[0]),!Gr(e))return this[e.name](e.children,t)},validateVisitor:function(){const e=function(e,t){const n=function(e,t){const n=ms(t,t=>!1===z(e[t])),r=Gt(n,t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:Wa.MISSING_METHOD,methodName:t}));return Ts(r)}(e,t);return n}(this,t);if(!Ne(e)){const t=Gt(e,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}(this.className,Y(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Gr(this.baseCstVisitorWithDefaultsConstructor)){const e=function(e,t,n){const r=function(){};$a(r,e+"BaseSemanticsWithDefaults");const s=Object.create(n.prototype);return Q(t,e=>{s[e]=Va}),(r.prototype=s).constructor=r,r}(this.className,Y(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):eo}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?eo:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=ri,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Ht(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(x(e)){if(Ne(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(x(e))this.tokensMap=fs(e,(e,t)=>(e[t.name]=t,e),{});else if(Ht(e,"modes")&&Cr($r(ee(e.modes)),pi)){const t=$r(ee(e.modes)),n=Ur(t);this.tokensMap=fs(n,(e,t)=>(e[t.name]=t,e),{})}else{if(!q(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=In(e)}this.tokensMap.EOF=Ai;const n=Ht(e,"modes")?$r(ee(e.modes)):ee(e),r=Cr(n,e=>Ne(e.categoryMatches));this.tokenMatcher=r?ri:ni,ai(ee(this.tokensMap))}defineRule(e,t,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=Ht(n,"resyncEnabled")?n.resyncEnabled:no.resyncEnabled,s=Ht(n,"recoveryValueFunc")?n.recoveryValueFunc:no.recoveryValueFunc,i=this.ruleShortNameIdx<<12;let a;return this.ruleShortNameIdx++,this.shortRuleNameToFull[i]=e,this.fullRuleNameToShort[e]=i,a=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(i,e,this.subruleIdx),t.apply(this,n);const r=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(r),r}catch(e){return this.invokeRuleCatch(e,r,s)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(i,e,this.subruleIdx),t.apply(this,n)}catch(e){return this.invokeRuleCatch(e,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,n){const r=1===this.RULE_STACK.length,s=t&&!this.isBackTracking()&&this.recoveryEnabled;if(va(e)){const t=e;if(s){const r=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(r)){if(t.resyncedTokens=this.reSyncTo(r),this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return n(e)}if(this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(r)return this.moveToTerminatedState(),n(e);throw t}throw e}optionInternal(e,t){const n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}optionInternalLogic(e,t,n){let r,s=this.getLaFuncFromCache(n);if("function"!=typeof e){r=e.DEF;const t=e.GATE;if(void 0!==t){const e=s;s=()=>t.call(this)&&e.call(this)}}else r=e;if(!0===s.call(this))return r.call(this)}atLeastOneInternal(e,t){const n=this.getKeyForAutomaticLookahead(ka,e);return this.atLeastOneInternalLogic(e,t,n)}atLeastOneInternalLogic(e,t,n){let r,s=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=s;s=()=>e.call(this)&&t.call(this)}}else r=t;if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Ji.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(r);for(;!0===s.call(this)&&!0===e;)e=this.doSingleRepetition(r)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],s,ka,e,Gi)}atLeastOneSepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Ma,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}atLeastOneSepFirstInternalLogic(e,t,n){const r=t.DEF,s=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,Ji.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{r.call(this);const t=()=>this.tokenMatcher(this.LA(1),s);for(;!0===this.tokenMatcher(this.LA(1),s);)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,t,r,qi],t,Ma,e,qi)}}manyInternal(e,t){const n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}manyInternalLogic(e,t,n){let r,s=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=s;s=()=>e.call(this)&&t.call(this)}}else r=t;let i=!0;for(;!0===s.call(this)&&!0===i;)i=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],s,768,e,Wi,i)}manySepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Ra,e);this.manySepFirstInternalLogic(e,t,n)}manySepFirstInternalLogic(e,t,n){const r=t.DEF,s=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){r.call(this);const t=()=>this.tokenMatcher(this.LA(1),s);for(;!0===this.tokenMatcher(this.LA(1),s);)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,t,r,Ki],t,Ra,e,Ki)}}repetitionSepSecondInternal(e,t,n,r,s){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,s],n,Ma,e,s)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const n=this.getKeyForAutomaticLookahead(256,t),r=x(e)?e:e.DEF,s=this.getLaFuncFromCache(n).call(this,r);if(void 0!==s)return r[s].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ca(t,e))}}subruleInternal(e,t,n){let r;try{const s=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,s),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(t){throw this.subruleInternalError(t,n,e.ruleName)}}subruleInternalError(e,t,n){throw va(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,t,n){let r;try{const t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),r=t):this.consumeInternalError(e,t,n)}catch(n){r=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}consumeInternalError(e,t,n){let r;const s=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Aa(r,t,s))}consumeInternalRecovery(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(e){throw e.name===_a?n:e}}}saveRecogState(){const e=this.errors,t=In(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Ai)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,n){return this.consumeInternal(t,e,n)}subrule(e,t,n){return this.subruleInternal(t,e,n)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,n=no){if(Pr(this.definedRulesNames,e)){const t={message:_i.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ro.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);const r=this.defineRule(e,t,n);return this[e]=r,r}OVERRIDE_RULE(e,t,n=no){const r=function(e,t,n){const r=[];let s;return Pr(t,e)||(s=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:s,type:ro.INVALID_RULE_OVERRIDE,ruleName:e})),r}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(e,t,n);return this[e]=s,s}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(va(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return e=ee(this.gastProductionsCache),Gt(e,yr);var e}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Ht(e,"errorMessageProvider")?e.errorMessageProvider:to.errorMessageProvider}SAVE_ERROR(e){if(va(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:In(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return In(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,n){const r=this.getCurrRuleFullName(),s=ca(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],i=[];for(let e=1;e<=this.maxLookahead;e++)i.push(this.LA(e));const a=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:i,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Ia(a,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const n=this.getCurrRuleFullName(),r=oa(e,this.getGAstProductions()[n],this.maxLookahead),s=[];for(let e=1;e<=this.maxLookahead;e++)s.push(this.LA(e));const i=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:s,previous:i,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new wa(a,this.LA(1),i))}},class{initContentAssist(){}computeContentAssist(e,t){const n=this.gastProductionsCache[e];if(Gr(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Hi([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=Ss(e.ruleStack),n=this.getGAstProductions()[t];return new $i(n,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(t,n){return this.consumeInternalRecord(t,e,n)},this[`SUBRULE${t}`]=function(t,n){return this.subruleInternalRecord(t,e,n)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},this.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const n=t>0?t:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return eo}topLevelRuleRecord(e,t){try{const n=new or({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(t){throw e}throw e}}optionInternalRecord(e,t){return Ja.call(this,lr,e,t)}atLeastOneInternalRecord(e,t){Ja.call(this,pr,t,e)}atLeastOneSepFirstInternalRecord(e,t){Ja.call(this,ur,t,e,Ga)}manyInternalRecord(e,t){Ja.call(this,hr,t,e)}manySepFirstInternalRecord(e,t){Ja.call(this,dr,t,e,Ga)}orInternalRecord(e,t){return Xa.call(this,e,t)}subruleInternalRecord(e,t,n){if(Za(t),!e||!1===Ht(e,"ruleName")){const n=new Error(`<SUBRULE${Qa(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=ei(this.recordingProdStack),s=e.ruleName,i=new ar({idx:t,nonTerminalName:s,label:null==n?void 0:n.LABEL,referencedRule:void 0});return r.definition.push(i),this.outputCst?Ya:Ka}consumeInternalRecord(e,t,n){if(Za(t),!ci(e)){const n=new Error(`<CONSUME${Qa(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=ei(this.recordingProdStack),s=new mr({idx:t,terminalType:e,label:null==n?void 0:n.LABEL});return r.definition.push(s),Ha}},class{initPerformanceTracer(e){if(Ht(e,"traceInitPerf")){const t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=to.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${e}>`);const{time:r,value:s}=ti(t),i=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&i(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}return t()}}],io.forEach(e=>{const t=e.prototype;Object.getOwnPropertyNames(t).forEach(n=>{if("constructor"===n)return;const r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(so.prototype,n,r):so.prototype[n]=e.prototype[n]})});class oo extends ao{constructor(e,t=to){const n=In(t);n.outputCst=!0,super(e,n)}}var co=n(4058);const lo=(e,t)=>{for(let n=0;n<t.length;n++){const r=t[n],s=r[0],i=r[1];for(let t=s;t<=i;t++)e.add(t)}},po=new Set([181,257,259,261,263,265,267,269,271,273,275,277,279,281,283,285,287,289,291,293,295,297,299,301,303,305,307,309,314,316,318,320,322,324,326,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,378,380,387,389,392,402,405,414,417,419,421,424,429,432,436,438,454,457,460,462,464,466,468,470,472,474,479,481,483,485,487,489,491,493,499,501,505,507,509,511,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,545,547,549,551,553,555,557,559,561,572,578,583,585,587,589,881,883,887,912,985,987,989,991,993,995,997,999,1001,1003,1005,1013,1016,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1163,1165,1167,1169,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1218,1220,1222,1224,1226,1228,1233,1235,1237,1239,1241,1243,1245,1247,1249,1251,1253,1255,1257,1259,1261,1263,1265,1267,1269,1271,1273,1275,1277,1279,1281,1283,1285,1287,1289,1291,1293,1295,1297,1299,1301,1303,1305,1307,1309,1311,1313,1315,1317,1319,1321,1323,1325,1327,7681,7683,7685,7687,7689,7691,7693,7695,7697,7699,7701,7703,7705,7707,7709,7711,7713,7715,7717,7719,7721,7723,7725,7727,7729,7731,7733,7735,7737,7739,7741,7743,7745,7747,7749,7751,7753,7755,7757,7759,7761,7763,7765,7767,7769,7771,7773,7775,7777,7779,7781,7783,7785,7787,7789,7791,7793,7795,7797,7799,7801,7803,7805,7807,7809,7811,7813,7815,7817,7819,7821,7823,7825,7827,7839,7841,7843,7845,7847,7849,7851,7853,7855,7857,7859,7861,7863,7865,7867,7869,7871,7873,7875,7877,7879,7881,7883,7885,7887,7889,7891,7893,7895,7897,7899,7901,7903,7905,7907,7909,7911,7913,7915,7917,7919,7921,7923,7925,7927,7929,7931,7933,8126,8458,8467,8495,8500,8505,8526,8580,11361,11368,11370,11372,11377,11393,11395,11397,11399,11401,11403,11405,11407,11409,11411,11413,11415,11417,11419,11421,11423,11425,11427,11429,11431,11433,11435,11437,11439,11441,11443,11445,11447,11449,11451,11453,11455,11457,11459,11461,11463,11465,11467,11469,11471,11473,11475,11477,11479,11481,11483,11485,11487,11489,11500,11502,11507,11559,11565,42561,42563,42565,42567,42569,42571,42573,42575,42577,42579,42581,42583,42585,42587,42589,42591,42593,42595,42597,42599,42601,42603,42605,42625,42627,42629,42631,42633,42635,42637,42639,42641,42643,42645,42647,42649,42651,42787,42789,42791,42793,42795,42797,42803,42805,42807,42809,42811,42813,42815,42817,42819,42821,42823,42825,42827,42829,42831,42833,42835,42837,42839,42841,42843,42845,42847,42849,42851,42853,42855,42857,42859,42861,42863,42874,42876,42879,42881,42883,42885,42887,42892,42894,42897,42903,42905,42907,42909,42911,42913,42915,42917,42919,42921,42927,42933,42935,42937,42939,42941,42943,42947,43002,119995,120779,748,750,884,890,1369,1600,2042,2074,2084,2088,2417,3654,3782,4348,6103,6211,6823,7544,8305,8319,11631,11823,12293,12347,40981,42508,42623,42864,42888,43471,43494,43632,43741,65392,94179,125259,170,186,443,660,1749,1791,1808,1969,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3840,4159,4193,4238,4696,4800,6108,6314,7418,12294,12348,12447,12543,13312,19968,42606,42895,42999,43259,43642,43697,43712,43714,43762,44032,64285,64318,67592,67644,68096,69415,69956,70006,70106,70108,70280,70461,70480,70751,70855,71236,71352,71935,72161,72163,72192,72250,72272,72349,72768,73030,73112,94032,94208,123214,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,131072,173824,177984,178208,183984,453,456,459,498,8124,8140,8188,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,313,315,317,319,321,323,325,327,330,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,388,418,420,425,428,437,444,452,455,458,461,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,497,500,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,880,882,886,895,902,908,975,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1012,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,4295,4301,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8450,8455,8469,8484,8486,8488,8517,8579,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,119964,119970,120134,120778,12295,66369,66378,36,1423,1547,2555,2801,3065,3647,6107,43064,65020,65129,65284,123647,126128,95,8276,65343]);lo(po,[[97,122],[223,246],[248,255],[311,312],[328,329],[382,384],[396,397],[409,411],[426,427],[441,442],[445,447],[476,477],[495,496],[563,569],[575,576],[591,659],[661,687],[891,893],[940,974],[976,977],[981,983],[1007,1011],[1019,1020],[1072,1119],[1230,1231],[1376,1416],[4304,4346],[4349,4351],[5112,5117],[7296,7304],[7424,7467],[7531,7543],[7545,7578],[7829,7837],[7935,7943],[7952,7957],[7968,7975],[7984,7991],[8e3,8005],[8016,8023],[8032,8039],[8048,8061],[8064,8071],[8080,8087],[8096,8103],[8112,8116],[8118,8119],[8130,8132],[8134,8135],[8144,8147],[8150,8151],[8160,8167],[8178,8180],[8182,8183],[8462,8463],[8508,8509],[8518,8521],[11312,11358],[11365,11366],[11379,11380],[11382,11387],[11491,11492],[11520,11557],[42799,42801],[42865,42872],[42899,42901],[43824,43866],[43872,43879],[43888,43967],[64256,64262],[64275,64279],[65345,65370],[66600,66639],[66776,66811],[68800,68850],[71872,71903],[93792,93823],[119834,119859],[119886,119892],[119894,119911],[119938,119963],[119990,119993],[119997,120003],[120005,120015],[120042,120067],[120094,120119],[120146,120171],[120198,120223],[120250,120275],[120302,120327],[120354,120379],[120406,120431],[120458,120485],[120514,120538],[120540,120545],[120572,120596],[120598,120603],[120630,120654],[120656,120661],[120688,120712],[120714,120719],[120746,120770],[120772,120777],[125218,125251],[688,705],[710,721],[736,740],[1765,1766],[2036,2037],[7288,7293],[7468,7530],[7579,7615],[8336,8348],[11388,11389],[12337,12341],[12445,12446],[12540,12542],[42232,42237],[42652,42653],[42775,42783],[43e3,43001],[43763,43764],[43868,43871],[65438,65439],[92992,92995],[94099,94111],[94176,94177],[123191,123197],[13313,19893],[19969,40943],[44033,55203],[94209,100343],[131073,173782],[173825,177972],[177985,178205],[178209,183969],[183985,191456],[448,451],[1488,1514],[1519,1522],[1568,1599],[1601,1610],[1646,1647],[1649,1747],[1774,1775],[1786,1788],[1810,1839],[1869,1957],[1994,2026],[2048,2069],[2112,2136],[2144,2154],[2208,2228],[2230,2237],[2308,2361],[2392,2401],[2418,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2486,2489],[2524,2525],[2527,2529],[2544,2545],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2784,2785],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2908,2909],[2911,2913],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3160,3162],[3168,3169],[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3296,3297],[3313,3314],[3333,3340],[3342,3344],[3346,3386],[3412,3414],[3423,3425],[3450,3455],[3461,3478],[3482,3505],[3507,3515],[3520,3526],[3585,3632],[3634,3635],[3648,3653],[3713,3714],[3718,3722],[3724,3747],[3751,3760],[3762,3763],[3776,3780],[3804,3807],[3904,3911],[3913,3948],[3976,3980],[4096,4138],[4176,4181],[4186,4189],[4197,4198],[4206,4208],[4213,4225],[4352,4680],[4682,4685],[4688,4694],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5873,5880],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6176,6210],[6212,6264],[6272,6276],[6279,6312],[6320,6389],[6400,6430],[6480,6509],[6512,6516],[6528,6571],[6576,6601],[6656,6678],[6688,6740],[6917,6963],[6981,6987],[7043,7072],[7086,7087],[7098,7141],[7168,7203],[7245,7247],[7258,7287],[7401,7404],[7406,7411],[7413,7414],[8501,8504],[11568,11623],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[12353,12438],[12449,12538],[12549,12591],[12593,12686],[12704,12730],[12784,12799],[40960,40980],[40982,42124],[42192,42231],[42240,42507],[42512,42527],[42538,42539],[42656,42725],[43003,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],[43261,43262],[43274,43301],[43312,43334],[43360,43388],[43396,43442],[43488,43492],[43495,43503],[43514,43518],[43520,43560],[43584,43586],[43588,43595],[43616,43631],[43633,43638],[43646,43695],[43701,43702],[43705,43709],[43739,43740],[43744,43754],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43968,44002],[55216,55238],[55243,55291],[63744,64109],[64112,64217],[64287,64296],[64298,64310],[64312,64316],[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65382,65391],[65393,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[66176,66204],[66208,66256],[66304,66335],[66349,66368],[66370,66377],[66384,66421],[66432,66461],[66464,66499],[66504,66511],[66640,66717],[66816,66855],[66864,66915],[67072,67382],[67392,67413],[67424,67431],[67584,67589],[67594,67637],[67639,67640],[67647,67669],[67680,67702],[67712,67742],[67808,67826],[67828,67829],[67840,67861],[67872,67897],[67968,68023],[68030,68031],[68112,68115],[68117,68119],[68121,68149],[68192,68220],[68224,68252],[68288,68295],[68297,68324],[68352,68405],[68416,68437],[68448,68466],[68480,68497],[68608,68680],[68864,68899],[69376,69404],[69424,69445],[69600,69622],[69635,69687],[69763,69807],[69840,69864],[69891,69926],[69968,70002],[70019,70066],[70081,70084],[70144,70161],[70163,70187],[70272,70278],[70282,70285],[70287,70301],[70303,70312],[70320,70366],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70493,70497],[70656,70708],[70727,70730],[70784,70831],[70852,70853],[71040,71086],[71128,71131],[71168,71215],[71296,71338],[71424,71450],[71680,71723],[72096,72103],[72106,72144],[72203,72242],[72284,72329],[72384,72440],[72704,72712],[72714,72750],[72818,72847],[72960,72966],[72968,72969],[72971,73008],[73056,73061],[73063,73064],[73066,73097],[73440,73458],[73728,74649],[74880,75075],[77824,78894],[82944,83526],[92160,92728],[92736,92766],[92880,92909],[92928,92975],[93027,93047],[93053,93071],[93952,94026],[100352,101106],[110592,110878],[110928,110930],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[123136,123180],[123584,123627],[124928,125124],[126464,126467],[126469,126495],[126497,126498],[126505,126514],[126516,126519],[126541,126543],[126545,126546],[126561,126562],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[194560,195101],[8072,8079],[8088,8095],[8104,8111],[65,90],[192,214],[216,222],[376,377],[385,386],[390,391],[393,395],[398,401],[403,404],[406,408],[412,413],[415,416],[422,423],[430,431],[433,435],[439,440],[502,504],[570,571],[573,574],[579,582],[904,906],[910,911],[913,929],[931,939],[978,980],[1017,1018],[1021,1071],[1216,1217],[1329,1366],[4256,4293],[5024,5109],[7312,7354],[7357,7359],[7944,7951],[7960,7965],[7976,7983],[7992,7999],[8008,8013],[8040,8047],[8120,8123],[8136,8139],[8152,8155],[8168,8172],[8184,8187],[8459,8461],[8464,8466],[8473,8477],[8490,8493],[8496,8499],[8510,8511],[11264,11310],[11362,11364],[11373,11376],[11390,11392],[42877,42878],[42922,42926],[42928,42932],[42948,42950],[65313,65338],[66560,66599],[66736,66771],[68736,68786],[71840,71871],[93760,93791],[119808,119833],[119860,119885],[119912,119937],[119966,119967],[119973,119974],[119977,119980],[119982,119989],[120016,120041],[120068,120069],[120071,120074],[120077,120084],[120086,120092],[120120,120121],[120123,120126],[120128,120132],[120138,120144],[120172,120197],[120224,120249],[120276,120301],[120328,120353],[120380,120405],[120432,120457],[120488,120512],[120546,120570],[120604,120628],[120662,120686],[120720,120744],[125184,125217],[5870,5872],[8544,8578],[8581,8584],[12321,12329],[12344,12346],[42726,42735],[65856,65908],[66513,66517],[74752,74862],[162,165],[2046,2047],[2546,2547],[8352,8383],[65504,65505],[65509,65510],[73693,73696],[8255,8256],[65075,65076],[65101,65103]]);const uo=new Set([1471,1479,1648,1809,2045,2362,2364,2381,2433,2492,2509,2558,2620,2641,2677,2748,2765,2817,2876,2879,2893,2902,2946,3008,3021,3072,3076,3201,3260,3263,3270,3405,3530,3542,3633,3761,3893,3895,3897,4038,4226,4237,4253,6086,6109,6313,6450,6683,6742,6752,6754,6783,6964,6972,6978,7142,7149,7405,7412,8417,11647,42607,43010,43014,43019,43263,43443,43493,43587,43596,43644,43696,43713,43766,44005,44008,44013,64286,66045,66272,68159,69633,70003,70196,70206,70367,70464,70726,70750,70842,71229,71339,71341,71351,72160,72263,72767,73018,73031,73109,73111,94031,121461,121476,173,1564,1757,1807,2274,6158,65279,69821,69837,917505]);lo(uo,[[768,879],[1155,1159],[1425,1469],[1473,1474],[1476,1477],[1552,1562],[1611,1631],[1750,1756],[1759,1764],[1767,1768],[1770,1773],[1840,1866],[1958,1968],[2027,2035],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2273],[2275,2306],[2369,2376],[2385,2391],[2402,2403],[2497,2500],[2530,2531],[2561,2562],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2753,2757],[2759,2760],[2786,2787],[2810,2815],[2881,2884],[2914,2915],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3426,3427],[3538,3540],[3636,3642],[3655,3662],[3764,3772],[3784,3789],[3864,3865],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4229,4230],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6089,6099],[6155,6157],[6277,6278],[6432,6434],[6439,6440],[6457,6459],[6679,6680],[6744,6750],[6757,6764],[6771,6780],[6832,6845],[6912,6915],[6966,6970],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7144,7145],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7416,7417],[7616,7673],[7675,7679],[8400,8412],[8421,8432],[11503,11505],[11744,11775],[12330,12333],[12441,12442],[42612,42621],[42654,42655],[42736,42737],[43045,43046],[43204,43205],[43232,43249],[43302,43309],[43335,43345],[43392,43394],[43446,43449],[43452,43453],[43561,43566],[43569,43570],[43573,43574],[43698,43700],[43703,43704],[43710,43711],[43756,43757],[65024,65039],[65056,65071],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68325,68326],[68900,68903],[69446,69456],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69888,69890],[69927,69931],[69933,69940],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70198,70199],[70371,70378],[70400,70401],[70459,70460],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70835,70840],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71231,71232],[71344,71349],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72193,72202],[72243,72248],[72251,72254],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73020,73021],[73023,73029],[73104,73105],[73459,73460],[92912,92916],[92976,92982],[94095,94098],[113821,113822],[119143,119145],[119163,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917760,917999],[1536,1541],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[65529,65531],[78896,78904],[113824,113827],[119155,119162],[917536,917631]]),lo(uo,[[0,8],[14,27],[127,159],[768,879],[6832,6911],[7616,7679],[8400,8447],[65056,65071],[48,57]]);const ho=new Set(function*(){yield*po,yield*uo}()),fo={};function mo(e){let t=e;return Object.keys(fo).forEach(e=>{const n=fo[e],r=new RegExp(`{{${e}}}`,"g");t=t.replace(r,n)}),t}function yo(e,t){fo[e]=mo(t)}function go(e,t){const n=mo(e);return new RegExp(n,t)}yo("Digits","[0-9]([0-9_]*[0-9])?"),yo("ExponentPart","[eE][+-]?{{Digits}}"),yo("HexDigit","[0-9a-fA-F]"),yo("HexDigits","{{HexDigit}}(({{HexDigit}}|'_')*{{HexDigit}})?"),yo("FloatTypeSuffix","[fFdD]"),yo("LineTerminator","(\\x0A|(\\x0D(\\x0A)?))"),yo("UnicodeMarker","uu*"),yo("UnicodeEscape","\\\\{{UnicodeMarker}}{{HexDigit}}{4}"),yo("RawInputCharacter","\\\\{{UnicodeMarker}}[0-9a-fA-F]{4}"),yo("UnicodeInputCharacter","({{UnicodeEscape}}|{{RawInputCharacter}})"),yo("OctalDigit","[0-7]"),yo("ZeroToThree","[0-3]"),yo("OctalEscape","\\\\({{OctalDigit}}|{{ZeroToThree}}?{{OctalDigit}}{2})"),yo("EscapeSequence","\\\\[bstnfr\"'\\\\]|{{OctalEscape}}"),yo("StringCharacter",'(?:(?:{{EscapeSequence}})|{{UnicodeEscape}}|(?!["\\\\]).)'),yo("TextBlockCharacter","(?:(?:{{EscapeSequence}})|{{UnicodeEscape}}|(?!\\\\).|\\\\?{{LineTerminator}})");const To=Pi({name:"Identifier",pattern:{exec:function(e,t){let n=t,r=e.codePointAt(n);for(po.has(r)&&(n++,r>65535&&n++,r=e.codePointAt(n));ho.has(r);)n++,r>65535&&n++,r=e.codePointAt(n);return n===t?null:[e.substring(t,n)]}},line_breaks:!1,start_chars_hint:Array.from(po,e=>String.fromCharCode(e))}),So={modes:{global:[],stringTemplate:[],textBlockTemplate:[]},defaultMode:"global"},bo=Object.keys(So.modes),Eo={};function xo(e,t=bo){e.label||("string"==typeof e.pattern?e.label=`'${e.pattern}'`:e.pattern instanceof RegExp&&(e.label=`'${e.name}'`));const n=Pi(e);return t.forEach(e=>So.modes[e].push(n)),Eo[e.name]=n,n}function vo(e){return e.longer_alt=To,xo(e)}const Po=xo({name:"RestrictedKeyword",pattern:di.NA}),Ao=xo({name:"Keyword",pattern:di.NA}),wo=xo({name:"AssignmentOperator",pattern:di.NA}),Co=xo({name:"BinaryOperator",pattern:di.NA}),Io=xo({name:"UnaryPrefixOperator",pattern:di.NA}),Oo=xo({name:"UnaryPrefixOperatorNotPlusMinus",pattern:di.NA}),_o=xo({name:"UnarySuffixOperator",pattern:di.NA}),Lo=xo({name:"Separators",pattern:di.NA});function No(e){return e.sort((e,t)=>t.length-e.length)}function ko(){return!1===("undefined"!=typeof process&&process.env&&"enabled"===process.env["prettier-java-development-mode"])}xo({name:"WhiteSpace",pattern:go("[\\x09\\x20\\x0C]|{{LineTerminator}}"),group:di.SKIPPED}),xo({name:"LineComment",pattern:/\/\/[^\n\r]*/,group:"comments"}),xo({name:"TraditionalComment",pattern:/\/\*([^*]|\*(?!\/))*\*\//,group:"comments"}),xo({name:"BinaryLiteral",pattern:/0[bB][01]([01_]*[01])?[lL]?/}),xo({name:"FloatLiteral",pattern:go("{{Digits}}\\.({{Digits}})?({{ExponentPart}})?({{FloatTypeSuffix}})?|\\.{{Digits}}({{ExponentPart}})?({{FloatTypeSuffix}})?|{{Digits}}{{ExponentPart}}({{FloatTypeSuffix}})?|{{Digits}}({{ExponentPart}})?{{FloatTypeSuffix}}")}),xo({name:"OctalLiteral",pattern:/0_*[0-7]([0-7_]*[0-7])?[lL]?/}),xo({name:"HexFloatLiteral",pattern:go("0[xX]({{HexDigits}}\\.?|({{HexDigits}})?\\.{{HexDigits}})[pP][+-]?{{Digits}}[fFdD]?")}),xo({name:"HexLiteral",pattern:/0[xX][0-9a-fA-F]([0-9a-fA-F_]*[0-9a-fA-F])?[lL]?/}),xo({name:"DecimalLiteral",pattern:go("(0|[1-9](_+{{Digits}}|({{Digits}})?))[lL]?")}),xo({name:"CharLiteral",pattern:go("'(?:[^\\\\']|(?:(?:{{EscapeSequence}})|{{UnicodeInputCharacter}}))'")}),xo({name:"TextBlock",pattern:go('"""[\\x09\\x20\\x0C]*{{LineTerminator}}{{TextBlockCharacter}}*?"""')}),xo({name:"TextBlockTemplateBegin",pattern:go('"""{{LineTerminator}}{{TextBlockCharacter}}*?\\\\\\{'),push_mode:"textBlockTemplate"}),xo({name:"TextBlockTemplateEnd",pattern:go('\\}{{TextBlockCharacter}}*?"""'),pop_mode:!0},["textBlockTemplate"]),xo({name:"StringLiteral",pattern:go('"{{StringCharacter}}*?"')}),xo({name:"StringTemplateBegin",pattern:go('"{{StringCharacter}}*?\\\\\\{'),push_mode:"stringTemplate"}),xo({name:"StringTemplateEnd",pattern:go('\\}{{StringCharacter}}*?"'),pop_mode:!0},["stringTemplate"]),xo({name:"StringTemplateMid",pattern:go("\\}{{StringCharacter}}*?\\\\\\{")},["stringTemplate"]),xo({name:"TextBlockTemplateMid",pattern:go("\\}{{TextBlockCharacter}}*?\\\\\\{")},["textBlockTemplate"]),No(["open","module","requires","transitive","exports","opens","to","uses","provides","when","with","sealed","non-sealed","permits"]).forEach(e=>{vo({name:e[0].toUpperCase()+co(e.substr(1)),pattern:e,categories:[To,Po]})}),No(["abstract","continue","for","new","switch","assert","default","if","package","synchronized","boolean","do","goto","private","this","break","double","implements","protected","throw","byte","else","import","public","throws","case","enum","return","transient","catch","extends","int","short","try","char","final","interface","static","void","class","finally","long","strictfp","volatile","const","float","native","super","while",["_","underscore"]]).forEach(e=>{const t=Array.isArray(e),n=t?e[1]:e,r=t?e[0]:e,s={name:n[0].toUpperCase()+n.substr(1),pattern:r,categories:Ao};t&&(s.label=`'${n}'`),vo(s)}),vo({name:"Instanceof",pattern:"instanceof",categories:[Ao,Co]}),vo({name:"Var",pattern:"var",categories:To}),vo({name:"Yield",pattern:"yield",categories:To}),vo({name:"Record",pattern:"record",categories:To}),vo({name:"True",pattern:"true"}),vo({name:"False",pattern:"false"}),vo({name:"Null",pattern:"null"}),xo({name:"At",pattern:"@",categories:[Lo]}),xo({name:"Arrow",pattern:"->"}),xo({name:"DotDotDot",pattern:"...",categories:[Lo]}),xo({name:"Dot",pattern:".",categories:[Lo]}),xo({name:"Comma",pattern:",",categories:[Lo]}),xo({name:"Semicolon",pattern:";",categories:[Lo]}),xo({name:"ColonColon",pattern:"::",categories:[Lo]}),xo({name:"Colon",pattern:":"}),xo({name:"QuestionMark",pattern:"?"}),xo({name:"LBrace",pattern:"(",categories:[Lo]}),xo({name:"RBrace",pattern:")",categories:[Lo]}),xo({name:"LCurly",pattern:"{",categories:[Lo],push_mode:So.defaultMode}),xo({name:"RCurly",pattern:"}",categories:[Lo],pop_mode:!0},[So.defaultMode]),xo({name:"LSquare",pattern:"[",categories:[Lo]}),xo({name:"RSquare",pattern:"]",categories:[Lo]}),xo({name:"MinusMinus",pattern:"--",categories:[Io,_o,Oo]}),xo({name:"PlusPlus",pattern:"++",categories:[Io,_o,Oo]}),xo({name:"Complement",pattern:"~",categories:[Io,Oo]}),xo({name:"LessEquals",pattern:"<=",categories:[Co]}),xo({name:"LessLessEquals",pattern:"<<=",categories:[wo]}),xo({name:"Less",pattern:"<",categories:[Co]}),xo({name:"GreaterEquals",pattern:">=",categories:[Co]}),xo({name:"GreaterGreaterEquals",pattern:">>=",categories:[wo]}),xo({name:"GreaterGreaterGreaterEquals",pattern:">>>=",categories:[wo]}),xo({name:"Greater",pattern:">",categories:[Co]}),xo({name:"EqualsEquals",pattern:"==",categories:[Co]}),xo({name:"Equals",pattern:"=",categories:[Co,wo]}),xo({name:"MinusEquals",pattern:"-=",categories:[wo]}),xo({name:"Minus",pattern:"-",categories:[Co,Io]}),xo({name:"PlusEquals",pattern:"+=",categories:[wo]}),xo({name:"Plus",pattern:"+",categories:[Co,Io]}),xo({name:"AndAnd",pattern:"&&",categories:[Co]}),xo({name:"AndEquals",pattern:"&=",categories:[wo]}),xo({name:"And",pattern:"&",categories:[Co]}),xo({name:"XorEquals",pattern:"^=",categories:[wo]}),xo({name:"Xor",pattern:"^",categories:[Co]}),xo({name:"NotEquals",pattern:"!=",categories:[Co]}),xo({name:"OrOr",pattern:"||",categories:[Co]}),xo({name:"OrEquals",pattern:"|=",categories:[wo]}),xo({name:"Or",pattern:"|",categories:[Co]}),xo({name:"MultiplyEquals",pattern:"*=",categories:[wo]}),xo({name:"Star",pattern:"*",categories:[Co]}),xo({name:"DivideEquals",pattern:"/=",categories:[wo]}),xo({name:"Divide",pattern:"/",categories:[Co]}),xo({name:"ModuloEquals",pattern:"%=",categories:[wo]}),xo({name:"Modulo",pattern:"%",categories:[Co]}),xo({name:"Not",pattern:"!",categories:[Io,Oo]}),bo.forEach(e=>So.modes[e].push(To)),Eo.Identifier=To;const Ro=new di(So,{ensureOptimizations:!0,skipValidations:ko()});function Mo(e,t,n){return`${e.name}_${t}_${n}`}class Do{constructor(e){this.target=e}isEpsilon(){return!1}}class Uo extends Do{constructor(e,t){super(e),this.tokenType=t}}class Fo extends Do{constructor(e){super(e)}isEpsilon(){return!0}}class Bo extends Do{constructor(e,t,n){super(e),this.rule=t,this.followState=n}isEpsilon(){return!0}}function jo(e,t,n){return n instanceof mr?qo(e,t,n.terminalType,n):n instanceof ar?function(e,t,n){const r=n.referencedRule,s=e.ruleToStartState.get(r),i=Yo(e,t,n,{type:1}),a=Yo(e,t,n,{type:1});return Jo(i,new Bo(s,r,a)),{left:i,right:a}}(e,t,n):n instanceof fr?function(e,t,n){const r=Yo(e,t,n,{type:1});Ko(e,r);const s=Gt(n.definition,n=>jo(e,t,n));return Go(e,t,r,n,...s)}(e,t,n):n instanceof lr?function(e,t,n){const r=Yo(e,t,n,{type:1});Ko(e,r);return function(e,t,n,r){const s=r.left;return Ho(s,r.right),e.decisionMap[Mo(t,"Option",n.idx)]=s,r}(e,t,n,Go(e,t,r,n,$o(e,t,n)))}(e,t,n):n instanceof hr?function(e,t,n){const r=Yo(e,t,n,{type:5});Ko(e,r);return Wo(e,t,n,Go(e,t,r,n,$o(e,t,n)))}(e,t,n):n instanceof dr?function(e,t,n){const r=Yo(e,t,n,{type:5});Ko(e,r);return Wo(e,t,n,Go(e,t,r,n,$o(e,t,n)),qo(e,t,n.separator,n))}(e,t,n):n instanceof pr?function(e,t,n){const r=Yo(e,t,n,{type:4});Ko(e,r);return Vo(e,t,n,Go(e,t,r,n,$o(e,t,n)))}(e,t,n):n instanceof ur?function(e,t,n){const r=Yo(e,t,n,{type:4});Ko(e,r);return Vo(e,t,n,Go(e,t,r,n,$o(e,t,n)),qo(e,t,n.separator,n))}(e,t,n):$o(e,t,n)}function $o(e,t,n){const r=ms(Gt(n.definition,n=>jo(e,t,n)),e=>void 0!==e);return 1===r.length?r[0]:0===r.length?void 0:function(e,t){const n=t.length;for(let r=0;r<n-1;r++){const n=t[r];let s;1===n.left.transitions.length&&(s=n.left.transitions[0]);const i=s instanceof Bo,a=s,o=t[r+1].left;1===n.left.type&&1===n.right.type&&void 0!==s&&(i&&a.followState===n.right||s.target===n.right)?(i?a.followState=o:s.target=o,Xo(e,n.right)):Ho(n.right,o)}const r=t[0],s=t[n-1];return{left:r.left,right:s.right}}(e,r)}function Vo(e,t,n,r,s){const i=r.left,a=r.right,o=Yo(e,t,n,{type:11});Ko(e,o);const c=Yo(e,t,n,{type:12});return i.loopback=o,c.loopback=o,e.decisionMap[Mo(t,s?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o,Ho(a,o),void 0===s?(Ho(o,i),Ho(o,c)):(Ho(o,c),Ho(o,s.left),Ho(s.right,i)),{left:i,right:c}}function Wo(e,t,n,r,s){const i=r.left,a=r.right,o=Yo(e,t,n,{type:10});Ko(e,o);const c=Yo(e,t,n,{type:12}),l=Yo(e,t,n,{type:9});return o.loopback=l,c.loopback=l,Ho(o,i),Ho(o,c),Ho(a,l),void 0!==s?(Ho(l,c),Ho(l,s.left),Ho(s.right,i)):Ho(l,o),e.decisionMap[Mo(t,s?"RepetitionWithSeparator":"Repetition",n.idx)]=o,{left:o,right:c}}function Ko(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Go(e,t,n,r,...s){const i=Yo(e,t,r,{type:8,start:n});n.end=i;for(const e of s)void 0!==e?(Ho(n,e.left),Ho(e.right,i)):Ho(n,i);const a={left:n,right:i};return e.decisionMap[Mo(t,function(e){if(e instanceof fr)return"Alternation";if(e instanceof lr)return"Option";if(e instanceof hr)return"Repetition";if(e instanceof dr)return"RepetitionWithSeparator";if(e instanceof pr)return"RepetitionMandatory";if(e instanceof ur)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,a}function qo(e,t,n,r){const s=Yo(e,t,r,{type:1}),i=Yo(e,t,r,{type:1});return Jo(s,new Uo(i,n)),{left:s,right:i}}function zo(e,t,n){const r=e.ruleToStartState.get(t);Ho(r,n.left);const s=e.ruleToStopState.get(t);return Ho(n.right,s),{left:r,right:s}}function Ho(e,t){Jo(e,new Fo(t))}function Yo(e,t,n,r){const s=Object.assign({atn:e,production:n,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},r);return e.states.push(s),s}function Jo(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function Xo(e,t){e.states.splice(e.states.indexOf(t),1)}const Qo={};class Zo{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const t=ec(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return Gt(this.configs,e=>e.alt)}get key(){let e="";for(const t in this.map)e+=t+":";return e}}function ec(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(e=>e.stateNumber.toString()).join("_")}`}const tc=function(e,t){return e<t},nc=function(e){return e&&e.length?function(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],a=t(i);if(null!=a&&(void 0===o?a==a&&!xt(a):n(a,o)))var o=a,c=i}return c}(e,X,tc):void 0};function rc(e,t){const n={};return r=>{const s=r.toString();let i=n[s];return void 0!==i||(i={atnStartState:e,decision:t,states:{}},n[s]=i),i}}class sc{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="";const t=this.predicates.length;for(let n=0;n<t;n++)e+=!0===this.predicates[n]?"1":"0";return e}}const ic=new sc;class ac extends Ua{constructor(e){var t;super(),this.logging=null!==(t=null==e?void 0:e.logging)&&void 0!==t?t:e=>console.log(e)}initialize(e){this.atn=function(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(e,t){const n=t.length;for(let r=0;r<n;r++){const n=t[r],s=Yo(e,n,void 0,{type:2}),i=Yo(e,n,void 0,{type:7});s.stop=i,e.ruleToStartState.set(n,s),e.ruleToStopState.set(n,i)}}(t,e);const n=e.length;for(let r=0;r<n;r++){const n=e[r],s=$o(t,n,n);void 0!==s&&zo(t,n,s)}return t}(e.rules),this.dfas=function(e){const t=e.decisionStates.length,n=Array(t);for(let r=0;r<t;r++)n[r]=rc(e.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:t,rule:n,hasPredicates:r,dynamicTokensEnabled:s}=e,i=this.dfas,a=this.logging,o=Mo(n,"Alternation",t),c=this.atn.decisionMap[o].decision,l=Gt(Qi({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:n}),e=>Gt(e,e=>e[0]));if(oc(l,!1)&&!s){const e=fs(l,(e,t,n)=>(Q(t,t=>{t&&(e[t.tokenTypeIdx]=n,Q(t.categoryMatches,t=>{e[t]=n}))}),e),{});return r?function(t){var n;const r=this.LA(1),s=e[r.tokenTypeIdx];if(void 0!==t&&void 0!==s){const e=null===(n=t[s])||void 0===n?void 0:n.GATE;if(void 0!==e&&!1===e.call(this))return}return s}:function(){const t=this.LA(1);return e[t.tokenTypeIdx]}}return r?function(e){const t=new sc,n=void 0===e?0:e.length;for(let r=0;r<n;r++){const n=null==e?void 0:e[r].GATE;t.set(r,void 0===n||n.call(this))}const r=cc.call(this,i,c,t,a);return"number"==typeof r?r:void 0}:function(){const e=cc.call(this,i,c,ic,a);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:t,rule:n,prodType:r,dynamicTokensEnabled:s}=e,i=this.dfas,a=this.logging,o=Mo(n,r,t),c=this.atn.decisionMap[o].decision,l=Gt(Qi({maxLookahead:1,occurrence:t,prodType:r,rule:n}),e=>Gt(e,e=>e[0]));if(oc(l)&&l[0][0]&&!s){const e=l[0],t=$r(e);if(1===t.length&&Ne(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=fs(t,(e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,Q(t.categoryMatches,t=>{e[t]=!0})),e),{});return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){const e=cc.call(this,i,c,ic,a);return"object"!=typeof e&&0===e}}}function oc(e,t=!0){const n=new Set;for(const r of e){const e=new Set;for(const s of r){if(void 0===s){if(t)break;return!1}const r=[s.tokenTypeIdx].concat(s.categoryMatches);for(const t of r)if(n.has(t)){if(!e.has(t))return!1}else n.add(t),e.add(t)}}return!0}function cc(e,t,n,r){const s=e[t](n);let i=s.start;return void 0===i&&(i=gc(s,mc(function(e){const t=new Zo,n=e.transitions.length;for(let r=0;r<n;r++)Tc({state:e.transitions[r].target,alt:r,stack:[]},t);return t}(s.atnStartState))),s.start=i),lc.apply(this,[s,i,n,r])}function lc(e,t,n,r){let s=t,i=1;const a=[];let o=this.LA(i++);for(;;){let t=dc(s,o);if(void 0===t&&(t=pc.apply(this,[e,s,o,i,n,r])),t===Qo)return hc(a,s,o);if(!0===t.isAcceptState)return t.prediction;s=t,a.push(o),o=this.LA(i++)}}function pc(e,t,n,r,s,i){const a=function(e,t,n){const r=new Zo,s=[];for(const i of e.elements){if(!1===n.is(i.alt))continue;if(7===i.state.type){s.push(i);continue}const e=i.state.transitions.length;for(let n=0;n<e;n++){const e=fc(i.state.transitions[n],t);void 0!==e&&r.add({state:e,alt:i.alt,stack:i.stack})}}let i;if(0===s.length&&1===r.size&&(i=r),void 0===i){i=new Zo;for(const e of r.elements)Tc(e,i)}if(s.length>0&&!function(e){for(const t of e.elements)if(7===t.state.type)return!0;return!1}(i))for(const e of s)i.add(e);return i}(t.configs,n,s);if(0===a.size)return yc(e,t,n,Qo),Qo;let o=mc(a);const c=function(e,t){let n;for(const r of e.elements)if(!0===t.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(a,s);if(void 0!==c)o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c;else if(function(e){if(function(e){for(const t of e.elements)if(7!==t.state.type)return!1;return!0}(e))return!0;const t=function(e){const t=new Map;for(const n of e){const e=ec(n,!1);let r=t.get(e);void 0===r&&(r={},t.set(e,r)),r[n.alt]=!0}return t}(e.elements);return function(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}(t)&&!function(e){for(const t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}(t)}(a)){const t=nc(a.alts);o.isAcceptState=!0,o.prediction=t,o.configs.uniqueAlt=t,uc.apply(this,[e,r,a.alts,i])}return o=yc(e,t,n,o),o}function uc(e,t,n,r){const s=[];for(let e=1;e<=t;e++)s.push(this.LA(e).tokenType);const i=e.atnStartState;r(function(e){const t=Gt(e.prefixPath,e=>fi(e)).join(", "),n=0===e.production.idx?"":e.production.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${function(e){if(e instanceof ar)return"SUBRULE";if(e instanceof lr)return"OPTION";if(e instanceof fr)return"OR";if(e instanceof pr)return"AT_LEAST_ONE";if(e instanceof ur)return"AT_LEAST_ONE_SEP";if(e instanceof dr)return"MANY_SEP";if(e instanceof hr)return"MANY";if(e instanceof mr)return"CONSUME";throw Error("non exhaustive match")}(e.production)}${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:i.rule,ambiguityIndices:n,production:i.production,prefixPath:s}))}function hc(e,t,n){const r=Ni(t.configs.elements,e=>e.state.transitions);return{actualToken:n,possibleTokenTypes:(s=r.filter(e=>e instanceof Uo).map(e=>e.tokenType),i=e=>e.tokenTypeIdx,s&&s.length?Dr(s,Wt(i)):[]),tokenPath:e};var s,i}function dc(e,t){return e.edges[t.tokenTypeIdx]}function fc(e,t){if(e instanceof Uo&&Ci(t,e.tokenType))return e.target}function mc(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function yc(e,t,n,r){return r=gc(e,r),t.edges[n.tokenTypeIdx]=r,r}function gc(e,t){if(t===Qo)return t;const n=t.configs.key,r=e.states[n];return void 0!==r?r:(t.configs.finalize(),e.states[n]=t,t)}function Tc(e,t){const n=e.state;if(7===n.type){if(e.stack.length>0){const n=[...e.stack];Tc({state:n.pop(),alt:e.alt,stack:n},t)}else t.add(e);return}n.epsilonOnlyTransitions||t.add(e);const r=n.transitions.length;for(let s=0;s<r;s++){const r=Sc(e,n.transitions[s]);void 0!==r&&Tc(r,t)}}function Sc(e,t){if(t instanceof Fo)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof Bo){const n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}}function bc(e,t){e.RULE("literal",()=>{e.OR([{ALT:()=>e.SUBRULE(e.integerLiteral)},{ALT:()=>e.SUBRULE(e.floatingPointLiteral)},{ALT:()=>e.SUBRULE(e.booleanLiteral)},{ALT:()=>e.CONSUME(t.CharLiteral)},{ALT:()=>e.CONSUME(t.TextBlock)},{ALT:()=>e.CONSUME(t.StringLiteral)},{ALT:()=>e.CONSUME(t.Null)}])}),e.RULE("integerLiteral",()=>{e.OR([{ALT:()=>e.CONSUME(t.DecimalLiteral)},{ALT:()=>e.CONSUME(t.HexLiteral)},{ALT:()=>e.CONSUME(t.OctalLiteral)},{ALT:()=>e.CONSUME(t.BinaryLiteral)}])}),e.RULE("floatingPointLiteral",()=>{e.OR([{ALT:()=>e.CONSUME(t.FloatLiteral)},{ALT:()=>e.CONSUME(t.HexFloatLiteral)}])}),e.RULE("booleanLiteral",()=>{e.OR([{ALT:()=>e.CONSUME(t.True)},{ALT:()=>e.CONSUME(t.False)}])})}function Ec(e,t){e.RULE("primitiveType",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OR([{ALT:()=>e.SUBRULE(e.numericType)},{ALT:()=>e.CONSUME(t.Boolean)}])}),e.RULE("numericType",()=>{e.OR([{ALT:()=>e.SUBRULE(e.integralType)},{ALT:()=>e.SUBRULE(e.floatingPointType)}])}),e.RULE("integralType",()=>{e.OR([{ALT:()=>e.CONSUME(t.Byte)},{ALT:()=>e.CONSUME(t.Short)},{ALT:()=>e.CONSUME(t.Int)},{ALT:()=>e.CONSUME(t.Long)},{ALT:()=>e.CONSUME(t.Char)}])}),e.RULE("floatingPointType",()=>{e.OR([{ALT:()=>e.CONSUME(t.Float)},{ALT:()=>e.CONSUME(t.Double)}])}),e.RULE("referenceType",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OR({DEF:[{ALT:()=>{e.SUBRULE(e.primitiveType),e.SUBRULE(e.dims)}},{ALT:()=>{e.SUBRULE(e.classOrInterfaceType),e.OPTION(()=>{e.SUBRULE2(e.dims)})}}],IGNORE_AMBIGUITIES:!0})}),e.RULE("classOrInterfaceType",()=>{e.SUBRULE(e.classType)}),e.RULE("classType",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.Identifier),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.MANY2(()=>{e.CONSUME(t.Dot),e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.Identifier),e.OPTION2(()=>e.SUBRULE2(e.typeArguments))})}),e.RULE("interfaceType",()=>{e.SUBRULE(e.classType)}),e.RULE("typeVariable",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.Identifier)}),e.RULE("dims",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.LSquare),e.CONSUME(t.RSquare),e.MANY2({GATE:()=>e.BACKTRACK_LOOKAHEAD(e.isDims),DEF:()=>{e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.LSquare),e.CONSUME2(t.RSquare)}})}),e.RULE("typeParameter",()=>{e.MANY(()=>{e.SUBRULE(e.typeParameterModifier)}),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeBound)})}),e.RULE("typeParameterModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("typeBound",()=>{e.CONSUME(t.Extends),e.SUBRULE(e.classOrInterfaceType),e.MANY(()=>{e.SUBRULE(e.additionalBound)})}),e.RULE("additionalBound",()=>{e.CONSUME(t.And),e.SUBRULE(e.interfaceType)}),e.RULE("typeArguments",()=>{e.CONSUME(t.Less),e.SUBRULE(e.typeArgumentList),e.CONSUME(t.Greater)}),e.RULE("typeArgumentList",()=>{e.SUBRULE(e.typeArgument),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeArgument)})}),e.RULE("typeArgument",()=>{e.OR([{ALT:()=>e.SUBRULE(e.referenceType)},{ALT:()=>e.SUBRULE(e.wildcard)}])}),e.RULE("wildcard",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.QuestionMark),e.OPTION(()=>{e.SUBRULE(e.wildcardBounds)})}),e.RULE("wildcardBounds",()=>{e.OR([{ALT:()=>e.CONSUME(t.Extends)},{ALT:()=>e.CONSUME(t.Super)}]),e.SUBRULE(e.referenceType)})}function xc(e,t){e.RULE("moduleName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})}),e.RULE("packageName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})}),e.RULE("typeName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})}),e.RULE("expressionName",()=>{e.CONSUME(t.Identifier),e.MANY({GATE:()=>Ci(this.LA(2).tokenType,t.Identifier),DEF:()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}})}),e.RULE("methodName",()=>{e.CONSUME(t.Identifier)}),e.RULE("packageOrTypeName",()=>{e.CONSUME(t.Identifier),e.MANY({GATE:()=>!1===Ci(this.LA(2).tokenType,t.Star),DEF:()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}})}),e.RULE("ambiguousName",()=>{e.CONSUME(t.Identifier),e.MANY(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)})})}function vc(e,t){e.RULE("compilationUnit",()=>{e.OR([{ALT:()=>e.SUBRULE(e.ordinaryCompilationUnit)},{ALT:()=>e.SUBRULE(e.modularCompilationUnit)}]),e.CONSUME(Ai)}),e.RULE("ordinaryCompilationUnit",()=>{e.OPTION(()=>e.SUBRULE(e.packageDeclaration)),e.MANY(()=>{e.SUBRULE3(e.importDeclaration)}),e.MANY2(()=>{e.SUBRULE(e.typeDeclaration)})}),e.RULE("modularCompilationUnit",()=>{e.MANY(()=>{e.SUBRULE(e.importDeclaration)}),e.SUBRULE(e.moduleDeclaration)}),e.RULE("packageDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.packageModifier)}),e.CONSUME(t.Package),e.CONSUME(t.Identifier),e.MANY2(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}),e.CONSUME2(t.Semicolon)}),e.RULE("packageModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("importDeclaration",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Import),e.OPTION(()=>{e.CONSUME(t.Static)}),e.SUBRULE(e.packageOrTypeName),e.OPTION2(()=>{e.CONSUME(t.Dot),e.CONSUME(t.Star)}),e.CONSUME(t.Semicolon)}},{ALT:()=>e.SUBRULE(e.emptyStatement)}])}),e.RULE("typeDeclaration",()=>{e.OR([{ALT:()=>e.CONSUME(t.Semicolon)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.SUBRULE(e.fieldDeclaration)},{ALT:()=>e.SUBRULE(e.methodDeclaration)}])}),e.RULE("moduleDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OPTION(()=>{e.CONSUME(t.Open)}),e.CONSUME(t.Module),e.CONSUME(t.Identifier),e.MANY2(()=>{e.CONSUME(t.Dot),e.CONSUME2(t.Identifier)}),e.CONSUME(t.LCurly),e.MANY3(()=>{e.SUBRULE(e.moduleDirective)}),e.CONSUME(t.RCurly)}),e.RULE("moduleDirective",()=>{e.OR([{ALT:()=>e.SUBRULE(e.requiresModuleDirective)},{ALT:()=>e.SUBRULE(e.exportsModuleDirective)},{ALT:()=>e.SUBRULE(e.opensModuleDirective)},{ALT:()=>e.SUBRULE(e.usesModuleDirective)},{ALT:()=>e.SUBRULE(e.providesModuleDirective)}])}),e.RULE("requiresModuleDirective",()=>{e.CONSUME(t.Requires),e.MANY({GATE:()=>!1===(Ci(e.LA(1).tokenType,t.Transitive)&&Ci(e.LA(2).tokenType,t.Separators)),DEF:()=>{e.SUBRULE(e.requiresModifier)}}),e.SUBRULE(e.moduleName),e.CONSUME(t.Semicolon)}),e.RULE("exportsModuleDirective",()=>{e.CONSUME(t.Exports),e.SUBRULE(e.packageName),e.OPTION(()=>{e.CONSUME(t.To),e.SUBRULE(e.moduleName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.moduleName)})}),e.CONSUME(t.Semicolon)}),e.RULE("opensModuleDirective",()=>{e.CONSUME(t.Opens),e.SUBRULE(e.packageName),e.OPTION(()=>{e.CONSUME(t.To),e.SUBRULE(e.moduleName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.moduleName)})}),e.CONSUME(t.Semicolon)}),e.RULE("usesModuleDirective",()=>{e.CONSUME(t.Uses),e.SUBRULE(e.typeName),e.CONSUME(t.Semicolon)}),e.RULE("providesModuleDirective",()=>{e.CONSUME(t.Provides),e.SUBRULE(e.typeName),e.CONSUME(t.With),e.SUBRULE2(e.typeName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE3(e.typeName)}),e.CONSUME(t.Semicolon)}),e.RULE("requiresModifier",()=>{e.OR([{ALT:()=>e.CONSUME(t.Transitive)},{ALT:()=>e.CONSUME(t.Static)}])})}function Pc(e,t){e.RULE("classDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.classModifier)}),e.OR([{ALT:()=>e.SUBRULE(e.normalClassDeclaration)},{ALT:()=>e.SUBRULE(e.enumDeclaration)},{ALT:()=>e.SUBRULE(e.recordDeclaration)}])}),e.RULE("normalClassDeclaration",()=>{e.CONSUME(t.Class),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.OPTION2(()=>{e.SUBRULE(e.classExtends)}),e.OPTION3(()=>{e.SUBRULE(e.classImplements)}),e.OPTION4(()=>{e.SUBRULE(e.classPermits)}),e.SUBRULE(e.classBody)}),e.RULE("classModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)},{ALT:()=>e.CONSUME(t.Sealed)},{ALT:()=>e.CONSUME(t.NonSealed)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("typeParameters",()=>{e.CONSUME(t.Less),e.SUBRULE(e.typeParameterList),e.CONSUME(t.Greater)}),e.RULE("typeParameterList",()=>{e.SUBRULE(e.typeParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeParameter)})}),e.RULE("classExtends",()=>{e.CONSUME(t.Extends),e.SUBRULE(e.classType)}),e.RULE("classImplements",()=>{e.CONSUME(t.Implements),e.SUBRULE(e.interfaceTypeList)}),e.RULE("interfaceTypeList",()=>{e.SUBRULE(e.interfaceType),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.interfaceType)})}),e.RULE("classPermits",()=>{e.CONSUME(t.Permits),e.SUBRULE(e.typeName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeName)})}),e.RULE("classBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.classBodyDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("classBodyDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.classMemberDeclaration)},{ALT:()=>e.SUBRULE(e.instanceInitializer)},{ALT:()=>e.SUBRULE(e.staticInitializer)},{ALT:()=>e.SUBRULE(e.constructorDeclaration)}])}),e.RULE("classMemberDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.fieldDeclaration)},{ALT:()=>e.SUBRULE(e.methodDeclaration)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("fieldDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.fieldModifier)}),e.SUBRULE(e.unannType),e.SUBRULE(e.variableDeclaratorList),e.CONSUME(t.Semicolon)}),e.RULE("fieldModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)},{ALT:()=>e.CONSUME(t.Transient)},{ALT:()=>e.CONSUME(t.Volatile)}])}),e.RULE("variableDeclaratorList",n=>{e.SUBRULE(e.variableDeclarator),e.MANY({GATE:()=>!n,DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.variableDeclarator)}})}),e.RULE("variableDeclarator",()=>{e.SUBRULE(e.variableDeclaratorId),e.OPTION(()=>{e.CONSUME(t.Equals),e.SUBRULE(e.variableInitializer)})}),e.RULE("variableDeclaratorId",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Identifier),e.OPTION(()=>{e.SUBRULE(e.dims)})}},{ALT:()=>e.CONSUME(t.Underscore)}])}),e.RULE("variableInitializer",()=>{e.OR([{ALT:()=>e.SUBRULE(e.expression)},{ALT:()=>e.SUBRULE(e.arrayInitializer)}])}),e.RULE("unannType",()=>{e.OR([{ALT:()=>e.SUBRULE(e.unannPrimitiveTypeWithOptionalDimsSuffix)},{ALT:()=>e.SUBRULE(e.unannReferenceType)}])}),e.RULE("unannPrimitiveTypeWithOptionalDimsSuffix",()=>{e.SUBRULE(e.unannPrimitiveType),e.OPTION({GATE:()=>this.BACKTRACK_LOOKAHEAD(e.isDims),DEF:()=>e.SUBRULE2(e.dims)})}),e.RULE("unannPrimitiveType",()=>{e.OR([{ALT:()=>e.SUBRULE(e.numericType)},{ALT:()=>e.CONSUME(t.Boolean)}])}),e.RULE("unannReferenceType",()=>{e.SUBRULE(e.unannClassOrInterfaceType),e.OPTION({GATE:()=>this.BACKTRACK_LOOKAHEAD(e.isDims),DEF:()=>e.SUBRULE2(e.dims)})}),e.RULE("unannClassOrInterfaceType",()=>{e.SUBRULE(e.unannClassType)}),e.RULE("unannClassType",()=>{e.CONSUME(t.Identifier),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.MANY2(()=>{e.CONSUME(t.Dot),e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.Identifier),e.OPTION2(()=>{e.SUBRULE2(e.typeArguments)})})}),e.RULE("unannInterfaceType",()=>{e.SUBRULE(e.unannClassType)}),e.RULE("unannTypeVariable",()=>{e.CONSUME(t.Identifier)}),e.RULE("methodDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.methodModifier)}),e.SUBRULE(e.methodHeader),e.SUBRULE(e.methodBody)}),e.RULE("methodModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)},{ALT:()=>e.CONSUME(t.Synchronized)},{ALT:()=>e.CONSUME(t.Native)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("methodHeader",()=>{e.OPTION(()=>{e.SUBRULE(e.typeParameters),e.MANY(()=>{e.SUBRULE(e.annotation)})}),e.SUBRULE(e.result),e.SUBRULE(e.methodDeclarator),e.OPTION2(()=>{e.SUBRULE(e.throws)})}),e.RULE("result",()=>{e.OR([{ALT:()=>e.SUBRULE(e.unannType)},{ALT:()=>e.CONSUME(t.Void)}])}),e.RULE("methodDeclarator",()=>{e.CONSUME(t.Identifier),e.CONSUME(t.LBrace),e.OR([{ALT:()=>{e.SUBRULE(e.receiverParameter),e.OPTION(()=>{e.CONSUME(t.Comma),e.SUBRULE(e.formalParameterList)})}},{ALT:()=>e.OPTION1(()=>e.SUBRULE1(e.formalParameterList))}]),e.CONSUME(t.RBrace),e.OPTION2(()=>{e.SUBRULE(e.dims)})}),e.RULE("receiverParameter",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.SUBRULE(e.unannType),e.OPTION(()=>{e.CONSUME(t.Identifier),e.CONSUME(t.Dot)}),e.CONSUME(t.This)}),e.RULE("formalParameterList",()=>{e.SUBRULE(e.formalParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.formalParameter)})}),e.RULE("formalParameter",()=>{e.OR([{ALT:()=>e.SUBRULE(e.variableParaRegularParameter)},{ALT:()=>e.SUBRULE(e.variableArityParameter)}])}),e.RULE("variableParaRegularParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.unannType),e.SUBRULE(e.variableDeclaratorId)}),e.RULE("variableArityParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.unannType),e.MANY2(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.DotDotDot),e.CONSUME(t.Identifier)}),e.RULE("variableModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Final)}])}),e.RULE("throws",()=>{e.CONSUME(t.Throws),e.SUBRULE(e.exceptionTypeList)}),e.RULE("exceptionTypeList",()=>{e.SUBRULE(e.exceptionType),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.exceptionType)})}),e.RULE("exceptionType",()=>{e.SUBRULE(e.classType)}),e.RULE("methodBody",()=>{e.OR([{ALT:()=>e.SUBRULE(e.block)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("instanceInitializer",()=>{e.SUBRULE(e.block)}),e.RULE("staticInitializer",()=>{e.CONSUME(t.Static),e.SUBRULE(e.block)}),e.RULE("constructorDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.constructorModifier)}),e.SUBRULE(e.constructorDeclarator),e.OPTION(()=>{e.SUBRULE(e.throws)}),e.SUBRULE(e.constructorBody)}),e.RULE("constructorModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)}])}),e.RULE("constructorDeclarator",()=>{e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.SUBRULE(e.simpleTypeName),e.CONSUME(t.LBrace),e.OR([{ALT:()=>{e.SUBRULE(e.receiverParameter),e.OPTION1(()=>{e.CONSUME(t.Comma),e.SUBRULE(e.formalParameterList)})}},{ALT:()=>e.OPTION2(()=>e.SUBRULE1(e.formalParameterList))}]),e.CONSUME(t.RBrace)}),e.RULE("simpleTypeName",()=>{e.SUBRULE(e.typeIdentifier)}),e.RULE("constructorBody",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.explicitConstructorInvocation)}),e.OPTION2(()=>{e.SUBRULE(e.blockStatements)}),e.CONSUME(t.RCurly)}),e.RULE("explicitConstructorInvocation",()=>{e.OR([{ALT:()=>e.SUBRULE(e.unqualifiedExplicitConstructorInvocation)},{ALT:()=>e.SUBRULE(e.qualifiedExplicitConstructorInvocation)}])}),e.RULE("unqualifiedExplicitConstructorInvocation",()=>{e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.OR([{ALT:()=>e.CONSUME(t.This)},{ALT:()=>e.CONSUME(t.Super)}]),e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace),e.CONSUME(t.Semicolon)}),e.RULE("qualifiedExplicitConstructorInvocation",()=>{e.SUBRULE(e.expressionName),e.CONSUME(t.Dot),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.CONSUME(t.Super),e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace),e.CONSUME(t.Semicolon)}),e.RULE("enumDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.classModifier)}),e.CONSUME(t.Enum),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.classImplements)}),e.SUBRULE(e.enumBody)}),e.RULE("enumBody",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.enumConstantList)}),e.OPTION2(()=>{e.CONSUME(t.Comma)}),e.OPTION3(()=>{e.SUBRULE(e.enumBodyDeclarations)}),e.CONSUME(t.RCurly)}),e.RULE("enumConstantList",()=>{e.SUBRULE(e.enumConstant),e.MANY({GATE:()=>{const n=e.LA(2);return Ci(n,t.Identifier)||Ci(n,t.At)},DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.enumConstant)}})}),e.RULE("enumConstant",()=>{e.MANY(()=>{e.SUBRULE(e.enumConstantModifier)}),e.CONSUME(t.Identifier),e.OPTION(()=>{e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace)}),e.OPTION3(()=>{e.SUBRULE(e.classBody)})}),e.RULE("enumConstantModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("enumBodyDeclarations",()=>{e.CONSUME(t.Semicolon),e.MANY(()=>{e.SUBRULE(e.classBodyDeclaration)})}),e.RULE("recordDeclaration",()=>{e.CONSUME(t.Record),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.SUBRULE(e.recordHeader),e.OPTION2(()=>{e.SUBRULE(e.classImplements)}),e.SUBRULE(e.recordBody)}),e.RULE("recordHeader",()=>{e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.recordComponentList)}),e.CONSUME(t.RBrace)}),e.RULE("recordComponentList",()=>{e.SUBRULE(e.recordComponent),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.recordComponent)})}),e.RULE("recordComponent",()=>{e.MANY(()=>{e.SUBRULE(e.recordComponentModifier)}),e.SUBRULE(e.unannType),e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.SUBRULE(e.variableArityRecordComponent)}])}),e.RULE("variableArityRecordComponent",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.DotDotDot),e.CONSUME(t.Identifier)}),e.RULE("recordComponentModifier",()=>{e.SUBRULE(e.annotation)}),e.RULE("recordBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.recordBodyDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("recordBodyDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.compactConstructorDeclaration)},{ALT:()=>e.SUBRULE(e.classBodyDeclaration)}])}),e.RULE("compactConstructorDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.constructorModifier)}),e.SUBRULE(e.simpleTypeName),e.SUBRULE(e.constructorBody)}),e.RULE("isDims",()=>(e.MANY(e.annotation),Ci(this.LA(1),t.LSquare)&&Ci(this.LA(2),t.RSquare)))}function Ac(e,t){e.RULE("interfaceDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.interfaceModifier)}),e.OR([{ALT:()=>e.SUBRULE(e.normalInterfaceDeclaration)},{ALT:()=>e.SUBRULE(e.annotationInterfaceDeclaration)}])}),e.RULE("normalInterfaceDeclaration",()=>{e.CONSUME(t.Interface),e.SUBRULE(e.typeIdentifier),e.OPTION(()=>{e.SUBRULE(e.typeParameters)}),e.OPTION2(()=>{e.SUBRULE(e.interfaceExtends)}),e.OPTION3(()=>{e.SUBRULE(e.interfacePermits)}),e.SUBRULE(e.interfaceBody)}),e.RULE("interfaceModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Protected)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Sealed)},{ALT:()=>e.CONSUME(t.NonSealed)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("interfaceExtends",()=>{e.CONSUME(t.Extends),e.SUBRULE(e.interfaceTypeList)}),e.RULE("interfacePermits",()=>{e.CONSUME(t.Permits),e.SUBRULE(e.typeName),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.typeName)})}),e.RULE("interfaceBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.interfaceMemberDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("interfaceMemberDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.constantDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceMethodDeclaration)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("constantDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.constantModifier)}),e.SUBRULE(e.unannType),e.SUBRULE(e.variableDeclaratorList),e.CONSUME(t.Semicolon)}),e.RULE("constantModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Final)}])}),e.RULE("interfaceMethodDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.interfaceMethodModifier)}),e.SUBRULE(e.methodHeader),e.SUBRULE(e.methodBody)}),e.RULE("interfaceMethodModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Private)},{ALT:()=>e.CONSUME(t.Abstract)},{ALT:()=>e.CONSUME(t.Default)},{ALT:()=>e.CONSUME(t.Static)},{ALT:()=>e.CONSUME(t.Strictfp)}])}),e.RULE("annotationInterfaceDeclaration",()=>{e.CONSUME(t.At),e.CONSUME(t.Interface),e.SUBRULE(e.typeIdentifier),e.SUBRULE(e.annotationInterfaceBody)}),e.RULE("annotationInterfaceBody",()=>{e.CONSUME(t.LCurly),e.MANY(()=>{e.SUBRULE(e.annotationInterfaceMemberDeclaration)}),e.CONSUME(t.RCurly)}),e.RULE("annotationInterfaceMemberDeclaration",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotationInterfaceElementDeclaration)},{ALT:()=>e.SUBRULE(e.constantDeclaration)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.CONSUME(t.Semicolon)}])}),e.RULE("annotationInterfaceElementDeclaration",()=>{e.MANY(()=>{e.SUBRULE(e.annotationInterfaceElementModifier)}),e.SUBRULE(e.unannType),e.CONSUME(t.Identifier),e.CONSUME(t.LBrace),e.CONSUME(t.RBrace),e.OPTION(()=>{e.SUBRULE(e.dims)}),e.OPTION2(()=>{e.SUBRULE(e.defaultValue)}),e.CONSUME(t.Semicolon)}),e.RULE("annotationInterfaceElementModifier",()=>{e.OR([{ALT:()=>e.SUBRULE(e.annotation)},{ALT:()=>e.CONSUME(t.Public)},{ALT:()=>e.CONSUME(t.Abstract)}])}),e.RULE("defaultValue",()=>{e.CONSUME(t.Default),e.SUBRULE(e.elementValue)}),e.RULE("annotation",()=>{e.CONSUME(t.At),e.SUBRULE(e.typeName),e.OPTION(()=>{e.CONSUME(t.LBrace),e.OR({DEF:[{ALT:()=>e.SUBRULE(e.elementValuePairList)},{ALT:()=>e.SUBRULE(e.elementValue)},{ALT:()=>{}}],IGNORE_AMBIGUITIES:!0}),e.CONSUME(t.RBrace)})}),e.RULE("elementValuePairList",()=>{e.SUBRULE(e.elementValuePair),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.elementValuePair)})}),e.RULE("elementValuePair",()=>{e.CONSUME(t.Identifier),e.CONSUME(t.Equals),e.SUBRULE(e.elementValue)}),e.RULE("elementValue",()=>{e.OR([{ALT:()=>e.SUBRULE(e.conditionalExpression)},{ALT:()=>e.SUBRULE(e.elementValueArrayInitializer)},{ALT:()=>e.SUBRULE(e.annotation)}])}),e.RULE("elementValueArrayInitializer",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.elementValueList)}),e.OPTION2(()=>{e.CONSUME(t.Comma)}),e.CONSUME(t.RCurly)}),e.RULE("elementValueList",()=>{e.SUBRULE(e.elementValue),e.MANY({GATE:()=>!1===Ci(e.LA(2).tokenType,t.RCurly),DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.elementValue)}})})}function wc(e,t){e.RULE("arrayInitializer",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.variableInitializerList)}),e.OPTION2(()=>{e.CONSUME(t.Comma)}),e.CONSUME(t.RCurly)}),e.RULE("variableInitializerList",()=>{e.SUBRULE(e.variableInitializer),e.MANY({GATE:()=>!1===Ci(this.LA(2).tokenType,t.RCurly),DEF:()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.variableInitializer)}})})}function Cc(e,t){e.RULE("block",()=>{e.CONSUME(t.LCurly),e.OPTION(()=>{e.SUBRULE(e.blockStatements)}),e.CONSUME(t.RCurly)}),e.RULE("blockStatements",()=>{e.SUBRULE(e.blockStatement),e.MANY(()=>{e.SUBRULE2(e.blockStatement)})}),e.RULE("blockStatement",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.localVariableDeclarationStatement)},{ALT:()=>e.SUBRULE(e.classDeclaration)},{ALT:()=>e.SUBRULE(e.interfaceDeclaration)},{ALT:()=>e.SUBRULE(e.statement)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("localVariableDeclarationStatement",()=>{e.SUBRULE(e.localVariableDeclaration),e.CONSUME(t.Semicolon)}),e.RULE("localVariableDeclaration",t=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.localVariableType),e.SUBRULE(e.variableDeclaratorList,{ARGS:[t]})}),e.RULE("localVariableType",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.unannType)},{ALT:()=>e.CONSUME(t.Var)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("statement",()=>{e.OR([{ALT:()=>e.SUBRULE(e.statementWithoutTrailingSubstatement)},{ALT:()=>e.SUBRULE(e.labeledStatement)},{ALT:()=>e.SUBRULE(e.ifStatement)},{ALT:()=>e.SUBRULE(e.whileStatement)},{ALT:()=>e.SUBRULE(e.forStatement)}])}),e.RULE("statementWithoutTrailingSubstatement",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.block)},{ALT:()=>e.SUBRULE(e.yieldStatement)},{ALT:()=>e.SUBRULE(e.emptyStatement)},{GATE:()=>!Ci(this.LA(1).tokenType,t.Switch),ALT:()=>e.SUBRULE(e.expressionStatement)},{ALT:()=>e.SUBRULE(e.assertStatement)},{ALT:()=>e.SUBRULE(e.switchStatement)},{ALT:()=>e.SUBRULE(e.doStatement)},{ALT:()=>e.SUBRULE(e.breakStatement)},{ALT:()=>e.SUBRULE(e.continueStatement)},{ALT:()=>e.SUBRULE(e.returnStatement)},{ALT:()=>e.SUBRULE(e.synchronizedStatement)},{ALT:()=>e.SUBRULE(e.throwStatement)},{ALT:()=>e.SUBRULE(e.tryStatement)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("emptyStatement",()=>{e.CONSUME(t.Semicolon)}),e.RULE("labeledStatement",()=>{e.CONSUME(t.Identifier),e.CONSUME(t.Colon),e.SUBRULE(e.statement)}),e.RULE("expressionStatement",()=>{e.SUBRULE(e.statementExpression),e.CONSUME(t.Semicolon)}),e.RULE("statementExpression",()=>{e.SUBRULE(e.expression)}),e.RULE("ifStatement",()=>{e.CONSUME(t.If),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.statement),e.OPTION(()=>{e.CONSUME(t.Else),e.SUBRULE2(e.statement)})}),e.RULE("assertStatement",()=>{e.CONSUME(t.Assert),e.SUBRULE(e.expression),e.OPTION(()=>{e.CONSUME(t.Colon),e.SUBRULE2(e.expression)}),e.CONSUME(t.Semicolon)}),e.RULE("switchStatement",()=>{e.CONSUME(t.Switch),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.switchBlock)}),e.RULE("switchBlock",()=>{e.CONSUME(t.LCurly),e.OR([{ALT:()=>{e.SUBRULE(e.switchRule),e.MANY(()=>e.SUBRULE2(e.switchRule))}},{ALT:()=>e.MANY2(()=>e.SUBRULE(e.switchBlockStatementGroup))}]),e.CONSUME(t.RCurly)}),e.RULE("switchBlockStatementGroup",()=>{e.SUBRULE(e.switchLabel),e.CONSUME(t.Colon),e.OPTION(()=>{e.SUBRULE(e.blockStatements)})}),e.RULE("switchLabel",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Case),e.OR2([{ALT:()=>{e.CONSUME(t.Null),e.OPTION2(()=>{e.CONSUME3(t.Comma),e.CONSUME(t.Default)})}},{ALT:()=>{e.SUBRULE(e.casePattern),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.casePattern)}),e.OPTION(()=>{e.SUBRULE(e.guard)})}},{GATE:()=>!Ci(e.LA(1).tokenType,t.Null),ALT:()=>{e.SUBRULE(e.caseConstant),e.MANY2(()=>{e.CONSUME2(t.Comma),e.SUBRULE2(e.caseConstant)})}}])}},{ALT:()=>e.CONSUME2(t.Default)}])}),e.RULE("switchRule",()=>{e.SUBRULE(e.switchLabel),e.CONSUME(t.Arrow),e.OR([{ALT:()=>e.SUBRULE(e.throwStatement)},{ALT:()=>e.SUBRULE(e.block)},{ALT:()=>{e.SUBRULE(e.expression),e.CONSUME(t.Semicolon)}}])}),e.RULE("caseConstant",()=>{e.SUBRULE(e.conditionalExpression)}),e.RULE("casePattern",()=>{e.SUBRULE(e.pattern)}),e.RULE("whileStatement",()=>{e.CONSUME(t.While),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.statement)}),e.RULE("doStatement",()=>{e.CONSUME(t.Do),e.SUBRULE(e.statement),e.CONSUME(t.While),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.CONSUME(t.Semicolon)}),e.RULE("forStatement",()=>{e.OR([{ALT:()=>e.SUBRULE(e.basicForStatement)},{ALT:()=>e.SUBRULE(e.enhancedForStatement)}])}),e.RULE("basicForStatement",()=>{e.CONSUME(t.For),e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.forInit)}),e.CONSUME(t.Semicolon),e.OPTION2(()=>{e.SUBRULE(e.expression)}),e.CONSUME2(t.Semicolon),e.OPTION3(()=>{e.SUBRULE(e.forUpdate)}),e.CONSUME(t.RBrace),e.SUBRULE(e.statement)}),e.RULE("forInit",()=>{e.OR([{ALT:()=>e.SUBRULE(e.localVariableDeclaration)},{ALT:()=>e.SUBRULE(e.statementExpressionList)}])}),e.RULE("forUpdate",()=>{e.SUBRULE(e.statementExpressionList)}),e.RULE("statementExpressionList",()=>{e.SUBRULE(e.statementExpression),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.statementExpression)})}),e.RULE("enhancedForStatement",()=>{e.CONSUME(t.For),e.CONSUME(t.LBrace),e.SUBRULE(e.localVariableDeclaration),e.CONSUME(t.Colon),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.statement)}),e.RULE("breakStatement",()=>{e.CONSUME(t.Break),e.OPTION(()=>{e.CONSUME(t.Identifier)}),e.CONSUME(t.Semicolon)}),e.RULE("continueStatement",()=>{e.CONSUME(t.Continue),e.OPTION(()=>{e.CONSUME(t.Identifier)}),e.CONSUME(t.Semicolon)}),e.RULE("returnStatement",()=>{e.CONSUME(t.Return),e.OPTION(()=>{e.SUBRULE(e.expression)}),e.CONSUME(t.Semicolon)}),e.RULE("throwStatement",()=>{e.CONSUME(t.Throw),e.SUBRULE(e.expression),e.CONSUME(t.Semicolon)}),e.RULE("synchronizedStatement",()=>{e.CONSUME(t.Synchronized),e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace),e.SUBRULE(e.block)}),e.RULE("tryStatement",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Try),e.SUBRULE(e.block),e.OR2([{ALT:()=>{e.SUBRULE(e.catches),e.OPTION(()=>{e.SUBRULE(e.finally)})}},{ALT:()=>e.SUBRULE2(e.finally)}])}},{ALT:()=>e.SUBRULE(e.tryWithResourcesStatement)}])}),e.RULE("catches",()=>{e.SUBRULE(e.catchClause),e.MANY(()=>{e.SUBRULE2(e.catchClause)})}),e.RULE("catchClause",()=>{e.CONSUME(t.Catch),e.CONSUME(t.LBrace),e.SUBRULE(e.catchFormalParameter),e.CONSUME(t.RBrace),e.SUBRULE(e.block)}),e.RULE("catchFormalParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.catchType),e.SUBRULE(e.variableDeclaratorId)}),e.RULE("catchType",()=>{e.SUBRULE(e.unannClassType),e.MANY(()=>{e.CONSUME(t.Or),e.SUBRULE2(e.classType)})}),e.RULE("finally",()=>{e.CONSUME(t.Finally),e.SUBRULE(e.block)}),e.RULE("tryWithResourcesStatement",()=>{e.CONSUME(t.Try),e.SUBRULE(e.resourceSpecification),e.SUBRULE(e.block),e.OPTION(()=>{e.SUBRULE(e.catches)}),e.OPTION2(()=>{e.SUBRULE(e.finally)})}),e.RULE("resourceSpecification",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.resourceList),e.OPTION(()=>{e.CONSUME(t.Semicolon)}),e.CONSUME(t.RBrace)}),e.RULE("resourceList",()=>{e.SUBRULE(e.resource),e.MANY({GATE:()=>!1===Ci(e.LA(2).tokenType,t.RBrace),DEF:()=>{e.CONSUME(t.Semicolon),e.SUBRULE2(e.resource)}})}),e.RULE("resource",()=>{e.OR([{ALT:()=>e.SUBRULE(e.localVariableDeclaration)},{ALT:()=>e.SUBRULE(e.variableAccess)}])}),e.RULE("yieldStatement",()=>{e.CONSUME(t.Yield),e.SUBRULE(e.expression),e.CONSUME(t.Semicolon)}),e.RULE("variableAccess",()=>{e.SUBRULE(e.primary)})}function Ic(e,t){e.RULE("expression",()=>{e.OR([{ALT:()=>e.SUBRULE(e.lambdaExpression)},{ALT:()=>e.SUBRULE(e.conditionalExpression)}])}),e.RULE("lambdaExpression",()=>{e.SUBRULE(e.lambdaParameters),e.CONSUME(t.Arrow),e.SUBRULE(e.lambdaBody)}),e.RULE("lambdaParameters",()=>{e.OR([{ALT:()=>e.SUBRULE(e.lambdaParametersWithBraces)},{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.Underscore)}])}),e.RULE("lambdaParametersWithBraces",()=>{e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.lambdaParameterList)}),e.CONSUME(t.RBrace)}),e.RULE("lambdaParameterList",()=>{e.OR([{GATE:()=>{const e=this.LA(1).tokenType,n=this.LA(2).tokenType;return(Ci(e,t.Identifier)||Ci(e,t.Underscore))&&(Ci(n,t.RBrace)||Ci(n,t.Comma))},ALT:()=>e.SUBRULE(e.conciseLambdaParameterList)},{ALT:()=>e.SUBRULE(e.normalLambdaParameterList)}])}),e.RULE("conciseLambdaParameterList",()=>{e.SUBRULE(e.conciseLambdaParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.conciseLambdaParameter)})}),e.RULE("normalLambdaParameterList",()=>{e.SUBRULE(e.normalLambdaParameter),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.normalLambdaParameter)})}),e.RULE("normalLambdaParameter",()=>{e.OR([{ALT:()=>e.SUBRULE(e.regularLambdaParameter)},{ALT:()=>e.SUBRULE(e.variableArityParameter)}])}),e.RULE("regularLambdaParameter",()=>{e.MANY(()=>{e.SUBRULE(e.variableModifier)}),e.SUBRULE(e.lambdaParameterType),e.SUBRULE(e.variableDeclaratorId)}),e.RULE("lambdaParameterType",()=>{e.OR({DEF:[{ALT:()=>e.SUBRULE(e.unannType)},{ALT:()=>e.CONSUME(t.Var)}],IGNORE_AMBIGUITIES:!0})}),e.RULE("conciseLambdaParameter",()=>{e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.Underscore)}])}),e.RULE("lambdaBody",()=>{e.OR([{ALT:()=>e.SUBRULE(e.expression)},{ALT:()=>e.SUBRULE(e.block)}])}),e.RULE("conditionalExpression",()=>{e.SUBRULE(e.binaryExpression),e.OPTION(()=>{e.CONSUME(t.QuestionMark),e.SUBRULE(e.expression),e.CONSUME(t.Colon),e.SUBRULE2(e.expression)})}),e.RULE("binaryExpression",()=>{e.SUBRULE(e.unaryExpression),e.MANY(()=>{e.OR({DEF:[{ALT:()=>{e.CONSUME(t.Instanceof),e.OR1([{ALT:()=>e.SUBRULE(e.pattern)},{ALT:()=>e.SUBRULE(e.referenceType)}])}},{ALT:()=>{e.CONSUME(t.AssignmentOperator),e.SUBRULE2(e.expression)}},{GATE:()=>Ci(e.LA(2).tokenType,t.Less)||Ci(e.LA(2).tokenType,t.Greater),ALT:()=>{e.OR2([{GATE:()=>e.LA(1).startOffset+1===e.LA(2).startOffset,ALT:()=>{e.CONSUME(t.Less),e.CONSUME2(t.Less)}},{GATE:()=>e.LA(1).startOffset+1===e.LA(2).startOffset,ALT:()=>{e.CONSUME(t.Greater),e.CONSUME2(t.Greater),e.OPTION({GATE:()=>e.LA(0).startOffset+1===e.LA(1).startOffset,DEF:()=>e.CONSUME3(t.Greater)})}}]),e.SUBRULE2(e.unaryExpression)}},{ALT:()=>{e.CONSUME(t.BinaryOperator),e.SUBRULE3(e.unaryExpression)}}],IGNORE_AMBIGUITIES:!0})})}),e.RULE("unaryExpression",()=>{e.MANY(()=>{e.CONSUME(t.UnaryPrefixOperator)}),e.SUBRULE(e.primary),e.MANY2(()=>{e.CONSUME(t.UnarySuffixOperator)})}),e.RULE("unaryExpressionNotPlusMinus",()=>{e.MANY(()=>{e.CONSUME(t.UnaryPrefixOperatorNotPlusMinus)}),e.SUBRULE(e.primary),e.MANY2(()=>{e.CONSUME(t.UnarySuffixOperator)})}),e.RULE("primary",()=>{e.SUBRULE(e.primaryPrefix),e.MANY(()=>{e.SUBRULE(e.primarySuffix)})}),e.RULE("primaryPrefix",()=>{e.OR([{ALT:()=>e.SUBRULE(e.literal)},{ALT:()=>e.CONSUME(t.This)},{ALT:()=>e.CONSUME(t.Void)},{ALT:()=>e.SUBRULE(e.unannPrimitiveTypeWithOptionalDimsSuffix)},{ALT:()=>e.SUBRULE(e.fqnOrRefType)},{ALT:()=>e.SUBRULE(e.castExpression)},{ALT:()=>e.SUBRULE(e.parenthesisExpression)},{ALT:()=>e.SUBRULE(e.newExpression)},{ALT:()=>e.SUBRULE(e.switchStatement)}])}),e.RULE("primarySuffix",()=>{e.OR([{ALT:()=>{e.CONSUME(t.Dot),e.OR2([{ALT:()=>e.CONSUME(t.This)},{ALT:()=>e.SUBRULE(e.unqualifiedClassInstanceCreationExpression)},{ALT:()=>{e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.CONSUME(t.Identifier)}},{ALT:()=>e.SUBRULE(e.templateArgument)}])}},{ALT:()=>e.SUBRULE(e.methodInvocationSuffix)},{ALT:()=>e.SUBRULE(e.classLiteralSuffix)},{ALT:()=>e.SUBRULE(e.arrayAccessSuffix)},{ALT:()=>e.SUBRULE(e.methodReferenceSuffix)}])}),e.RULE("fqnOrRefType",()=>{e.SUBRULE(e.fqnOrRefTypePartFirst),e.MANY({GATE:()=>{const n=e.LA(2);return!(Ci(n,t.Class)||Ci(n,t.This)||Ci(n,t.New)||Ci(n,t.StringLiteral)||Ci(n,t.TextBlock)||Ci(n,t.StringTemplateBegin)||Ci(n,t.TextBlockTemplateBegin))},DEF:()=>{e.CONSUME(t.Dot),e.SUBRULE2(e.fqnOrRefTypePartRest)}}),e.OPTION({GATE:()=>Ci(e.LA(1).tokenType,t.At)||Ci(e.LA(2).tokenType,t.RSquare),DEF:()=>{e.SUBRULE(e.dims)}})}),e.RULE("fqnOrRefTypePartRest",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.OPTION(()=>e.SUBRULE2(e.typeArguments)),e.SUBRULE(e.fqnOrRefTypePartCommon)}),e.RULE("fqnOrRefTypePartCommon",()=>{e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.Super)}]);let n=!1;Ci(e.LA(1).tokenType,t.Less)&&(n=this.BACKTRACK_LOOKAHEAD(e.isRefTypeInMethodRef)),e.OPTION2({GATE:()=>n,DEF:()=>{e.SUBRULE3(e.typeArguments)}})}),e.RULE("fqnOrRefTypePartFirst",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.SUBRULE(e.fqnOrRefTypePartCommon)}),e.RULE("parenthesisExpression",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.expression),e.CONSUME(t.RBrace)}),e.RULE("castExpression",()=>{e.OR([{ALT:()=>e.SUBRULE(e.primitiveCastExpression)},{ALT:()=>e.SUBRULE(e.referenceTypeCastExpression)}])}),e.RULE("primitiveCastExpression",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.primitiveType),e.CONSUME(t.RBrace),e.SUBRULE(e.unaryExpression)}),e.RULE("referenceTypeCastExpression",()=>{e.CONSUME(t.LBrace),e.SUBRULE(e.referenceType),e.MANY(()=>{e.SUBRULE(e.additionalBound)}),e.CONSUME(t.RBrace),e.OR([{ALT:()=>e.SUBRULE(e.lambdaExpression)},{ALT:()=>e.SUBRULE(e.unaryExpressionNotPlusMinus)}])}),e.RULE("newExpression",()=>{e.OR([{ALT:()=>e.SUBRULE(e.arrayCreationExpression)},{ALT:()=>e.SUBRULE(e.unqualifiedClassInstanceCreationExpression)}])}),e.RULE("unqualifiedClassInstanceCreationExpression",()=>{e.CONSUME(t.New),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.SUBRULE(e.classOrInterfaceTypeToInstantiate),e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace),e.OPTION3(()=>{e.SUBRULE(e.classBody)})}),e.RULE("classOrInterfaceTypeToInstantiate",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.Identifier),e.MANY2(()=>{e.CONSUME(t.Dot),e.MANY3(()=>{e.SUBRULE2(e.annotation)}),e.CONSUME2(t.Identifier)}),e.OPTION(()=>{e.SUBRULE(e.typeArgumentsOrDiamond)})}),e.RULE("typeArgumentsOrDiamond",()=>{e.OR([{ALT:()=>e.SUBRULE(e.diamond)},{ALT:()=>e.SUBRULE(e.typeArguments)}])}),e.RULE("diamond",()=>{e.CONSUME(t.Less),e.CONSUME(t.Greater)}),e.RULE("methodInvocationSuffix",()=>{e.CONSUME(t.LBrace),e.OPTION2(()=>{e.SUBRULE(e.argumentList)}),e.CONSUME(t.RBrace)}),e.RULE("argumentList",()=>{e.SUBRULE(e.expression),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.expression)})}),e.RULE("arrayCreationExpression",()=>{e.CONSUME(t.New),e.OR([{ALT:()=>e.SUBRULE(e.primitiveType)},{ALT:()=>e.SUBRULE(e.classOrInterfaceType)}]),e.OR2([{ALT:()=>e.SUBRULE(e.arrayCreationExpressionWithoutInitializerSuffix)},{ALT:()=>e.SUBRULE(e.arrayCreationWithInitializerSuffix)}])}),e.RULE("arrayCreationExpressionWithoutInitializerSuffix",()=>{e.SUBRULE(e.dimExprs),e.OPTION(()=>{e.SUBRULE(e.dims)})}),e.RULE("arrayCreationWithInitializerSuffix",()=>{e.SUBRULE(e.dims),e.SUBRULE(e.arrayInitializer)}),e.RULE("dimExprs",()=>{e.SUBRULE(e.dimExpr),e.MANY({GATE:()=>!1===Ci(e.LA(2).tokenType,t.RSquare),DEF:()=>e.SUBRULE2(e.dimExpr)})}),e.RULE("dimExpr",()=>{e.MANY(()=>{e.SUBRULE(e.annotation)}),e.CONSUME(t.LSquare),e.SUBRULE(e.expression),e.CONSUME(t.RSquare)}),e.RULE("classLiteralSuffix",()=>{e.MANY(()=>{e.CONSUME(t.LSquare),e.CONSUME(t.RSquare)}),e.CONSUME(t.Dot),e.CONSUME(t.Class)}),e.RULE("arrayAccessSuffix",()=>{e.CONSUME(t.LSquare),e.SUBRULE(e.expression),e.CONSUME(t.RSquare)}),e.RULE("methodReferenceSuffix",()=>{e.CONSUME(t.ColonColon),e.OPTION(()=>{e.SUBRULE(e.typeArguments)}),e.OR([{ALT:()=>e.CONSUME(t.Identifier)},{ALT:()=>e.CONSUME(t.New)}])}),e.RULE("templateArgument",()=>{e.OR([{ALT:()=>e.SUBRULE(e.template)},{ALT:()=>e.CONSUME(t.StringLiteral)},{ALT:()=>e.CONSUME(t.TextBlock)}])}),e.RULE("template",()=>{e.OR([{ALT:()=>e.SUBRULE(e.stringTemplate)},{ALT:()=>e.SUBRULE(e.textBlockTemplate)}])}),e.RULE("stringTemplate",()=>{e.CONSUME(t.StringTemplateBegin),e.SUBRULE(e.embeddedExpression),e.MANY(()=>{e.CONSUME(t.StringTemplateMid),e.SUBRULE1(e.embeddedExpression)}),e.CONSUME(t.StringTemplateEnd)}),e.RULE("textBlockTemplate",()=>{e.CONSUME(t.TextBlockTemplateBegin),e.SUBRULE(e.embeddedExpression),e.MANY(()=>{e.CONSUME(t.TextBlockTemplateMid),e.SUBRULE1(e.embeddedExpression)}),e.CONSUME(t.TextBlockTemplateEnd)}),e.RULE("embeddedExpression",()=>{e.OPTION(()=>{e.SUBRULE(e.expression)})}),e.RULE("pattern",()=>{e.OR([{ALT:()=>e.SUBRULE(e.typePattern)},{ALT:()=>e.SUBRULE(e.recordPattern)}])}),e.RULE("typePattern",()=>{e.SUBRULE(e.localVariableDeclaration,{ARGS:[!0]})}),e.RULE("recordPattern",()=>{e.SUBRULE(e.referenceType),e.CONSUME(t.LBrace),e.OPTION(()=>{e.SUBRULE(e.componentPatternList)}),e.CONSUME(t.RBrace)}),e.RULE("componentPatternList",()=>{e.SUBRULE(e.componentPattern),e.MANY(()=>{e.CONSUME(t.Comma),e.SUBRULE2(e.componentPattern)})}),e.RULE("componentPattern",()=>{e.OR([{ALT:()=>e.SUBRULE(e.pattern)},{ALT:()=>e.SUBRULE(e.matchAllPattern)}])}),e.RULE("matchAllPattern",()=>{e.CONSUME(t.Underscore)}),e.RULE("guard",()=>{e.CONSUME(t.When),e.SUBRULE(e.expression)}),e.RULE("isRefTypeInMethodRef",()=>{let n;e.SUBRULE(e.typeArguments);const r=e.OPTION(()=>{e.SUBRULE(e.dims)});return Ci(this.LA(1).tokenType,t.ColonColon)?n=!0:r&&(n=!1),e.OPTION2(()=>{e.CONSUME(t.Dot),e.SUBRULE(e.classOrInterfaceType)}),void 0!==n?n:Ci(this.LA(1).tokenType,t.ColonColon)})}function Oc(){return this.computeContentAssist("unaryExpressionNotPlusMinus",[]).map(e=>e.nextTokenType).filter((e,t,n)=>n.indexOf(e)===t)}var _c=n(681);function Lc(e){return e.image.match(/(\/\/(\s*)prettier-ignore(\s*))|(\/\*(\s*)prettier-ignore(\s*)\*\/)/gm)}const Nc=new class extends oo{constructor(){super(So,{lookaheadStrategy:new ac({logging:ko()?()=>{}:void 0}),nodeLocationTracking:"full",skipValidations:ko()});const e=this;this.mostEnclosiveCstNodeByStartOffset={},this.mostEnclosiveCstNodeByEndOffset={},e.RULE("typeIdentifier",()=>{e.CONSUME(Eo.Identifier)}),bc.call(this,e,Eo),Ec.call(this,e,Eo),xc.call(this,e,Eo),Pc.call(this,e,Eo),vc.call(this,e,Eo),Ac.call(this,e,Eo),wc.call(this,e,Eo),Cc.call(this,e,Eo),Ic.call(this,e,Eo),this.firstForUnaryExpressionNotPlusMinus=[],this.performSelfAnalysis(),this.firstForUnaryExpressionNotPlusMinus=Oc.call(this)}cstPostNonTerminal(e,t){this.isBackTracking()||(super.cstPostNonTerminal(e,t),this.mostEnclosiveCstNodeByStartOffset[e.location.startOffset]=e,this.mostEnclosiveCstNodeByEndOffset[e.location.endOffset]=e,function(e,t){const n=_c(t,t=>t.off.endOffset<e.location.startOffset);void 0!==n&&(void 0===n.on||n.on.startOffset>e.location.endOffset)&&(e.ignore=!0)}(e,this.onOffCommentPairs))}BACKTRACK_LOOKAHEAD(e,t=!1){return this.ACTION(()=>{this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{const{ruleName:t,originalGrammarAction:n}=e;try{return this.ruleInvocationStateUpdate(this.fullRuleNameToShort[t],t,this.subruleIdx),n.call(this)}catch(e){return this.invokeRuleCatch(e,!0,()=>{})}finally{this.ruleFinallyStateUpdate()}}catch(e){if(va(e))return t;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}})}setOnOffCommentPairs(e){this.onOffCommentPairs=e}},kc=Nc.getBaseCstVisitorConstructor(),Rc=Nc.getBaseCstVisitorConstructorWithDefaults();function Mc(e,t="compilationUnit"){const n=Ro.tokenize(e);if(n.errors.length>0){const e=n.errors[0];throw Error("Sad sad panda, lexing errors detected in line: "+e.line+", column: "+e.column+"!\n"+e.message)}const r=n.tokens;Nc.input=r,Nc.mostEnclosiveCstNodeByStartOffset={},Nc.mostEnclosiveCstNodeByEndOffset={},Nc.setOnOffCommentPairs(function(e){const t=e.filter(e=>function(e){return e.image.match(/(\/\/(\s*)@formatter:(off|on)(\s*))|(\/\*(\s*)@formatter:(off|on)(\s*)\*\/)/gm)}(e));let n=!1,r=!0;const s=[];let i={};return t.forEach(e=>{r="off"===e.image.slice(-3),n?r||(i.on=e,s.push(i),i={}):r&&(i.off=e),n=r}),t.length>0&&r&&(i.on=void 0,s.push(i)),s}(n.groups.comments));const s=Nc[t]();if(Nc.errors.length>0){const e=Nc.errors[0];throw Error("Sad sad panda, parsing errors detected in line: "+e.token.startLine+", column: "+e.token.startColumn+"!\n"+e.message+"!\n\t->"+e.context.ruleStack.join("\n\t->"))}return function(e,t,n,r){if(0===e.length)return void(n.NaN.leadingComments=t);!function(e,t,n){e.forEach(e=>{void 0===t[e.startOffset]&&(t[e.startOffset]=e),void 0===n[e.endOffset]&&(n[e.endOffset]=e)})}(e,n,r),function(e,t){let n;e.forEach(e=>{n=function(e,t){let n,r,s,i=e.length;for(r=0;i;)n=i>>>1,s=r+n,e[s].startOffset>t.startOffset?i=n:(r=s+1,i-=n+1);return r}(t,e);const r=n-1<0?e.startOffset:t[n-1].endOffset,s=n==t.length?e.endOffset:t[n].startOffset;e.extendedOffset={startOffset:r,endOffset:s}})}(t,e);const{commentsByExtendedStartOffset:s,commentsByExtendedEndOffset:i}=function(e){const t={},n={};return e.forEach(e=>{const r=e.extendedOffset.startOffset,s=e.extendedOffset.endOffset;void 0===t[s]?t[s]=[e]:t[s].push(e),void 0===n[r]?n[r]=[e]:n[r].push(e)}),{commentsByExtendedEndOffset:t,commentsByExtendedStartOffset:n}}(t),a=new Set(t);Object.keys(r).forEach(e=>{if(void 0!==s[e]){const t=s[e].filter(t=>function(e,t,n){if(Lc(e))return!1;const r=n[e.extendedOffset.endOffset];if(void 0===r)return!0;const s=void 0!==t.location?t.location.endLine:t.endLine;if(e.startLine!==s)return!1;const i=void 0!==r.location?r.location.startLine:r.startLine;return e.endLine!==i}(t,r[e],n)&&a.has(t));t.length>0&&(r[e].trailingComments=t),t.forEach(e=>{a.delete(e)})}}),Object.keys(n).forEach(e=>{if(void 0!==i[e]){const t=i[e].filter(e=>a.has(e));t.length>0&&(n[e].leadingComments=t);for(let r=0;r<t.length;r++)if(Lc(t[r])){const t=n[e];("blockStatements"===t.name?t.children.blockStatement[0]:t).ignore=!0;break}}})}(r,n.groups.comments,Nc.mostEnclosiveCstNodeByStartOffset,Nc.mostEnclosiveCstNodeByEndOffset),{cst:s,tokens:r}}function Dc(e,t="compilationUnit"){return Mc(e,t).cst}const Uc={lexAndParse:Mc,parse:Dc,BaseJavaCstVisitor:kc,BaseJavaCstVisitorWithDefaults:Rc}},5389:(e,t,n)=>{var r=n(3663),s=n(7978),i=n(3488),a=n(6449),o=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?s(e[0],e[1]):r(e):o(e)}},5392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="6.10.0"},5398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=e.key||e.property){return!e.computed&&(0,r.isIdentifier)(t)&&(t=(0,s.stringLiteral)(t.name)),t};var r=n(8960),s=n(8079)},5434:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5539:(e,t,n)=>{var r=n(882),s=n(828),i=n(6645),a=RegExp("[']","g");e.exports=function(e){return function(t){return r(i(s(t).replace(a,"")),e,"")}}},5552:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationCursorPage=t.CursorPage=t.Page=t.PagePromise=t.AbstractPage=void 0;const s=n(9632),i=n(4172),a=n(8151),o=n(1482),c=n(5734);class l{constructor(e,t,n,i){r.set(this,void 0),s.__classPrivateFieldSet(this,r,e,"f"),this.options=i,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new i.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await s.__classPrivateFieldGet(this,r,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=l;class p extends o.APIPromise{constructor(e,t,n){super(e,t,async(e,t)=>new n(e,t.response,await(0,a.defaultParseResponse)(e,t),t.options))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=p,t.Page=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},t.CursorPage=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after:t}}:null}},t.ConversationCursorPage=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after:e}}:null}}},5562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Var=t.User=t.Statement=t.SpreadProperty=t.Scope=t.RestProperty=t.ReferencedMemberExpression=t.ReferencedIdentifier=t.Referenced=t.Pure=t.NumericLiteralTypeAnnotation=t.Generated=t.ForAwaitStatement=t.Flow=t.Expression=t.ExistentialTypeParam=t.BlockScoped=t.BindingIdentifier=void 0,t.ReferencedIdentifier=["Identifier","JSXIdentifier"],t.ReferencedMemberExpression=["MemberExpression"],t.BindingIdentifier=["Identifier"],t.Statement=["Statement"],t.Expression=["Expression"],t.Scope=["Scopable","Pattern"],t.Referenced=null,t.BlockScoped=["FunctionDeclaration","ClassDeclaration","VariableDeclaration"],t.Var=["VariableDeclaration"],t.User=null,t.Generated=null,t.Pure=null,t.Flow=["Flow","ImportDeclaration","ExportDeclaration","ImportSpecifier"],t.RestProperty=["RestElement"],t.SpreadProperty=["RestElement"],t.ExistentialTypeParam=["ExistsTypeAnnotation"],t.NumericLiteralTypeAnnotation=["NumberLiteralTypeAnnotation"],t.ForAwaitStatement=["ForOfStatement"]},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},5586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("trailingComments",e,t)};var r=n(3205)},5589:(e,t,n)=>{"use strict";var r=n(7596),s=n(9187),i=n(5158);const a=(0,r.defineAliasedType)("Miscellaneous");a("Noop",{visitor:[]}),a("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:Object.assign({name:{validate:(0,r.assertNodeType)("Identifier")},expectedNode:{validate:(0,r.assertOneOf)(...s.PLACEHOLDERS)}},(0,i.patternLikeCommon)())}),a("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:(0,r.assertValueType)("string")}}})},5595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Permissions=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{create(e,t,n){return this._client.getAPIList(i.path`/fine_tuning/checkpoints/${e}/permissions`,s.Page,{body:t,method:"post",...n})}retrieve(e,t={},n){return this._client.get(i.path`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...n})}delete(e,t,n){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(i.path`/fine_tuning/checkpoints/${r}/permissions/${e}`,n)}}t.Permissions=a},5653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentationGenerator=void 0;const r=n(9147);t.DocumentationGenerator=class{litellm;useLLM=!0;constructor(){this.litellm=(0,r.getLiteLLMService)()}generateForNode(e,t){return this.getPersonaGenerator(t)(e)}async generateForNodeAsync(e,t){if(this.useLLM&&this.litellm.isReady())try{return await this.litellm.generateDocumentation(e,t)}catch(e){console.error("LiteLLM generation failed, falling back to rule-based:",e)}return this.generateForNode(e,t)}async generateSummaryAsync(e){if(this.useLLM&&this.litellm.isReady())try{return await this.litellm.generateSummary(e)}catch(e){console.error("LiteLLM summary failed, falling back to rule-based:",e)}return this.generateSmartSummary(e)}async generateTechnicalDetailsAsync(e){if(this.useLLM&&this.litellm.isReady())try{return await this.litellm.generateTechnicalDetails(e)}catch(e){console.error("LiteLLM technical details failed:",e)}return null}isLLMAvailable(){return this.litellm.isReady()}getLiteLLMService(){return this.litellm}enrichDocumentation(e){const t={...e};return t.documentation||(t.documentation={summary:`${e.type} ${e.label}`,description:"",persona:{}}),t.documentation.persona={developer:this.generateDeveloperDoc(e),"product-manager":this.generateProductManagerDoc(e),architect:this.generateArchitectDoc(e),"business-analyst":this.generateBusinessAnalystDoc(e)},t}async enrichDocumentationAsync(e){const t={...e};if(t.documentation||(t.documentation={summary:`${e.type} ${e.label}`,description:"",persona:{}}),this.useLLM&&this.litellm.isReady())try{const[n,r,s,i]=await Promise.all([this.litellm.generateDocumentation(e,"developer"),this.litellm.generateDocumentation(e,"product-manager"),this.litellm.generateDocumentation(e,"architect"),this.litellm.generateDocumentation(e,"business-analyst")]);t.documentation.persona={developer:n,"product-manager":r,architect:s,"business-analyst":i};const a=await this.litellm.generateSummary(e);return t.documentation.summary=a,t}catch(e){console.error("LiteLLM enrichment failed, falling back to rule-based:",e)}return this.enrichDocumentation(e)}getPersonaGenerator(e){return{developer:this.generateDeveloperDoc.bind(this),"product-manager":this.generateProductManagerDoc.bind(this),architect:this.generateArchitectDoc.bind(this),"business-analyst":this.generateBusinessAnalystDoc.bind(this)}[e]}generateDeveloperDoc(e){const t=[];t.push(` ${e.label}`),t.push("");const n=e.filePath.split(/[\\/]/).pop()||e.filePath;t.push(` File: ${n}`),t.push(` Lines: ${e.startLine} - ${e.endLine}`),t.push(` Type: ${e.type}`),t.push(` Language: ${e.language}`),t.push("");const r=[];if(e.visibility&&r.push(`${e.visibility}`),e.isAsync&&r.push("async"),e.isStatic&&r.push("static"),r.length>0&&(t.push(` Modifiers: ${r.join(", ")}`),t.push("")),e.parameters&&e.parameters.length>0&&(t.push(""),t.push("### Parameters"),e.parameters.forEach(e=>{t.push(`- \`${e.name}\`: ${e.type}${e.optional?" (optional)":""}`)})),e.returnType&&(t.push(""),t.push("### Returns"),t.push(`\`${e.returnType}\``)),"component"===e.type&&(e.props&&e.props.length>0&&(t.push(""),t.push("### Props"),e.props.forEach(e=>{t.push(`- ${e}`)})),e.hooks&&e.hooks.length>0&&(t.push(""),t.push("### Hooks Used"),e.hooks.forEach(e=>{t.push(`- ${e}`)}))),e.sourceCode){t.push(""),t.push(" Code Preview:");const n=e.sourceCode.split("\n").slice(0,15);n.length>0&&(t.push("```"+e.language),t.push(n.join("\n")),e.sourceCode.split("\n").length>15&&t.push("// ... (truncated)"),t.push("```"))}return t.push(""),t.push(" Summary:"),t.push(this.generateSmartSummary(e)),t.join("\n")}generateSmartSummary(e){const t=[],n=this.analyzeFunctionPurpose(e);if("component"===e.type){if(t.push(n||`This React component renders the ${this.humanizeName(e.label)} interface.`),e.hooks&&e.hooks.length>0){const n=e.hooks.filter(e=>"useState"===e||"useReducer"===e),r=e.hooks.filter(e=>"useEffect"===e||"useLayoutEffect"===e);n.length>0&&t.push("It manages local state to track UI interactions and data."),r.length>0&&t.push("It performs side effects like data fetching or DOM updates when dependencies change.")}e.props&&e.props.length>0&&t.push(`The component is configurable through ${e.props.length} props that control its behavior and appearance.`)}else if("class"===e.type)t.push(n||`This class encapsulates ${this.humanizeName(e.label)} functionality, providing methods and properties for its domain operations.`);else if("function"===e.type||"method"===e.type){if(t.push(n||`This ${e.isAsync?"asynchronous ":""}${e.type} handles ${this.humanizeName(e.label)} operations.`),e.parameters&&e.parameters.length>0){const n=this.describeParameters(e.parameters);n&&t.push(n)}e.returnType&&"void"!==e.returnType&&t.push(this.describeReturnValue(e.returnType,e.label))}else"module"===e.type?t.push(n||"This module serves as the entry point, orchestrating the application initialization and component mounting."):t.push(n||`This ${e.type} implements ${this.humanizeName(e.label)} logic.`);if(e.sourceCode){const n=e.sourceCode,r=[];(n.includes("fetch(")||n.includes("axios")||n.includes("http"))&&r.push("Makes HTTP requests"),(n.includes("useState")||n.includes("setState"))&&r.push("Manages state"),(n.includes("useEffect")||n.includes("componentDidMount"))&&r.push("Has side effects/lifecycle"),(n.includes("async ")||n.includes("await ")||n.includes(".then("))&&r.push("Uses async operations"),n.includes("try")&&n.includes("catch")&&r.push("Has error handling"),(n.includes("localStorage")||n.includes("sessionStorage"))&&r.push("Uses browser storage"),(n.includes("dispatch")||n.includes("useReducer")||n.includes("Redux"))&&r.push("Uses state management"),r.length>0&&(t.push(""),t.push(" Key patterns detected: "+r.join(", ")+"."))}return t.join(" ")}analyzeFunctionPurpose(e){if(!e.sourceCode)return"";const t=e.sourceCode,n=[];if((t.includes("fetch(")||t.includes("axios")||t.includes(".get(")||t.includes(".post("))&&(t.includes(".get(")||t.match(/fetch\([^,]+\)\s*(?!.*method)/)?n.push("fetches data from an external API or server"):t.includes(".post(")||t.includes("POST")?n.push("sends data to a server"):n.push("communicates with an API")),(t.includes("onSubmit")||t.includes("handleSubmit")||t.includes("form"))&&n.push("processes form submissions"),(t.includes("navigate")||t.includes("push(")||t.includes("router")||t.includes("redirect"))&&n.push("handles navigation between pages"),(t.includes(".map(")||t.includes(".filter(")||t.includes(".reduce("))&&n.push("transforms or filters data collections"),t.match(/valid|check|verify|assert|ensure/i)&&n.push("validates input data"),(t.includes("onClick")||t.includes("onChange")||t.includes("onPress")||t.includes("addEventListener"))&&n.push("responds to user interactions"),(t.includes("setState")||t.match(/set[A-Z]\w+\(/))&&n.push("updates application state"),t.includes(".map(")&&(t.includes("<")||t.includes("return"))&&n.push("renders a list of items"),t.match(/login|logout|auth|token|session|credential/i)&&n.push("handles user authentication"),t.includes("try")&&t.includes("catch")&&n.push("includes error handling for robust execution"),(t.includes("Provider")||t.includes("Context"))&&n.push("provides shared state or functionality to child components"),t.match(/modal|dialog|popup|overlay/i)&&n.push("manages a modal or dialog interface"),0===n.length)return"";const r=[...new Set(n)];if(1===r.length)return`This ${e.type} ${r[0]}.`;if(2===r.length)return`This ${e.type} ${r[0]} and ${r[1]}.`;{const t=r.pop();return`This ${e.type} ${r.join(", ")}, and ${t}.`}}describeParameters(e){if(0===e.length)return"";if(1===e.length){const t=e[0];return`It takes a ${t.type||"value"} parameter (${t.name}) as input.`}if(e.length<=3){const t=e.map(e=>`${e.name}${e.optional?" (optional)":""}`).join(", ");return`It accepts ${e.length} parameters: ${t}.`}return`It accepts ${e.length} parameters to configure its behavior.`}describeReturnValue(e,t){const n=e.toLowerCase();return n.includes("promise")?"It returns a Promise that resolves with the result of the async operation.":n.includes("boolean")||"bool"===n?"It returns a boolean indicating success or a condition check result.":n.includes("array")||n.includes("[]")?"It returns an array of processed results.":n.includes("string")?"It returns a string value as output.":n.includes("number")||"int"===n||"float"===n?"It returns a numeric result.":"void"===n||"undefined"===n?"":n.includes("jsx")||n.includes("element")||n.includes("react")?"It returns JSX elements for rendering.":`It returns a ${e} object.`}generateSignature(e){const t=[];if(e.visibility&&t.push(e.visibility),e.isStatic&&t.push("static"),e.isAsync&&t.push("async"),"function"===e.type||"method"===e.type?t.push("function"):"component"===e.type?t.push("const"):"class"===e.type&&t.push("class"),t.push(e.label),"class"!==e.type)if(e.parameters&&e.parameters.length>0){const n=e.parameters.map(e=>{let t=e.name;return e.optional&&(t+="?"),e.type&&(t+=`: ${e.type}`),e.defaultValue&&(t+=` = ${e.defaultValue}`),t}).join(", ");t.push(`(${n})`)}else t.push("()");return e.returnType&&t.push(`: ${e.returnType}`),t.join(" ")}generateProductManagerDoc(e){const t=[];return t.push(`## ${e.label}`),t.push(""),t.push("### What It Does"),t.push(this.extractBusinessPurpose(e)),t.push(""),t.push("### User Impact"),t.push(this.generateUserImpact(e)),t.push(""),t.push("### Features"),t.push(this.listFeatures(e)),t.join("\n")}generateArchitectDoc(e){const t=[];return t.push(`## ${e.label}`),t.push(""),t.push("### Architectural Role"),t.push(this.describeArchitecturalRole(e)),t.push(""),t.push("### Design Patterns"),t.push(this.identifyDesignPatterns(e)),t.push(""),t.push("### Architecture Considerations"),t.push(this.generateArchitectureNotes(e)),t.join("\n")}generateBusinessAnalystDoc(e){const t=[];return t.push(`## ${e.label}`),t.push(""),t.push("### Business Process"),t.push(this.describeBusinessProcess(e)),t.push(""),t.push("### Requirements Addressed"),t.push(this.listRequirements(e)),t.push(""),t.push("### Business Rules"),t.push(this.extractBusinessRules(e)),t.join("\n")}generateImplementationNotes(e){const t=[];return"class"===e.type?t.push("This class encapsulates related functionality and data."):"function"===e.type||"method"===e.type?t.push("This function performs a specific operation and returns a result."):"component"===e.type&&t.push("This React component renders UI elements and manages its state."),"java"===e.language?t.push("Written in Java, following object-oriented principles."):"typescript"!==e.language&&"javascript"!==e.language||t.push("Implemented using modern JavaScript/TypeScript features."),t.join(" ")}extractBusinessPurpose(e){return{class:`The ${e.label} class provides business logic for ${this.humanizeName(e.label)}.`,function:`This function enables ${this.humanizeName(e.label)} functionality.`,method:`This method handles ${this.humanizeName(e.label)} operations.`,component:`This component displays ${this.humanizeName(e.label)} to users.`}[e.type]||`This ${e.type} implements ${this.humanizeName(e.label)}.`}generateUserImpact(e){return"component"===e.type?`Users interact with this component as part of the user interface. It affects the user experience by providing ${this.humanizeName(e.label)} functionality.`:`This component indirectly impacts users by ensuring ${this.humanizeName(e.label)} works correctly.`}listFeatures(e){const t=[];return e.parameters&&e.parameters.length>0&&t.push(`- Accepts ${e.parameters.length} input parameter(s)`),e.returnType&&t.push(`- Returns ${e.returnType} data`),"component"===e.type&&e.props&&t.push(`- Configurable with ${e.props.length} prop(s)`),t.length>0?t.join("\n"):"- Core functionality implementation"}describeArchitecturalRole(e){return{class:"Serves as a reusable module encapsulating business logic and data structures.",component:"Acts as a UI layer component in the presentation tier.",function:"Provides a utility or service function used across the application.",method:"Implements specific behavior as part of a larger class structure."}[e.type]||"Contributes to the overall system architecture."}identifyDesignPatterns(e){const t=[];return e.label.includes("Factory")&&t.push("- **Factory Pattern**: Creates objects without specifying exact classes"),e.label.includes("Builder")&&t.push("- **Builder Pattern**: Constructs complex objects step by step"),e.label.includes("Singleton")&&t.push("- **Singleton Pattern**: Ensures single instance exists"),"component"===e.type&&e.label.includes("Provider")&&t.push("- **Provider Pattern**: Provides data/functionality to child components"),t.length>0?t.join("\n"):"- Standard implementation pattern"}generateArchitectureNotes(e){return`This ${e.type} follows ${e.language} best practices and integrates with the overall system architecture. It maintains separation of concerns and can be tested independently.`}describeBusinessProcess(e){return`This component is part of the ${this.humanizeName(e.label)} business process. It handles specific workflow steps that contribute to the overall business objective.`}listRequirements(e){return`- Implements ${this.humanizeName(e.label)} functionality as specified\n- Ensures data integrity and business rule compliance\n- Provides necessary inputs/outputs for the business process`}extractBusinessRules(e){return`Business rules are enforced through validation logic and constraints implemented in this ${e.type}. The implementation ensures compliance with business requirements.`}humanizeName(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim().toLowerCase()}}},5682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r=(0,n(3937).default)("React.Component");t.default=r},5689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_ALIASES=void 0,t.DEPRECATED_ALIASES={ModuleDeclaration:"ImportOrExportDeclaration"}},5734:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJSON=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.validatePositiveInteger=t.ensurePresent=t.isReadonlyArray=t.isArray=t.isAbsoluteURL=void 0,t.maybeObj=function(e){return"object"!=typeof e?{}:e??{}},t.isEmptyObj=function(e){if(!e)return!0;for(const t in e)return!1;return!0},t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};const r=n(4172),s=/^[a-z][a-z0-9+.-]*:/i;t.isAbsoluteURL=e=>s.test(e),t.isArray=e=>(t.isArray=Array.isArray,(0,t.isArray)(e)),t.isReadonlyArray=t.isArray,t.ensurePresent=e=>{if(null==e)throw new r.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e},t.validatePositiveInteger=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new r.OpenAIError(`${e} must be an integer`);if(t<0)throw new r.OpenAIError(`${e} must be a positive integer`);return t},t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new r.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new r.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e),t.maybeCoerceInteger=e=>{if(null!=e)return(0,t.coerceInteger)(e)},t.maybeCoerceFloat=e=>{if(null!=e)return(0,t.coerceFloat)(e)},t.maybeCoerceBoolean=e=>{if(null!=e)return(0,t.coerceBoolean)(e)},t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}}},5738:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceAnalyzer=void 0;const o=a(n(1398)),c=n(8221),l=n(6922),p=n(9531),u=n(7623),h=n(4133),d=n(3514),f=a(n(6928));class m{javaAstParser;reactParser;pythonAstParser;graphBuilder;entryPointDetector;importAnalyzer;isAnalyzing=!1;lastAnalysisTime=0;static MIN_ANALYSIS_INTERVAL=2e3;constructor(){this.javaAstParser=new c.JavaAstParser,this.reactParser=new l.ReactParser,this.pythonAstParser=new p.PythonAstParser,this.graphBuilder=new u.GraphBuilder,this.entryPointDetector=new h.EntryPointDetector,this.importAnalyzer=new d.ImportAnalyzer}async analyze(e){const t=Date.now();if(this.isAnalyzing)return console.log("Analysis already in progress, skipping..."),this.createEmptyResult();if(t-this.lastAnalysisTime<m.MIN_ANALYSIS_INTERVAL)return console.log("Analysis requested too soon, skipping..."),this.createEmptyResult();this.isAnalyzing=!0,this.lastAnalysisTime=t;const n=[],r=[],s=[],i=[];try{console.log("Detecting entry points...");const t=await this.entryPointDetector.detectEntryPoints(e);console.log(`Found ${t.length} entry points`),0===t.length&&r.push("No entry points detected. Analyzing all files...");const a=await o.workspace.findFiles("**/*.java","**/node_modules/**"),c=await o.workspace.findFiles("**/*.{tsx,jsx,ts,js}","**/node_modules/**"),l=await o.workspace.findFiles("**/*.py","{**/node_modules/**,**/__pycache__/**,**/venv/**,**/.venv/**,**/env/**}");console.log(`Found ${a.length} Java files, ${c.length} React/JS files, and ${l.length} Python files`);const p=new Map;for(const t of[...a,...c,...l])try{const n=await this.importAnalyzer.buildDependencyMap(t,e.fsPath),r=n.map(e=>e.targetFile);p.set(t.fsPath,r);for(const e of n)i.push({from:t.fsPath,to:e.targetFile,type:"imports",label:e.importedItems.join(", ")})}catch(e){}const u=new Set;a.forEach(e=>u.add(e.fsPath)),c.forEach(e=>u.add(e.fsPath)),l.forEach(e=>u.add(e.fsPath)),console.log(`Parsing ALL ${u.size} files in codebase...`);const h=new Set(t.map(e=>e.filePath));for(const e of u){const t=o.Uri.file(e),r=f.extname(e),a=h.has(e);try{let e;if(".java"===r)e=await this.javaAstParser.parse(t,a);else if([".tsx",".jsx",".ts",".js"].includes(r))e=await this.reactParser.parse(t,a);else{if(".py"!==r)continue;e=await this.pythonAstParser.parse(t,a)}s.push(...e.nodes),i.push(...e.edges)}catch(t){n.push({file:e,message:t instanceof Error?t.message:"Unknown error",type:"parse-error"})}}for(const e of t){const t=s.filter(t=>t.filePath===e.filePath&&!t.parentId&&("class"===t.type||"module"===t.type||"component"===t.type||"interface"===t.type||"function"===t.type));if(0===t.length){const n=s.find(t=>t.filePath===e.filePath);n&&t.push(n)}for(const n of t)n.isEntryPoint=!0,e.isPrimaryEntry?(n.isPrimaryEntry=!0,console.log(`Marked node as PRIMARY entry: ${n.label} (${n.type})`)):console.log(`Marked node as entry point: ${n.label} (${n.type})`)}const d=s.filter(e=>"java"===e.language&&(e.documentation?.description?.includes("@SpringBootApplication")||e.documentation?.description?.includes("[@application]")||e.sourceCode.includes("@SpringBootApplication")));for(const e of d)e.isEntryPoint=!0,e.isPrimaryEntry=!0,console.log(`AST-detected Spring Boot Application: ${e.label}`);const m=s.find(e=>e.isPrimaryEntry),y=s.filter(e=>e.isEntryPoint);if(m){for(const e of y)e.id!==m.id&&(p.get(m.filePath)||[]).includes(e.filePath)&&i.push({from:m.id,to:e.id,type:"contains",label:"renders"});const e=p.get(m.filePath)||[];for(const t of e){const e=s.filter(e=>e.filePath===t&&("component"===e.type||"class"===e.type||"module"===e.type));for(const t of e)i.some(e=>e.from===m.id&&e.to===t.id&&"contains"===e.type)||i.push({from:m.id,to:t.id,type:"contains",label:"imports"})}}for(const[e,t]of p.entries()){const n=s.filter(t=>t.filePath===e&&("component"===t.type||"class"===t.type||"module"===t.type||t.isEntryPoint||"function"===t.type));for(const e of n)for(const n of t){const t=s.filter(e=>e.filePath===n&&("component"===e.type||"class"===e.type||"function"===e.type||"module"===e.type));for(const n of t)i.some(t=>t.from===e.id&&t.to===n.id&&"contains"===t.type)||i.push({from:e.id,to:n.id,type:"contains",label:"uses"})}}console.log(`Created ${i.filter(e=>"contains"===e.type).length} 'contains' edges for hierarchy`);const g=t.find(e=>e.isPrimaryEntry),T=this.graphBuilder.buildFromEntryPoints(s,i,e.fsPath,g?[g.filePath]:t.map(e=>e.filePath)),S={totalNodes:T.nodes.length,totalEdges:T.edges.length,entryPoints:t.length,entryPointFiles:t.map(e=>e.filePath),errors:n.length,warnings:r.length,filesToParse:u.size,totalJavaFiles:a.length,totalReactFiles:c.length,totalPythonFiles:l.length};return console.log("Final analysis result:",S),this.isAnalyzing=!1,{graph:T,errors:n,warnings:r}}catch(e){throw this.isAnalyzing=!1,new Error(`Workspace analysis failed: ${e instanceof Error?e.message:"Unknown error"}`)}}createEmptyResult(){return{graph:{nodes:[],edges:[],metadata:{totalFiles:0,totalNodes:0,languages:[],rootPath:"",analyzedAt:new Date}},errors:[],warnings:["Skipped - analysis already in progress or too soon"]}}collectDependencyTree(e,t,n,r,s){if(r>=s||n.has(e))return;n.add(e);const i=t.get(e)||[];for(const e of i)this.collectDependencyTree(e,t,n,r+1,s)}async analyzeFile(e){const t=f.extname(e.fsPath);return".java"===t?(await this.javaAstParser.parse(e)).nodes:[".tsx",".jsx",".ts",".js"].includes(t)?(await this.reactParser.parse(e)).nodes:".py"===t?(await this.pythonAstParser.parse(e)).nodes:[]}}t.WorkspaceAnalyzer=m},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5753:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(7833):e.exports=n(6033)},5766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("leadingComments",e,t)};var r=n(3205)},5776:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationPanelReact=void 0;const o=a(n(1398)),c=n(5657),l=n(7623),p=a(n(6928));t.VisualizationPanelReact=class{panel;context;clineAdapter;ragService;docGenerator;graphBuilder;currentPersona="developer";currentAnalysis;disposables=[];webviewReady=!1;pendingMessages=[];_isDisposed=!1;_onDisposeCallback;constructor(e,t,n){this.context=e,this.clineAdapter=t,this.ragService=n,this.docGenerator=new c.DocumentationGenerator,this.graphBuilder=new l.GraphBuilder,this.createPanel()}createPanel(){this.panel=o.window.createWebviewPanel("codebaseVisualization","Codebase Visualization",o.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[o.Uri.joinPath(this.context.extensionUri,"dist")]}),this.panel.webview.html=this.getHtmlContent(),this.panel.webview.onDidReceiveMessage(e=>this.handleMessage(e),null,this.disposables),this.panel.onDidDispose(()=>this.dispose(),null,this.disposables)}async handleMessage(e){switch(e.command){case"webviewReady":console.log("Webview is ready, flushing pending messages..."),this.webviewReady=!0,this.pendingMessages.forEach(e=>{this.panel?.webview.postMessage(e)}),this.pendingMessages=[],this.sendCurrentBranchInfo(),await this.loadAndSendDocs();break;case"getGraph":this.currentAnalysis&&this.sendGraphData(),this.sendCurrentBranchInfo(),await this.loadAndSendDocs();break;case"getNodeDetails":case"nodeClicked":await this.handleNodeClick(e.nodeId);break;case"sendToCline":await this.handleSendToCline(e.nodeId,e.query);break;case"askQuestion":await this.handleAskQuestion(e.question);break;case"changePersona":await this.changePersona(e.persona);break;case"loadDocs":await this.loadAndSendDocs();break;case"openFile":await this.openFileAtLocation(e.filePath,e.line);break;case"generateDocs":await this.handleGenerateDocs(e.persona||"developer");break;case"viewDocsWithPersona":await this.handleViewDocsWithPersona(e.persona,e.codebaseSummary);break;case"configureApiKey":await this.handleConfigureApiKey();break;case"checkApiKey":this.sendApiKeyStatus();break;case"refreshGraph":break;case"syncChanges":await this.handleSyncChanges()}}sendApiKeyStatus(){const e=o.workspace.getConfiguration("codebaseVisualizer").get("litellm.apiKey")||process.env.OPENAI_API_KEY;this.panel?.webview.postMessage({command:"apiKeyStatus",configured:!!e})}async loadAndSendDocs(){try{const e=o.workspace.workspaceFolders;if(!e||0===e.length)return;const t=p.join(e[0].uri.fsPath,".doc_sync","docs.json"),r=await Promise.resolve().then(()=>a(n(9896)));if(r.existsSync(t)){const e=r.readFileSync(t,"utf8"),n=JSON.parse(e);console.log(`Loaded docs.json with ${Object.keys(n.nodes||{}).length} nodes`),this.panel?.webview.postMessage({command:"docsLoaded",docs:n})}}catch(e){console.error("Failed to load docs.json:",e)}}async handleConfigureApiKey(){const e=await o.window.showInputBox({prompt:"Enter your OpenAI/LiteLLM API Key",placeHolder:"sk-...",password:!0,ignoreFocusOut:!0});if(e){const t=o.workspace.getConfiguration("codebaseVisualizer");await t.update("litellm.apiKey",e,o.ConfigurationTarget.Global);const{getLiteLLMService:r}=await Promise.resolve().then(()=>a(n(9147)));r().reinitialize(),o.window.showInformationMessage(" API Key configured successfully! You can now generate AI-powered documentation."),this.sendApiKeyStatus()}}async handleViewDocsWithPersona(e,t){try{const{getLiteLLMService:r}=await Promise.resolve().then(()=>a(n(9147))),s=r();s.reinitialize();const i=o.workspace.workspaceFolders;if(i&&i.length>0&&!this.ragService){const{RAGService:e}=await Promise.resolve().then(()=>a(n(875)));this.ragService=new e,await this.ragService.initialize(i[0].uri),console.log("RAG initialized from existing .doc_sync")}if(s.isReady()){const n=await s.generatePersonaOverview(t,e);this.panel?.webview.postMessage({command:"personaDocsReady",content:n,persona:e})}else this.panel?.webview.postMessage({command:"personaDocsError"}),o.window.showErrorMessage("API key required for View Docs. Please configure your API key.")}catch(e){console.error("Failed to generate persona docs:",e),this.panel?.webview.postMessage({command:"personaDocsError"}),o.window.showErrorMessage(`Failed to generate documentation: ${e}`)}}async handleGenerateDocs(e="developer"){if(this.currentAnalysis){this.panel?.webview.postMessage({command:"docsGenerationStarted"});try{const{getLiteLLMService:t}=await Promise.resolve().then(()=>a(n(9147)));t().reinitialize();const{CodebaseDocGenerator:r}=await Promise.resolve().then(()=>a(n(6185))),s=new r;if(!s.isLLMAvailable())return this.panel?.webview.postMessage({command:"docsGenerationError"}),void("Configure API Key"===await o.window.showErrorMessage(" API Key Required: AI-powered documentation requires a valid API key. Please configure your OpenAI or LiteLLM API key to generate comprehensive, persona-specific documentation.","Configure API Key","Cancel")&&await this.handleConfigureApiKey());const i=o.workspace.workspaceFolders;if(!i||0===i.length)throw new Error("No workspace folder found");const c=await s.generateCodebaseDocs(this.currentAnalysis,i[0].uri,!0,e),l=p.join(i[0].uri.fsPath,".doc_sync","docs");this.panel?.webview.postMessage({command:"docsGenerationComplete",docsCount:c.components.length,usedAI:c.generatedWithLLM||c.generatedWithAgent,persona:e}),await this.loadAndSendDocs();const u=e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ");o.window.showInformationMessage(` ${u} documentation generated for ${c.components.length} components! Click on any node to see detailed docs.`,"Open Docs Folder").then(e=>{if("Open Docs Folder"===e){const e=o.Uri.file(l);o.commands.executeCommand("revealInExplorer",e)}})}catch(e){console.error("Failed to generate documentation:",e),this.panel?.webview.postMessage({command:"docsGenerationError"}),o.window.showErrorMessage(`Failed to generate documentation: ${e instanceof Error?e.message:"Unknown error"}`)}}else o.window.showErrorMessage("No analysis data available. Please run analysis first.")}async handleSyncChanges(){if(this.currentAnalysis){this.panel?.webview.postMessage({command:"syncStarted"});try{const{getIncrementalUpdater:e}=await Promise.resolve().then(()=>a(n(563))),t=o.workspace.workspaceFolders;if(!t||0===t.length)throw new Error("No workspace folder found");const r=t[0].uri.fsPath,s=e();await s.initialize(r,this.currentAnalysis.graph);const i=await s.performIncrementalUpdate(this.currentAnalysis,(e,t)=>{console.log(`Sync progress: ${t}% - ${e}`)});if(i.nodesAdded>0||i.nodesModified>0||i.nodesRemoved>0){const e=s.getCurrentGraph();e&&this.currentAnalysis&&(this.currentAnalysis.graph=e,console.log(`Updated graph now has ${e.nodes.length} nodes and ${e.edges.length} edges`)),this.sendGraphData(),await this.regenerateDocsAfterSync(),o.window.showInformationMessage(` Synced: ${i.nodesAdded} added, ${i.nodesModified} modified, ${i.nodesRemoved} removed. Docs updated.`)}else o.window.showInformationMessage(" No changes detected. Graph is up to date.");this.panel?.webview.postMessage({command:"syncComplete",nodesAdded:i.nodesAdded,nodesModified:i.nodesModified,nodesRemoved:i.nodesRemoved,skippedFiles:i.skippedFiles})}catch(e){console.error("Failed to sync changes:",e),this.panel?.webview.postMessage({command:"syncError"}),o.window.showErrorMessage(`Failed to sync changes: ${e instanceof Error?e.message:"Unknown error"}`)}}else o.window.showErrorMessage("No analysis data available. Please run analysis first.")}async regenerateDocsAfterSync(){if(this.currentAnalysis)try{const{CodebaseDocGenerator:e}=await Promise.resolve().then(()=>a(n(6185))),t=new e,r=o.workspace.workspaceFolders;if(!r||0===r.length)return;const s=await t.generateCodebaseDocsWithAST(this.currentAnalysis,r[0].uri,!0);if(this.ragService){const e=t.generateRAGChunks(s);await this.ragService.indexDocuments(e),console.log("RAG re-indexed after sync:",e.length,"chunks")}console.log("Documentation regenerated after sync (AST-only)")}catch(e){console.error("Failed to regenerate docs after sync:",e)}}sendGraphData(){if(!this.currentAnalysis)return;const e=this.currentAnalysis.graph.nodes.map(e=>({id:e.id,label:e.label,type:e.type,filePath:e.filePath,description:"object"==typeof e.documentation?e.documentation.summary:e.documentation||"",parentId:e.parentId||this.findParentId(e),metadata:{lineStart:e.startLine,lineEnd:e.endLine,parameters:e.parameters?.map(e=>`${e.name}: ${e.type}`),returnType:e.returnType,docstring:"object"==typeof e.documentation?e.documentation.description:void 0,imports:[],exports:[]}})),t={nodes:e,edges:this.currentAnalysis.graph.edges.map(e=>({source:e.from,target:e.to,label:e.label,type:e.type}))};console.log("Sending graph data:",{nodes:t.nodes.length,edges:t.edges.length,nodesWithParent:e.filter(e=>e.parentId).length}),this.panel?.webview.postMessage({command:"loadGraph",data:t})}findParentId(e){if(this.currentAnalysis){if("method"===e.type||"function"===e.type){const t=this.currentAnalysis.graph.nodes.find(t=>("class"===t.type||"component"===t.type||"module"===t.type)&&t.filePath===e.filePath&&t.startLine<=e.startLine&&t.endLine>=e.endLine&&t.id!==e.id);return t?.id}if("class"===e.type||"component"===e.type){const t=this.currentAnalysis.graph.nodes.find(t=>"module"===t.type&&t.filePath===e.filePath);return t?.id}}}buildHierarchy(e){if(!this.currentAnalysis)return[];const t=[];let n=this.currentAnalysis.graph.nodes.find(t=>t.id===e);const r=new Set;for(;n;){const e=this.findParentId(n);if(!e||r.has(e))break;r.add(e);const s=this.currentAnalysis.graph.nodes.find(t=>t.id===e);if(!s)break;t.unshift(s.label),n=s}return t}async handleNodeClick(e){if(!this.currentAnalysis)return;const t=this.currentAnalysis.graph.nodes.find(t=>t.id===e);if(!t)return;const n=this.findParentId(t),r=n?this.currentAnalysis.graph.nodes.find(e=>e.id===n):void 0,s=this.buildHierarchy(e);let i;if(this.ragService)try{const n=await this.ragService.loadNodeDetails(e);if(n){const e=this.docGenerator.generateSignature(t);i={name:n.name,type:n.type,summary:n.summary||n.aiSummary,aiSummary:n.aiSummary||n.summary,description:n.description,details:n.technicalDetails||`File: ${n.relativePath}\nLines: ${n.startLine}-${n.endLine}\nLanguage: ${n.language}`,technicalDetails:n.technicalDetails,dependencies:n.dependencies||[],dependents:n.dependents||[],patterns:n.patterns||[],usageExamples:n.usageExamples||[],keywords:n.keywords||[],filePath:n.filePath||t.filePath,sourcePreview:e,sourceCode:n.sourceCode},console.log("Loaded node details from .doc_sync JSON:",n.name)}}catch(e){console.error("Failed to load node details from JSON:",e)}if(!i&&this.ragService)try{const e=await this.ragService.getComponentInfo(t.label);if(e){const n=this.docGenerator.generateSignature(t);i={name:e.name,type:e.type,summary:e.summary,aiSummary:e.summary,description:"",details:e.details,technicalDetails:e.details,dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns,usageExamples:[],keywords:[],filePath:e.filePath||t.filePath,sourcePreview:n}}}catch(e){console.error("RAG lookup failed:",e)}if(!i){const n=this.graphBuilder.getDependencies(this.currentAnalysis.graph,e),r=this.graphBuilder.getDependents(this.currentAnalysis.graph,e),s=this.docGenerator.generateForNode(t,this.currentPersona),a=this.docGenerator.generateSignature(t),o=this.detectPatterns(t.sourceCode);i={name:t.label,type:t.type,summary:s,aiSummary:s,description:t.documentation?.description||"",details:`File: ${p.basename(t.filePath)}\nLines: ${t.startLine}-${t.endLine}\nLanguage: ${t.language}`,technicalDetails:`File: ${p.basename(t.filePath)}\nLines: ${t.startLine}-${t.endLine}\nLanguage: ${t.language}`,dependencies:n.map(e=>e.label),dependents:r.map(e=>e.label),patterns:o,usageExamples:[],keywords:[],filePath:t.filePath,sourcePreview:a}}this.panel?.webview.postMessage({command:"nodeDetails",content:i.summary||i.details,description:i.summary,metadata:{lineStart:t.startLine,lineEnd:t.endLine,parameters:t.parameters,returnType:t.returnType,docstring:i.summary||t.documentation?.summary,aiSummary:i.aiSummary||i.summary,aiDescription:i.description,technicalDetails:i.technicalDetails||i.details,imports:i.dependencies,exports:i.dependents,patterns:i.patterns,usageExamples:i.usageExamples,keywords:i.keywords},parentId:n,parentLabel:r?.label,hierarchy:s})}detectPatterns(e){const t=[];return e?(e.includes("useState")&&t.push("State Management"),e.includes("useEffect")&&t.push("Side Effects"),(e.includes("fetch(")||e.includes("axios"))&&t.push("HTTP Requests"),e.includes("async ")&&e.includes("await ")&&t.push("Async/Await"),e.includes("try")&&e.includes("catch")&&t.push("Error Handling"),e.includes("useContext")&&t.push("Context API"),(e.includes("useRouter")||e.includes("useNavigate"))&&t.push("Routing"),t):t}async handleSendToCline(e,t){if(!this.currentAnalysis)return;const n=this.currentAnalysis.graph.nodes.find(t=>t.id===e);if(!n)return;if(!this.clineAdapter.isClineAvailable())return void o.window.showWarningMessage("Cline extension is not installed. Please install Cline (saoudrizwan.claude-dev) to use this feature.","Install Cline").then(e=>{"Install Cline"===e&&o.commands.executeCommand("workbench.extensions.search","saoudrizwan.claude-dev")});const r={nodeId:n.id,nodeName:n.label,nodeType:n.type,sourceCode:n.sourceCode,filePath:n.filePath,startLine:n.startLine,endLine:n.endLine,dependencies:this.graphBuilder.getDependencies(this.currentAnalysis.graph,e).map(e=>e.label),usedBy:this.graphBuilder.getDependents(this.currentAnalysis.graph,e).map(e=>e.label),query:t},s=await this.clineAdapter.sendModificationRequest(r);s.success?o.window.showInformationMessage(s.explanation||"Request copied to clipboard. Paste (Ctrl+V) in Cline to start!"):o.window.showErrorMessage(s.error||"Failed to send to Cline")}async handleAskQuestion(e){if(console.log("handleAskQuestion called with:",e),!this.ragService){console.log("RAG service not available, trying to initialize...");const e=o.workspace.workspaceFolders;if(e&&e.length>0)try{const{RAGService:t}=await Promise.resolve().then(()=>a(n(875)));this.ragService=new t,await this.ragService.initialize(e[0].uri),console.log("RAG service initialized on-demand")}catch(e){console.error("Failed to initialize RAG service:",e)}if(!this.ragService)return void this.panel?.webview.postMessage({command:"questionAnswer",answer:'RAG service is not available. Please analyze the workspace first by running "Analyze Codebase" command.',relevantNodes:[],confidence:"low"})}try{console.log("Sending loading state..."),this.panel?.webview.postMessage({command:"questionLoading",loading:!0}),console.log("Calling RAG service...");const t=await this.ragService.answerQuestion(e);console.log("RAG service returned:",t.answer?.substring(0,100)),this.panel?.webview.postMessage({command:"questionAnswer",answer:t.answer,relevantNodes:t.relevantNodes,confidence:t.confidence})}catch(e){console.error("Error answering question:",e),this.panel?.webview.postMessage({command:"questionAnswer",answer:"An error occurred while searching. Please try again.",relevantNodes:[],confidence:"low"})}}async changePersona(e){this.currentPersona=e,o.window.showInformationMessage(`Switched to ${e} persona`)}async openFileAtLocation(e,t){const n=o.Uri.file(e),r=await o.workspace.openTextDocument(n),s=await o.window.showTextDocument(r),i=new o.Position(Math.max(0,t-1),0);s.selection=new o.Selection(i,i),s.revealRange(new o.Range(i,i),o.TextEditorRevealType.InCenter)}updateGraph(e){this.currentAnalysis=e,console.log("Updating graph in webview:",{nodesCount:e.graph.nodes.length,edgesCount:e.graph.edges.length,sampleNode:e.graph.nodes[0]?.label}),this.webviewReady?(this.sendGraphData(),this.sendCurrentBranchInfo(),console.log("Graph data and branch info sent to webview")):console.log("Webview not ready yet, will send when getGraph is requested...")}show(){this.panel?.reveal()}updateRagService(e){this.ragService=e,console.log("RAG service updated on visualization panel")}get isDisposed(){return this._isDisposed}set onDispose(e){this._onDisposeCallback=e}dispose(){this._isDisposed=!0,this.panel?.dispose(),this.disposables.forEach(e=>e.dispose()),this.disposables=[],this.panel=void 0,this._onDisposeCallback&&this._onDisposeCallback()}notifyChangesDetected(e){!this._isDisposed&&this.panel&&this.panel.webview.postMessage({command:"changesDetected",count:e.length,files:e})}async reloadDocs(){!this._isDisposed&&this.panel&&await this.loadAndSendDocs()}async sendCurrentBranchInfo(){if(!this._isDisposed&&this.panel)try{const{getGitWatcher:e}=await Promise.resolve().then(()=>a(n(6640))),t=e(),r=await t.getCurrentBranch();this.panel.webview.postMessage({command:"branchSwitch",branch:r||"unknown"})}catch(e){console.log("Could not get current branch:",e)}}async notifyBranchSwitch(e){!this._isDisposed&&this.panel&&(this.branchSwitchDebounce&&clearTimeout(this.branchSwitchDebounce),this.branchSwitchDebounce=setTimeout(async()=>{this.panel?.webview.postMessage({command:"branchSwitch",branch:e});try{console.log(`Branch switched to ${e}, triggering re-analysis...`),await o.commands.executeCommand("codebase-visualizer.refreshVisualization")}catch(e){console.error("Failed to refresh after branch switch:",e)}},300))}branchSwitchDebounce;getHtmlContent(){return`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Codebase Visualization</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n      background-color: #ffffff;\n      overflow: hidden;\n    }\n\n    #root {\n      width: 100%;\n      height: 100vh;\n      overflow: hidden;\n    }\n  </style>\n</head>\n<body>\n  <div id="root"></div>\n  <script src="${this.panel.webview.asWebviewUri(o.Uri.joinPath(this.context.extensionUri,"dist","webview.js"))}"><\/script>\n</body>\n</html>`}}},5781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Hub",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"NodePath",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return c.default}}),t.visitors=t.default=void 0,n(9578);var r=n(4950);t.visitors=r;var s=n(2352),i=n(7411),a=n(2264),o=n(9709),c=n(6814),l=n(7878);const{VISITOR_KEYS:p,removeProperties:u,traverseFast:h}=s;function d(e,t={},n,s,i,o){if(e){if(!t.noScope&&!n&&"Program"!==e.type&&"File"!==e.type)throw new Error(`You must pass a scope and parentPath unless traversing a Program/File. Instead of that you tried to traverse a ${e.type} node without passing scope and parentPath.`);if(!i&&o)throw new Error("visitSelf can only be used when providing a NodePath.");p[e.type]&&(r.explode(t),(0,a.traverseNode)(e,t,n,s,i,void 0,o))}}t.default=d,d.visitors=r,d.verify=r.verify,d.explode=r.explode,d.cheap=function(e,t){h(e,t)},d.node=function(e,t,n,r,s,i){(0,a.traverseNode)(e,t,n,r,s,i)},d.clearNode=function(e,t){u(e,t)},d.removeProperties=function(e,t){return h(e,d.clearNode,t),e},d.hasType=function(e,t,n){return(null==n||!n.includes(e.type))&&(e.type===t||h(e,function(e){return null!=n&&n.includes(e.type)?h.skip:e.type===t?h.stop:void 0}))},d.cache=i},5808:(e,t,n)=>{var r=n(2507)("toUpperCase");e.exports=r},5856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputItems=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{list(e,t={},n){return this._client.getAPIList(i.path`/responses/${e}/input_items`,s.CursorPage,{query:t,...n})}}t.InputItems=a},5861:(e,t,n)=>{var r=n(5580),s=n(8223),i=n(2804),a=n(6545),o=n(8303),c=n(2552),l=n(7473),p="[object Map]",u="[object Promise]",h="[object Set]",d="[object WeakMap]",f="[object DataView]",m=l(r),y=l(s),g=l(i),T=l(a),S=l(o),b=c;(r&&b(new r(new ArrayBuffer(1)))!=f||s&&b(new s)!=p||i&&b(i.resolve())!=u||a&&b(new a)!=h||o&&b(new o)!=d)&&(b=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return f;case y:return p;case g:return u;case T:return h;case S:return d}return t}),e.exports=b},5879:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},5884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return-1!==r&&(-1===s||r<s)}},5911:(e,t,n)=>{var r=n(8859),s=n(4248),i=n(9219);e.exports=function(e,t,n,a,o,c){var l=1&n,p=e.length,u=t.length;if(p!=u&&!(l&&u>p))return!1;var h=c.get(e),d=c.get(t);if(h&&d)return h==t&&d==e;var f=-1,m=!0,y=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++f<p;){var g=e[f],T=t[f];if(a)var S=l?a(T,g,f,t,e,c):a(g,T,f,e,t,c);if(void 0!==S){if(S)continue;m=!1;break}if(y){if(!s(t,function(e,t){if(!i(y,t)&&(g===e||o(g,e,n,a,c)))return y.push(t)})){m=!1;break}}else if(g!==T&&!o(g,T,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},5950:(e,t,n)=>{var r=n(695),s=n(8984),i=n(4894);e.exports=function(e){return i(e)?r(e):s(e)}},5958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8079);t.default=function(e){switch(e){case"string":return(0,r.stringTypeAnnotation)();case"number":return(0,r.numberTypeAnnotation)();case"undefined":return(0,r.voidTypeAnnotation)();case"boolean":return(0,r.booleanTypeAnnotation)();case"function":return(0,r.genericTypeAnnotation)((0,r.identifier)("Function"));case"object":return(0,r.genericTypeAnnotation)((0,r.identifier)("Object"));case"symbol":return(0,r.genericTypeAnnotation)((0,r.identifier)("Symbol"));case"bigint":return(0,r.anyTypeAnnotation)()}throw new Error("Invalid typeof value: "+e)}},6003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(1109)),a=n(1109),o=n(5552),c=n(4815);class l extends s.APIResource{constructor(){super(...arguments),this.outputItems=new i.OutputItems(this._client)}create(e,t,n){return this._client.post(c.path`/evals/${e}/runs`,{body:t,...n})}retrieve(e,t,n){const{eval_id:r}=t;return this._client.get(c.path`/evals/${r}/runs/${e}`,n)}list(e,t={},n){return this._client.getAPIList(c.path`/evals/${e}/runs`,o.CursorPage,{query:t,...n})}delete(e,t,n){const{eval_id:r}=t;return this._client.delete(c.path`/evals/${r}/runs/${e}`,n)}cancel(e,t,n){const{eval_id:r}=t;return this._client.post(c.path`/evals/${r}/runs/${e}`,n)}}t.Runs=l,l.OutputItems=a.OutputItems},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,a=i&&i.exports===s&&r.process,o=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},6033:(e,t,n)=>{const r=n(9637),s=n(9023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(s.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:s}=this;if(s){const t=this.color,s="[3"+(t<8?t:"8;5;"+t),i=`  ${s};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=s.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(736)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},6049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.map(e=>(0,i.isTSTypeAnnotation)(e)?e.typeAnnotation:e),n=(0,s.default)(t);return 1===n.length?n[0]:(0,r.tsUnionType)(n)};var r=n(8079),s=n(8812),i=n(8960)},6059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4815);class o extends r.APIResource{create(e,t,n){return this._client.post(a.path`/threads/${e}/messages`,{body:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(a.path`/threads/${r}/messages/${e}`,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...s}=t;return this._client.post(a.path`/threads/${r}/messages/${e}`,{body:s,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(a.path`/threads/${e}/messages`,s.CursorPage,{query:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{thread_id:r}=t;return this._client.delete(a.path`/threads/${r}/messages/${e}`,{...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Messages=o},6106:(e,t,n)=>{"use strict";var r=n(7596),s=n(5158),i=n(3828);const a=(0,r.defineAliasedType)("TypeScript"),o=(0,r.assertValueType)("boolean"),c=()=>({returnType:{validate:(0,r.assertNodeType)("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,r.assertNodeType)("TSTypeParameterDeclaration","Noop"),optional:!0}});a("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:(0,r.assertOneOf)("public","private","protected"),optional:!0},readonly:{validate:(0,r.assertValueType)("boolean"),optional:!0},parameter:{validate:(0,r.assertNodeType)("Identifier","AssignmentPattern")},override:{validate:(0,r.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,r.arrayOfType)("Decorator"),optional:!0}}}),a("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},(0,s.functionDeclarationCommon)(),c())}),a("TSDeclareMethod",Object.assign({visitor:["decorators","key","typeParameters","params","returnType"]},(0,s.classMethodOrPropertyUnionShapeCommon)(),{fields:Object.assign({},(0,s.classMethodOrDeclareMethodCommon)(),c())})),a("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:(0,r.validateType)("TSEntityName"),right:(0,r.validateType)("Identifier")}});const l=()=>({typeParameters:(0,r.validateOptionalType)("TSTypeParameterDeclaration"),parameters:(0,r.validateArrayOfType)("ArrayPattern","Identifier","ObjectPattern","RestElement"),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation")}),p={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:l()};a("TSCallSignatureDeclaration",p),a("TSConstructSignatureDeclaration",p);const u=()=>({key:(0,r.validateType)("Expression"),computed:{default:!1},optional:(0,r.validateOptional)(o)});a("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation"],fields:Object.assign({},u(),{readonly:(0,r.validateOptional)(o),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation"),kind:{optional:!0,validate:(0,r.assertOneOf)("get","set")}})}),a("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},l(),u(),{kind:{validate:(0,r.assertOneOf)("method","get","set")}})}),a("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:(0,r.validateOptional)(o),static:(0,r.validateOptional)(o),parameters:(0,r.validateArrayOfType)("Identifier"),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation")}});const h=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];for(const e of h)a(e,{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});a("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});const d={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"]};a("TSFunctionType",Object.assign({},d,{fields:l()})),a("TSConstructorType",Object.assign({},d,{fields:Object.assign({},l(),{abstract:(0,r.validateOptional)(o)})})),a("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:(0,r.validateType)("TSEntityName"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}}),a("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:(0,r.validateType)("Identifier","TSThisType"),typeAnnotation:(0,r.validateOptionalType)("TSTypeAnnotation"),asserts:(0,r.validateOptional)(o)}}),a("TSTypeQuery",{aliases:["TSType"],visitor:["exprName","typeParameters"],fields:{exprName:(0,r.validateType)("TSEntityName","TSImportType"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}}),a("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:(0,r.validateArrayOfType)("TSTypeElement")}}),a("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:(0,r.validateType)("TSType")}}),a("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:(0,r.validateArrayOfType)("TSType","TSNamedTupleMember")}}),a("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,r.validateType)("TSType")}}),a("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,r.validateType)("TSType")}}),a("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:(0,r.validateType)("Identifier"),optional:{validate:o,default:!1},elementType:(0,r.validateType)("TSType")}});const f={aliases:["TSType"],visitor:["types"],fields:{types:(0,r.validateArrayOfType)("TSType")}};a("TSUnionType",f),a("TSIntersectionType",f),a("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:(0,r.validateType)("TSType"),extendsType:(0,r.validateType)("TSType"),trueType:(0,r.validateType)("TSType"),falseType:(0,r.validateType)("TSType")}}),a("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:(0,r.validateType)("TSTypeParameter")}}),a("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,r.validateType)("TSType")}}),a("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],builder:["typeAnnotation","operator"],fields:{operator:{validate:(0,r.assertValueType)("string"),default:"keyof"},typeAnnotation:(0,r.validateType)("TSType")}}),a("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:(0,r.validateType)("TSType"),indexType:(0,r.validateType)("TSType")}}),a("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","nameType","typeAnnotation"],builder:["typeParameter","typeAnnotation","nameType"],fields:Object.assign({},{typeParameter:(0,r.validateType)("TSTypeParameter")},{readonly:(0,r.validateOptional)((0,r.assertOneOf)(!0,!1,"+","-")),optional:(0,r.validateOptional)((0,r.assertOneOf)(!0,!1,"+","-")),typeAnnotation:(0,r.validateOptionalType)("TSType"),nameType:(0,r.validateOptionalType)("TSType")})}),a("TSTemplateLiteralType",{aliases:["TSType","TSBaseType"],visitor:["quasis","types"],fields:{quasis:(0,r.validateArrayOfType)("TemplateElement"),types:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("TSType")),function(e,t,n){if(e.quasis.length!==n.length+1)throw new TypeError(`Number of ${e.type} quasis should be exactly one more than the number of types.\nExpected ${n.length+1} quasis but got ${e.quasis.length}`)})}}}),a("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:{validate:function(){const e=(0,r.assertNodeType)("NumericLiteral","BigIntLiteral"),t=(0,r.assertOneOf)("-"),n=(0,r.assertNodeType)("NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral"),s=function(r,s,a){(0,i.default)("UnaryExpression",a)?(t(a,"operator",a.operator),e(a,"argument",a.argument)):n(r,s,a)};return s.oneOfNodeTypes=["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral","UnaryExpression"],s}()}}}),a("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:(0,r.validateType)("TSEntityName"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}}),a("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:(0,r.validateOptional)(o),id:(0,r.validateType)("Identifier"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterDeclaration"),extends:(0,r.validateOptional)((0,r.arrayOfType)("TSExpressionWithTypeArguments")),body:(0,r.validateType)("TSInterfaceBody")}}),a("TSInterfaceBody",{visitor:["body"],fields:{body:(0,r.validateArrayOfType)("TSTypeElement")}}),a("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:(0,r.validateOptional)(o),id:(0,r.validateType)("Identifier"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterDeclaration"),typeAnnotation:(0,r.validateType)("TSType")}}),a("TSInstantiationExpression",{aliases:["Expression"],visitor:["expression","typeParameters"],fields:{expression:(0,r.validateType)("Expression"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation")}});const m={aliases:["Expression","LVal","PatternLike"],visitor:["expression","typeAnnotation"],fields:{expression:(0,r.validateType)("Expression"),typeAnnotation:(0,r.validateType)("TSType")}};a("TSAsExpression",m),a("TSSatisfiesExpression",m),a("TSTypeAssertion",{aliases:["Expression","LVal","PatternLike"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:(0,r.validateType)("TSType"),expression:(0,r.validateType)("Expression")}}),a("TSEnumBody",{visitor:["members"],fields:{members:(0,r.validateArrayOfType)("TSEnumMember")}}),a("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:(0,r.validateOptional)(o),const:(0,r.validateOptional)(o),id:(0,r.validateType)("Identifier"),members:(0,r.validateArrayOfType)("TSEnumMember"),initializer:(0,r.validateOptionalType)("Expression"),body:(0,r.validateOptionalType)("TSEnumBody")}}),a("TSEnumMember",{visitor:["id","initializer"],fields:{id:(0,r.validateType)("Identifier","StringLiteral"),initializer:(0,r.validateOptionalType)("Expression")}}),a("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:Object.assign({kind:{validate:(0,r.assertOneOf)("global","module","namespace")},declare:(0,r.validateOptional)(o)},{global:(0,r.validateOptional)(o)},{id:(0,r.validateType)("Identifier","StringLiteral"),body:(0,r.validateType)("TSModuleBlock","TSModuleDeclaration")})}),a("TSModuleBlock",{aliases:["Scopable","Block","BlockParent","FunctionParent"],visitor:["body"],fields:{body:(0,r.validateArrayOfType)("Statement")}}),a("TSImportType",{aliases:["TSType"],builder:["argument","qualifier","typeParameters"],visitor:["argument","options","qualifier","typeParameters"],fields:{argument:(0,r.validateType)("StringLiteral"),qualifier:(0,r.validateOptionalType)("TSEntityName"),typeParameters:(0,r.validateOptionalType)("TSTypeParameterInstantiation"),options:{validate:(0,r.assertNodeType)("ObjectExpression"),optional:!0}}}),a("TSImportEqualsDeclaration",{aliases:["Statement","Declaration"],visitor:["id","moduleReference"],fields:Object.assign({},{isExport:(0,r.validate)(o)},{id:(0,r.validateType)("Identifier"),moduleReference:(0,r.validateType)("TSEntityName","TSExternalModuleReference"),importKind:{validate:(0,r.assertOneOf)("type","value"),optional:!0}})}),a("TSExternalModuleReference",{visitor:["expression"],fields:{expression:(0,r.validateType)("StringLiteral")}}),a("TSNonNullExpression",{aliases:["Expression","LVal","PatternLike"],visitor:["expression"],fields:{expression:(0,r.validateType)("Expression")}}),a("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:(0,r.validateType)("Expression")}}),a("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:(0,r.validateType)("Identifier")}}),a("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:(0,r.assertNodeType)("TSType")}}}),a("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:(0,r.validateArrayOfType)("TSType")}}),a("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:(0,r.validateArrayOfType)("TSTypeParameter")}}),a("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:(0,r.assertValueType)("string")},in:{validate:(0,r.assertValueType)("boolean"),optional:!0},out:{validate:(0,r.assertValueType)("boolean"),optional:!0},const:{validate:(0,r.assertValueType)("boolean"),optional:!0},constraint:{validate:(0,r.assertNodeType)("TSType"),optional:!0},default:{validate:(0,r.assertNodeType)("TSType"),optional:!0}}})},6109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getKey=g,t._getPattern=T,t.get=function(e,t=!0){!0===t&&(t=this.context);const n=e.split(".");return 1===n.length?g.call(this,e,t):T.call(this,n,t)},t.getAllNextSiblings=function(){let e=this.key,t=this.getSibling(++e);const n=[];for(;t.node;)n.push(t),t=this.getSibling(++e);return n},t.getAllPrevSiblings=function(){let e=this.key,t=this.getSibling(--e);const n=[];for(;t.node;)n.push(t),t=this.getSibling(--e);return n},t.getAssignmentIdentifiers=function(){return i(this.node)},t.getBindingIdentifierPaths=function(e=!1,t=!1){const n=[this],r=Object.create(null);for(;n.length;){const s=n.shift();if(!s)continue;if(!s.node)continue;const i=a.keys[s.node.type];if(s.isIdentifier())e?(r[s.node.name]=r[s.node.name]||[]).push(s):r[s.node.name]=s;else{if(s.isExportDeclaration()){const e=s.get("declaration");e.isDeclaration()&&n.push(e);continue}if(t){if(s.isFunctionDeclaration()){n.push(s.get("id"));continue}if(s.isFunctionExpression())continue}if(i)for(let e=0;e<i.length;e++){const t=i[e],r=s.get(t);Array.isArray(r)?n.push(...r):r.node&&n.push(r)}}}return r},t.getBindingIdentifiers=function(e){return a(this.node,e)},t.getCompletionRecords=function(e=!1){return y(this,{canHaveBreak:!1,shouldPopulateBreak:!1,inCaseClause:!1,shouldPreserveBreak:e}).map(e=>e.path)},t.getNextSibling=function(){return this.getSibling(this.key+1)},t.getOpposite=function(){return"left"===this.key?this.getSibling("right"):"right"===this.key?this.getSibling("left"):null},t.getOuterBindingIdentifierPaths=function(e=!1){return this.getBindingIdentifierPaths(e,!0)},t.getOuterBindingIdentifiers=function(e){return o(this.node,e)},t.getPrevSibling=function(){return this.getSibling(this.key-1)},t.getSibling=function(e){return r.default.get({parentPath:this.parentPath,parent:this.parent,container:this.container,listKey:this.listKey,key:e}).setContext(this.context)};var r=n(9709),s=n(2352);const{getAssignmentIdentifiers:i,getBindingIdentifiers:a,getOuterBindingIdentifiers:o,numericLiteral:c,unaryExpression:l}=s,p=0,u=1;function h(e,t,n){return e&&t.push(...y(e,n)),t}function d(e){e.forEach(e=>{e.type=u})}function f(e,t){e.forEach(e=>{e.path.isBreakStatement({label:null})&&(t?e.path.replaceWith(l("void",c(0))):e.path.remove())})}function m(e,t){const n=[];if(t.canHaveBreak){let r=[];for(let s=0;s<e.length;s++){const i=e[s],a=Object.assign({},t,{inCaseClause:!1});i.isBlockStatement()&&(t.inCaseClause||t.shouldPopulateBreak)?a.shouldPopulateBreak=!0:a.shouldPopulateBreak=!1;const o=y(i,a);if(o.length>0&&o.every(e=>e.type===u)){r.length>0&&o.every(e=>e.path.isBreakStatement({label:null}))?(d(r),n.push(...r),r.some(e=>e.path.isDeclaration())&&(n.push(...o),t.shouldPreserveBreak||f(o,!0)),t.shouldPreserveBreak||f(o,!1)):(n.push(...o),t.shouldPopulateBreak||t.shouldPreserveBreak||f(o,!0));break}if(s===e.length-1)n.push(...o);else{r=[];for(let e=0;e<o.length;e++){const t=o[e];t.type===u&&n.push(t),t.type===p&&r.push(t)}}}}else if(e.length)for(let r=e.length-1;r>=0;r--){const s=y(e[r],t);if(s.length>1||1===s.length&&!s[0].path.isVariableDeclaration()&&!s[0].path.isEmptyStatement()){n.push(...s);break}}return n}function y(e,t){let n=[];if(e.isIfStatement())n=h(e.get("consequent"),n,t),n=h(e.get("alternate"),n,t);else{if(e.isDoExpression()||e.isFor()||e.isWhile()||e.isLabeledStatement())return h(e.get("body"),n,t);if(e.isProgram()||e.isBlockStatement())return m(e.get("body"),t);if(e.isFunction())return y(e.get("body"),t);if(e.isTryStatement())n=h(e.get("block"),n,t),n=h(e.get("handler"),n,t);else{if(e.isCatchClause())return h(e.get("body"),n,t);if(e.isSwitchStatement())return function(e,t,n){let r=[];for(let s=0;s<e.length;s++){const i=y(e[s],n),a=[],o=[];for(const e of i)e.type===p&&a.push(e),e.type===u&&o.push(e);a.length&&(r=a),t.push(...o)}return t.push(...r),t}(e.get("cases"),n,t);if(e.isSwitchCase())return m(e.get("consequent"),{canHaveBreak:!0,shouldPopulateBreak:!1,inCaseClause:!0,shouldPreserveBreak:t.shouldPreserveBreak});e.isBreakStatement()?n.push(function(e){return{type:u,path:e}}(e)):n.push(function(e){return{type:p,path:e}}(e))}}return n}function g(e,t){const n=this.node,s=n[e];return Array.isArray(s)?s.map((i,a)=>r.default.get({listKey:e,parentPath:this,parent:n,container:s,key:a}).setContext(t)):r.default.get({parentPath:this,parent:n,container:n,key:e}).setContext(t)}function T(e,t){let n=this;for(const r of e)n="."===r?n.parentPath:Array.isArray(n)?n[r]:n.get(r,t);return n}},6110:(e,t,n)=>{var r=n(5083),s=n(392);e.exports=function(e,t){var n=s(e,t);return r(n)?n:void 0}},6111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(3054)),a=n(3054);class o extends s.APIResource{constructor(){super(...arguments),this.completions=new i.Completions(this._client)}}t.Chat=o,o.Completions=a.Completions},6133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8960);t.default=function(e){if((0,r.isExpressionStatement)(e)&&(e=e.expression),(0,r.isExpression)(e))return e;if((0,r.isClass)(e)?(e.type="ClassExpression",e.abstract=!1):(0,r.isFunction)(e)&&(e.type="FunctionExpression"),!(0,r.isExpression)(e))throw new Error(`cannot turn ${e.type} to an expression`);return e}},6183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(2964)),a=n(2964),o=r.__importStar(n(3706)),c=n(3706),l=r.__importStar(n(8238)),p=n(8238),u=r.__importStar(n(2682)),h=n(2682);class d extends s.APIResource{constructor(){super(...arguments),this.realtime=new o.Realtime(this._client),this.chatkit=new l.ChatKit(this._client),this.assistants=new i.Assistants(this._client),this.threads=new u.Threads(this._client)}}t.Beta=d,d.Realtime=c.Realtime,d.ChatKit=p.ChatKit,d.Assistants=a.Assistants,d.Threads=h.Threads},6184:(e,t,n)=>{"use strict";var r=n(7596);const s=(0,r.defineAliasedType)("JSX");s("JSXAttribute",{visitor:["name","value"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:(0,r.assertNodeType)("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}}),s("JSXClosingElement",{visitor:["name"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}}),s("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["Immutable","Expression"],fields:Object.assign({openingElement:{validate:(0,r.assertNodeType)("JSXOpeningElement")},closingElement:{optional:!0,validate:(0,r.assertNodeType)("JSXClosingElement")},children:(0,r.validateArrayOfType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")},{selfClosing:{validate:(0,r.assertValueType)("boolean"),optional:!0}})}),s("JSXEmptyExpression",{}),s("JSXExpressionContainer",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,r.assertNodeType)("Expression","JSXEmptyExpression")}}}),s("JSXSpreadChild",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}}}),s("JSXIdentifier",{builder:["name"],fields:{name:{validate:(0,r.assertValueType)("string")}}}),s("JSXMemberExpression",{visitor:["object","property"],fields:{object:{validate:(0,r.assertNodeType)("JSXMemberExpression","JSXIdentifier")},property:{validate:(0,r.assertNodeType)("JSXIdentifier")}}}),s("JSXNamespacedName",{visitor:["namespace","name"],fields:{namespace:{validate:(0,r.assertNodeType)("JSXIdentifier")},name:{validate:(0,r.assertNodeType)("JSXIdentifier")}}}),s("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","typeParameters","typeArguments","attributes"],aliases:["Immutable"],fields:Object.assign({name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:(0,r.validateArrayOfType)("JSXAttribute","JSXSpreadAttribute"),typeArguments:{validate:(0,r.assertNodeType)("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:(0,r.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),s("JSXSpreadAttribute",{visitor:["argument"],fields:{argument:{validate:(0,r.assertNodeType)("Expression")}}}),s("JSXText",{aliases:["Immutable"],builder:["value"],fields:{value:{validate:(0,r.assertValueType)("string")}}}),s("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["Immutable","Expression"],fields:{openingFragment:{validate:(0,r.assertNodeType)("JSXOpeningFragment")},closingFragment:{validate:(0,r.assertNodeType)("JSXClosingFragment")},children:(0,r.validateArrayOfType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")}}),s("JSXOpeningFragment",{aliases:["Immutable"]}),s("JSXClosingFragment",{aliases:["Immutable"]})},6185:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.CodebaseDocGenerator=void 0;const o=a(n(1398)),c=a(n(9896)),l=a(n(6928)),p=n(9147),u=n(2921);t.CodebaseDocGenerator=class{docsFolder="";workspaceRoot="";nodesFolder="";graphFolder="";litellm;agent;useLLM=!0;useAgent=!0;currentPersona="developer";constructor(){this.litellm=(0,p.getLiteLLMService)(),this.agent=(0,u.getDocumentationAgent)()}isLLMAvailable(){return this.agent.isReady()||this.litellm.isReady()}isAgentAvailable(){return this.agent.isReady()}async promptLLMConfiguration(){return this.litellm.promptForConfiguration()}async loadExistingDocsAndFilter(e){const t=new Map,n=[];for(const r of e){const e=this.sanitizeFileName(r.id),s=l.join(this.nodesFolder,`${e}.json`);try{if(c.existsSync(s)){const e=c.readFileSync(s,"utf8"),n=JSON.parse(e),i=n.aiSummary||n.description,a=this.hashString(r.sourceCode||""),o=n.sourceCode?this.hashString(n.sourceCode):"";if(i&&a===o){t.set(r.id,n);continue}}}catch(e){}n.push(r)}return{nodesToProcess:n,existingDocs:t}}hashString(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t.toString(16)}ensureGitAttributesMergeStrategy(){try{const e=l.join(this.workspaceRoot,".gitattributes"),t='\n# Auto-resolve merge conflicts for generated documentation (.doc_sync)\n# Uses "ours" strategy - keeps current branch\'s version during merges\n# After merge, run "Sync Docs" to regenerate docs for the merged codebase\n.doc_sync/** merge=ours\n.doc_sync/docs.json merge=ours\n.doc_sync/graph/** merge=ours\n.doc_sync/nodes/** merge=ours\n.doc_sync/search.json merge=ours\n.doc_sync/metadata.json merge=ours\n';c.existsSync(e)?c.readFileSync(e,"utf-8").includes(".doc_sync/** merge=ours")||(c.appendFileSync(e,"\n"+t),console.log("Added .doc_sync merge strategy to existing .gitattributes")):(c.writeFileSync(e,t.trim()+"\n"),console.log("Created .gitattributes with .doc_sync merge strategy"))}catch(e){console.warn("Could not update .gitattributes:",e)}}async generateCodebaseDocsWithAST(e,t,n=!1){this.workspaceRoot=t.fsPath,this.docsFolder=l.join(this.workspaceRoot,".doc_sync"),this.nodesFolder=l.join(this.docsFolder,"nodes"),this.graphFolder=l.join(this.docsFolder,"graph"),this.useLLM=!1,this.useAgent=!1,o.window.showInformationMessage(" Scanning codebase with AST parsers...");const r=[this.docsFolder,this.nodesFolder,this.graphFolder];for(const e of r)c.existsSync(e)||c.mkdirSync(e,{recursive:!0});this.ensureGitAttributesMergeStrategy();const{nodes:s,edges:i}=e.graph,a=l.basename(this.workspaceRoot);let p=s;const u=new Map;if(!n){const{nodesToProcess:e,existingDocs:t}=await this.loadExistingDocsAndFilter(s);p=e,t.forEach((e,t)=>u.set(t,e)),t.size>0&&o.window.showInformationMessage(` Skipping ${t.size} cached nodes, processing ${e.length} new/changed nodes`)}let h;if(0===p.length)h=Array.from(u.values());else{const e=this.generateComponentDocsWithASTOnly(p,i,s);h=[...Array.from(u.values()),...e]}const d=this.analyzeArchitecture(s,i),f={projectName:a,generatedAt:(new Date).toISOString(),totalFiles:e.graph.metadata.totalFiles,totalComponents:s.length,languages:e.graph.metadata.languages,entryPoints:e.graph.metadata.entryPoints||[],components:h,architecture:d,generatedWithLLM:!1,generatedWithAgent:!1};return await this.saveDocumentation(f),o.window.showInformationMessage(` AST scan complete! ${h.length} components documented.`),f}generateComponentDocsWithASTOnly(e,t,n){const r=[];for(const s of e){const e=this.generateComponentDoc(s,t,n);r.push(e)}return r}async generateCodebaseDocs(e,t,n=!0,r="developer",s=!1){if(this.workspaceRoot=t.fsPath,this.docsFolder=l.join(this.workspaceRoot,".doc_sync"),this.nodesFolder=l.join(this.docsFolder,"nodes"),this.graphFolder=l.join(this.docsFolder,"graph"),this.litellm=(0,p.getLiteLLMService)(),this.useLLM=n&&this.litellm.isReady(),this.useAgent=n&&this.agent.isReady(),n&&!this.useLLM&&!this.useAgent)throw new Error("AI documentation generation requires a valid API key. Please configure your OpenAI or LiteLLM API key.");const i=r.charAt(0).toUpperCase()+r.slice(1).replace("-"," ");let a;a=this.useAgent?` Generating ${i} docs using AI Agent`:this.useLLM?` Generating ${i} docs using LiteLLM`:` Generating ${i} docs`,o.window.showInformationMessage(a),this.currentPersona=r;const u=[this.docsFolder,this.nodesFolder,this.graphFolder];for(const e of u)c.existsSync(e)||c.mkdirSync(e,{recursive:!0});const{nodes:h,edges:d}=e.graph,f=l.basename(this.workspaceRoot),m=new Map;let y,g=h;if(!s){const{nodesToProcess:e,existingDocs:t}=await this.loadExistingDocsAndFilter(h);g=e,t.forEach((e,t)=>m.set(t,e)),t.size>0&&o.window.showInformationMessage(` Skipping ${t.size} nodes with existing docs, processing ${e.length} new/changed nodes`)}if(0===g.length)y=Array.from(m.values());else if(this.useAgent){const e=await this.generateComponentDocsWithAgent(g,d);y=[...Array.from(m.values()),...e]}else{if(!this.useLLM)throw new Error("AI documentation generation requires a valid API key.");{const e=await this.generateComponentDocsWithLLM(g,d);y=[...Array.from(m.values()),...e]}}const T=this.analyzeArchitecture(h,d),S={projectName:f,generatedAt:(new Date).toISOString(),totalFiles:e.graph.metadata.totalFiles,totalComponents:h.length,languages:e.graph.metadata.languages,entryPoints:e.graph.metadata.entryPoints||[],components:y,architecture:T,generatedWithLLM:this.useLLM||this.useAgent,llmModel:this.useAgent?`Agent (${this.agent.isReady()?"OpenAI":"Fallback"})`:this.useLLM?"LiteLLM":void 0,generatedWithAgent:this.useAgent};return await this.saveDocumentation(S),S}async generateComponentDocsWithLLM(e,t){const n=[],r=e.length;return await o.window.withProgress({location:o.ProgressLocation.Notification,title:"Generating AI Documentation",cancellable:!0},async(s,i)=>{for(let a=0;a<e.length;a+=15){if(i.isCancellationRequested){o.window.showWarningMessage("Documentation generation cancelled");break}const c=e.slice(a,a+15),l=Math.round(a/r*100);s.report({increment:15/r*100,message:`Processing ${a+1}-${Math.min(a+15,r)} of ${r} (${l}%)`});const p=await Promise.all(c.map(async n=>{try{const r=new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),3e3)),s=this.generateComponentDocWithLLM(n,t,e);return await Promise.race([s,r])}catch(r){return this.generateComponentDoc(n,t,e)}}));n.push(...p),a+15<e.length&&await new Promise(e=>setTimeout(e,50))}}),n}async generateComponentDocsWithAgent(e,t){const n=[],r=e.length;return await o.window.withProgress({location:o.ProgressLocation.Notification,title:" AI Agent Generating Documentation",cancellable:!0},async(s,i)=>{for(let a=0;a<e.length;a+=5){if(i.isCancellationRequested){o.window.showWarningMessage("Documentation generation cancelled");break}const c=e.slice(a,a+5),l=Math.round(a/r*100);s.report({increment:5/r*100,message:`Analyzing ${a+1}-${Math.min(a+5,r)} of ${r} (${l}%)`});const p=await Promise.all(c.map(async n=>{try{const r=new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),8e3)),s=(async()=>{const r=await this.agent.generateDocumentation(n,t,e),s=this.generateComponentDoc(n,t,e);return{...s,summary:r.summary||s.summary,aiSummary:r.summary,description:r.description,technicalDetails:r.technicalDetails||s.technicalDetails,usageExamples:r.usageExamples,keywords:r.keywords,personaSpecific:r.personaSpecific}})();return await Promise.race([s,r])}catch(r){return this.generateComponentDoc(n,t,e)}}));n.push(...p),a+5<e.length&&await new Promise(e=>setTimeout(e,100))}}),n}async generateComponentDocWithLLM(e,t,n){const r=this.generateComponentDoc(e,t,n);if(this.useLLM&&this.litellm.isReady())try{const t=await this.litellm.generatePersonaDocumentation(e,this.currentPersona),n=await this.litellm.generateTechnicalDetails(e);return{...r,summary:t.summary||r.summary,aiSummary:t.summary,description:t.detailedDescription,aiPurpose:n?.purpose,aiKeyFeatures:t.keyPoints||n?.keyFeatures,aiComplexity:t.complexity||n?.complexity,usageExamples:t.sampleCode?[t.sampleCode]:void 0,personaSpecific:{[this.currentPersona]:t.personaInsights},technicalDetails:t.detailedDescription||r.technicalDetails}}catch(t){return console.error(`LLM enhancement failed for ${e.label}:`,t),r}return r}generateComponentDoc(e,t,n){const r=t.filter(t=>t.from===e.filePath).map(e=>{const t=n.find(t=>t.filePath===e.to);return t?t.label:l.basename(e.to)}),s=t.filter(t=>t.to===e.filePath).map(e=>{const t=n.find(t=>t.filePath===e.from);return t?t.label:l.basename(e.from)}),i=this.detectPatterns(e.sourceCode),a=this.generateSummary(e,r,s,i),o=this.generateTechnicalDetails(e);return{id:e.id,name:e.label,type:e.type,language:e.language,filePath:e.filePath,relativePath:l.relative(this.workspaceRoot,e.filePath),startLine:e.startLine,endLine:e.endLine,sourceCode:e.sourceCode,summary:a,technicalDetails:o,dependencies:r,dependents:s,patterns:i,props:e.props,hooks:e.hooks,parameters:e.parameters,returnType:e.returnType}}detectPatterns(e){const t=[];return e?(e.includes("useState")&&t.push("State Management (useState)"),e.includes("useEffect")&&t.push("Side Effects (useEffect)"),e.includes("useContext")&&t.push("Context Consumer"),e.includes("useReducer")&&t.push("Reducer Pattern"),(e.includes("useMemo")||e.includes("useCallback"))&&t.push("Memoization"),e.includes("useRef")&&t.push("Ref Usage"),e.includes("createContext")&&t.push("Context Provider"),(e.includes("fetch(")||e.includes("axios"))&&t.push("HTTP Requests"),e.includes("async ")&&e.includes("await ")&&t.push("Async/Await"),e.includes(".then(")&&t.push("Promise Chains"),e.includes("try")&&e.includes("catch")&&t.push("Error Handling"),e.includes("localStorage")&&t.push("Local Storage"),e.includes("sessionStorage")&&t.push("Session Storage"),(e.includes("dispatch")||e.includes("Redux"))&&t.push("Redux/State Management"),(e.includes("zustand")||e.includes("create("))&&t.push("Zustand Store"),(e.includes("useNavigate")||e.includes("useRouter"))&&t.push("Routing"),(e.includes("useParams")||e.includes("useSearchParams"))&&t.push("URL Parameters"),(e.includes("onSubmit")||e.includes("handleSubmit"))&&t.push("Form Handling"),e.includes("useState")&&e.includes("onChange")&&t.push("Controlled Inputs"),(e.includes("addEventListener")||e.includes("onClick"))&&t.push("Event Handling"),t):t}generateSummary(e,t,n,r){const s=[],i=e.endLine-e.startLine+1,a=i>200?"complex":i>50?"moderate":"simple";switch(e.type){case"component":s.push(`**${e.label}** is a React component that provides UI functionality.`),e.props&&e.props.length>0&&s.push(`\n\n**Props** (${e.props.length}): ${e.props.slice(0,8).join(", ")}${e.props.length>8?"...":""}.`),e.hooks&&e.hooks.length>0&&s.push(`\n\n**React Hooks Used**: ${e.hooks.join(", ")}.`),s.push(`\n\nThis is a ${a} component with ${i} lines of code.`);break;case"class":s.push(`**${e.label}** is a ${e.language} class that encapsulates related functionality and data.`),s.push(`\n\nThis ${a} class contains ${i} lines of code and provides a structured approach to organize related methods and properties.`),e.visibility&&s.push(` It has ${e.visibility} visibility.`);break;case"function":s.push(`**${e.label}** is a ${e.isAsync?"asynchronous ":""}utility function that performs a specific operation.`),e.parameters&&e.parameters.length>0&&s.push(`\n\n**Parameters** (${e.parameters.length}):\n${e.parameters.map(e=>`- \`${e.name}\`: ${e.type||"any"}${e.optional?" (optional)":""}`).join("\n")}`),e.returnType&&s.push(`\n\n**Returns**: \`${e.returnType}\``),s.push(`\n\nThis is a ${a} function with ${i} lines of code.`);break;case"method":s.push(`**${e.label}** is a ${e.isStatic?"static ":""}${e.isAsync?"async ":""}method that performs a specific operation within its class.`),e.parameters&&e.parameters.length>0&&s.push(`\n\n**Parameters**: ${e.parameters.map(e=>`\`${e.name}: ${e.type||"any"}\``).join(", ")}`),e.returnType&&s.push(`\n\n**Returns**: \`${e.returnType}\``);break;default:s.push(`**${e.label}** is a ${e.type} in the codebase located at \`${l.basename(e.filePath)}\`.`),s.push(`\n\nIt contains ${i} lines of ${e.language} code.`)}return t.length>0&&s.push(`\n\n**Dependencies** (${t.length}): This ${e.type} imports or uses: ${t.slice(0,6).join(", ")}${t.length>6?`, and ${t.length-6} more`:""}.`),n.length>0&&s.push(`\n\n**Used By** (${n.length}): This ${e.type} is imported by: ${n.slice(0,6).join(", ")}${n.length>6?`, and ${n.length-6} more`:""}.`),r.length>0&&s.push(`\n\n**Patterns Detected**: ${r.join(", ")}. These patterns indicate well-structured code following established software design principles.`),e.isEntryPoint&&s.push("\n\n **Entry Point**: This is an entry point of the application."),e.isPrimaryEntry&&s.push(" It is the **primary entry point**."),s.join("")}generateTechnicalDetails(e){const t=[];return t.push(`File: ${l.basename(e.filePath)}`),t.push(`Lines: ${e.startLine}-${e.endLine} (${e.endLine-e.startLine+1} lines)`),t.push(`Language: ${e.language}`),t.push(`Type: ${e.type}`),e.isAsync&&t.push("Async: Yes"),e.isStatic&&t.push("Static: Yes"),e.visibility&&t.push(`Visibility: ${e.visibility}`),e.isEntryPoint&&t.push("Entry Point: Yes"),t.join("\n")}analyzeArchitecture(e,t){const n=new Map,r=new Map,s=new Map,i=e.filter(e=>e.isEntryPoint),a=e.find(e=>e.isPrimaryEntry);e.forEach(e=>{const t=l.dirname(e.filePath),i=l.relative(this.workspaceRoot,t).split(l.sep)[0]||"root";n.set(i,(n.get(i)||0)+1),r.set(e.type,(r.get(e.type)||0)+1),s.set(e.language,(s.get(e.language)||0)+1)});const o=[];Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).forEach(([e,t])=>{let n="";const r=e.toLowerCase();r.includes("component")?n=" (UI Components)":r.includes("service")?n=" (Business Logic)":r.includes("controller")?n=" (API Controllers)":r.includes("model")||r.includes("entity")?n=" (Data Models)":r.includes("util")||r.includes("helper")?n=" (Utilities)":r.includes("hook")?n=" (React Hooks)":r.includes("context")?n=" (React Context)":r.includes("api")||r.includes("client")?n=" (API Layer)":r.includes("test")?n=" (Tests)":r.includes("config")?n=" (Configuration)":r.includes("repository")||r.includes("dao")?n=" (Data Access)":r.includes("dto")&&(n=" (Data Transfer Objects)"),o.push(` **${e}**${n}: ${t} component${t>1?"s":""}`)});const c=new Set;e.forEach(e=>{this.detectPatterns(e.sourceCode).forEach(e=>c.add(e))});const p=Array.from(r.entries()).sort((e,t)=>t[1]-e[1]).map(([e,t])=>`**${t}** ${e}${t>1?"s":""}`).join(", "),u=Array.from(s.entries()).sort((e,t)=>t[1]-e[1]).map(([e,t])=>`${e} (${t})`).join(", "),h=Array.from(c).slice(0,10);let d="##  Project Summary\n\n";d+=`This codebase contains **${e.length} components** organized across **${n.size} directories**.\n\n`,d+="### Component Breakdown\n",d+=`${p}\n\n`,d+="### Languages Used\n",d+=`${u}\n\n`,d+="### Dependency Graph\n",d+=`- **${t.length}** import/dependency relationships\n`,d+=`- Average dependencies per component: **${e.length>0?(t.length/e.length).toFixed(1):0}**\n\n`,a&&(d+="### Entry Point\n",d+=`The main entry point is \`${a.label}\` located at \`${l.relative(this.workspaceRoot,a.filePath)}\`.\n\n`),i.length>1&&(d+="### Additional Entry Points\n",i.filter(e=>!e.isPrimaryEntry).slice(0,5).forEach(e=>{d+=`- \`${e.label}\` - ${l.relative(this.workspaceRoot,e.filePath)}\n`}),d+="\n"),d+="##  Architecture Insights\n\n";const f=e.some(e=>e.label.includes("Controller")||e.sourceCode?.includes("@Controller")||e.sourceCode?.includes("@RestController")),m=e.some(e=>e.label.includes("Service")||e.sourceCode?.includes("@Service")),y=e.some(e=>e.label.includes("Repository")||e.sourceCode?.includes("@Repository")),g=e.some(e=>"component"===e.type||e.sourceCode?.includes("React.")),T=e.some(e=>e.sourceCode?.includes("useState")||e.sourceCode?.includes("useEffect"));f&&m&&y?(d+="### Layered Architecture (Spring Boot)\n",d+="This project follows a **layered architecture** pattern typical of Spring Boot applications:\n\n",d+="1. **Controller Layer** - Handles HTTP requests and responses\n",d+="2. **Service Layer** - Contains business logic\n",d+="3. **Repository Layer** - Manages data persistence\n\n"):g&&T&&(d+="### React Component Architecture\n",d+="This project uses **React** with a component-based architecture:\n\n",d+="- **Functional Components** with React Hooks\n",c.has("State Management (useState)")&&(d+="- **Local State Management** using useState\n"),c.has("Side Effects (useEffect)")&&(d+="- **Side Effects** handled with useEffect\n"),c.has("Context Provider")&&(d+="- **Global State** via React Context\n"),d+="\n"),h.length>0&&(d+="### Design Patterns Detected\n",h.forEach(e=>{d+=`-  ${e}\n`}),d+="\n");const S=e.length>0?Math.round(e.reduce((e,t)=>e+(t.endLine-t.startLine),0)/e.length):0;return d+="### Code Metrics\n",d+=`- Average component size: **~${S} lines**\n`,d+=`- Total directories: **${n.size}**\n`,d+=`- Component types: **${r.size}** different types\n\n`,d+="##  Quick Navigation Tips\n\n",d+="1. Click on any component in the **Components** tab to see detailed documentation\n",d+="2. Use the **View in Graph** button to navigate to a component's position\n",d+="3. The graph shows parent-child relationships - expand nodes to see children\n",{overview:d,layers:o.slice(0,15),patterns:Array.from(c).slice(0,20)}}async saveDocumentation(e){const t=this.generateReactFlowGraph(e),n=l.join(this.graphFolder,"graph.json");c.writeFileSync(n,JSON.stringify(t,null,2));const r=l.join(this.docsFolder,"docs.json"),s={version:"2.0",projectName:e.projectName,generatedAt:e.generatedAt,totalFiles:e.totalFiles,totalComponents:e.totalComponents,languages:e.languages,entryPoints:e.entryPoints,architecture:e.architecture,generatedWithAI:e.generatedWithLLM||e.generatedWithAgent,aiModel:e.llmModel,nodes:{}};e.components.forEach(e=>{s.nodes[e.id]={id:e.id,name:e.name,type:e.type,language:e.language,filePath:e.filePath,relativePath:e.relativePath,startLine:e.startLine,endLine:e.endLine,aiSummary:e.aiSummary||e.summary,aiDescription:e.description||"",technicalDetails:e.technicalDetails||"",aiPurpose:e.aiPurpose||"",aiKeyFeatures:e.aiKeyFeatures||[],aiComplexity:e.aiComplexity||"medium",dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns,parameters:e.parameters||[],returnType:e.returnType||"",props:e.props||[],hooks:e.hooks||[],usageExamples:e.usageExamples||[],keywords:e.keywords||[],personaSpecific:e.personaSpecific||{}}}),c.writeFileSync(r,JSON.stringify(s,null,2)),e.components.forEach(e=>{const t=this.sanitizeFileName(e.id)+".json",n=l.join(this.nodesFolder,t),r={id:e.id,name:e.name,type:e.type,language:e.language,filePath:e.filePath,relativePath:e.relativePath,startLine:e.startLine,endLine:e.endLine,summary:e.aiSummary||e.summary,aiSummary:e.aiSummary,aiDescription:e.description,technicalDetails:e.technicalDetails,aiPurpose:e.aiPurpose,aiKeyFeatures:e.aiKeyFeatures,aiComplexity:e.aiComplexity,dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns,props:e.props,hooks:e.hooks,parameters:e.parameters,returnType:e.returnType,usageExamples:e.usageExamples,keywords:e.keywords,personaSpecific:e.personaSpecific,sourceCode:e.sourceCode};c.writeFileSync(n,JSON.stringify(r,null,2))});const i=l.join(this.docsFolder,"metadata.json"),a={projectName:e.projectName,generatedAt:e.generatedAt,totalFiles:e.totalFiles,totalComponents:e.totalComponents,languages:e.languages,entryPoints:e.entryPoints,architecture:e.architecture};c.writeFileSync(i,JSON.stringify(a,null,2));const o=l.join(this.docsFolder,"search.json"),p=this.generateRAGChunks(e);c.writeFileSync(o,JSON.stringify(p,null,2));const u=l.join(this.nodesFolder,"_index.json"),h=e.components.map(e=>({id:e.id,name:e.name,type:e.type,filePath:e.relativePath,fileName:this.sanitizeFileName(e.id)+".json"}));c.writeFileSync(u,JSON.stringify(h,null,2))}generateReactFlowGraph(e){const t=e.components.map(t=>({id:t.id,label:t.name,type:t.type,language:t.language,filePath:t.filePath,relativePath:t.relativePath,startLine:t.startLine,endLine:t.endLine,isEntryPoint:e.entryPoints.includes(t.filePath),isPrimaryEntry:e.entryPoints[0]===t.filePath,dependencyCount:t.dependencies.length,dependentCount:t.dependents.length,patterns:t.patterns,nodeFile:this.sanitizeFileName(t.id)+".json"})),n=new Set,r=[];return e.components.forEach(t=>{t.dependencies.forEach(s=>{const i=e.components.find(e=>e.name===s);if(i){const e=`${t.id}->${i.id}`;n.has(e)||(n.add(e),r.push({from:t.filePath,to:i.filePath,fromId:t.id,toId:i.id,type:"imports",label:s}))}})}),{version:"1.0",generatedAt:e.generatedAt,projectName:e.projectName,nodes:t,edges:r,metadata:{totalNodes:t.length,totalEdges:r.length,languages:e.languages,entryPoints:e.entryPoints}}}sanitizeFileName(e){return e.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").substring(0,100)}generateMarkdownOverview(e){const t=[];return t.push(`# ${e.projectName} - Codebase Documentation`),t.push(""),t.push(`> Generated on: ${new Date(e.generatedAt).toLocaleString()}`),t.push(""),t.push("## Overview"),t.push(""),t.push(e.architecture.overview),t.push(""),t.push("## Statistics"),t.push(""),t.push(`- **Total Files**: ${e.totalFiles}`),t.push(`- **Total Components**: ${e.totalComponents}`),t.push(`- **Languages**: ${e.languages.join(", ")}`),t.push(`- **Entry Points**: ${e.entryPoints.length>0?e.entryPoints.map(e=>l.basename(e)).join(", "):"None detected"}`),t.push(""),t.push("## Architecture Layers"),t.push(""),e.architecture.layers.forEach(e=>{t.push(`- ${e}`)}),t.push(""),t.push("## Patterns Used"),t.push(""),e.architecture.patterns.forEach(e=>{t.push(`- ${e}`)}),t.push(""),t.push("## Components"),t.push(""),t.push("| Name | Type | File | Dependencies |"),t.push("|------|------|------|--------------|"),e.components.slice(0,50).forEach(e=>{t.push(`| ${e.name} | ${e.type} | ${e.relativePath} | ${e.dependencies.length} |`)}),e.components.length>50&&(t.push("| ... | ... | ... | ... |"),t.push(`| *(${e.components.length-50} more components)* | | | |`)),t.join("\n")}generateComponentMarkdown(e){const t=[];return t.push(`# ${e.name}`),t.push(""),t.push(`> **Type**: ${e.type} | **Language**: ${e.language}`),t.push(""),e.aiSummary&&(t.push("##  AI Summary"),t.push(""),t.push(e.aiSummary),t.push("")),e.description&&(t.push("## Description"),t.push(""),t.push(e.description),t.push("")),t.push("## Summary"),t.push(""),t.push(e.summary),t.push(""),e.parameters&&e.parameters.length>0&&(t.push("##  Parameters"),t.push(""),t.push("| Name | Type | Description |"),t.push("|------|------|-------------|"),e.parameters.forEach(e=>{t.push(`| \`${e.name}\` | \`${e.type}\` | - |`)}),t.push("")),e.returnType&&(t.push("##  Return Type"),t.push(""),t.push("```typescript"),t.push(e.returnType),t.push("```"),t.push("")),e.props&&e.props.length>0&&(t.push("##  Props"),t.push(""),e.props.forEach(e=>t.push(`- \`${e}\``)),t.push("")),e.hooks&&e.hooks.length>0&&(t.push("##  React Hooks Used"),t.push(""),e.hooks.forEach(e=>t.push(`- \`${e}\``)),t.push("")),t.push("## Technical Details"),t.push(""),t.push("```"),t.push(e.technicalDetails),t.push("```"),t.push(""),e.usageExamples&&e.usageExamples.length>0&&(t.push("##  Usage Examples"),t.push(""),e.usageExamples.forEach((e,n)=>{t.push(`### Example ${n+1}`),t.push(""),t.push(e),t.push("")})),e.personaSpecific&&(t.push("##  Persona-Specific Documentation"),t.push(""),e.personaSpecific.developer&&(t.push("### For Developers"),t.push(e.personaSpecific.developer),t.push("")),e.personaSpecific.architect&&(t.push("### For Architects"),t.push(e.personaSpecific.architect),t.push("")),e.personaSpecific["product-manager"]&&(t.push("### For Product Managers"),t.push(e.personaSpecific["product-manager"]),t.push("")),e.personaSpecific["business-analyst"]&&(t.push("### For Business Analysts"),t.push(e.personaSpecific["business-analyst"]),t.push(""))),e.patterns.length>0&&(t.push("##  Patterns"),t.push(""),e.patterns.forEach(e=>t.push(`- ${e}`)),t.push("")),e.dependencies.length>0&&(t.push("##  Dependencies"),t.push(""),e.dependencies.forEach(e=>t.push(`- ${e}`)),t.push("")),e.dependents.length>0&&(t.push("##  Used By"),t.push(""),e.dependents.forEach(e=>t.push(`- ${e}`)),t.push("")),e.keywords&&e.keywords.length>0&&(t.push("##  Keywords"),t.push(""),t.push(e.keywords.map(e=>`\`${e}\``).join(" ")),t.push("")),t.push("##  Source Code"),t.push(""),t.push(` **File**: \`${e.relativePath}\` (Lines ${e.startLine}-${e.endLine})`),t.push(""),t.push("```"+e.language),t.push(e.sourceCode),t.push("```"),t.join("\n")}generateRAGChunks(e){const t=[];return t.push({id:"overview",content:`Project: ${e.projectName}\n\n${e.architecture.overview}\n\nPatterns used: ${e.architecture.patterns.join(", ")}`,metadata:{type:"overview",project:e.projectName,totalComponents:e.totalComponents}}),e.components.forEach(e=>{t.push({id:e.id,content:`Component: ${e.name}\nType: ${e.type}\nFile: ${e.relativePath}\n\n${e.summary}\n\n${e.technicalDetails}`,metadata:{type:"component",name:e.name,componentType:e.type,language:e.language,filePath:e.filePath,relativePath:e.relativePath,dependencies:e.dependencies,dependents:e.dependents,patterns:e.patterns}}),e.sourceCode&&e.sourceCode.length<5e3&&t.push({id:`${e.id}-source`,content:`Source code for ${e.name}:\n\n${e.sourceCode}`,metadata:{type:"source",name:e.name,componentType:e.type,filePath:e.filePath}})}),t}getDocsFolder(){return this.docsFolder}docsExist(e){const t=l.join(e.fsPath,".doc_sync","metadata.json");return c.existsSync(t)}loadExistingDocs(e){const t=l.join(e.fsPath,".doc_sync","metadata.json"),n=l.join(e.fsPath,".doc_sync","graph","graph.json");if(c.existsSync(t)&&c.existsSync(n))try{const e=JSON.parse(c.readFileSync(t,"utf-8")),r=JSON.parse(c.readFileSync(n,"utf-8"));return{projectName:e.projectName,generatedAt:e.generatedAt,totalFiles:e.totalFiles,totalComponents:e.totalComponents,languages:e.languages,entryPoints:e.entryPoints,components:r.nodes||[],architecture:e.architecture}}catch{return null}return null}}},6188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequestDetails=t.parseLogLevel=void 0,t.loggerFor=l;const r=n(5734),s={off:0,error:200,warn:300,info:400,debug:500};function i(){}function a(e,t,n){return!t||s[e]>s[n]?i:t[e].bind(t)}t.parseLogLevel=(e,t,n)=>{if(e)return(0,r.hasOwn)(s,e)?e:void l(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(s))}`)};const o={error:i,warn:i,info:i,debug:i};let c=new WeakMap;function l(e){const t=e.logger,n=e.logLevel??"off";if(!t)return o;const r=c.get(t);if(r&&r[0]===n)return r[1];const s={error:a("error",t,n),warn:a("warn",t,n),info:a("info",t,n),debug:a("debug",t,n)};return c.set(t,[n,s]),s}t.formatRequestDetails=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e)},6211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,s){return(0,r.default)(e,t,[{type:s?"CommentLine":"CommentBlock",value:n}])};var r=n(2598)},6219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,s.isSuper)(e.object))throw new Error("Cannot prepend node to super property access (`super.foo`).");return e.object=(0,r.memberExpression)(t,e.object),e};var r=n(8079),s=n(2352)},6271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassAccessorProperty=function(e){var t;this.printJoin(e.decorators);const n=null==(t=e.key.loc)||null==(t=t.end)?void 0:t.line;n&&this.catchUp(n),this.tsPrintClassMemberModifiers(e),this.word("accessor",!0),this.space(),e.computed?(this.tokenChar(91),this.print(e.key),this.tokenChar(93)):(this._variance(e),this.print(e.key)),e.optional&&this.tokenChar(63),e.definite&&this.tokenChar(33),this.print(e.typeAnnotation),e.value&&(this.space(),this.tokenChar(61),this.space(),this.print(e.value)),this.semicolon()},t.ClassBody=function(e){if(this.tokenChar(123),0===e.body.length)this.tokenChar(125);else{this.newline();const t=function(e,t){if(!e.tokenMap||null==t.start||null==t.end)return null;const n=e.tokenMap.getIndexes(t);if(!n)return null;let r=1,s=0,i=0;const a=()=>{for(;i<t.body.length&&null==t.body[i].start;)i++};return a(),o=>{i<=o&&(i=o+1,a());const c=i===t.body.length?t.end:t.body[i].start;let l;for(;r<n.length&&e.tokenMap.matchesOriginal(l=e._tokens[n[r]],";")&&l.start<c;)e.token(";",void 0,s++),r++}}(this,e);null==t||t(-1);const n=this.enterDelimited();this.printJoin(e.body,!0,!0,t,!0),n(),this.endsWith(10)||this.newline(),this.rightBrace(e)}},t.ClassExpression=t.ClassDeclaration=function(e,t){(s(t)||i(t))&&this._shouldPrintDecoratorsBeforeExport(t)||this.printJoin(e.decorators),e.declare&&(this.word("declare"),this.space()),e.abstract&&(this.word("abstract"),this.space()),this.word("class"),e.id&&(this.space(),this.print(e.id)),this.print(e.typeParameters),e.superClass&&(this.space(),this.word("extends"),this.space(),this.print(e.superClass),this.print(e.superTypeParameters)),e.implements&&(this.space(),this.word("implements"),this.space(),this.printList(e.implements)),this.space(),this.print(e.body)},t.ClassMethod=function(e){this._classMethodHead(e),this.space(),this.print(e.body)},t.ClassPrivateMethod=function(e){this._classMethodHead(e),this.space(),this.print(e.body)},t.ClassPrivateProperty=function(e){this.printJoin(e.decorators),this.tsPrintClassMemberModifiers(e),this.print(e.key),e.optional&&this.tokenChar(63),e.definite&&this.tokenChar(33),this.print(e.typeAnnotation),e.value&&(this.space(),this.tokenChar(61),this.space(),this.print(e.value)),this.semicolon()},t.ClassProperty=function(e){if(this.printJoin(e.decorators),!e.static&&!this.format.preserveFormat){var t;const n=null==(t=e.key.loc)||null==(t=t.end)?void 0:t.line;n&&this.catchUp(n)}this.tsPrintClassMemberModifiers(e),e.computed?(this.tokenChar(91),this.print(e.key),this.tokenChar(93)):(this._variance(e),this.print(e.key)),e.optional&&this.tokenChar(63),e.definite&&this.tokenChar(33),this.print(e.typeAnnotation),e.value&&(this.space(),this.tokenChar(61),this.space(),this.print(e.value)),this.semicolon()},t.StaticBlock=function(e){this.word("static"),this.space(),this.tokenChar(123),0===e.body.length?this.tokenChar(125):(this.newline(),this.printSequence(e.body,!0),this.rightBrace(e))},t._classMethodHead=function(e){if(this.printJoin(e.decorators),!this.format.preserveFormat){var t;const n=null==(t=e.key.loc)||null==(t=t.end)?void 0:t.line;n&&this.catchUp(n)}this.tsPrintClassMemberModifiers(e),this._methodHead(e)};var r=n(2352);const{isExportDefaultDeclaration:s,isExportNamedDeclaration:i}=r},6289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isToolMessage=t.isAssistantMessage=void 0,t.isPresent=function(e){return null!=e},t.isAssistantMessage=e=>"assistant"===e?.role,t.isToolMessage=e=>"tool"===e?.role},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},6585:e=>{var t=1e3,n=60*t,r=60*n,s=24*r,i=7*s;function a(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,o){o=o||{};var c,l,p=typeof e;if("string"===p&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var o=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*i;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===p&&isFinite(e))return o.long?(c=e,(l=Math.abs(c))>=s?a(c,l,s,"day"):l>=r?a(c,l,r,"hour"):l>=n?a(c,l,n,"minute"):l>=t?a(c,l,t,"second"):c+" ms"):function(e){var i=Math.abs(e);return i>=s?Math.round(e/s)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=Object.keys(t);for(const r of n)if(e[r]!==t[r])return!1;return!0}},6636:(e,t,n)=>{"use strict";var r,s,i,a,o,c,l,p;Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseStream=void 0;const u=n(9632),h=n(9526),d=n(460),f=n(7759);class m extends d.EventStream{constructor(e){super(),r.add(this),s.set(this,void 0),i.set(this,void 0),a.set(this,void 0),u.__classPrivateFieldSet(this,s,e,"f")}static createResponse(e,t,n){const r=new m(t);return r._run(()=>r._createOrRetrieveResponse(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,t,n){const s=n?.signal;let i;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),u.__classPrivateFieldGet(this,r,"m",o).call(this);let a=null;"response_id"in t?(i=await e.responses.retrieve(t.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=t.starting_after??null):i=await e.responses.create({...t,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const e of i)u.__classPrivateFieldGet(this,r,"m",c).call(this,e,a);if(i.controller.signal?.aborted)throw new h.APIUserAbortError;return u.__classPrivateFieldGet(this,r,"m",l).call(this)}[(s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakSet,o=function(){this.ended||u.__classPrivateFieldSet(this,i,void 0,"f")},c=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},s=u.__classPrivateFieldGet(this,r,"m",p).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=s.output[e.output_index];if(!t)throw new h.OpenAIError(`missing output at index ${e.output_index}`);if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new h.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==r.type)throw new h.OpenAIError(`expected content to be 'output_text', got ${r.type}`);n("response.output_text.delta",{...e,snapshot:r.text})}break}case"response.function_call_arguments.delta":{const t=s.output[e.output_index];if(!t)throw new h.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===t.type&&n("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:n(e.type,e)}},l=function(){if(this.ended)throw new h.OpenAIError("stream has ended, this shouldn't happen");const e=u.__classPrivateFieldGet(this,i,"f");if(!e)throw new h.OpenAIError("request ended without sending any events");u.__classPrivateFieldSet(this,i,void 0,"f");const t=function(e,t){return(0,f.maybeParseResponse)(e,t)}(e,u.__classPrivateFieldGet(this,s,"f"));return u.__classPrivateFieldSet(this,a,t,"f"),t},p=function(e){let t=u.__classPrivateFieldGet(this,i,"f");if(!t){if("response.created"!==e.type)throw new h.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=u.__classPrivateFieldSet(this,i,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new h.OpenAIError(`missing output at index ${e.output_index}`);const r=n.type,s=e.part;"message"===r&&"reasoning_text"!==s.type?n.content.push(s):"reasoning"===r&&"reasoning_text"===s.type&&(n.content||(n.content=[]),n.content.push(s));break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new h.OpenAIError(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new h.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new h.OpenAIError(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new h.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.reasoning_text.delta":{const n=t.output[e.output_index];if(!n)throw new h.OpenAIError(`missing output at index ${e.output_index}`);if("reasoning"===n.type){const t=n.content?.[e.content_index];if(!t)throw new h.OpenAIError(`missing content at index ${e.content_index}`);if("reasoning_text"!==t.type)throw new h.OpenAIError(`expected content to be 'reasoning_text', got ${t.type}`);t.text+=e.delta}break}case"response.completed":u.__classPrivateFieldSet(this,i,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=u.__classPrivateFieldGet(this,a,"f");if(!e)throw new h.OpenAIError("stream ended without producing a ChatCompletion");return e}}t.ResponseStream=m},6640:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.GitWatcher=void 0,t.getGitWatcher=function(){return d||(d=new h),d};const o=a(n(1398)),c=a(n(6928)),l=a(n(9896)),p=n(563),u=n(9617);class h{workspaceRoot="";gitPath="";fileWatcher;gitWatcher;gitExtension;callbacks=[];incrementalUpdater;branchManager;isWatching=!1;debounceTimer;pendingChanges=new Set;branchManagerDisposable;static DEBOUNCE_DELAY=1e3;static WATCH_PATTERNS=["**/*.ts","**/*.tsx","**/*.js","**/*.jsx","**/*.java","**/*.py"];constructor(){this.incrementalUpdater=(0,p.getIncrementalUpdater)(),this.branchManager=(0,u.getBranchManager)()}async initialize(e){return this.workspaceRoot=e,this.gitPath=c.join(e,".git"),l.existsSync(this.gitPath)?(this.gitExtension=o.extensions.getExtension("vscode.git"),await this.branchManager.initialize(e)&&(this.branchManagerDisposable=this.branchManager.onChangeEvent(e=>{this.handleBranchManagerEvent(e)}),console.log("Branch manager integration enabled")),!0):(console.log("Not a git repository, git watching disabled"),!1)}handleBranchManagerEvent(e){const t={type:this.mapChangeEventType(e.type),files:e.files,branch:e.toBranch||this.branchManager.getBranch(),timestamp:e.timestamp};"branch-switch"===e.type&&(console.log(`Branch switch detected: ${e.fromBranch} -> ${e.toBranch}`),e.requiresFullRefresh?console.log("Full refresh required for new branch"):console.log("Using cached graph for branch")),this.notifyCallbacks(t)}mapChangeEventType(e){switch(e){case"branch-switch":return"branch-switch";case"commit":return"commit";default:return"file-change"}}startWatching(){if(this.isWatching)return;const e=new o.RelativePattern(this.workspaceRoot,`{${h.WATCH_PATTERNS.join(",")}}`);if(this.fileWatcher=o.workspace.createFileSystemWatcher(e),this.fileWatcher.onDidCreate(e=>this.handleFileChange(e,"create")),this.fileWatcher.onDidChange(e=>this.handleFileChange(e,"modify")),this.fileWatcher.onDidDelete(e=>this.handleFileChange(e,"delete")),l.existsSync(this.gitPath)){const e=new o.RelativePattern(this.gitPath,"index");this.gitWatcher=o.workspace.createFileSystemWatcher(e),this.gitWatcher.onDidChange(()=>this.handleGitIndexChange())}this.isWatching=!0,console.log("GitWatcher started monitoring changes")}stopWatching(){this.fileWatcher?.dispose(),this.gitWatcher?.dispose(),this.isWatching=!1,console.log("GitWatcher stopped")}handleFileChange(e,t){const n=e.fsPath;this.shouldIgnore(n)||(this.pendingChanges.add(n),this.debouncedNotify("file-change"))}handleGitIndexChange(){this.debouncedNotify("stage")}shouldIgnore(e){return["node_modules","dist","build",".git","coverage",".doc_sync","__pycache__"].some(t=>e.includes(t))}debouncedNotify(e){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{const t=Array.from(this.pendingChanges);this.pendingChanges.clear();const n={type:e,files:t,timestamp:new Date};this.notifyCallbacks(n)},h.DEBOUNCE_DELAY)}notifyCallbacks(e){for(const t of this.callbacks)try{t(e)}catch(e){console.error("Callback error:",e)}}onGitChange(e){return this.callbacks.push(e),new o.Disposable(()=>{const t=this.callbacks.indexOf(e);t>=0&&this.callbacks.splice(t,1)})}async getStagedFiles(){try{if(this.gitExtension?.isActive){const e=this.gitExtension.exports.getAPI(1).repositories[0];if(e)return e.state.indexChanges.map(e=>e.uri.fsPath)}}catch(e){console.error("Failed to get staged files:",e)}return[]}async getModifiedFiles(){try{if(this.gitExtension?.isActive){const e=this.gitExtension.exports.getAPI(1).repositories[0];if(e)return e.state.workingTreeChanges.map(e=>e.uri.fsPath)}}catch(e){console.error("Failed to get modified files:",e)}return[]}async getAllChangedFiles(){const e=await this.getStagedFiles(),t=await this.getModifiedFiles();return[...new Set([...e,...t])]}async triggerManualSync(){const e=await this.getAllChangedFiles();return 0===e.length&&0===(await this.incrementalUpdater.getPendingChanges()).changedCount?{success:!0,changedFiles:0,message:"No changes detected. Graph is up to date."}:(this.notifyCallbacks({type:"file-change",files:e,timestamp:new Date}),{success:!0,changedFiles:e.length,message:`Sync triggered for ${e.length} changed files.`})}isActive(){return this.isWatching}getBranchManager(){return this.branchManager}async getCurrentBranch(){return this.branchManager.getBranch()}getCachedBranches(){return this.branchManager.getCachedBranches()}async saveBranchState(){const e=this.branchManager.getBranch();await this.branchManager.saveBranchState(e)}dispose(){this.stopWatching(),this.branchManagerDisposable?.dispose(),this.branchManager.dispose(),this.debounceTimer&&clearTimeout(this.debounceTimer)}}t.GitWatcher=h;let d=null},6645:(e,t,n)=>{var r=n(1733),s=n(5434),i=n(3222),a=n(2225);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?s(e)?a(e):r(e):e.match(t)||[]}},6666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=async function(e,t,n){if((0,s.checkFileSupport)(),e=await e,a(e))return e instanceof File?e:(0,r.makeFile)([await e.arrayBuffer()],e.name);if(o(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),(0,r.makeFile)(await c(s),t,n)}const i=await c(e);if(t||(t=(0,r.getName)(e)),!n?.type){const e=i.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n={...n,type:e})}return(0,r.makeFile)(i,t,n)};const r=n(2018),s=n(2018),i=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,a=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&i(e),o=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function c(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(i(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(0,r.isAsyncIterable)(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";return`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(", ")}]`}(e)}`)}for await(const n of e)t.push(...await c(n))}return t}},6716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(9632).__exportStar(n(8490),t)},6721:(e,t,n)=>{var r=n(1042),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(t,e)?t[e]:void 0}},6735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2226);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var s=n(4436);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var i=n(521);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var a=n(6271);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var o=n(2861);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var c=n(9638);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=n(7942);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var p=n(2259);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))});var u=n(546);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var h=n(3962);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))});var d=n(9276);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))})},6744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e+="";let t="";for(const n of e)t+=(0,s.isIdentifierChar)(n.codePointAt(0))?n:"-";return t=t.replace(/^[-0-9]+/,""),t=t.replace(/[-\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),(0,r.default)(t)||(t=`_${t}`),t||"_"};var r=n(983),s=n(1e3)},6779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXIdentifier=t.JSXFragment=t.JSXExpressionContainer=t.JSXEmptyExpression=t.JSXElement=t.JSXClosingFragment=t.JSXClosingElement=t.JSXAttribute=t.IntersectionTypeAnnotation=t.InterpreterDirective=t.InterfaceTypeAnnotation=t.InterfaceExtends=t.InterfaceDeclaration=t.InferredPredicate=t.IndexedAccessType=t.ImportSpecifier=t.ImportNamespaceSpecifier=t.ImportExpression=t.ImportDefaultSpecifier=t.ImportDeclaration=t.ImportAttribute=t.Import=t.IfStatement=t.Identifier=t.GenericTypeAnnotation=t.FunctionTypeParam=t.FunctionTypeAnnotation=t.FunctionExpression=t.FunctionDeclaration=t.ForStatement=t.ForOfStatement=t.ForInStatement=t.File=t.ExpressionStatement=t.ExportSpecifier=t.ExportNamespaceSpecifier=t.ExportNamedDeclaration=t.ExportDefaultSpecifier=t.ExportDefaultDeclaration=t.ExportAllDeclaration=t.ExistsTypeAnnotation=t.EnumSymbolBody=t.EnumStringMember=t.EnumStringBody=t.EnumNumberMember=t.EnumNumberBody=t.EnumDefaultedMember=t.EnumDeclaration=t.EnumBooleanMember=t.EnumBooleanBody=t.EmptyTypeAnnotation=t.EmptyStatement=t.DoWhileStatement=t.DoExpression=t.DirectiveLiteral=t.Directive=t.Decorator=t.DeclaredPredicate=t.DeclareVariable=t.DeclareTypeAlias=t.DeclareOpaqueType=t.DeclareModuleExports=t.DeclareModule=t.DeclareInterface=t.DeclareFunction=t.DeclareExportDeclaration=t.DeclareExportAllDeclaration=t.DeclareClass=t.DecimalLiteral=t.DebuggerStatement=t.ContinueStatement=t.ConditionalExpression=t.ClassProperty=t.ClassPrivateProperty=t.ClassPrivateMethod=t.ClassMethod=t.ClassImplements=t.ClassExpression=t.ClassDeclaration=t.ClassBody=t.ClassAccessorProperty=t.CatchClause=t.CallExpression=t.BreakStatement=t.BooleanTypeAnnotation=t.BooleanLiteralTypeAnnotation=t.BooleanLiteral=t.BlockStatement=t.BindExpression=t.BinaryExpression=t.BigIntLiteral=t.AwaitExpression=t.AssignmentPattern=t.AssignmentExpression=t.ArrowFunctionExpression=t.ArrayTypeAnnotation=t.ArrayPattern=t.ArrayExpression=t.ArgumentPlaceholder=t.AnyTypeAnnotation=void 0,t.TSNumberKeyword=t.TSNullKeyword=t.TSNonNullExpression=t.TSNeverKeyword=t.TSNamespaceExportDeclaration=t.TSNamedTupleMember=t.TSModuleDeclaration=t.TSModuleBlock=t.TSMethodSignature=t.TSMappedType=t.TSLiteralType=t.TSIntrinsicKeyword=t.TSIntersectionType=t.TSInterfaceDeclaration=t.TSInterfaceBody=t.TSInstantiationExpression=t.TSInferType=t.TSIndexedAccessType=t.TSIndexSignature=t.TSImportType=t.TSImportEqualsDeclaration=t.TSFunctionType=t.TSExternalModuleReference=t.TSExpressionWithTypeArguments=t.TSExportAssignment=t.TSEnumMember=t.TSEnumDeclaration=t.TSEnumBody=t.TSDeclareMethod=t.TSDeclareFunction=t.TSConstructorType=t.TSConstructSignatureDeclaration=t.TSConditionalType=t.TSCallSignatureDeclaration=t.TSBooleanKeyword=t.TSBigIntKeyword=t.TSAsExpression=t.TSArrayType=t.TSAnyKeyword=t.SymbolTypeAnnotation=t.SwitchStatement=t.SwitchCase=t.Super=t.StringTypeAnnotation=t.StringLiteralTypeAnnotation=t.StringLiteral=t.StaticBlock=t.SpreadProperty=t.SpreadElement=t.SequenceExpression=t.ReturnStatement=t.RestProperty=t.RestElement=t.RegexLiteral=t.RegExpLiteral=t.RecordExpression=t.QualifiedTypeIdentifier=t.Program=t.PrivateName=t.Placeholder=t.PipelineTopicExpression=t.PipelinePrimaryTopicReference=t.PipelineBareFunction=t.ParenthesizedExpression=t.OptionalMemberExpression=t.OptionalIndexedAccessType=t.OptionalCallExpression=t.OpaqueType=t.ObjectTypeSpreadProperty=t.ObjectTypeProperty=t.ObjectTypeInternalSlot=t.ObjectTypeIndexer=t.ObjectTypeCallProperty=t.ObjectTypeAnnotation=t.ObjectProperty=t.ObjectPattern=t.ObjectMethod=t.ObjectExpression=t.NumericLiteral=t.NumberTypeAnnotation=t.NumberLiteralTypeAnnotation=t.NumberLiteral=t.NullableTypeAnnotation=t.NullLiteralTypeAnnotation=t.NullLiteral=t.Noop=t.NewExpression=t.ModuleExpression=t.MixedTypeAnnotation=t.MetaProperty=t.MemberExpression=t.LogicalExpression=t.LabeledStatement=t.JSXText=t.JSXSpreadChild=t.JSXSpreadAttribute=t.JSXOpeningFragment=t.JSXOpeningElement=t.JSXNamespacedName=t.JSXMemberExpression=void 0,t.YieldExpression=t.WithStatement=t.WhileStatement=t.VoidTypeAnnotation=t.VoidPattern=t.Variance=t.VariableDeclarator=t.VariableDeclaration=t.V8IntrinsicIdentifier=t.UpdateExpression=t.UnionTypeAnnotation=t.UnaryExpression=t.TypeofTypeAnnotation=t.TypeParameterInstantiation=t.TypeParameterDeclaration=t.TypeParameter=t.TypeCastExpression=t.TypeAnnotation=t.TypeAlias=t.TupleTypeAnnotation=t.TupleExpression=t.TryStatement=t.TopicReference=t.ThrowStatement=t.ThisTypeAnnotation=t.ThisExpression=t.TemplateLiteral=t.TemplateElement=t.TaggedTemplateExpression=t.TSVoidKeyword=t.TSUnknownKeyword=t.TSUnionType=t.TSUndefinedKeyword=t.TSTypeReference=t.TSTypeQuery=t.TSTypePredicate=t.TSTypeParameterInstantiation=t.TSTypeParameterDeclaration=t.TSTypeParameter=t.TSTypeOperator=t.TSTypeLiteral=t.TSTypeAssertion=t.TSTypeAnnotation=t.TSTypeAliasDeclaration=t.TSTupleType=t.TSThisType=t.TSTemplateLiteralType=t.TSSymbolKeyword=t.TSStringKeyword=t.TSSatisfiesExpression=t.TSRestType=t.TSQualifiedName=t.TSPropertySignature=t.TSParenthesizedType=t.TSParameterProperty=t.TSOptionalType=t.TSObjectKeyword=void 0;var r=n(3286);function s(e){return r[e]}n(3762),t.ArrayExpression=s("arrayExpression"),t.AssignmentExpression=s("assignmentExpression"),t.BinaryExpression=s("binaryExpression"),t.InterpreterDirective=s("interpreterDirective"),t.Directive=s("directive"),t.DirectiveLiteral=s("directiveLiteral"),t.BlockStatement=s("blockStatement"),t.BreakStatement=s("breakStatement"),t.CallExpression=s("callExpression"),t.CatchClause=s("catchClause"),t.ConditionalExpression=s("conditionalExpression"),t.ContinueStatement=s("continueStatement"),t.DebuggerStatement=s("debuggerStatement"),t.DoWhileStatement=s("doWhileStatement"),t.EmptyStatement=s("emptyStatement"),t.ExpressionStatement=s("expressionStatement"),t.File=s("file"),t.ForInStatement=s("forInStatement"),t.ForStatement=s("forStatement"),t.FunctionDeclaration=s("functionDeclaration"),t.FunctionExpression=s("functionExpression"),t.Identifier=s("identifier"),t.IfStatement=s("ifStatement"),t.LabeledStatement=s("labeledStatement"),t.StringLiteral=s("stringLiteral"),t.NumericLiteral=s("numericLiteral"),t.NullLiteral=s("nullLiteral"),t.BooleanLiteral=s("booleanLiteral"),t.RegExpLiteral=s("regExpLiteral"),t.LogicalExpression=s("logicalExpression"),t.MemberExpression=s("memberExpression"),t.NewExpression=s("newExpression"),t.Program=s("program"),t.ObjectExpression=s("objectExpression"),t.ObjectMethod=s("objectMethod"),t.ObjectProperty=s("objectProperty"),t.RestElement=s("restElement"),t.ReturnStatement=s("returnStatement"),t.SequenceExpression=s("sequenceExpression"),t.ParenthesizedExpression=s("parenthesizedExpression"),t.SwitchCase=s("switchCase"),t.SwitchStatement=s("switchStatement"),t.ThisExpression=s("thisExpression"),t.ThrowStatement=s("throwStatement"),t.TryStatement=s("tryStatement"),t.UnaryExpression=s("unaryExpression"),t.UpdateExpression=s("updateExpression"),t.VariableDeclaration=s("variableDeclaration"),t.VariableDeclarator=s("variableDeclarator"),t.WhileStatement=s("whileStatement"),t.WithStatement=s("withStatement"),t.AssignmentPattern=s("assignmentPattern"),t.ArrayPattern=s("arrayPattern"),t.ArrowFunctionExpression=s("arrowFunctionExpression"),t.ClassBody=s("classBody"),t.ClassExpression=s("classExpression"),t.ClassDeclaration=s("classDeclaration"),t.ExportAllDeclaration=s("exportAllDeclaration"),t.ExportDefaultDeclaration=s("exportDefaultDeclaration"),t.ExportNamedDeclaration=s("exportNamedDeclaration"),t.ExportSpecifier=s("exportSpecifier"),t.ForOfStatement=s("forOfStatement"),t.ImportDeclaration=s("importDeclaration"),t.ImportDefaultSpecifier=s("importDefaultSpecifier"),t.ImportNamespaceSpecifier=s("importNamespaceSpecifier"),t.ImportSpecifier=s("importSpecifier"),t.ImportExpression=s("importExpression"),t.MetaProperty=s("metaProperty"),t.ClassMethod=s("classMethod"),t.ObjectPattern=s("objectPattern"),t.SpreadElement=s("spreadElement"),t.Super=s("super"),t.TaggedTemplateExpression=s("taggedTemplateExpression"),t.TemplateElement=s("templateElement"),t.TemplateLiteral=s("templateLiteral"),t.YieldExpression=s("yieldExpression"),t.AwaitExpression=s("awaitExpression"),t.Import=s("import"),t.BigIntLiteral=s("bigIntLiteral"),t.ExportNamespaceSpecifier=s("exportNamespaceSpecifier"),t.OptionalMemberExpression=s("optionalMemberExpression"),t.OptionalCallExpression=s("optionalCallExpression"),t.ClassProperty=s("classProperty"),t.ClassAccessorProperty=s("classAccessorProperty"),t.ClassPrivateProperty=s("classPrivateProperty"),t.ClassPrivateMethod=s("classPrivateMethod"),t.PrivateName=s("privateName"),t.StaticBlock=s("staticBlock"),t.ImportAttribute=s("importAttribute"),t.AnyTypeAnnotation=s("anyTypeAnnotation"),t.ArrayTypeAnnotation=s("arrayTypeAnnotation"),t.BooleanTypeAnnotation=s("booleanTypeAnnotation"),t.BooleanLiteralTypeAnnotation=s("booleanLiteralTypeAnnotation"),t.NullLiteralTypeAnnotation=s("nullLiteralTypeAnnotation"),t.ClassImplements=s("classImplements"),t.DeclareClass=s("declareClass"),t.DeclareFunction=s("declareFunction"),t.DeclareInterface=s("declareInterface"),t.DeclareModule=s("declareModule"),t.DeclareModuleExports=s("declareModuleExports"),t.DeclareTypeAlias=s("declareTypeAlias"),t.DeclareOpaqueType=s("declareOpaqueType"),t.DeclareVariable=s("declareVariable"),t.DeclareExportDeclaration=s("declareExportDeclaration"),t.DeclareExportAllDeclaration=s("declareExportAllDeclaration"),t.DeclaredPredicate=s("declaredPredicate"),t.ExistsTypeAnnotation=s("existsTypeAnnotation"),t.FunctionTypeAnnotation=s("functionTypeAnnotation"),t.FunctionTypeParam=s("functionTypeParam"),t.GenericTypeAnnotation=s("genericTypeAnnotation"),t.InferredPredicate=s("inferredPredicate"),t.InterfaceExtends=s("interfaceExtends"),t.InterfaceDeclaration=s("interfaceDeclaration"),t.InterfaceTypeAnnotation=s("interfaceTypeAnnotation"),t.IntersectionTypeAnnotation=s("intersectionTypeAnnotation"),t.MixedTypeAnnotation=s("mixedTypeAnnotation"),t.EmptyTypeAnnotation=s("emptyTypeAnnotation"),t.NullableTypeAnnotation=s("nullableTypeAnnotation"),t.NumberLiteralTypeAnnotation=s("numberLiteralTypeAnnotation"),t.NumberTypeAnnotation=s("numberTypeAnnotation"),t.ObjectTypeAnnotation=s("objectTypeAnnotation"),t.ObjectTypeInternalSlot=s("objectTypeInternalSlot"),t.ObjectTypeCallProperty=s("objectTypeCallProperty"),t.ObjectTypeIndexer=s("objectTypeIndexer"),t.ObjectTypeProperty=s("objectTypeProperty"),t.ObjectTypeSpreadProperty=s("objectTypeSpreadProperty"),t.OpaqueType=s("opaqueType"),t.QualifiedTypeIdentifier=s("qualifiedTypeIdentifier"),t.StringLiteralTypeAnnotation=s("stringLiteralTypeAnnotation"),t.StringTypeAnnotation=s("stringTypeAnnotation"),t.SymbolTypeAnnotation=s("symbolTypeAnnotation"),t.ThisTypeAnnotation=s("thisTypeAnnotation"),t.TupleTypeAnnotation=s("tupleTypeAnnotation"),t.TypeofTypeAnnotation=s("typeofTypeAnnotation"),t.TypeAlias=s("typeAlias"),t.TypeAnnotation=s("typeAnnotation"),t.TypeCastExpression=s("typeCastExpression"),t.TypeParameter=s("typeParameter"),t.TypeParameterDeclaration=s("typeParameterDeclaration"),t.TypeParameterInstantiation=s("typeParameterInstantiation"),t.UnionTypeAnnotation=s("unionTypeAnnotation"),t.Variance=s("variance"),t.VoidTypeAnnotation=s("voidTypeAnnotation"),t.EnumDeclaration=s("enumDeclaration"),t.EnumBooleanBody=s("enumBooleanBody"),t.EnumNumberBody=s("enumNumberBody"),t.EnumStringBody=s("enumStringBody"),t.EnumSymbolBody=s("enumSymbolBody"),t.EnumBooleanMember=s("enumBooleanMember"),t.EnumNumberMember=s("enumNumberMember"),t.EnumStringMember=s("enumStringMember"),t.EnumDefaultedMember=s("enumDefaultedMember"),t.IndexedAccessType=s("indexedAccessType"),t.OptionalIndexedAccessType=s("optionalIndexedAccessType"),t.JSXAttribute=s("jsxAttribute"),t.JSXClosingElement=s("jsxClosingElement"),t.JSXElement=s("jsxElement"),t.JSXEmptyExpression=s("jsxEmptyExpression"),t.JSXExpressionContainer=s("jsxExpressionContainer"),t.JSXSpreadChild=s("jsxSpreadChild"),t.JSXIdentifier=s("jsxIdentifier"),t.JSXMemberExpression=s("jsxMemberExpression"),t.JSXNamespacedName=s("jsxNamespacedName"),t.JSXOpeningElement=s("jsxOpeningElement"),t.JSXSpreadAttribute=s("jsxSpreadAttribute"),t.JSXText=s("jsxText"),t.JSXFragment=s("jsxFragment"),t.JSXOpeningFragment=s("jsxOpeningFragment"),t.JSXClosingFragment=s("jsxClosingFragment"),t.Noop=s("noop"),t.Placeholder=s("placeholder"),t.V8IntrinsicIdentifier=s("v8IntrinsicIdentifier"),t.ArgumentPlaceholder=s("argumentPlaceholder"),t.BindExpression=s("bindExpression"),t.Decorator=s("decorator"),t.DoExpression=s("doExpression"),t.ExportDefaultSpecifier=s("exportDefaultSpecifier"),t.RecordExpression=s("recordExpression"),t.TupleExpression=s("tupleExpression"),t.DecimalLiteral=s("decimalLiteral"),t.ModuleExpression=s("moduleExpression"),t.TopicReference=s("topicReference"),t.PipelineTopicExpression=s("pipelineTopicExpression"),t.PipelineBareFunction=s("pipelineBareFunction"),t.PipelinePrimaryTopicReference=s("pipelinePrimaryTopicReference"),t.VoidPattern=s("voidPattern"),t.TSParameterProperty=s("tsParameterProperty"),t.TSDeclareFunction=s("tsDeclareFunction"),t.TSDeclareMethod=s("tsDeclareMethod"),t.TSQualifiedName=s("tsQualifiedName"),t.TSCallSignatureDeclaration=s("tsCallSignatureDeclaration"),t.TSConstructSignatureDeclaration=s("tsConstructSignatureDeclaration"),t.TSPropertySignature=s("tsPropertySignature"),t.TSMethodSignature=s("tsMethodSignature"),t.TSIndexSignature=s("tsIndexSignature"),t.TSAnyKeyword=s("tsAnyKeyword"),t.TSBooleanKeyword=s("tsBooleanKeyword"),t.TSBigIntKeyword=s("tsBigIntKeyword"),t.TSIntrinsicKeyword=s("tsIntrinsicKeyword"),t.TSNeverKeyword=s("tsNeverKeyword"),t.TSNullKeyword=s("tsNullKeyword"),t.TSNumberKeyword=s("tsNumberKeyword"),t.TSObjectKeyword=s("tsObjectKeyword"),t.TSStringKeyword=s("tsStringKeyword"),t.TSSymbolKeyword=s("tsSymbolKeyword"),t.TSUndefinedKeyword=s("tsUndefinedKeyword"),t.TSUnknownKeyword=s("tsUnknownKeyword"),t.TSVoidKeyword=s("tsVoidKeyword"),t.TSThisType=s("tsThisType"),t.TSFunctionType=s("tsFunctionType"),t.TSConstructorType=s("tsConstructorType"),t.TSTypeReference=s("tsTypeReference"),t.TSTypePredicate=s("tsTypePredicate"),t.TSTypeQuery=s("tsTypeQuery"),t.TSTypeLiteral=s("tsTypeLiteral"),t.TSArrayType=s("tsArrayType"),t.TSTupleType=s("tsTupleType"),t.TSOptionalType=s("tsOptionalType"),t.TSRestType=s("tsRestType"),t.TSNamedTupleMember=s("tsNamedTupleMember"),t.TSUnionType=s("tsUnionType"),t.TSIntersectionType=s("tsIntersectionType"),t.TSConditionalType=s("tsConditionalType"),t.TSInferType=s("tsInferType"),t.TSParenthesizedType=s("tsParenthesizedType"),t.TSTypeOperator=s("tsTypeOperator"),t.TSIndexedAccessType=s("tsIndexedAccessType"),t.TSMappedType=s("tsMappedType"),t.TSTemplateLiteralType=s("tsTemplateLiteralType"),t.TSLiteralType=s("tsLiteralType"),t.TSExpressionWithTypeArguments=s("tsExpressionWithTypeArguments"),t.TSInterfaceDeclaration=s("tsInterfaceDeclaration"),t.TSInterfaceBody=s("tsInterfaceBody"),t.TSTypeAliasDeclaration=s("tsTypeAliasDeclaration"),t.TSInstantiationExpression=s("tsInstantiationExpression"),t.TSAsExpression=s("tsAsExpression"),t.TSSatisfiesExpression=s("tsSatisfiesExpression"),t.TSTypeAssertion=s("tsTypeAssertion"),t.TSEnumBody=s("tsEnumBody"),t.TSEnumDeclaration=s("tsEnumDeclaration"),t.TSEnumMember=s("tsEnumMember"),t.TSModuleDeclaration=s("tsModuleDeclaration"),t.TSModuleBlock=s("tsModuleBlock"),t.TSImportType=s("tsImportType"),t.TSImportEqualsDeclaration=s("tsImportEqualsDeclaration"),t.TSExternalModuleReference=s("tsExternalModuleReference"),t.TSNonNullExpression=s("tsNonNullExpression"),t.TSExportAssignment=s("tsExportAssignment"),t.TSNamespaceExportDeclaration=s("tsNamespaceExportDeclaration"),t.TSTypeAnnotation=s("tsTypeAnnotation"),t.TSTypeParameterInstantiation=s("tsTypeParameterInstantiation"),t.TSTypeParameterDeclaration=s("tsTypeParameterDeclaration"),t.TSTypeParameter=s("tsTypeParameter"),t.NumberLiteral=r.numberLiteral,t.RegexLiteral=r.regexLiteral,t.RestProperty=r.restProperty,t.SpreadProperty=r.spreadProperty},6814:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3874),s=n(5781),i=(n(3019),n(3599)),a=n(2352),o=a,c=n(7411);const l=n(120),p=n(9961),{assignmentExpression:u,callExpression:h,cloneNode:d,getBindingIdentifiers:f,identifier:m,isArrayExpression:y,isBinary:g,isCallExpression:T,isClass:S,isClassBody:b,isClassDeclaration:E,isExportAllDeclaration:x,isExportDefaultDeclaration:v,isExportNamedDeclaration:P,isFunctionDeclaration:A,isIdentifier:w,isImportDeclaration:C,isLiteral:I,isMemberExpression:O,isMethod:_,isModuleSpecifier:L,isNullLiteral:N,isObjectExpression:k,isProperty:R,isPureish:M,isRegExpLiteral:D,isSuper:U,isTaggedTemplateExpression:F,isTemplateLiteral:B,isThisExpression:j,isUnaryExpression:$,isVariableDeclaration:V,expressionStatement:W,matchesPattern:K,memberExpression:G,numericLiteral:q,toIdentifier:z,variableDeclaration:H,variableDeclarator:Y,isRecordExpression:J,isTupleExpression:X,isObjectProperty:Q,isTopicReference:Z,isMetaProperty:ee,isPrivateName:te,isExportDeclaration:ne,buildUndefinedNode:re,sequenceExpression:se}=a;function ie(e,t){switch(null==e?void 0:e.type){default:var n;if(C(e)||ne(e))if((x(e)||P(e)||C(e))&&e.source)ie(e.source,t);else if((P(e)||C(e))&&null!=(n=e.specifiers)&&n.length)for(const n of e.specifiers)ie(n,t);else(v(e)||P(e))&&e.declaration&&ie(e.declaration,t);else L(e)?ie(e.local,t):!I(e)||N(e)||D(e)||B(e)||t.push(e.value);break;case"MemberExpression":case"OptionalMemberExpression":case"JSXMemberExpression":ie(e.object,t),ie(e.property,t);break;case"Identifier":case"JSXIdentifier":t.push(e.name);break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":ie(e.callee,t);break;case"ObjectExpression":case"ObjectPattern":for(const n of e.properties)ie(n,t);break;case"SpreadElement":case"RestElement":case"UnaryExpression":case"UpdateExpression":ie(e.argument,t);break;case"ObjectProperty":case"ObjectMethod":case"ClassProperty":case"ClassMethod":case"ClassPrivateProperty":case"ClassPrivateMethod":ie(e.key,t);break;case"ThisExpression":t.push("this");break;case"Super":t.push("super");break;case"Import":case"ImportExpression":t.push("import");break;case"DoExpression":t.push("do");break;case"YieldExpression":t.push("yield"),ie(e.argument,t);break;case"AwaitExpression":t.push("await"),ie(e.argument,t);break;case"AssignmentExpression":ie(e.left,t);break;case"VariableDeclarator":case"FunctionExpression":case"FunctionDeclaration":case"ClassExpression":case"ClassDeclaration":case"PrivateName":ie(e.id,t);break;case"ParenthesizedExpression":ie(e.expression,t);break;case"MetaProperty":ie(e.meta,t),ie(e.property,t);break;case"JSXElement":ie(e.openingElement,t);break;case"JSXOpeningElement":ie(e.name,t);break;case"JSXFragment":ie(e.openingFragment,t);break;case"JSXOpeningFragment":t.push("Fragment");break;case"JSXNamespacedName":ie(e.namespace,t),ie(e.name,t)}}function ae(e){e.references=Object.create(null),e.uids=Object.create(null),e.bindings=Object.create(null),e.globals=Object.create(null)}var oe=Symbol.for("should not be considered a local binding");const ce={ForStatement(e){const t=e.get("init");if(t.isVar()){const{scope:n}=e;(n.getFunctionParent()||n.getProgramParent()).registerBinding("var",t)}},Declaration(e){e.isBlockScoped()||e.isImportDeclaration()||e.isExportDeclaration()||(e.scope.getFunctionParent()||e.scope.getProgramParent()).registerDeclaration(e)},ImportDeclaration(e){e.scope.getBlockParent().registerDeclaration(e)},TSImportEqualsDeclaration(e){e.scope.getBlockParent().registerDeclaration(e)},ReferencedIdentifier(e,t){o.isTSQualifiedName(e.parent)&&e.parent.right===e.node||e.parentPath.isTSImportEqualsDeclaration()||t.references.push(e)},ForXStatement(e,t){const n=e.get("left");if(n.isPattern()||n.isIdentifier())t.constantViolations.push(e);else if(n.isVar()){const{scope:t}=e;(t.getFunctionParent()||t.getProgramParent()).registerBinding("var",n)}},ExportDeclaration:{exit(e){const{node:t,scope:n}=e;if(x(t))return;const r=t.declaration;if(E(r)||A(r)){const t=r.id;if(!t)return;const s=n.getBinding(t.name);null==s||s.reference(e)}else if(V(r))for(const t of r.declarations)for(const r of Object.keys(f(t))){const t=n.getBinding(r);null==t||t.reference(e)}}},LabeledStatement(e){e.scope.getBlockParent().registerDeclaration(e)},AssignmentExpression(e,t){t.assignments.push(e)},UpdateExpression(e,t){t.constantViolations.push(e)},UnaryExpression(e,t){"delete"===e.node.operator&&t.constantViolations.push(e)},BlockScoped(e){let t=e.scope;if(t.path===e&&(t=t.parent),t.getBlockParent().registerDeclaration(e),e.isClassDeclaration()&&e.node.id){const t=e.node.id.name;e.scope.bindings[t]=e.scope.parent.getBinding(t)}},CatchClause(e){e.scope.registerBinding("let",e)},Function(e){const t=e.get("params");for(const n of t)e.scope.registerBinding("param",n);e.isFunctionExpression()&&e.node.id&&!e.node.id[oe]&&e.scope.registerBinding("local",e.get("id"),e)},ClassExpression(e){e.node.id&&!e.node.id[oe]&&e.scope.registerBinding("local",e.get("id"),e)},TSTypeAnnotation(e){e.skip()}};let le,pe=0;class ue{constructor(e){this.uid=void 0,this.path=void 0,this.block=void 0,this.inited=void 0,this.labels=void 0,this.bindings=void 0,this.referencesSet=void 0,this.globals=void 0,this.uidsSet=void 0,this.data=void 0,this.crawling=void 0;const{node:t}=e,n=c.scope.get(t);if((null==n?void 0:n.path)===e)return n;c.scope.set(t,this),this.uid=pe++,this.block=t,this.path=e,this.labels=new Map,this.inited=!1,Object.defineProperties(this,{references:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)},uids:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)}})}get parent(){var e;let t,n=this.path;do{var r;const e="key"===n.key||"decorators"===n.listKey;n=n.parentPath,e&&n.isMethod()&&(n=n.parentPath),null!=(r=n)&&r.isScope()&&(t=n)}while(n&&!t);return null==(e=t)?void 0:e.scope}get references(){throw new Error("Scope#references is not available in Babel 8. Use Scope#referencesSet instead.")}get uids(){throw new Error("Scope#uids is not available in Babel 8. Use Scope#uidsSet instead.")}generateDeclaredUidIdentifier(e){const t=this.generateUidIdentifier(e);return this.push({id:t}),d(t)}generateUidIdentifier(e){return m(this.generateUid(e))}generateUid(e="temp"){let t;e=z(e).replace(/^_+/,"").replace(/\d+$/g,"");let n=0;do{t=`_${e}`,n>=11?t+=n-1:n>=9?t+=n-9:n>=1&&(t+=n+1),n++}while(this.hasLabel(t)||this.hasBinding(t)||this.hasGlobal(t)||this.hasReference(t));const r=this.getProgramParent();return r.references[t]=!0,r.uids[t]=!0,t}generateUidBasedOnNode(e,t){const n=[];ie(e,n);let r=n.join("$");return r=r.replace(/^_/,"")||t||"ref",this.generateUid(r.slice(0,20))}generateUidIdentifierBasedOnNode(e,t){return m(this.generateUidBasedOnNode(e,t))}isStatic(e){if(j(e)||U(e)||Z(e))return!0;if(w(e)){const t=this.getBinding(e.name);return t?t.constant:this.hasBinding(e.name)}return!1}maybeGenerateMemoised(e,t){if(this.isStatic(e))return null;{const n=this.generateUidIdentifierBasedOnNode(e);return t?n:(this.push({id:n}),d(n))}}checkBlockScopedCollisions(e,t,n,r){if("param"!==t&&"local"!==e.kind&&("let"===t||"let"===e.kind||"const"===e.kind||"module"===e.kind||"param"===e.kind&&"const"===t))throw this.path.hub.buildError(r,`Duplicate declaration "${n}"`,TypeError)}rename(e,t){const n=this.getBinding(e);n&&(t||(t=this.generateUidIdentifier(e).name),new r.default(n,e,t).rename(arguments[2]))}dump(){const e="-".repeat(60);console.log(e);let t=this;do{console.log("#",t.block.type);for(const e of Object.keys(t.bindings)){const n=t.bindings[e];console.log(" -",e,{constant:n.constant,references:n.references,violations:n.constantViolations.length,kind:n.kind})}}while(t=t.parent);console.log(e)}hasLabel(e){return!!this.getLabel(e)}getLabel(e){return this.labels.get(e)}registerLabel(e){this.labels.set(e.node.label.name,e)}registerDeclaration(e){if(e.isLabeledStatement())this.registerLabel(e);else if(e.isFunctionDeclaration())this.registerBinding("hoisted",e.get("id"),e);else if(e.isVariableDeclaration()){const t=e.get("declarations"),{kind:n}=e.node;for(const e of t)this.registerBinding("using"===n||"await using"===n?"const":n,e)}else if(e.isClassDeclaration()){if(e.node.declare)return;this.registerBinding("let",e)}else if(e.isImportDeclaration()){const t="type"===e.node.importKind||"typeof"===e.node.importKind,n=e.get("specifiers");for(const e of n){const n=t||e.isImportSpecifier()&&("type"===e.node.importKind||"typeof"===e.node.importKind);this.registerBinding(n?"unknown":"module",e)}}else if(e.isExportDeclaration()){const t=e.get("declaration");(t.isClassDeclaration()||t.isFunctionDeclaration()||t.isVariableDeclaration())&&this.registerDeclaration(t)}else this.registerBinding("unknown",e)}buildUndefinedNode(){return re()}registerConstantViolation(e){const t=e.getAssignmentIdentifiers();for(const r of Object.keys(t)){var n;null==(n=this.getBinding(r))||n.reassign(e)}}registerBinding(e,t,n=t){if(!e)throw new ReferenceError("no `kind`");if(t.isVariableDeclaration()){const n=t.get("declarations");for(const t of n)this.registerBinding(e,t);return}const r=this.getProgramParent(),s=t.getOuterBindingIdentifiers(!0);for(const t of Object.keys(s)){r.references[t]=!0;for(const r of s[t]){const s=this.getOwnBinding(t);if(s){if(s.identifier===r)continue;this.checkBlockScopedCollisions(s,e,t,r)}s?s.reassign(n):this.bindings[t]=new i.default({identifier:r,scope:this,path:n,kind:e})}}}addGlobal(e){this.globals[e.name]=e}hasUid(e){{let t=this;do{if(t.uids[e])return!0}while(t=t.parent);return!1}}hasGlobal(e){let t=this;do{if(t.globals[e])return!0}while(t=t.parent);return!1}hasReference(e){return!!this.getProgramParent().references[e]}isPure(e,t){if(w(e)){const n=this.getBinding(e.name);return!!n&&(!t||n.constant)}if(j(e)||ee(e)||Z(e)||te(e))return!0;var n,r,s;if(S(e))return!(e.superClass&&!this.isPure(e.superClass,t))&&!((null==(n=e.decorators)?void 0:n.length)>0)&&this.isPure(e.body,t);if(b(e)){for(const n of e.body)if(!this.isPure(n,t))return!1;return!0}if(g(e))return this.isPure(e.left,t)&&this.isPure(e.right,t);if(y(e)||X(e)){for(const n of e.elements)if(null!==n&&!this.isPure(n,t))return!1;return!0}if(k(e)||J(e)){for(const n of e.properties)if(!this.isPure(n,t))return!1;return!0}if(_(e))return!(e.computed&&!this.isPure(e.key,t)||(null==(r=e.decorators)?void 0:r.length)>0);if(R(e))return!(e.computed&&!this.isPure(e.key,t)||(null==(s=e.decorators)?void 0:s.length)>0||(Q(e)||e.static)&&null!==e.value&&!this.isPure(e.value,t));if($(e))return this.isPure(e.argument,t);if(B(e)){for(const n of e.expressions)if(!this.isPure(n,t))return!1;return!0}return F(e)?K(e.tag,"String.raw")&&!this.hasBinding("String",{noGlobals:!0})&&this.isPure(e.quasi,t):O(e)?!e.computed&&w(e.object)&&"Symbol"===e.object.name&&w(e.property)&&"for"!==e.property.name&&!this.hasBinding("Symbol",{noGlobals:!0}):T(e)?K(e.callee,"Symbol.for")&&!this.hasBinding("Symbol",{noGlobals:!0})&&1===e.arguments.length&&o.isStringLiteral(e.arguments[0]):M(e)}setData(e,t){return this.data[e]=t}getData(e){let t=this;do{const n=t.data[e];if(null!=n)return n}while(t=t.parent)}removeData(e){let t=this;do{null!=t.data[e]&&(t.data[e]=null)}while(t=t.parent)}init(){this.inited||(this.inited=!0,this.crawl())}crawl(){const e=this.path;ae(this),this.data=Object.create(null);let t=this;do{if(t.crawling)return;if(t.path.isProgram())break}while(t=t.parent);const n=t,r={references:[],constantViolations:[],assignments:[]};if(this.crawling=!0,le||(le=s.default.visitors.merge([{Scope(e){ae(e.scope)}},ce])),"Program"!==e.type){const t=le[e.type];if(t)for(const n of t.enter)n.call(r,e,r)}e.traverse(le,r),this.crawling=!1;for(const e of r.assignments){const t=e.getAssignmentIdentifiers();for(const r of Object.keys(t))e.scope.getBinding(r)||n.addGlobal(t[r]);e.scope.registerConstantViolation(e)}for(const e of r.references){const t=e.scope.getBinding(e.node.name);t?t.reference(e):n.addGlobal(e.node)}for(const e of r.constantViolations)e.scope.registerConstantViolation(e)}push(e){let t=this.path;t.isPattern()?t=this.getPatternParent().path:t.isBlockStatement()||t.isProgram()||(t=this.getBlockParent().path),t.isSwitchStatement()&&(t=(this.getFunctionParent()||this.getProgramParent()).path);const{init:n,unique:r,kind:s="var",id:i}=e;if(!n&&!r&&("var"===s||"let"===s)&&function(e){return e.isFunctionExpression()&&!e.node.id||e.isArrowFunctionExpression()}(t)&&T(t.parent,{callee:t.node})&&t.parent.arguments.length<=t.node.params.length&&w(i))return t.pushContainer("params",i),void t.scope.registerBinding("param",t.get("params")[t.node.params.length-1]);(t.isLoop()||t.isCatchClause()||t.isFunction())&&(t.ensureBlock(),t=t.get("body"));const a=null==e._blockHoist?2:e._blockHoist,o=`declaration:${s}:${a}`;let c=!r&&t.getData(o);if(!c){const e=H(s,[]);e._blockHoist=a,[c]=t.unshiftContainer("body",[e]),r||t.setData(o,c)}const l=Y(i,n),p=c.node.declarations.push(l);t.scope.registerBinding(s,c.get("declarations")[p-1])}getProgramParent(){let e=this;do{if(e.path.isProgram())return e}while(e=e.parent);throw new Error("Couldn't find a Program")}getFunctionParent(){let e=this;do{if(e.path.isFunctionParent())return e}while(e=e.parent);return null}getBlockParent(){let e=this;do{if(e.path.isBlockParent())return e}while(e=e.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getPatternParent(){let e=this;do{if(!e.path.isPattern())return e.getBlockParent()}while(e=e.parent.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getAllBindings(){const e=Object.create(null);let t=this;do{for(const n of Object.keys(t.bindings))n in e==0&&(e[n]=t.bindings[n]);t=t.parent}while(t);return e}bindingIdentifierEquals(e,t){return this.getBindingIdentifier(e)===t}getBinding(e){let t,n=this;do{const s=n.getOwnBinding(e);var r;if(s){if(null==(r=t)||!r.isPattern()||"param"===s.kind||"local"===s.kind)return s}else if(!s&&"arguments"===e&&n.path.isFunction()&&!n.path.isArrowFunctionExpression())break;t=n.path}while(n=n.parent)}getOwnBinding(e){return this.bindings[e]}getBindingIdentifier(e){var t;return null==(t=this.getBinding(e))?void 0:t.identifier}getOwnBindingIdentifier(e){const t=this.bindings[e];return null==t?void 0:t.identifier}hasOwnBinding(e){return!!this.getOwnBinding(e)}hasBinding(e,t){if(!e)return!1;let n,r,s;"object"==typeof t?(n=t.noGlobals,r=t.noUids,s=t.upToScope):"boolean"==typeof t&&(n=t);let i=this;do{if(s===i)break;if(i.hasOwnBinding(e))return!0}while(i=i.parent);return!(r||!this.hasUid(e))||!(n||!ue.globals.includes(e))||!(n||!ue.contextVariables.includes(e))}parentHasBinding(e,t){var n;return null==(n=this.parent)?void 0:n.hasBinding(e,t)}moveBindingTo(e,t){const n=this.getBinding(e);n&&(n.scope.removeOwnBinding(e),n.scope=t,t.bindings[e]=n)}removeOwnBinding(e){delete this.bindings[e]}removeBinding(e){var t;null==(t=this.getBinding(e))||t.scope.removeOwnBinding(e);{let t=this;do{t.uids[e]&&(t.uids[e]=!1)}while(t=t.parent)}}hoistVariables(e=e=>this.push({id:e})){this.crawl();const t=new Set;for(const n of Object.keys(this.bindings)){const r=this.bindings[n];if(!r)continue;const{path:s}=r;if(!s.isVariableDeclarator())continue;const{parent:i,parentPath:a}=s;if("var"!==i.kind||t.has(i))continue;let o;t.add(s.parent);const c=[];for(const t of i.declarations){null!=o||(o=t.id),t.init&&c.push(u("=",t.id,t.init));const n=Object.keys(f(t,!1,!0,!0));for(const r of n)e(m(r),null!=t.init)}if(a.parentPath.isForXStatement({left:i}))a.replaceWith(o);else if(0===c.length)a.remove();else{const e=1===c.length?c[0]:se(c);a.parentPath.isForStatement({init:i})?a.replaceWith(e):a.replaceWith(W(e))}}}}t.default=ue,ue.globals=[...l,...p],ue.contextVariables=["arguments","undefined","Infinity","NaN"],ue.prototype._renameFromMap=function(e,t,n,r){e[t]&&(e[n]=r,e[t]=null)},ue.prototype.traverse=function(e,t,n){(0,s.default)(e,t,this,n,this.path)},ue.prototype._generateUid=function(e,t){let n=e;return t>1&&(n+=t),`_${n}`},ue.prototype.toArray=function(e,t,n){if(w(e)){const t=this.getBinding(e.name);if(null!=t&&t.constant&&t.path.isGenericType("Array"))return e}if(y(e))return e;if(w(e,{name:"arguments"}))return h(G(G(G(m("Array"),m("prototype")),m("slice")),m("call")),[e]);let r;const s=[e];return!0===t?r="toConsumableArray":"number"==typeof t?(s.push(q(t)),r="slicedToArray"):r="toArray",n&&(s.unshift(this.path.hub.addHelper(r)),r="maybeArrayLike"),h(this.path.hub.addHelper(r),s)},ue.prototype.getAllBindingsOfKind=function(...e){const t=Object.create(null);for(const n of e){let e=this;do{for(const r of Object.keys(e.bindings)){const s=e.bindings[r];s.kind===n&&(t[r]=s)}e=e.parent}while(e)}return t},Object.defineProperties(ue.prototype,{parentBlock:{configurable:!0,enumerable:!0,get(){return this.path.parent}},hub:{configurable:!0,enumerable:!0,get(){return this.path.hub}}})},6922:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactParser=void 0;const c=a(n(1398)),l=a(n(2172)),p=o(n(5781));t.ReactParser=class{async parse(e,t=!1){const n=(await c.workspace.openTextDocument(e)).getText(),r=[],s=[];try{const i=l.parse(n,{sourceType:"module",plugins:["jsx","typescript","classProperties","dynamicImport"]});if((0,p.default)(i,{FunctionDeclaration:t=>{const s=t.node;this.isReactComponent(s,n)?r.push(this.createComponentNode(s,e,"function",n)):r.push(this.createFunctionNode(s,e,n))},VariableDeclarator:t=>{const s=t.node;!s.init||"ArrowFunctionExpression"!==s.init.type&&"FunctionExpression"!==s.init.type||this.isReactComponent(s.init,n)&&r.push(this.createComponentNode(s,e,"arrow",n))},ClassDeclaration:t=>{const s=t.node;this.isReactClassComponent(s)&&r.push(this.createClassComponentNode(s,e,n))},ImportDeclaration:e=>{e.node}}),0===r.length){const s=(e.fsPath.split(/[\\/]/).pop()||"module").replace(/\.(tsx?|jsx?)$/,"");(n.includes("createRoot")||n.includes("ReactDOM.render")||n.includes("render(")||t)&&r.push(this.createModuleNode(e,n,s))}return this.extractRelationships(i,r,s),{nodes:r,edges:s}}catch(t){return console.error(`Failed to parse ${e.fsPath}:`,t),{nodes:[],edges:[]}}}createModuleNode(e,t,n){const r=t.split("\n");return{id:`${e.fsPath}:module:${n}`,label:n,type:"module",language:e.fsPath.endsWith(".tsx")||e.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:e.fsPath,startLine:1,endLine:r.length,sourceCode:t,isEntryPoint:!0,documentation:{summary:`Entry point module ${n}`,description:"Application bootstrap file that initializes React and renders the root component",persona:{developer:"Entry point that bootstraps the application. Contains ReactDOM.createRoot() or render() call.","product-manager":"Application entry point - where the app starts",architect:"Bootstrap module following React 18 patterns","business-analyst":"Application initialization"}}}}isReactComponent(e,t){return e.body&&"BlockStatement"===e.body.type?this.hasJSXReturn(e.body):!(!e.body||"JSXElement"!==e.body.type)}hasJSXReturn(e){return"ReturnStatement"===e.type?e.argument&&"JSXElement"===e.argument.type:!(!e.body||!Array.isArray(e.body))&&e.body.some(e=>this.hasJSXReturn(e))}isReactClassComponent(e){if(e.superClass){const t=e.superClass;if("Identifier"===t.type&&"Component"===t.name)return!0;if("MemberExpression"===t.type&&t.property&&"Component"===t.property.name)return!0}return!1}createComponentNode(e,t,n,r){const s=e.id?.name||e.key?.name||"Anonymous";return r.split("\n"),{id:`${t.fsPath}:component:${s}`,label:s,type:"component",language:t.fsPath.endsWith(".tsx")||t.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:t.fsPath,startLine:e.loc?.start.line||0,endLine:e.loc?.end.line||0,sourceCode:this.extractSource(r,e.loc?.start.line,e.loc?.end.line),props:this.extractProps(e),hooks:this.extractHooks(e),documentation:this.generateDocumentation(s,"component")}}createFunctionNode(e,t,n){const r=e.id?.name||"Anonymous";return{id:`${t.fsPath}:function:${r}:${e.loc?.start.line}`,label:r,type:"function",language:t.fsPath.endsWith(".tsx")||t.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:t.fsPath,startLine:e.loc?.start.line||0,endLine:e.loc?.end.line||0,sourceCode:this.extractSource(n,e.loc?.start.line,e.loc?.end.line),parameters:this.extractParameters(e),documentation:this.generateDocumentation(r,"function")}}createClassComponentNode(e,t,n){const r=e.id?.name||"Anonymous";return{id:`${t.fsPath}:class:${r}`,label:r,type:"class",language:t.fsPath.endsWith(".tsx")||t.fsPath.endsWith(".ts")?"typescript":"javascript",filePath:t.fsPath,startLine:e.loc?.start.line||0,endLine:e.loc?.end.line||0,sourceCode:this.extractSource(n,e.loc?.start.line,e.loc?.end.line),documentation:this.generateDocumentation(r,"class")}}extractProps(e){const t=[];if(e.params&&e.params.length>0){const n=e.params[0];"ObjectPattern"===n.type&&n.properties.forEach(e=>{e.key&&t.push(e.key.name)})}return t}extractHooks(e){return[]}extractParameters(e){const t=[];return e.params&&e.params.forEach(e=>{t.push({name:e.name||"unknown",type:e.typeAnnotation?.typeAnnotation?.type||"any"})}),t}extractSource(e,t,n){return t&&n?e.split("\n").slice(t-1,n).join("\n"):""}extractRelationships(e,t,n){const r=t.filter(e=>"module"===e.type||e.isEntryPoint),s=t.filter(e=>"component"===e.type||"class"===e.type),i=t.filter(e=>"function"===e.type||"method"===e.type);if(r.forEach(e=>{s.forEach(t=>{t.filePath===e.filePath&&t.id!==e.id&&n.push({from:e.id,to:t.id,type:"contains",label:"contains"})}),i.forEach(t=>{t.filePath===e.filePath&&(s.some(e=>e.filePath===t.filePath&&e.startLine<=t.startLine&&e.endLine>=t.endLine)||n.push({from:e.id,to:t.id,type:"contains",label:"contains"}))})}),s.forEach(e=>{i.forEach(t=>{t.filePath===e.filePath&&t.startLine>e.startLine&&t.endLine<e.endLine&&n.push({from:e.id,to:t.id,type:"contains",label:"contains"})})}),0===r.length&&s.length>0){const e=[...s].sort((e,t)=>e.filePath.localeCompare(t.filePath)),t=new Map;e.forEach(e=>{const n=t.get(e.filePath)||[];n.push(e),t.set(e.filePath,n)})}}generateDocumentation(e,t){return{summary:`${t.charAt(0).toUpperCase()+t.slice(1)} ${e}`,description:`Auto-generated documentation for ${t} ${e}`,persona:{developer:`Implementation details of ${e}`,"product-manager":`User-facing functionality of ${e}`,architect:`Design patterns used in ${e}`,"business-analyst":`Business logic in ${e}`}}}}},6928:e=>{"use strict";e.exports=require("path")},6982:e=>{"use strict";e.exports=require("crypto")},7003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){if("object"!=typeof t||"object"!=typeof n||null==t||null==n)return t===n;if(t.type!==n.type)return!1;const s=Object.keys(r.NODE_FIELDS[t.type]||t.type),i=r.VISITOR_KEYS[t.type];for(const r of s){const s=t[r],a=n[r];if(typeof s!=typeof a)return!1;if(null!=s||null!=a){if(null==s||null==a)return!1;if(Array.isArray(s)){if(!Array.isArray(a))return!1;if(s.length!==a.length)return!1;for(let t=0;t<s.length;t++)if(!e(s[t],a[t]))return!1}else if("object"!=typeof s||null!=i&&i.includes(r)){if(!e(s,a))return!1}else for(const e of Object.keys(s))if(s[e]!==a[e])return!1}}return!0};var r=n(9793)},7068:(e,t,n)=>{var r=n(7217),s=n(5911),i=n(1986),a=n(689),o=n(5861),c=n(6449),l=n(3656),p=n(7167),u="[object Arguments]",h="[object Array]",d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var T=c(e),S=c(t),b=T?h:o(e),E=S?h:o(t),x=(b=b==u?d:b)==d,v=(E=E==u?d:E)==d,P=b==E;if(P&&l(e)){if(!l(t))return!1;T=!0,x=!1}if(P&&!x)return g||(g=new r),T||p(e)?s(e,t,n,m,y,g):i(e,t,b,n,m,y,g);if(!(1&n)){var A=x&&f.call(e,"__wrapped__"),w=v&&f.call(t,"__wrapped__");if(A||w){var C=A?e.value():e,I=w?t.value():t;return g||(g=new r),y(C,I,n,m,g)}}return!!P&&(g||(g=new r),a(e,t,n,m,y,g))}},7095:(e,t,n)=>{"use strict";var r=n(7596);(0,r.default)("ArgumentPlaceholder",{}),(0,r.default)("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:process.env.BABEL_TYPES_8_BREAKING?{object:{validate:(0,r.assertNodeType)("Expression")},callee:{validate:(0,r.assertNodeType)("Expression")}}:{object:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})}}}),(0,r.default)("Decorator",{visitor:["expression"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}}}),(0,r.default)("DoExpression",{visitor:["body"],builder:["body","async"],aliases:["Expression"],fields:{body:{validate:(0,r.assertNodeType)("BlockStatement")},async:{validate:(0,r.assertValueType)("boolean"),default:!1}}}),(0,r.default)("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,r.assertNodeType)("Identifier")}}}),(0,r.default)("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:(0,r.validateArrayOfType)("ObjectProperty","SpreadElement")}}),(0,r.default)("TupleExpression",{fields:{elements:{validate:(0,r.arrayOfType)("Expression","SpreadElement"),default:[]}},visitor:["elements"],aliases:["Expression"]}),(0,r.default)("DecimalLiteral",{builder:["value"],fields:{value:{validate:(0,r.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,r.default)("ModuleExpression",{visitor:["body"],fields:{body:{validate:(0,r.assertNodeType)("Program")}},aliases:["Expression"]}),(0,r.default)("TopicReference",{aliases:["Expression"]}),(0,r.default)("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,r.default)("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:(0,r.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,r.default)("PipelinePrimaryTopicReference",{aliases:["Expression"]}),(0,r.default)("VoidPattern",{aliases:["Pattern","PatternLike","FunctionParameter"]})},7145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2352),s=r;const{react:i}=r,{cloneNode:a,jsxExpressionContainer:o,variableDeclaration:c,variableDeclarator:l}=s,p={ReferencedIdentifier(e,t){if(e.isJSXIdentifier()&&i.isCompatTag(e.node.name)&&!e.parentPath.isJSXMemberExpression())return;if("this"===e.node.name){let n=e.scope;do{if(n.path.isFunction()&&!n.path.isArrowFunctionExpression())break}while(n=n.parent);n&&t.breakOnScopePaths.push(n.path)}const n=e.scope.getBinding(e.node.name);if(n){for(const r of n.constantViolations)if(r.scope!==n.path.scope)return t.mutableBinding=!0,void e.stop();n===t.scope.getBinding(e.node.name)&&(t.bindings[e.node.name]=n)}}};t.default=class{constructor(e,t){this.breakOnScopePaths=void 0,this.bindings=void 0,this.mutableBinding=void 0,this.scopes=void 0,this.scope=void 0,this.path=void 0,this.attachAfter=void 0,this.breakOnScopePaths=[],this.bindings={},this.mutableBinding=!1,this.scopes=[],this.scope=t,this.path=e,this.attachAfter=!1}isCompatibleScope(e){for(const t of Object.keys(this.bindings)){const n=this.bindings[t];if(!e.bindingIdentifierEquals(t,n.identifier))return!1}return!0}getCompatibleScopes(){let e=this.path.scope;do{if(!this.isCompatibleScope(e))break;if(this.scopes.push(e),this.breakOnScopePaths.includes(e.path))break}while(e=e.parent)}getAttachmentPath(){let e=this._getAttachmentPath();if(!e)return;let t=e.scope;if(t.path===e&&(t=e.scope.parent),t.path.isProgram()||t.path.isFunction())for(const n of Object.keys(this.bindings)){if(!t.hasOwnBinding(n))continue;const r=this.bindings[n];if("param"!==r.kind&&"params"!==r.path.parentKey&&this.getAttachmentParentForPath(r.path).key>=e.key){this.attachAfter=!0,e=r.path;for(const t of r.constantViolations)this.getAttachmentParentForPath(t).key>e.key&&(e=t)}}return e}_getAttachmentPath(){const e=this.scopes.pop();if(e)if(e.path.isFunction()){if(!this.hasOwnParamBindings(e))return this.getNextScopeAttachmentParent();{if(this.scope===e)return;const t=e.path.get("body").get("body");for(let e=0;e<t.length;e++)if(!t[e].node._blockHoist)return t[e]}}else if(e.path.isProgram())return this.getNextScopeAttachmentParent()}getNextScopeAttachmentParent(){const e=this.scopes.pop();if(e)return this.getAttachmentParentForPath(e.path)}getAttachmentParentForPath(e){do{if(!e.parentPath||Array.isArray(e.container)&&e.isStatement())return e}while(e=e.parentPath);return e}hasOwnParamBindings(e){for(const t of Object.keys(this.bindings)){if(!e.hasOwnBinding(t))continue;const n=this.bindings[t];if("param"===n.kind&&n.constant)return!0}return!1}run(){if(this.path.traverse(p,this),this.mutableBinding)return;this.getCompatibleScopes();const e=this.getAttachmentPath();if(!e)return;if(e.getFunctionParent()===this.path.getFunctionParent())return;let t=e.scope.generateUidIdentifier("ref");const n=l(t,this.path.node),r=this.attachAfter?"insertAfter":"insertBefore",[s]=e[r]([e.isVariableDeclarator()?n:c("var",[n])]),i=this.path.parentPath;return i.isJSXElement()&&this.path.container===i.node.children&&(t=o(t)),this.path.replaceWith(a(t)),s.isVariableDeclarator()?s.get("init"):s.get("declarations.0.init")}}},7159:e=>{"use strict";const t={},n=t.hasOwnProperty,r=(e,t)=>{for(const r in e)n.call(e,r)&&t(r,e[r])},s=e=>"\\u"+("0000"+e).slice(-4),i=(e,t)=>{let n=e.toString(16);return t?n:n.toUpperCase()},a=t.toString,o=Array.isArray,c=e=>"bigint"==typeof e,l={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},p=/[\\\b\f\n\r\t]/,u=/[0-9]/,h=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,d=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,f=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,m=(e,t)=>{const n=()=>{P=v,++t.indentLevel,v=t.indent.repeat(t.indentLevel)},y={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"\t",indentLevel:0,__inline1__:!1,__inline2__:!1},g=t&&t.json;var T,S;g&&(y.quotes="double",y.wrap=!0),T=y,t=(S=t)?(r(S,(e,t)=>{T[e]=t}),T):T,"single"!=t.quotes&&"double"!=t.quotes&&"backtick"!=t.quotes&&(t.quotes="single");const b="double"==t.quotes?'"':"backtick"==t.quotes?"`":"'",E=t.compact,x=t.lowercaseHex;let v=t.indent.repeat(t.indentLevel),P="";const A=t.__inline1__,w=t.__inline2__,C=E?"":"\n";let I,O=!0;const _="binary"==t.numbers,L="octal"==t.numbers,N="decimal"==t.numbers,k="hexadecimal"==t.numbers;if(g&&e&&"function"==typeof e.toJSON&&(e=e.toJSON()),"string"!=typeof(R=e)&&"[object String]"!=a.call(R)){if((e=>"[object Map]"==a.call(e))(e))return 0==e.size?"new Map()":(E||(t.__inline1__=!0,t.__inline2__=!1),"new Map("+m(Array.from(e),t)+")");if((e=>"[object Set]"==a.call(e))(e))return 0==e.size?"new Set()":"new Set("+m(Array.from(e),t)+")";if((e=>"function"==typeof Buffer&&Buffer.isBuffer(e))(e))return 0==e.length?"Buffer.from([])":"Buffer.from("+m(Array.from(e),t)+")";if(o(e))return I=[],t.wrap=!0,A&&(t.__inline1__=!1,t.__inline2__=!0),w||n(),((e,t)=>{const n=e.length;let r=-1;for(;++r<n;)t(e[r])})(e,e=>{O=!1,w&&(t.__inline2__=!1),I.push((E||w?"":v)+m(e,t))}),O?"[]":w?"["+I.join(", ")+"]":"["+C+I.join(","+C)+C+(E?"":P)+"]";if((e=>"number"==typeof e||"[object Number]"==a.call(e))(e)||c(e)){if(g)return JSON.stringify(Number(e));let t;if(N)t=String(e);else if(k){let n=e.toString(16);x||(n=n.toUpperCase()),t="0x"+n}else _?t="0b"+e.toString(2):L&&(t="0o"+e.toString(8));return c(e)?t+"n":t}return c(e)?g?JSON.stringify(Number(e)):e+"n":(e=>"[object Object]"==a.call(e))(e)?(I=[],t.wrap=!0,n(),r(e,(e,n)=>{O=!1,I.push((E?"":v)+m(e,t)+":"+(E?"":" ")+m(n,t))}),O?"{}":"{"+C+I.join(","+C)+C+(E?"":P)+"}"):g?JSON.stringify(e)||"null":String(e)}var R;const M=t.escapeEverything?d:f;return I=e.replace(M,(e,n,r,a,o,c)=>{if(n){if(t.minimal)return n;const e=n.charCodeAt(0),r=n.charCodeAt(1);return t.es6?"\\u{"+i(1024*(e-55296)+r-56320+65536,x)+"}":s(i(e,x))+s(i(r,x))}if(r)return s(i(r.charCodeAt(0),x));if("\0"==e&&!g&&!u.test(c.charAt(o+1)))return"\\0";if(a)return a==b||t.escapeEverything?"\\"+a:a;if(p.test(e))return l[e];if(t.minimal&&!h.test(e))return e;const d=i(e.charCodeAt(0),x);return g||d.length>2?s(d):"\\x"+("00"+d).slice(-2)}),"`"==b&&(I=I.replace(/\$\{/g,"\\${")),t.isScriptContext&&(I=I.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,g?"\\u003C!--":"\\x3C!--")),t.wrap&&(I=b+I+b),I};m.version="3.0.2",e.exports=m},7167:(e,t,n)=>{var r=n(4901),s=n(7301),i=n(6009),a=i&&i.isTypedArray,o=a?s(a):r;e.exports=o},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},7217:(e,t,n)=>{var r=n(79),s=n(1420),i=n(938),a=n(3605),o=n(9817),c=n(945);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=c,e.exports=l},7237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEnv=void 0,t.readEnv=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},7296:(e,t,n)=>{var r,s=n(5481),i=(r=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getTypeAnnotation=w,t.baseTypeStrictlyMatches=function(e){const t=this.getTypeAnnotation(),n=e.getTypeAnnotation();return!(a(t)||!p(t))&&n.type===t.type},t.couldBeBaseType=function(e){const t=this.getTypeAnnotation();if(a(t))return!0;if(E(t)){for(const n of t.types)if(a(n)||C(e,n,!0))return!0;return!1}return C(e,t,!0)},t.getTypeAnnotation=function(){let e=this.getData("typeAnnotation");return null!=e||(e=w.call(this)||i(),(b(e)||g(e))&&(e=e.typeAnnotation),this.setData("typeAnnotation",e)),e},t.isBaseType=function(e,t){return C(e,this.getTypeAnnotation(),t)},t.isGenericType=function(e){const t=this.getTypeAnnotation();return!("Array"!==e||!(y(t)||o(t)||S(t)))||(u(t)&&h(t.id,{name:e})||T(t)&&h(t.typeName,{name:e}))};var r=n(9937),s=n(2352);const{anyTypeAnnotation:i,isAnyTypeAnnotation:a,isArrayTypeAnnotation:o,isBooleanTypeAnnotation:c,isEmptyTypeAnnotation:l,isFlowBaseAnnotation:p,isGenericTypeAnnotation:u,isIdentifier:h,isMixedTypeAnnotation:d,isNumberTypeAnnotation:f,isStringTypeAnnotation:m,isTSArrayType:y,isTSTypeAnnotation:g,isTSTypeReference:T,isTupleTypeAnnotation:S,isTypeAnnotation:b,isUnionTypeAnnotation:E,isVoidTypeAnnotation:x,stringTypeAnnotation:v,voidTypeAnnotation:P}=s,A=new WeakSet;function w(){const e=this.node;if(e){if(e.typeAnnotation)return e.typeAnnotation;if(!A.has(e)){A.add(e);try{var t;let n=r[e.type];if(n)return n.call(this,e);if(n=r[this.parentPath.type],null!=(t=n)&&t.validParent)return this.parentPath.getTypeAnnotation()}finally{A.delete(e)}}}else if("init"===this.key&&this.parentPath.isVariableDeclarator()){const e=this.parentPath.parentPath,t=e.parentPath;return"left"===e.key&&t.isForInStatement()?v():"left"===e.key&&t.isForOfStatement()?i():P()}}function C(e,t,n){if("string"===e)return m(t);if("number"===e)return f(t);if("boolean"===e)return c(t);if("any"===e)return a(t);if("mixed"===e)return d(t);if("empty"===e)return l(t);if("void"===e)return x(t);if(n)return!1;throw new Error(`Unknown base type ${e}`)}},7370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Images=void 0;const r=n(2040),s=n(2018);class i extends r.APIResource{createVariation(e,t){return this._client.post("/images/variations",(0,s.multipartFormRequestOptions)({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",(0,s.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}t.Images=i},7400:(e,t,n)=>{var r=n(9374),s=1/0;e.exports=function(e){return e?(e=r(e))===s||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=function(){s(),i()},t.clearPath=s,t.clearScope=i,t.getCachedPaths=function(e){const{parent:t,parentPath:r}=e;return n.get(t)},t.getOrCreateCachedPaths=function(e,t){let r=n.get(e);return r||n.set(e,r=new Map),r},t.scope=t.path=void 0;let n=t.path=new WeakMap,r=t.scope=new WeakMap;function s(){t.path=n=new WeakMap}function i(){t.scope=r=new WeakMap}},7422:(e,t,n)=>{var r=n(1769),s=n(7797);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[s(t[n++])];return n&&n==i?e:void 0}},7427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=i(e.ast);return t&&(e.placeholders.forEach(e=>{if(!hasOwnProperty.call(t,e.name)){const t=e.name;throw new Error(`Error: No substitution given for "${t}". If this is not meant to be a\n            placeholder you may want to consider passing one of the following options to @babel/template:\n            - { placeholderPattern: false, placeholderWhitelist: new Set(['${t}'])}\n            - { placeholderPattern: /^${t}$/ }`)}}),Object.keys(t).forEach(t=>{if(!e.placeholderNames.has(t))throw new Error(`Unknown substitution "${t}" given`)})),e.placeholders.slice().reverse().forEach(e=>{try{var r;!function(e,t,n){e.isDuplicate&&(Array.isArray(n)?n=n.map(e=>i(e)):"object"==typeof n&&(n=i(n)));const{parent:r,key:d,index:f}=e.resolve(t);if("string"===e.type){if("string"==typeof n&&(n=u(n)),!n||!p(n))throw new Error("Expected string substitution")}else if("statement"===e.type)void 0===f?n?Array.isArray(n)?n=s(n):"string"==typeof n?n=o(c(n)):l(n)||(n=o(n)):n=a():n&&!Array.isArray(n)&&("string"==typeof n&&(n=c(n)),l(n)||(n=o(n)));else if("param"===e.type){if("string"==typeof n&&(n=c(n)),void 0===f)throw new Error("Assertion failure.")}else if("string"==typeof n&&(n=c(n)),Array.isArray(n))throw new Error("Cannot replace single expression with an array.");function m(e,t,n){const r=e[t];e[t]=n,"Identifier"!==r.type&&"Placeholder"!==r.type||(r.typeAnnotation&&(n.typeAnnotation=r.typeAnnotation),r.optional&&(n.optional=r.optional),r.decorators&&(n.decorators=r.decorators))}if(void 0===f)h(r,d,n),m(r,d,n);else{const t=r[d].slice();"statement"===e.type||"param"===e.type?null==n?t.splice(f,1):Array.isArray(n)?t.splice(f,1,...n):m(t,f,n):m(t,f,n),h(r,d,t),r[d]=t}}(e,n,null!=(r=t&&t[e.name])?r:null)}catch(t){throw t.message=`@babel/template placeholder "${e.name}": ${t.message}`,t}}),n};var r=n(2352);const{blockStatement:s,cloneNode:i,emptyStatement:a,expressionStatement:o,identifier:c,isStatement:l,isStringLiteral:p,stringLiteral:u,validate:h}=r},7446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e)return;const a=r.NODE_FIELDS[e.type];if(!a)return;s(e,t,n,a[t]),i(e,t,n)},t.validateChild=i,t.validateField=s,t.validateInternal=function(e,t,n,s,i){if(null!=e&&e.validate&&(!e.optional||null!=s)&&(e.validate(t,n,s),i)){var a;const e=s.type;if(null==e)return;null==(a=r.NODE_PARENT_VALIDATIONS[e])||a.call(r.NODE_PARENT_VALIDATIONS,t,n,s)}};var r=n(9793);function s(e,t,n,r){null!=r&&r.validate&&(r.optional&&null==n||r.validate(e,t,n))}function i(e,t,n){var s;const i=null==n?void 0:n.type;null!=i&&(null==(s=r.NODE_PARENT_VALIDATIONS[i])||s.call(r.NODE_PARENT_VALIDATIONS,e,t,n))}},7458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackEncoder=void 0,t.FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)})},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,n)=>{var r=n(2552),s=n(346);e.exports=function(e){return s(e)&&"[object Arguments]"==r(e)}},7556:(e,t,n)=>{var r=n(1873),s=n(4932),i=n(6449),a=n(4394),o=r?r.prototype:void 0,c=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return s(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7591:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){switch(t.type){case"MemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"JSXMemberExpression":return t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"PrivateName":case"LabeledStatement":case"CatchClause":case"RestElement":case"BreakStatement":case"ContinueStatement":case"FunctionDeclaration":case"FunctionExpression":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportAttribute":case"JSXAttribute":case"ObjectPattern":case"ArrayPattern":case"MetaProperty":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return t.key===e&&!!t.computed;case"ObjectProperty":return t.key===e?!!t.computed:!n||"ObjectPattern"!==n.type;case"ClassProperty":case"ClassAccessorProperty":case"TSPropertySignature":return t.key!==e||!!t.computed;case"ClassPrivateProperty":case"ObjectTypeProperty":return t.key!==e;case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":case"AssignmentPattern":return t.right===e;case"ExportSpecifier":return(null==n||!n.source)&&t.local===e;case"TSEnumMember":return t.id!==e}return!0}},7596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allExpandedTypes=t.VISITOR_KEYS=t.NODE_UNION_SHAPES__PRIVATE=t.NODE_PARENT_VALIDATIONS=t.NODE_FIELDS=t.FLIPPED_ALIAS_KEYS=t.DEPRECATED_KEYS=t.BUILDER_KEYS=t.ALIAS_KEYS=void 0,t.arrayOf=m,t.arrayOfType=y,t.assertEach=g,t.assertNodeOrValueType=function(...e){function t(t,n,i){const a=d(i);for(const o of e)if(a===o||(0,r.default)(o,i))return void(0,s.validateChild)(t,n,i);throw new TypeError(`Property ${n} of ${t.type} expected node to be of a type ${JSON.stringify(e)} but instead got ${JSON.stringify(null==i?void 0:i.type)}`)}return t.oneOfNodeOrValueTypes=e,t},t.assertNodeType=S,t.assertOneOf=function(...e){function t(t,n,r){if(!e.includes(r))throw new TypeError(`Property ${n} expected value to be one of ${JSON.stringify(e)} but got ${JSON.stringify(r)}`)}return t.oneOf=e,t},t.assertOptionalChainStart=function(){return function(e){var t;let n=e;for(;e;){const{type:e}=n;if("OptionalCallExpression"!==e){if("OptionalMemberExpression"!==e)break;if(n.optional)return;n=n.object}else{if(n.optional)return;n=n.callee}}throw new TypeError(`Non-optional ${e.type} must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from ${null==(t=n)?void 0:t.type}`)}},t.assertShape=function(e){const t=Object.keys(e);function n(n,r,i){const a=[];for(const r of t)try{(0,s.validateField)(n,r,i[r],e[r])}catch(e){if(e instanceof TypeError){a.push(e.message);continue}throw e}if(a.length)throw new TypeError(`Property ${r} of ${n.type} expected to have the following:\n${a.join("\n")}`)}return n.shapeOf=e,n},t.assertValueType=b,t.chain=E,t.default=A,t.defineAliasedType=function(...e){return(t,n={})=>{let r=n.aliases;var s;r||(n.inherits&&(r=null==(s=P[n.inherits].aliases)?void 0:s.slice()),null!=r||(r=[]),n.aliases=r);const i=e.filter(e=>!r.includes(e));r.unshift(...i),A(t,n)}},t.validate=f,t.validateArrayOfType=function(...e){return f(y(...e))},t.validateOptional=function(e){return{validate:e,optional:!0}},t.validateOptionalType=function(...e){return{validate:S(...e),optional:!0}},t.validateType=function(...e){return f(S(...e))};var r=n(3828),s=n(7446);const i=t.VISITOR_KEYS={},a=t.ALIAS_KEYS={},o=t.FLIPPED_ALIAS_KEYS={},c=t.NODE_FIELDS={},l=t.BUILDER_KEYS={},p=t.DEPRECATED_KEYS={},u=t.NODE_PARENT_VALIDATIONS={},h=t.NODE_UNION_SHAPES__PRIVATE={};function d(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function f(e){return{validate:e}}function m(e){return E(b("array"),g(e))}function y(...e){return m(S(...e))}function g(e){const t=process.env.BABEL_TYPES_8_BREAKING?s.validateChild:()=>{};function n(n,r,s){if(!Array.isArray(s))return;let i=0;const a={toString:()=>`${r}[${i}]`};for(;i<s.length;i++){const r=s[i];e(n,a,r),t(n,a,r)}}return n.each=e,n}const T=t.allExpandedTypes=[];function S(...e){const t=new Set;function n(n,i,a){const o=null==a?void 0:a.type;if(null!=o){if(t.has(o))return void(0,s.validateChild)(n,i,a);if("Placeholder"===o)for(const t of e)if((0,r.default)(t,a))return void(0,s.validateChild)(n,i,a)}throw new TypeError(`Property ${i} of ${n.type} expected node to be of a type ${JSON.stringify(e)} but instead got ${JSON.stringify(o)}`)}return T.push({types:e,set:t}),n.oneOfNodeTypes=e,n}function b(e){function t(t,n,r){if(d(r)!==e)throw new TypeError(`Property ${n} expected type of ${e} but got ${d(r)}`)}return t.type=e,t}function E(...e){function t(...t){for(const n of e)n(...t)}if(t.chainOf=e,e.length>=2&&"type"in e[0]&&"array"===e[0].type&&!("each"in e[1]))throw new Error('An assertValueType("array") validator can only be followed by an assertEach(...) validator.');return t}const x=new Set(["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate","unionShape"]),v=new Set(["default","optional","deprecated","validate"]),P={};function A(e,t={}){const n=t.inherits&&P[t.inherits]||{};let r=t.fields;if(!r&&(r={},n.fields)){const e=Object.getOwnPropertyNames(n.fields);for(const t of e){const e=n.fields[t],s=e.default;if(Array.isArray(s)?s.length>0:s&&"object"==typeof s)throw new Error("field defaults can only be primitives or empty arrays currently");r[t]={default:Array.isArray(s)?[]:s,optional:e.optional,deprecated:e.deprecated,validate:e.validate}}}const s=t.visitor||n.visitor||[],f=t.aliases||n.aliases||[],m=t.builder||n.builder||t.visitor||[];for(const n of Object.keys(t))if(!x.has(n))throw new Error(`Unknown type option "${n}" on ${e}`);t.deprecatedAlias&&(p[t.deprecatedAlias]=e);for(const e of s.concat(m))r[e]=r[e]||{};for(const t of Object.keys(r)){const n=r[t];void 0===n.default||m.includes(t)||(n.optional=!0),void 0===n.default?n.default=null:n.validate||null==n.default||(n.validate=b(d(n.default)));for(const r of Object.keys(n))if(!v.has(r))throw new Error(`Unknown field key "${r}" on ${e}.${t}`)}i[e]=t.visitor=s,l[e]=t.builder=m,c[e]=t.fields=r,a[e]=t.aliases=f,f.forEach(t=>{o[t]=o[t]||[],o[t].push(e)}),t.validate&&(u[e]=t.validate),t.unionShape&&(h[e]=t.unionShape),P[e]=t}},7623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphBuilder=void 0,t.GraphBuilder=class{build(e,t,n){const r=this.deduplicateNodes(e),s=this.deduplicateEdges(t),i={totalFiles:new Set(r.map(e=>e.filePath)).size,totalNodes:r.length,languages:[...new Set(r.map(e=>e.language))],rootPath:n,analyzedAt:new Date};return{nodes:r,edges:s,metadata:i}}buildFromEntryPoints(e,t,n,r){const s=this.deduplicateNodes(e),i=this.deduplicateEdges(t),a={totalFiles:new Set(s.map(e=>e.filePath)).size,totalNodes:s.length,languages:[...new Set(s.map(e=>e.language))],rootPath:n,analyzedAt:new Date,entryPoints:r};return{nodes:s,edges:i,metadata:a}}deduplicateNodes(e){const t=new Map;return e.forEach(e=>{t.has(e.id)||t.set(e.id,e)}),Array.from(t.values())}deduplicateEdges(e){const t=new Set;return e.filter(e=>{const n=`${e.from}-${e.to}-${e.type}`;return!t.has(n)&&(t.add(n),!0)})}filterByDepth(e,t,n){const r=new Set,s=new Set,i=[],a=(t,o)=>{o>n||r.has(t)||(r.add(t),s.add(t),e.edges.filter(e=>e.from===t).forEach(e=>{i.push(e),a(e.to,o+1)}))};return a(t,0),{nodes:e.nodes.filter(e=>s.has(e.id)),edges:i,metadata:{...e.metadata,totalNodes:s.size}}}getDependencies(e,t){const n=e.nodes.find(e=>e.id===t);if(!n)return[];const r=e.edges.filter(e=>e.from===n.filePath).map(e=>e.to);return e.nodes.filter(e=>r.includes(e.filePath))}getDependents(e,t){const n=e.nodes.find(e=>e.id===t);if(!n)return[];const r=e.edges.filter(e=>e.to===n.filePath).map(e=>e.from);return e.nodes.filter(e=>r.includes(e.filePath))}}},7639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e,s.default,t),e};var r=n(8943),s=n(5333)},7655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const r=n(2040),s=n(2018);class i extends r.APIResource{create(e,t){return this._client.post("/audio/translations",(0,s.multipartFormRequestOptions)({body:e,...t,__metadata:{model:e.model}},this._client))}}t.Translations=i},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7687:(e,t,n)=>{"use strict";const r=n(857),s=n(9637),i=n(5884),{env:a}=process;let o;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===o)return 0;const n=o||0;if("dumb"===a.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:n;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){const e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:n}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?o=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=1),"FORCE_COLOR"in a&&(o="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,s.isatty(1))),stderr:c(l(!0,s.isatty(2)))}},7730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStreamingRunner=void 0;const r=n(5126);class s extends r.ChatCompletionStream{static fromReadableStream(e){const t=new s(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,n){const r=new s(t),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,i)),r}}t.ChatCompletionStreamingRunner=s},7733:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Steps=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4815);class o extends r.APIResource{retrieve(e,t,n){const{thread_id:r,run_id:s,...o}=t;return this._client.get(a.path`/threads/${r}/runs/${s}/steps/${e}`,{query:o,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t,n){const{thread_id:r,...o}=t;return this._client.getAPIList(a.path`/threads/${r}/runs/${e}/steps`,s.CursorPage,{query:o,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Steps=o},7759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeParseResponse=function(e,t){return t&&o(t)?i(e,t):{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)}},t.parseResponse=i,t.hasAutoParseableInput=o,t.makeParseableResponseTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=c,t.shouldParseToolCall=function(e,t){if(!e)return!1;const n=l(e.tools??[],t.name);return c(n)||n?.strict||!1},t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}},t.addOutputText=u;const r=n(9526),s=n(3357);function i(e,t){const n=e.output.map(e=>{if("function_call"===e.type)return{...e,parsed_arguments:p(t,e)};if("message"===e.type){const n=e.content.map(e=>"output_text"===e.type?{...e,parsed:a(t,e.text)}:e);return{...e,content:n}}return e}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||u(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function a(e,t){if("json_schema"!==e.text?.format?.type)return null;if("$parseRaw"in e.text?.format){const n=e.text?.format;return n.$parseRaw(t)}return JSON.parse(t)}function o(e){return!!(0,s.isAutoParsableResponseFormat)(e.text?.format)}function c(e){return"auto-parseable-tool"===e?.$brand}function l(e,t){return e.find(e=>"function"===e.type&&e.name===t)}function p(e,t){const n=l(e.tools??[],t.name);return{...t,...t,parsed_arguments:c(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function u(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},7833:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(736)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0,t.hooks=[function(e,t){if("test"===e.key&&(t.isWhile()||t.isSwitchCase())||"declaration"===e.key&&t.isExportDeclaration()||"body"===e.key&&t.isLabeledStatement()||"declarations"===e.listKey&&t.isVariableDeclaration()&&1===t.node.declarations.length||"expression"===e.key&&t.isExpressionStatement())return t.remove(),!0},function(e,t){if(t.isSequenceExpression()&&1===t.node.expressions.length)return t.replaceWith(t.node.expressions[0]),!0},function(e,t){if(t.isBinary())return"left"===e.key?t.replaceWith(t.node.right):t.replaceWith(t.node.left),!0},function(e,t){if(t.isIfStatement()&&"consequent"===e.key||"body"===e.key&&(t.isLoop()||t.isArrowFunctionExpression()))return e.replaceWith({type:"BlockStatement",directives:[],body:[]}),!0}]},7878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=class{getCode(){}getScope(){}addHelper(){throw new Error("Helpers are not supported by the default hub.")}buildError(e,t,n=TypeError){return new n(t)}}},7924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(5062)),a=n(5062),o=n(5552),c=n(262),l=n(2018),p=n(4815);class u extends s.APIResource{constructor(){super(...arguments),this.content=new i.Content(this._client)}create(e,t,n){return this._client.post(p.path`/containers/${e}/files`,(0,l.multipartFormRequestOptions)({body:t,...n},this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(p.path`/containers/${r}/files/${e}`,n)}list(e,t={},n){return this._client.getAPIList(p.path`/containers/${e}/files`,o.CursorPage,{query:t,...n})}delete(e,t,n){const{container_id:r}=t;return this._client.delete(p.path`/containers/${r}/files/${e}`,{...n,headers:(0,c.buildHeaders)([{Accept:"*/*"},n?.headers])})}}t.Files=u,u.Content=a.Content},7931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t="body"){const n=(0,r.default)(e[t],e);return e[t]=n,n};var r=n(5010)},7932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("innerComments",e,t)};var r=n(3205)},7942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentPlaceholder=function(){this.tokenChar(63)},t.ArrayPattern=t.ArrayExpression=function(e){const t=e.elements,n=t.length;this.tokenChar(91);const r=this.enterDelimited();for(let e=0;e<t.length;e++){const r=t[e];r?(e>0&&this.space(),this.print(r),(e<n-1||this.shouldPrintTrailingComma("]"))&&this.token(",",!1,e)):this.token(",",!1,e)}r(),this.tokenChar(93)},t.BigIntLiteral=function(e){const t=this.getPossibleRaw(e);this.format.minified||void 0===t?this.word(e.value+"n"):this.word(t)},t.BooleanLiteral=function(e){this.word(e.value?"true":"false")},t.Identifier=function(e){var t;this.sourceIdentifierName((null==(t=e.loc)?void 0:t.identifierName)||e.name),this.word(this.tokenMap?this._getRawIdentifier(e):e.name)},t.NullLiteral=function(){this.word("null")},t.NumericLiteral=function(e){const t=this.getPossibleRaw(e),n=this.format.jsescOption,r=e.value,i=r+"";n.numbers?this.number(s(r,n),r):null==t?this.number(i,r):this.format.minified?this.number(t.length<i.length?t:i,r):this.number(t,r)},t.ObjectPattern=t.ObjectExpression=function(e){const t=e.properties;if(this.tokenChar(123),t.length){const e=this.enterDelimited();this.space(),this.printList(t,this.shouldPrintTrailingComma("}"),!0,!0),this.space(),e()}this.sourceWithOffset("end",e.loc,-1),this.tokenChar(125)},t.ObjectMethod=function(e){this.printJoin(e.decorators),this._methodHead(e),this.space(),this.print(e.body)},t.ObjectProperty=function(e){if(this.printJoin(e.decorators),e.computed)this.tokenChar(91),this.print(e.key),this.tokenChar(93);else{if(i(e.value)&&a(e.key)&&e.key.name===e.value.left.name)return void this.print(e.value);if(this.print(e.key),e.shorthand&&a(e.key)&&a(e.value)&&e.key.name===e.value.name)return}this.tokenChar(58),this.space(),this.print(e.value)},t.PipelineBareFunction=function(e){this.print(e.callee)},t.PipelinePrimaryTopicReference=function(){this.tokenChar(35)},t.PipelineTopicExpression=function(e){this.print(e.expression)},t.RecordExpression=function(e){const t=e.properties;let n,r;if("bar"===this.format.recordAndTupleSyntaxType)n="{|",r="|}";else{if("hash"!==this.format.recordAndTupleSyntaxType&&null!=this.format.recordAndTupleSyntaxType)throw new Error(`The "recordAndTupleSyntaxType" generator option must be "bar" or "hash" (${JSON.stringify(this.format.recordAndTupleSyntaxType)} received).`);n="#{",r="}"}this.token(n),t.length&&(this.space(),this.printList(t,this.shouldPrintTrailingComma(r),!0,!0),this.space()),this.token(r)},t.RegExpLiteral=function(e){this.word(`/${e.pattern}/${e.flags}`)},t.SpreadElement=t.RestElement=function(e){this.token("..."),this.print(e.argument)},t.StringLiteral=function(e){const t=this.getPossibleRaw(e);if(!this.format.minified&&void 0!==t)return void this.token(t);const n=s(e.value,this.format.jsescOption);this.token(n)},t.TopicReference=function(){const{topicToken:e}=this.format;if(!l.has(e)){const t=JSON.stringify(e),n=Array.from(l,e=>JSON.stringify(e));throw new Error(`The "topicToken" generator option must be one of ${n.join(", ")} (${t} received instead).`)}this.token(e)},t.TupleExpression=function(e){const t=e.elements,n=t.length;let r,s;if("bar"===this.format.recordAndTupleSyntaxType)r="[|",s="|]";else{if("hash"!==this.format.recordAndTupleSyntaxType)throw new Error(`${this.format.recordAndTupleSyntaxType} is not a valid recordAndTuple syntax type`);r="#[",s="]"}this.token(r);for(let e=0;e<t.length;e++){const r=t[e];r&&(e>0&&this.space(),this.print(r),(e<n-1||this.shouldPrintTrailingComma(s))&&this.token(",",!1,e))}this.token(s)},t.VoidPattern=function(){this.word("void")},t._getRawIdentifier=function(e){if(e===o)return c;o=e;const{name:t}=e,n=this.tokenMap.find(e,e=>e.value===t);return n?(c=this._originalCode.slice(n.start,n.end),c):c=e.name};var r=n(2352),s=n(7159);const{isAssignmentPattern:i,isIdentifier:a}=r;let o=null,c="";const l=new Set(["^^","@@","^","%","#"])},7949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.Chat=void 0;var r=n(6111);Object.defineProperty(t,"Chat",{enumerable:!0,get:function(){return r.Chat}});var s=n(2773);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return s.Completions}})},7973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBindingIdentifier=function(){const{node:e,parent:t}=this,n=this.parentPath.parent;return u(e)&&s(e,t,n)},t.isBlockScoped=function(){return i(this.node)},t.isExpression=function(){return this.isIdentifier()?this.isReferencedIdentifier():o(this.node)},t.isFlow=function(){const{node:e}=this;return!(!c(e)&&(h(e)?"type"!==e.importKind&&"typeof"!==e.importKind:a(e)?"type"!==e.exportKind:!d(e)||"type"!==e.importKind&&"typeof"!==e.importKind))},t.isForAwaitStatement=function(){return P(this.node,{await:!0})},t.isGenerated=function(){return!this.isUser()},t.isPure=function(e){return this.scope.isPure(this.node,e)},t.isReferenced=function(){return T(this.node,this.parent)},t.isReferencedIdentifier=function(e){const{node:t,parent:n}=this;return(u(t,e)||!!f(t,e)&&!(!m(n)&&A(t.name)))&&T(t,n,this.parentPath.parent)},t.isReferencedMemberExpression=function(){const{node:e,parent:t}=this;return y(e)&&T(e,t)},t.isRestProperty=function(){var e;return g(this.node)&&(null==(e=this.parentPath)?void 0:e.isObjectPattern())},t.isScope=function(){return S(this.node,this.parent)},t.isSpreadProperty=function(){var e;return g(this.node)&&(null==(e=this.parentPath)?void 0:e.isObjectExpression())},t.isStatement=function(){const{node:e,parent:t}=this;if(b(e)){if(x(e)){if(p(t,{left:e}))return!1;if(l(t,{init:e}))return!1}return!0}return!1},t.isUser=function(){var e;return!(null==(e=this.node)||!e.loc)},t.isVar=function(){return E(this.node)};var r=n(2352);const{isBinding:s,isBlockScoped:i,isExportDeclaration:a,isExpression:o,isFlow:c,isForStatement:l,isForXStatement:p,isIdentifier:u,isImportDeclaration:h,isImportSpecifier:d,isJSXIdentifier:f,isJSXMemberExpression:m,isMemberExpression:y,isRestElement:g,isReferenced:T,isScope:S,isStatement:b,isVar:E,isVariableDeclaration:x,react:v,isForOfStatement:P}=r,{isCompatTag:A}=v;t.isExistentialTypeParam=function(){throw new Error("`path.isExistentialTypeParam` has been renamed to `path.isExistsTypeAnnotation()` in Babel 7.")},t.isNumericLiteralTypeAnnotation=function(){throw new Error("`path.isNumericLiteralTypeAnnotation()` has been renamed to `path.isNumberLiteralTypeAnnotation()` in Babel 7.")}},7978:(e,t,n)=>{var r=n(270),s=n(8156),i=n(631),a=n(8586),o=n(756),c=n(7197),l=n(7797);e.exports=function(e,t){return a(e)&&o(t)?c(l(e),t):function(n){var a=s(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},7980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHILE_TYPES=t.USERWHITESPACABLE_TYPES=t.UNARYLIKE_TYPES=t.TYPESCRIPT_TYPES=t.TSTYPE_TYPES=t.TSTYPEELEMENT_TYPES=t.TSENTITYNAME_TYPES=t.TSBASETYPE_TYPES=t.TERMINATORLESS_TYPES=t.STATEMENT_TYPES=t.STANDARDIZED_TYPES=t.SCOPABLE_TYPES=t.PUREISH_TYPES=t.PROPERTY_TYPES=t.PRIVATE_TYPES=t.PATTERN_TYPES=t.PATTERNLIKE_TYPES=t.OBJECTMEMBER_TYPES=t.MODULESPECIFIER_TYPES=t.MODULEDECLARATION_TYPES=t.MISCELLANEOUS_TYPES=t.METHOD_TYPES=t.LVAL_TYPES=t.LOOP_TYPES=t.LITERAL_TYPES=t.JSX_TYPES=t.IMPORTOREXPORTDECLARATION_TYPES=t.IMMUTABLE_TYPES=t.FUNCTION_TYPES=t.FUNCTIONPARENT_TYPES=t.FUNCTIONPARAMETER_TYPES=t.FOR_TYPES=t.FORXSTATEMENT_TYPES=t.FLOW_TYPES=t.FLOWTYPE_TYPES=t.FLOWPREDICATE_TYPES=t.FLOWDECLARATION_TYPES=t.FLOWBASEANNOTATION_TYPES=t.EXPRESSION_TYPES=t.EXPRESSIONWRAPPER_TYPES=t.EXPORTDECLARATION_TYPES=t.ENUMMEMBER_TYPES=t.ENUMBODY_TYPES=t.DECLARATION_TYPES=t.CONDITIONAL_TYPES=t.COMPLETIONSTATEMENT_TYPES=t.CLASS_TYPES=t.BLOCK_TYPES=t.BLOCKPARENT_TYPES=t.BINARY_TYPES=t.ACCESSOR_TYPES=void 0;var r=n(9793);t.STANDARDIZED_TYPES=r.FLIPPED_ALIAS_KEYS.Standardized,t.EXPRESSION_TYPES=r.FLIPPED_ALIAS_KEYS.Expression,t.BINARY_TYPES=r.FLIPPED_ALIAS_KEYS.Binary,t.SCOPABLE_TYPES=r.FLIPPED_ALIAS_KEYS.Scopable,t.BLOCKPARENT_TYPES=r.FLIPPED_ALIAS_KEYS.BlockParent,t.BLOCK_TYPES=r.FLIPPED_ALIAS_KEYS.Block,t.STATEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.Statement,t.TERMINATORLESS_TYPES=r.FLIPPED_ALIAS_KEYS.Terminatorless,t.COMPLETIONSTATEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.CompletionStatement,t.CONDITIONAL_TYPES=r.FLIPPED_ALIAS_KEYS.Conditional,t.LOOP_TYPES=r.FLIPPED_ALIAS_KEYS.Loop,t.WHILE_TYPES=r.FLIPPED_ALIAS_KEYS.While,t.EXPRESSIONWRAPPER_TYPES=r.FLIPPED_ALIAS_KEYS.ExpressionWrapper,t.FOR_TYPES=r.FLIPPED_ALIAS_KEYS.For,t.FORXSTATEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.ForXStatement,t.FUNCTION_TYPES=r.FLIPPED_ALIAS_KEYS.Function,t.FUNCTIONPARENT_TYPES=r.FLIPPED_ALIAS_KEYS.FunctionParent,t.PUREISH_TYPES=r.FLIPPED_ALIAS_KEYS.Pureish,t.DECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.Declaration,t.FUNCTIONPARAMETER_TYPES=r.FLIPPED_ALIAS_KEYS.FunctionParameter,t.PATTERNLIKE_TYPES=r.FLIPPED_ALIAS_KEYS.PatternLike,t.LVAL_TYPES=r.FLIPPED_ALIAS_KEYS.LVal,t.TSENTITYNAME_TYPES=r.FLIPPED_ALIAS_KEYS.TSEntityName,t.LITERAL_TYPES=r.FLIPPED_ALIAS_KEYS.Literal,t.IMMUTABLE_TYPES=r.FLIPPED_ALIAS_KEYS.Immutable,t.USERWHITESPACABLE_TYPES=r.FLIPPED_ALIAS_KEYS.UserWhitespacable,t.METHOD_TYPES=r.FLIPPED_ALIAS_KEYS.Method,t.OBJECTMEMBER_TYPES=r.FLIPPED_ALIAS_KEYS.ObjectMember,t.PROPERTY_TYPES=r.FLIPPED_ALIAS_KEYS.Property,t.UNARYLIKE_TYPES=r.FLIPPED_ALIAS_KEYS.UnaryLike,t.PATTERN_TYPES=r.FLIPPED_ALIAS_KEYS.Pattern,t.CLASS_TYPES=r.FLIPPED_ALIAS_KEYS.Class;const s=t.IMPORTOREXPORTDECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.ImportOrExportDeclaration;t.EXPORTDECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.ExportDeclaration,t.MODULESPECIFIER_TYPES=r.FLIPPED_ALIAS_KEYS.ModuleSpecifier,t.ACCESSOR_TYPES=r.FLIPPED_ALIAS_KEYS.Accessor,t.PRIVATE_TYPES=r.FLIPPED_ALIAS_KEYS.Private,t.FLOW_TYPES=r.FLIPPED_ALIAS_KEYS.Flow,t.FLOWTYPE_TYPES=r.FLIPPED_ALIAS_KEYS.FlowType,t.FLOWBASEANNOTATION_TYPES=r.FLIPPED_ALIAS_KEYS.FlowBaseAnnotation,t.FLOWDECLARATION_TYPES=r.FLIPPED_ALIAS_KEYS.FlowDeclaration,t.FLOWPREDICATE_TYPES=r.FLIPPED_ALIAS_KEYS.FlowPredicate,t.ENUMBODY_TYPES=r.FLIPPED_ALIAS_KEYS.EnumBody,t.ENUMMEMBER_TYPES=r.FLIPPED_ALIAS_KEYS.EnumMember,t.JSX_TYPES=r.FLIPPED_ALIAS_KEYS.JSX,t.MISCELLANEOUS_TYPES=r.FLIPPED_ALIAS_KEYS.Miscellaneous,t.TYPESCRIPT_TYPES=r.FLIPPED_ALIAS_KEYS.TypeScript,t.TSTYPEELEMENT_TYPES=r.FLIPPED_ALIAS_KEYS.TSTypeElement,t.TSTYPE_TYPES=r.FLIPPED_ALIAS_KEYS.TSType,t.TSBASETYPE_TYPES=r.FLIPPED_ALIAS_KEYS.TSBaseType,t.MODULEDECLARATION_TYPES=s},8009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(4815);class o extends r.APIResource{retrieve(e,t){return this._client.get(a.path`/chatkit/threads/${e}`,{...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}list(e={},t){return this._client.getAPIList("/chatkit/threads",s.ConversationCursorPage,{query:e,...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}delete(e,t){return this._client.delete(a.path`/chatkit/threads/${e}`,{...t,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}listItems(e,t={},n){return this._client.getAPIList(a.path`/chatkit/threads/${e}/items`,s.ConversationCursorPage,{query:t,...n,headers:(0,i.buildHeaders)([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}t.Threads=o},8014:(e,t,n)=>{"use strict";var r,s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=void 0;const a=n(9632),o=n(9526),c=n(2040),l=n(262);class p extends c.APIResource{constructor(){super(...arguments),r.add(this)}async unwrap(e,t,n=this._client.webhookSecret,r=300){return await this.verifySignature(e,t,n,r),JSON.parse(e)}async verifySignature(e,t,n=this._client.webhookSecret,c=300){if("undefined"==typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");a.__classPrivateFieldGet(this,r,"m",s).call(this,n);const p=(0,l.buildHeaders)([t]).values,u=a.__classPrivateFieldGet(this,r,"m",i).call(this,p,"webhook-signature"),h=a.__classPrivateFieldGet(this,r,"m",i).call(this,p,"webhook-timestamp"),d=a.__classPrivateFieldGet(this,r,"m",i).call(this,p,"webhook-id"),f=parseInt(h,10);if(isNaN(f))throw new o.InvalidWebhookSignatureError("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-f>c)throw new o.InvalidWebhookSignatureError("Webhook timestamp is too old");if(f>m+c)throw new o.InvalidWebhookSignatureError("Webhook timestamp is too new");const y=u.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),g=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),T=d?`${d}.${h}.${e}`:`${h}.${e}`,S=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const e of y)try{const t=Buffer.from(e,"base64");if(await crypto.subtle.verify("HMAC",S,t,(new TextEncoder).encode(T)))return}catch{continue}throw new o.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}t.Webhooks=p,r=new WeakSet,s=function(e){if("string"!=typeof e||0===e.length)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},i=function(e,t){if(!e)throw new Error("Headers are required");const n=e.get(t);if(null==n)throw new Error(`Missing required header: ${t}`);return n}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3286);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var s=n(6779);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"function"==typeof t&&(t={enter:t});const{enter:r,exit:i}=t;s(e,r,i,n,[])};var r=n(9793);function s(e,t,n,i,a){const o=r.VISITOR_KEYS[e.type];if(o){t&&t(e,a,i);for(const r of o){const o=e[r];if(Array.isArray(o))for(let c=0;c<o.length;c++){const l=o[c];l&&(a.push({node:e,key:r,index:c}),s(l,t,n,i,a),a.pop())}else o&&(a.push({node:e,key:r}),s(o,t,n,i,a),a.pop())}n&&n(e,a,i)}}},8125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e,t),(0,s.default)(e,t),(0,i.default)(e,t),e};var r=n(5586),s=n(5766),i=n(7932)},8151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParseResponse=async function(e,t){const{response:n,requestLogID:a,retryOfRequestLogID:o,startTime:c}=t,l=await(async()=>{if(t.options.stream)return(0,s.loggerFor)(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):r.Stream.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),o=a?.split(";")[0]?.trim();return o?.includes("application/json")||o?.endsWith("+json")?i(await n.json(),n):await n.text()})();return(0,s.loggerFor)(e).debug(`[${a}] response parsed`,(0,s.formatRequestDetails)({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-c})),l},t.addRequestID=i;const r=n(8490),s=n(6188);function i(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var s=null==e?void 0:r(e,t);return void 0===s?n:s}},8221:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.JavaAstParser=void 0;const o=a(n(1398)),c=n(5387);class l{fileUri=null;filePath="";content="";lines=[];packageName="";static SPRING_ANNOTATIONS={RestController:"controller",Controller:"controller",RequestMapping:"controller",GetMapping:"controller",PostMapping:"controller",PutMapping:"controller",DeleteMapping:"controller",PatchMapping:"controller",ControllerAdvice:"controller",RestControllerAdvice:"controller",Service:"service",Component:"component",Transactional:"service",Repository:"repository",JpaRepository:"repository",CrudRepository:"repository",PagingAndSortingRepository:"repository",MongoRepository:"repository",Configuration:"configuration",Bean:"configuration",EnableAutoConfiguration:"configuration",SpringBootApplication:"application",Entity:"entity",Table:"entity",Document:"entity",Embeddable:"entity",MappedSuperclass:"entity",EnableWebSecurity:"security",Aspect:"aspect",FeignClient:"client",KafkaListener:"messaging",RabbitListener:"messaging",Scheduled:"scheduled",SpringBootTest:"test",DataJpaTest:"test",WebMvcTest:"test"};static INJECTION_ANNOTATIONS=["Autowired","Inject","Resource","Value","Qualifier"];hasMainMethod=!1;mainMethodClassName="";isMainMethod(e,t,n,r){if("main"!==e)return!1;if(!t.isStatic)return!1;if("public"!==t.visibility)return!1;if("void"!==n)return!1;if(!r||1!==r.length)return!1;const s=(r[0].type||"").replace(/\s+/g,"");return"String[]"===s||"String..."===s||s.includes("String[]")||s.includes("String...")}async parse(e,t=!1){this.hasMainMethod=!1,this.mainMethodClassName="";const n=await o.workspace.openTextDocument(e);this.content=n.getText(),this.lines=this.content.split("\n"),this.fileUri=e,this.filePath=e.fsPath;const r=[],s=[];try{this.extractPackage();const n=(0,c.parse)(this.content),i=this.extractFromCst(n),a=this.flattenElements(i),o=new Map,p=new Map,u=[];for(const e of a){const t=this.createNode(e);if(r.push(t),"class"!==e.type&&"interface"!==e.type&&"enum"!==e.type||(o.set(e.name,t.id),e.layer&&p.set(e.name,{nodeId:t.id,layer:e.layer,name:e.name})),e.parentId&&s.push({from:e.parentId,to:t.id,type:"contains",label:"contains"}),e.extendsClass&&s.push({from:t.id,to:o.get(e.extendsClass)||`external:${e.extendsClass}`,type:"extends",label:`extends ${e.extendsClass}`}),e.implementsInterfaces)for(const n of e.implementsInterfaces)s.push({from:t.id,to:o.get(n)||`external:${n}`,type:"implements",label:`implements ${n}`});"field"===e.type&&e.fieldType&&e.annotations?.some(e=>l.INJECTION_ANNOTATIONS.some(t=>e.includes(t)))&&u.push({source:e.parentId||"",target:e.fieldType,type:"injects"})}for(const e of u){const t=p.get(e.target);t&&e.source&&s.push({from:e.source,to:t.nodeId,type:"uses",label:this.getLayerRelationLabel(p.get(this.getClassNameFromId(e.source))?.layer||"",t.layer)})}if(this.extractImports(r,s,o),0===r.length&&t){const t=(e.fsPath.split(/[\\/]/).pop()||"module").replace(/\.java$/,"");r.push(this.createModuleNode(t))}return{nodes:r,edges:s}}catch(n){return console.error(`Failed to parse Java file with AST ${e.fsPath}:`,n),this.fallbackParse(t)}}extractPackage(){const e=this.content.match(/^\s*package\s+([\w.]+)\s*;/m);this.packageName=e?e[1]:""}extractFromCst(e){if(!e||!e.children)return[];const t=[],n=e.children.ordinaryCompilationUnit?.[0];if(!n)return t;const r=n.children?.typeDeclaration||[];for(const e of r){const n=this.extractTypeDeclaration(e,void 0);n&&t.push(n)}return t}extractTypeDeclaration(e,t){const n=e.children?.classDeclaration?.[0];if(n)return this.extractClassDeclaration(n,t);const r=e.children?.interfaceDeclaration?.[0];if(r)return this.extractInterfaceDeclaration(r,t);const s=e.children?.enumDeclaration?.[0];return s?this.extractEnumDeclaration(s,t):null}extractClassDeclaration(e,t){const n=e.children?.normalClassDeclaration?.[0];if(!n)return null;const r=n.children?.typeIdentifier?.[0]?.children?.Identifier?.[0];if(!r)return null;const s=r.image,i=r.startLine||1,a=this.extractModifiers(n.children?.classModifier||[]),o=this.extractAnnotations(n.children?.classModifier||[]),c=this.detectSpringLayer(o);let l;const p=n.children?.superclass?.[0];p&&(l=this.extractTypeName(p.children?.classType?.[0]));const u=[],h=n.children?.superinterfaces?.[0];if(h){const e=h.children?.interfaceTypeList?.[0]?.children?.interfaceType||[];for(const t of e){const e=this.extractTypeName(t.children?.classType?.[0]);e&&u.push(e)}}const d=n.children?.classBody?.[0],f=this.findEndLine(d)||i,m=t?`${t}$${s}`:`${this.filePath}:class:${s}`,y=[];return d&&this.extractClassBodyMembers(d,y,m,s),{id:m,name:s,type:"class",startLine:i,endLine:f,parentId:t,visibility:a.visibility,isStatic:a.isStatic,isAbstract:a.isAbstract,isFinal:a.isFinal,annotations:o,extendsClass:l,implementsInterfaces:u,children:y,layer:c}}extractInterfaceDeclaration(e,t){const n=e.children?.normalInterfaceDeclaration?.[0];if(!n)return null;const r=n.children?.typeIdentifier?.[0]?.children?.Identifier?.[0];if(!r)return null;const s=r.image,i=r.startLine||1,a=this.extractModifiers(n.children?.interfaceModifier||[]),o=this.extractAnnotations(n.children?.interfaceModifier||[]),c=this.detectSpringLayer(o),l=[],p=n.children?.extendsInterfaces?.[0];if(p){const e=p.children?.interfaceTypeList?.[0]?.children?.interfaceType||[];for(const t of e){const e=this.extractTypeName(t.children?.classType?.[0]);e&&l.push(e)}}const u=n.children?.interfaceBody?.[0],h=this.findEndLine(u)||i,d=t?`${t}$${s}`:`${this.filePath}:interface:${s}`,f=[];return u&&this.extractInterfaceBodyMembers(u,f,d,s),{id:d,name:s,type:"interface",startLine:i,endLine:h,parentId:t,visibility:a.visibility,annotations:o,implementsInterfaces:l,children:f,layer:c}}extractEnumDeclaration(e,t){const n=e.children?.typeIdentifier?.[0]?.children?.Identifier?.[0];if(!n)return null;const r=n.image,s=n.startLine||1,i=this.extractModifiers(e.children?.classModifier||[]),a=this.extractAnnotations(e.children?.classModifier||[]),o=e.children?.enumBody?.[0],c=this.findEndLine(o)||s;return{id:t?`${t}$${r}`:`${this.filePath}:enum:${r}`,name:r,type:"enum",startLine:s,endLine:c,parentId:t,visibility:i.visibility,annotations:a,children:[]}}extractClassBodyMembers(e,t,n,r){const s=e.children?.classBodyDeclaration||[];for(const e of s){const s=e.children?.constructorDeclaration?.[0];if(s){const e=this.extractConstructor(s,n,r);e&&t.push(e);continue}const i=e.children?.classMemberDeclaration?.[0];if(!i)continue;const a=i.children?.methodDeclaration?.[0];if(a){const e=this.extractMethodDeclaration(a,n,r);e&&t.push(e);continue}const o=i.children?.fieldDeclaration?.[0];if(o){const e=this.extractFieldDeclaration(o,n,r);e&&t.push(e);continue}const c=i.children?.classDeclaration?.[0];if(c){const e=this.extractClassDeclaration(c,n);e&&t.push(e);continue}const l=i.children?.interfaceDeclaration?.[0];if(l){const e=this.extractInterfaceDeclaration(l,n);e&&t.push(e)}}}extractInterfaceBodyMembers(e,t,n,r){const s=e.children?.interfaceMemberDeclaration||[];for(const e of s){const s=e.children?.interfaceMethodDeclaration?.[0];if(s){const e=this.extractInterfaceMethodDeclaration(s,n,r);e&&t.push(e);continue}const i=e.children?.constantDeclaration?.[0];if(i){const e=this.extractConstantDeclaration(i,n,r);e&&t.push(e);continue}const a=e.children?.classDeclaration?.[0];if(a){const e=this.extractClassDeclaration(a,n);e&&t.push(e)}}}extractConstructor(e,t,n){const r=e.children?.constructorDeclarator?.[0];if(!r)return null;const s=r.children?.simpleTypeName?.[0]?.children?.Identifier?.[0];if(!s)return null;const i=s.startLine||1,a=this.extractModifiers(e.children?.constructorModifier||[]),o=this.extractAnnotations(e.children?.constructorModifier||[]),c=this.extractParameters(r),l=e.children?.constructorBody?.[0];return{id:`${t}:constructor:${n}:${i}`,name:n,type:"constructor",startLine:i,endLine:this.findEndLine(l)||i,parentId:t,visibility:a.visibility,annotations:o,parameters:c,children:[]}}extractMethodDeclaration(e,t,n){const r=e.children?.methodHeader?.[0];if(!r)return null;const s=r.children?.methodDeclarator?.[0];if(!s)return null;const i=s.children?.Identifier?.[0];if(!i)return null;const a=i.image,o=i.startLine||1,c=this.extractModifiers(e.children?.methodModifier||[]),l=this.extractAnnotations(e.children?.methodModifier||[]),p=r.children?.result?.[0];let u="void";p?.children?.unannType?.[0]?u=this.extractUnannTypeName(p.children.unannType[0]):p?.children?.Void&&(u="void");const h=this.extractParameters(s),d=e.children?.methodBody?.[0],f=this.findEndLine(d)||o,m=`${t}:method:${a}:${o}`;return this.isMainMethod(a,c,u,h)&&(console.log(`Java main method detected in class: ${n}`),this.hasMainMethod=!0,this.mainMethodClassName=n),{id:m,name:a,type:"method",startLine:o,endLine:f,parentId:t,visibility:c.visibility,isStatic:c.isStatic,isAbstract:c.isAbstract,isFinal:c.isFinal,annotations:l,parameters:h,returnType:u,children:[]}}extractInterfaceMethodDeclaration(e,t,n){const r=e.children?.methodHeader?.[0];if(!r)return null;const s=r.children?.methodDeclarator?.[0];if(!s)return null;const i=s.children?.Identifier?.[0];if(!i)return null;const a=i.image,o=i.startLine||1,c=this.extractModifiers(e.children?.interfaceMethodModifier||[]),l=this.extractAnnotations(e.children?.interfaceMethodModifier||[]),p=r.children?.result?.[0];let u="void";p?.children?.unannType?.[0]&&(u=this.extractUnannTypeName(p.children.unannType[0]));const h=this.extractParameters(s);return{id:`${t}:method:${a}:${o}`,name:a,type:"method",startLine:o,endLine:o,parentId:t,visibility:"public",isAbstract:!c.isStatic,annotations:l,parameters:h,returnType:u,children:[]}}extractFieldDeclaration(e,t,n){const r=this.extractModifiers(e.children?.fieldModifier||[]),s=this.extractAnnotations(e.children?.fieldModifier||[]),i=e.children?.unannType?.[0],a=i?this.extractUnannTypeName(i):"Object",o=e.children?.variableDeclaratorList?.[0],c=o?.children?.variableDeclarator||[];if(0===c.length)return null;const l=c[0],p=l.children?.variableDeclaratorId?.[0]?.children?.Identifier?.[0];if(!p)return null;const u=p.image,h=p.startLine||1;return{id:`${t}:field:${u}:${h}`,name:u,type:"field",startLine:h,endLine:h,parentId:t,visibility:r.visibility,isStatic:r.isStatic,isFinal:r.isFinal,annotations:s,fieldType:a,children:[]}}extractConstantDeclaration(e,t,n){const r=this.extractAnnotations(e.children?.constantModifier||[]),s=e.children?.unannType?.[0],i=s?this.extractUnannTypeName(s):"Object",a=e.children?.variableDeclaratorList?.[0],o=a?.children?.variableDeclarator||[];if(0===o.length)return null;const c=o[0],l=c.children?.variableDeclaratorId?.[0]?.children?.Identifier?.[0];if(!l)return null;const p=l.image,u=l.startLine||1;return{id:`${t}:field:${p}:${u}`,name:p,type:"field",startLine:u,endLine:u,parentId:t,visibility:"public",isStatic:!0,isFinal:!0,annotations:r,fieldType:i,children:[]}}flattenElements(e){const t=[],n=e=>{for(const r of e)t.push(r),r.children&&r.children.length>0&&n(r.children)};return n(e),t}extractModifiers(e){let t="package",n=!1,r=!1,s=!1;for(const i of e)i.children?.Public?t="public":i.children?.Private?t="private":i.children?.Protected&&(t="protected"),i.children?.Static&&(n=!0),i.children?.Abstract&&(r=!0),i.children?.Final&&(s=!0);return{visibility:t,isStatic:n,isAbstract:r,isFinal:s}}extractAnnotations(e){const t=[];for(const n of e){const e=n.children?.annotation?.[0];if(e){const n=e.children?.typeName?.[0];if(n){let r=(n.children?.Identifier||[]).map(e=>e.image).join(".");const s=e.children?.elementValuePairList?.[0],i=e.children?.elementValue?.[0];if(s){const e=this.extractAnnotationPairs(s);e&&(r+=`(${e})`)}else if(i){const e=this.extractElementValue(i);e&&(r+=`(${e})`)}r&&t.push(r)}}}return t}extractAnnotationPairs(e){return(e.children?.elementValuePair||[]).map(e=>`${e.children?.Identifier?.[0]?.image||""}=${this.extractElementValue(e.children?.elementValue?.[0])}`).join(", ")}extractElementValue(e){if(!e)return"";const t=e.children?.conditionalExpression?.[0]?.children?.ternaryExpression?.[0]?.children?.binaryExpression?.[0]?.children?.unaryExpression?.[0]?.children?.primary?.[0]?.children?.primaryPrefix?.[0]?.children?.literal?.[0]?.children?.StringLiteral?.[0];return t?t.image:"..."}extractTypeName(e){if(!e)return;const t=e.children?.Identifier||[];if(t.length>0)return t[t.length-1].image;const n=e.children?.classOrInterfaceType?.[0];if(n){const e=n.children?.Identifier||[];if(e.length>0)return e[e.length-1].image}}extractUnannTypeName(e){const t=e.children?.unannPrimitiveType?.[0];if(t){const e=t.children?.numericType?.[0];if(e){const t=e.children?.integralType?.[0];if(t){if(t.children?.Int)return"int";if(t.children?.Long)return"long";if(t.children?.Short)return"short";if(t.children?.Byte)return"byte";if(t.children?.Char)return"char"}const n=e.children?.floatingPointType?.[0];if(n){if(n.children?.Float)return"float";if(n.children?.Double)return"double"}}if(t.children?.Boolean)return"boolean"}const n=e.children?.unannReferenceType?.[0];if(n){const e=n.children?.unannArrayType?.[0];if(e)return`${this.extractUnannTypeName({children:e.children})}[]`;const t=n.children?.unannClassOrInterfaceType?.[0];if(t){const e=t.children?.unannClassType?.[0];if(e){const t=e.children?.Identifier||[];if(t.length>0){let n=t[t.length-1].image;const r=e.children?.typeArguments?.[0];if(r){const e=this.extractTypeArguments(r);e&&(n+=`<${e}>`)}return n}}}}return"Object"}extractTypeArguments(e){return(e.children?.typeArgumentList?.[0]?.children?.typeArgument||[]).map(e=>{const t=e.children?.referenceType?.[0];if(t)return this.extractTypeName(t.children?.classOrInterfaceType?.[0])||"?";const n=e.children?.wildcard?.[0];if(n){const e=n.children?.wildcardBounds?.[0];if(e){const t=e.children?.Extends?.[0],n=e.children?.Super?.[0],r=this.extractTypeName(e.children?.referenceType?.[0]?.children?.classOrInterfaceType?.[0]);if(t&&r)return`? extends ${r}`;if(n&&r)return`? super ${r}`}return"?"}return"?"}).join(", ")}extractParameters(e){const t=[],n=e.children?.formalParameterList?.[0];if(!n)return t;const r=n.children?.formalParameter||[];for(const e of r){const n=e.children?.variableDeclaratorId?.[0],r=e.children?.unannType?.[0],s=e.children?.variableModifier||[];if(n&&r){const e=n.children?.Identifier?.[0]?.image||"param",i=this.extractUnannTypeName(r),a=this.extractVariableAnnotations(s);t.push({name:e,type:i,optional:!1,description:a.length>0?`@${a.join(", @")}`:void 0})}}return t}extractVariableAnnotations(e){const t=[];for(const n of e){const e=n.children?.annotation?.[0];if(e){const n=e.children?.typeName?.[0];if(n){const e=(n.children?.Identifier||[]).map(e=>e.image).join(".");e&&t.push(e)}}}return t}findEndLine(e){if(!e)return;const t=e.children?.RBrace?.[0];if(t?.endLine)return t.endLine;let n=0;const r=e=>{if(e&&("number"==typeof e.endLine&&e.endLine>n&&(n=e.endLine),e.children))for(const t of Object.keys(e.children)){const n=e.children[t];if(Array.isArray(n))for(const e of n)r(e)}};return r(e),n>0?n:void 0}extractImports(e,t,n){const r=/^import\s+(static\s+)?([^;]+);/gm;let s;const i=e.filter(e=>"class"===e.type||"interface"===e.type||"enum"===e.type),a=i.length>0?i:null;for(;null!==(s=r.exec(this.content));){const e=!!s[1],r=s[2].trim(),i=r.split(".").pop()||r;if(r.startsWith("java.")||r.startsWith("javax.")||r.startsWith("org.springframework.")||r.startsWith("lombok."))continue;const o=n.get(i);if(o){if(a)for(const n of a)n.id!==o&&t.push({from:n.id,to:o,type:"imports",label:e?`static import ${i}`:`imports ${i}`})}else if(a)for(const n of a)t.push({from:n.id,to:`external:${i}`,type:"imports",label:e?`static import ${i}`:`imports ${i}`})}}detectSpringLayer(e){for(const t of e){const e=t.split("(")[0],n=l.SPRING_ANNOTATIONS[e];if(n)return n}}getClassNameFromId(e){const t=e.match(/:class:(\w+)$/);return t?t[1]:""}getLayerRelationLabel(e,t){return"controller"===e&&"service"===t?"calls service":"service"===e&&"repository"===t?"uses repository":"service"===e&&"service"===t?"calls service":"controller"===e&&"repository"===t?"queries":"entity"===t?"uses entity":"repository"===e&&"entity"===t?"manages":"depends on"}createNode(e){const t=this.lines.slice(Math.max(0,e.startLine-1),Math.min(this.lines.length,e.endLine)).join("\n");let n="";e.annotations&&e.annotations.length>0&&(n=`@${e.annotations.join(", @")}`),e.layer&&(n+=n?` [${e.layer}]`:`[${e.layer}]`);const r="class"===e.type&&(e.name===this.mainMethodClassName||"application"===e.layer||e.annotations?.some(e=>e.includes("SpringBootApplication")))||!1;return r&&console.log(`Marking ${e.name} as Java entry point`),{id:e.id,label:e.name,type:"constructor"===e.type?"method":e.type,language:"java",filePath:this.filePath,startLine:e.startLine,endLine:e.endLine,parentId:e.parentId,visibility:e.visibility,isStatic:e.isStatic,isEntryPoint:r,parameters:e.parameters,returnType:e.returnType,sourceCode:t,documentation:{summary:this.generateSummary(e),description:n,persona:{}}}}generateSummary(e){const t=e.annotations?.slice(0,3).join(", @")||"",n=t?`@${t} `:"",r=e.layer?`[${e.layer}] `:"";if("class"===e.type){let t=`${r}${n}${e.visibility||"public"}`;return e.isAbstract&&(t+=" abstract"),e.isStatic&&(t+=" static"),e.isFinal&&(t+=" final"),t+=` class ${e.name}`,e.extendsClass&&(t+=` extends ${e.extendsClass}`),e.implementsInterfaces?.length&&(t+=` implements ${e.implementsInterfaces.join(", ")}`),t}if("interface"===e.type)return`${r}${n}${e.visibility||"public"} interface ${e.name}`;if("enum"===e.type)return`${n}${e.visibility||"public"} enum ${e.name}`;if("method"===e.type||"constructor"===e.type){const t=e.parameters?.map(e=>`${e.type} ${e.name}`).join(", ")||"";let r=`${n}${e.visibility||"public"}`;return e.isStatic&&(r+=" static"),e.isAbstract&&(r+=" abstract"),e.isFinal&&(r+=" final"),"constructor"===e.type?r+=` ${e.name}(${t})`:r+=` ${e.returnType||"void"} ${e.name}(${t})`,r}if("field"===e.type){let t=`${n}${e.visibility||"package"}`;return e.isStatic&&(t+=" static"),e.isFinal&&(t+=" final"),t+=` ${e.fieldType||"Object"} ${e.name}`,t}return e.name}createModuleNode(e){return{id:`${this.filePath}:module:${e}`,label:e,type:"module",language:"java",filePath:this.filePath,startLine:1,endLine:this.lines.length,sourceCode:this.content,isEntryPoint:!0,documentation:{summary:`Java module ${e}`,description:this.packageName?`package ${this.packageName}`:"Java module",persona:{}}}}fallbackParse(e){console.log("Using fallback regex parsing for:",this.filePath);const t=[],n=[],r=[];this.fallbackParseClasses(r),this.fallbackParseMethods(r);for(const e of r)t.push(this.createNode(e)),e.parentId&&n.push({from:e.parentId,to:e.id,type:"contains",label:"contains"});if(0===t.length&&e){const e=(this.filePath.split(/[\\/]/).pop()||"module").replace(/\.java$/,"");t.push(this.createModuleNode(e))}return{nodes:t,edges:n}}fallbackParseClasses(e){const t=/(?:(@\w+(?:\([^)]*\))?)\s*)*(?:(public|private|protected)\s+)?(?:(abstract)\s+)?(?:(static)\s+)?(?:(final)\s+)?class\s+(\w+)(?:\s*<[^>]+>)?(?:\s+extends\s+(\w+))?(?:\s+implements\s+([^{]+))?/g;let n;for(;null!==(n=t.exec(this.content));){const t=n[2]||"package",r=!!n[3],s=!!n[4],i=!!n[5],a=n[6],o=n[7],c=n[8],l=this.content.substring(0,n.index).split("\n").length,p=`${this.filePath}:class:${a}`,u=this.extractAnnotationsFromContext(n.index),h=this.detectSpringLayer(u),d=c?c.split(",").map(e=>e.trim()):void 0;e.push({id:p,name:a,type:"class",startLine:l,endLine:l+50,visibility:t,isAbstract:r,isStatic:s,isFinal:i,annotations:u,extendsClass:o,implementsInterfaces:d,layer:h,children:[]})}}fallbackParseMethods(e){const t=e.filter(e=>"class"===e.type),n=/(?:(@\w+(?:\([^)]*\))?)\s*)*(?:(public|private|protected)\s+)?(?:(static)\s+)?(?:(abstract)\s+)?(?:(final)\s+)?(?:(\w+(?:<[^>]+>)?)\s+)?(\w+)\s*\(\s*([^)]*)\s*\)/g;let r;for(;null!==(r=n.exec(this.content));){const n=r[2]||"package",s=!!r[3],i=!!r[4],a=!!r[5],o=r[6]||"void",c=r[7],l=r[8];if(["if","for","while","switch","catch","synchronized"].includes(c))continue;const p=this.content.substring(0,r.index).split("\n").length;let u;for(const e of t)if(p>e.startLine&&p<e.endLine+100){u=e.id;break}if(!u)continue;const h=`${u}:method:${c}:${p}`,d=this.extractAnnotationsFromContext(r.index),f=this.parseParametersFromString(l);e.push({id:h,name:c,type:"method",startLine:p,endLine:p+10,parentId:u,visibility:n,isStatic:s,isAbstract:i,isFinal:a,annotations:d,parameters:f,returnType:o,children:[]})}}extractAnnotationsFromContext(e){const t=[],n=this.content.substring(Math.max(0,e-500),e).split("\n").reverse();for(const e of n){const n=e.trim();if(n.startsWith("@")){const e=n.match(/@(\w+)(?:\([^)]*\))?/);e&&t.unshift(e[1])}else if(n&&!n.startsWith("*")&&!n.startsWith("//"))break}return t}parseParametersFromString(e){const t=[];if(!e.trim())return t;const n=e.split(",");for(const e of n){const n=e.trim();if(!n)continue;const r=n.match(/(?:@\w+\s+)?(?:final\s+)?(\w+(?:<[^>]+>)?)\s+(\w+)/);r&&t.push({name:r[2],type:r[1],optional:!1})}return t}}t.JavaAstParser=l},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},8238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatKit=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(4003)),a=n(4003),o=r.__importStar(n(8009)),c=n(8009);class l extends s.APIResource{constructor(){super(...arguments),this.sessions=new i.Sessions(this._client),this.threads=new o.Threads(this._client)}}t.ChatKit=l,l.Sessions=a.Sessions,l.Threads=c.Threads},8284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Videos=void 0;const r=n(2040),s=n(5552),i=n(262),a=n(2018),o=n(4815);class c extends r.APIResource{create(e,t){return this._client.post("/videos",(0,a.maybeMultipartFormRequestOptions)({body:e,...t},this._client))}retrieve(e,t){return this._client.get(o.path`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",s.ConversationCursorPage,{query:e,...t})}delete(e,t){return this._client.delete(o.path`/videos/${e}`,t)}downloadContent(e,t={},n){return this._client.get(o.path`/videos/${e}/content`,{query:t,...n,headers:(0,i.buildHeaders)([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,t,n){return this._client.post(o.path`/videos/${e}/remix`,(0,a.maybeMultipartFormRequestOptions)({body:t,...n},this._client))}}t.Videos=c},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},8345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._containerInsert=P,t._containerInsertAfter=w,t._containerInsertBefore=A,t._verifyNodeList=_,t.insertAfter=function(e){if(a._assertUnremoved.call(this),this.isSequenceExpression())return C(this.get("expressions")).insertAfter(e);const t=_.call(this,e),{parentPath:n,parent:r}=this;if(n.isExpressionStatement()||n.isLabeledStatement()||T(r)||n.isExportDefaultDeclaration()&&this.isDeclaration())return n.insertAfter(t.map(e=>S(e)?m(e):e));if(this.isNodeType("Expression")&&!this.isJSXElement()&&!n.isJSXElement()||n.isForStatement()&&"init"===this.key){const e=this;if(e.node){const r=e.node;let{scope:s}=this;if(s.path.isPattern())return p(r),e.replaceWith(d(l([],r),[])),e.get("callee.body").insertAfter(t),[e];if(I(e))t.unshift(r);else if(g(r)&&x(r.callee))t.unshift(r),t.push(v());else if(function(e,t){if(!y(e)||!b(e.left))return!1;const n=t.getBlockParent();return n.hasOwnBinding(e.left.name)&&n.getOwnBinding(e.left.name).constantViolations.length<=1}(r,s))t.unshift(r),t.push(f(r.left));else if(s.isPure(r,!0))t.push(r);else{n.isMethod({computed:!0,key:r})&&(s=s.parent);const e=s.generateDeclaredUidIdentifier();t.unshift(m(u("=",f(e),r))),t.push(m(f(e)))}}return this.replaceExpressionWithStatements(t)}if(Array.isArray(this.container))return w.call(this,t);if(this.isStatementOrBlock()){const e=this.node,n=e&&(!this.isExpressionStatement()||null!=e.expression),[r]=this.replaceWith(h(n?[e]:[]));return r.pushContainer("body",t)}throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")},t.insertBefore=function(e){a._assertUnremoved.call(this);const t=_.call(this,e),{parentPath:n,parent:r}=this;if(n.isExpressionStatement()||n.isLabeledStatement()||T(r)||n.isExportDefaultDeclaration()&&this.isDeclaration())return n.insertBefore(t);if(this.isNodeType("Expression")&&!this.isJSXElement()||n.isForStatement()&&"init"===this.key)return this.node&&t.push(this.node),this.replaceExpressionWithStatements(t);if(Array.isArray(this.container))return A.call(this,t);if(this.isStatementOrBlock()){const e=this.node,n=e&&(!this.isExpressionStatement()||null!=e.expression),[r]=this.replaceWith(h(n?[e]:[]));return r.unshiftContainer("body",t)}throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")},t.pushContainer=function(e,t){a._assertUnremoved.call(this);const n=_.call(this,t),r=this.node[e];return s.default.get({parentPath:this,parent:this.node,container:r,listKey:e,key:r.length}).setContext(this.context).replaceWithMultiple(n)},t.unshiftContainer=function(e,t){a._assertUnremoved.call(this);const n=_.call(this,t),r=this.node[e],i=s.default.get({parentPath:this,parent:this.node,container:r,listKey:e,key:0}).setContext(this.context);return A.call(i,n)},t.updateSiblingKeys=O;var r=n(7411),s=n(9709),i=n(9578),a=n(3097),o=n(2352),c=n(7145);const{arrowFunctionExpression:l,assertExpression:p,assignmentExpression:u,blockStatement:h,callExpression:d,cloneNode:f,expressionStatement:m,isAssignmentExpression:y,isCallExpression:g,isExportNamedDeclaration:T,isExpression:S,isIdentifier:b,isSequenceExpression:E,isSuper:x,thisExpression:v}=o;function P(e,t){O.call(this,e,t.length);const n=[];this.container.splice(e,0,...t);for(let s=0;s<t.length;s++){var r;const t=e+s,a=this.getSibling(t);n.push(a),null!=(r=this.context)&&r.queue&&i.pushContext.call(a,this.context)}const s=i._getQueueContexts.call(this);for(const e of n){i.setScope.call(e),e.debug("Inserted.");for(const t of s)t.maybeQueue(e,!0)}return n}function A(e){return P.call(this,this.key,e)}function w(e){return P.call(this,this.key+1,e)}const C=e=>e[e.length-1];function I(e){return E(e.parent)&&(C(e.parent.expressions)!==e.node||I(e.parentPath))}function O(e,t){if(!this.parent)return;const n=(0,r.getCachedPaths)(this);if(n)for(const[,r]of n)"number"==typeof r.key&&r.container===this.container&&r.key>=e&&(r.key+=t)}function _(e){if(!e)return[];Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t];let r;if(n?"object"!=typeof n?r="contains a non-object node":n.type?n instanceof s.default&&(r="has a NodePath when it expected a raw object"):r="without a type":r="has falsy node",r){const e=Array.isArray(n)?"array":typeof n;throw new Error(`Node list ${r} with the index of ${t} and type of ${e}`)}}return e}t.hoist=function(e=this.scope){return new c.default(this,e).run()}},8348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.has=void 0,t.merge=function e(n,r,i={}){if(!r)return n;if("object"!=typeof r){if((0,s.isArray)(n))n.push(r);else{if(!n||"object"!=typeof n)return[n,r];(i&&(i.plainObjects||i.allowPrototypes)||!(0,t.has)(Object.prototype,r))&&(n[r]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(r);let a=n;return(0,s.isArray)(n)&&!(0,s.isArray)(r)&&(a=function(e,t){const n=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(n[t]=e[t]);return n}(n,i)),(0,s.isArray)(n)&&(0,s.isArray)(r)?(r.forEach(function(r,s){if((0,t.has)(n,s)){const t=n[s];t&&"object"==typeof t&&r&&"object"==typeof r?n[s]=e(t,r,i):n.push(r)}else n[s]=r}),n):Object.keys(r).reduce(function(n,s){const a=r[s];return(0,t.has)(n,s)?n[s]=e(n[s],a,i):n[s]=a,n},a)},t.assign_single_source=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e,t,n){const r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},t.compact=function(e){const t=[{obj:{o:e},prop:"o"}],n=[];for(let e=0;e<t.length;++e){const r=t[e],s=r.obj[r.prop],i=Object.keys(s);for(let e=0;e<i.length;++e){const r=i[e],a=s[r];"object"==typeof a&&null!==a&&-1===n.indexOf(a)&&(t.push({obj:s,prop:r}),n.push(a))}}return function(e){for(;e.length>1;){const t=e.pop();if(!t)continue;const n=t.obj[t.prop];if((0,s.isArray)(n)){const e=[];for(let t=0;t<n.length;++t)void 0!==n[t]&&e.push(n[t]);t.obj[t.prop]=e}}}(t),e},t.is_regexp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.is_buffer=function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},t.combine=function(e,t){return[].concat(e,t)},t.maybe_map=function(e,t){if((0,s.isArray)(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};const r=n(5257),s=n(5734);t.has=(e,n)=>(t.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,t.has)(e,n));const i=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),a=1024;t.encode=(e,t,n,s,o)=>{if(0===e.length)return e;let c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let l="";for(let e=0;e<c.length;e+=a){const t=c.length>=a?c.slice(e,e+a):c,n=[];for(let e=0;e<t.length;++e){let s=t.charCodeAt(e);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||o===r.RFC1738&&(40===s||41===s)?n[n.length]=t.charAt(e):s<128?n[n.length]=i[s]:s<2048?n[n.length]=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?n[n.length]=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(e+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(e)),n[n.length]=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}l+=n.join("")}return l}},8490:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0,t._iterSSEMessages=f;const s=n(9632),i=n(4172),a=n(446),o=n(9724),c=n(446),l=n(917),p=n(773),u=n(6188),h=n(4172);class d{constructor(e,t,n){this.iterator=e,r.set(this,void 0),this.controller=t,s.__classPrivateFieldSet(this,r,n,"f")}static fromSSEResponse(e,t,n){let r=!1;const s=n?(0,u.loggerFor)(n):console;return new d(async function*(){if(r)throw new i.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const r of f(e,t))if(!n)if(r.data.startsWith("[DONE]"))n=!0;else if(null!==r.event&&r.event.startsWith("thread.")){let e;try{e=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("error"==r.event)throw new h.APIError(void 0,e.error,e.message,void 0);yield{event:r.event,data:e}}else{let t;try{t=JSON.parse(r.data)}catch(e){throw s.error("Could not parse message into JSON:",r.data),s.error("From chunk:",r.raw),e}if(t&&t.error)throw new h.APIError(void 0,t.error,void 0,e.headers);yield t}n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}static fromReadableStream(e,t,n){let r=!1;return new d(async function*(){if(r)throw new i.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const t of async function*(){const t=new o.LineDecoder,n=(0,c.ReadableStreamToAsyncIterable)(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}[(r=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),i=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new d(()=>i(e),this.controller,s.__classPrivateFieldGet(this,r,"f")),new d(()=>i(t),this.controller,s.__classPrivateFieldGet(this,r,"f"))]}toReadableStream(){const e=this;let t;return(0,a.makeReadableStream)({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const s=(0,p.encodeUTF8)(JSON.stringify(n)+"\n");e.enqueue(s)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*f(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new i.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new i.OpenAIError("Attempted to iterate over a response with no body")}const n=new m,r=new o.LineDecoder,s=(0,c.ReadableStreamToAsyncIterable)(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(0,p.encodeUTF8)(n):n;let r,s=new Uint8Array(t.length+e.length);for(s.set(t),s.set(e,t.length),t=s;-1!==(r=(0,o.findDoubleNewlineIndex)(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(s))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}t.Stream=d;class m{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}},8586:(e,t,n)=>{var r=n(6449),s=n(4394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!s(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},8721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=p,t.isIdentifierName=function(e){let t=!0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(55296==(64512&r)&&n+1<e.length){const t=e.charCodeAt(++n);56320==(64512&t)&&(r=65536+((1023&r)<<10)+(1023&t))}if(t){if(t=!1,!l(r))return!1}else if(!p(r))return!1}return!t},t.isIdentifierStart=l;let n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",r="------------------------------------------------------------------------------------------------------------------------------------------------------";const s=new RegExp("["+n+"]"),i=new RegExp("["+n+r+"]");n=r=null;const a=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,7,25,39,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,5,57,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,24,43,261,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,33,24,3,24,45,74,6,0,67,12,65,1,2,0,15,4,10,7381,42,31,98,114,8702,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,208,30,2,2,2,1,2,6,3,4,10,1,225,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4381,3,5773,3,7472,16,621,2467,541,1507,4938,6,8489],o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,78,5,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,199,7,137,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,55,9,266,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,233,0,3,0,8,1,6,0,475,6,110,6,6,9,4759,9,787719,239];function c(e,t){let n=65536;for(let r=0,s=t.length;r<s;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function l(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&s.test(String.fromCharCode(e)):c(e,a)))}function p(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&i.test(String.fromCharCode(e)):c(e,a)||c(e,o))))}},8728:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=void 0;var r=n(6666);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return r.toFile}})},8754:(e,t,n)=>{var r=n(5160);e.exports=function(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:r(e,t,n)}},8769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realtime=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(2951)),a=n(2951),o=r.__importStar(n(3991)),c=n(3991);class l extends s.APIResource{constructor(){super(...arguments),this.clientSecrets=new o.ClientSecrets(this._client),this.calls=new i.Calls(this._client)}}t.Realtime=l,l.ClientSecrets=c.ClientSecrets,l.Calls=a.Calls},8812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){const n=Array.from(t),i=new Map,a=new Map,o=new Set,c=[];for(let t=0;t<n.length;t++){const l=n[t];if(!l)continue;if(c.includes(l))continue;if((0,r.isTSAnyKeyword)(l))return[l];if((0,r.isTSBaseType)(l)){a.set(l.type,l);continue}if((0,r.isTSUnionType)(l)){o.has(l.types)||(n.push(...l.types),o.add(l.types));continue}const p="typeParameters";if((0,r.isTSTypeReference)(l)&&l[p]){const t=l[p],n=s(l.typeName);if(i.has(n)){let r=i.get(n);const s=r[p];s?(s.params.push(...t.params),s.params=e(s.params)):r=t}else i.set(n,l);continue}c.push(l)}for(const[,e]of a)c.push(e);for(const[,e]of i)c.push(e);return c};var r=n(8960);function s(e){return(0,r.isIdentifier)(e)?e.name:(0,r.isThisExpression)(e)?"this":`${e.right.name}.${s(e.left)}`}},8859:(e,t,n)=>{var r=n(3661),s=n(1380),i=n(1459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=s,a.prototype.has=i,e.exports=a},8868:(e,t,n)=>{"use strict";var r,s,i,a,o,c,l,p,u,h,d,f,m,y,g,T,S,b,E,x,v,P,A;Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantStream=void 0;const w=n(9632),C=n(6716),I=n(9526),O=n(460),_=n(4701);class L extends O.EventStream{constructor(){super(...arguments),r.add(this),i.set(this,[]),a.set(this,{}),o.set(this,{}),c.set(this,void 0),l.set(this,void 0),p.set(this,void 0),u.set(this,void 0),h.set(this,void 0),d.set(this,void 0),f.set(this,void 0),m.set(this,void 0),y.set(this,void 0)}[(i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,p=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,m=new WeakMap,y=new WeakMap,r=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new s;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=C.Stream.fromReadableStream(e,this.controller);for await(const e of s)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(s.controller.signal?.aborted)throw new I.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",T).call(this))}toReadableStream(){return new C.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r){const i=new s;return i._run(()=>i._runToolAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,t,n,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.submitToolOutputs(t,a,{...s,signal:this.controller.signal});this._connected();for await(const e of o)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(o.controller.signal?.aborted)throw new I.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",T).call(this))}static createThreadAssistantStream(e,t,n){const r=new s;return r._run(()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,t,n,r){const i=new s;return i._run(()=>i._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return w.__classPrivateFieldGet(this,f,"f")}currentRun(){return w.__classPrivateFieldGet(this,m,"f")}currentMessageSnapshot(){return w.__classPrivateFieldGet(this,c,"f")}currentRunStepSnapshot(){return w.__classPrivateFieldGet(this,y,"f")}async finalRunSteps(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,a,"f"))}async finalMessages(){return await this.done(),Object.values(w.__classPrivateFieldGet(this,o,"f"))}async finalRun(){if(await this.done(),!w.__classPrivateFieldGet(this,l,"f"))throw Error("Final run was not received.");return w.__classPrivateFieldGet(this,l,"f")}async _createThreadAssistantStream(e,t,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...t,stream:!0},a=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const e of a)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(a.controller.signal?.aborted)throw new I.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",T).call(this))}async _createAssistantStream(e,t,n,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.create(t,a,{...s,signal:this.controller.signal});this._connected();for await(const e of o)w.__classPrivateFieldGet(this,r,"m",g).call(this,e);if(o.controller.signal?.aborted)throw new I.APIUserAbortError;return this._addRun(w.__classPrivateFieldGet(this,r,"m",T).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!(0,_.isObj)(t)||!(0,_.isObj)(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...r);continue}for(const e of r){if(!(0,_.isObj)(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r){return await this._createToolAssistantStream(t,e,n,r)}}t.AssistantStream=L,s=L,g=function(e){if(!this.ended)switch(w.__classPrivateFieldSet(this,f,e,"f"),w.__classPrivateFieldGet(this,r,"m",E).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w.__classPrivateFieldGet(this,r,"m",A).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldGet(this,r,"m",b).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w.__classPrivateFieldGet(this,r,"m",S).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},T=function(){if(this.ended)throw new I.OpenAIError("stream has ended, this shouldn't happen");if(!w.__classPrivateFieldGet(this,l,"f"))throw Error("Final run has not been received");return w.__classPrivateFieldGet(this,l,"f")},S=function(e){const[t,n]=w.__classPrivateFieldGet(this,r,"m",v).call(this,e,w.__classPrivateFieldGet(this,c,"f"));w.__classPrivateFieldSet(this,c,t,"f"),w.__classPrivateFieldGet(this,o,"f")[t.id]=t;for(const e of n){const n=t.content[e.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=w.__classPrivateFieldGet(this,p,"f")){if(w.__classPrivateFieldGet(this,u,"f"))switch(w.__classPrivateFieldGet(this,u,"f").type){case"text":this._emit("textDone",w.__classPrivateFieldGet(this,u,"f").text,w.__classPrivateFieldGet(this,c,"f"));break;case"image_file":this._emit("imageFileDone",w.__classPrivateFieldGet(this,u,"f").image_file,w.__classPrivateFieldGet(this,c,"f"))}w.__classPrivateFieldSet(this,p,n.index,"f")}w.__classPrivateFieldSet(this,u,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==w.__classPrivateFieldGet(this,p,"f")){const t=e.data.content[w.__classPrivateFieldGet(this,p,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,w.__classPrivateFieldGet(this,c,"f"));break;case"text":this._emit("textDone",t.text,w.__classPrivateFieldGet(this,c,"f"))}}w.__classPrivateFieldGet(this,c,"f")&&this._emit("messageDone",e.data),w.__classPrivateFieldSet(this,c,void 0,"f")}},b=function(e){const t=w.__classPrivateFieldGet(this,r,"m",x).call(this,e);switch(w.__classPrivateFieldSet(this,y,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==w.__classPrivateFieldGet(this,h,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(w.__classPrivateFieldGet(this,d,"f")&&this._emit("toolCallDone",w.__classPrivateFieldGet(this,d,"f")),w.__classPrivateFieldSet(this,h,e.index,"f"),w.__classPrivateFieldSet(this,d,t.step_details.tool_calls[e.index],"f"),w.__classPrivateFieldGet(this,d,"f")&&this._emit("toolCallCreated",w.__classPrivateFieldGet(this,d,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w.__classPrivateFieldSet(this,y,void 0,"f"),"tool_calls"==e.data.step_details.type&&w.__classPrivateFieldGet(this,d,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,d,"f")),w.__classPrivateFieldSet(this,d,void 0,"f")),this._emit("runStepDone",e.data,t)}},E=function(e){w.__classPrivateFieldGet(this,i,"f").push(e),this._emit("event",e)},x=function(e){switch(e.event){case"thread.run.step.created":return w.__classPrivateFieldGet(this,a,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=w.__classPrivateFieldGet(this,a,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=s.accumulateDelta(t,n.delta);w.__classPrivateFieldGet(this,a,"f")[e.data.id]=r}return w.__classPrivateFieldGet(this,a,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w.__classPrivateFieldGet(this,a,"f")[e.data.id]=e.data}if(w.__classPrivateFieldGet(this,a,"f")[e.data.id])return w.__classPrivateFieldGet(this,a,"f")[e.data.id];throw new Error("No snapshot available")},v=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const e of s.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=w.__classPrivateFieldGet(this,r,"m",P).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},P=function(e,t){return s.accumulateDelta(t,e)},A=function(e){switch(w.__classPrivateFieldSet(this,m,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":w.__classPrivateFieldSet(this,l,e.data,"f"),w.__classPrivateFieldGet(this,d,"f")&&(this._emit("toolCallDone",w.__classPrivateFieldGet(this,d,"f")),w.__classPrivateFieldSet(this,d,void 0,"f"))}}},8886:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ClineAdapter=void 0;const o=a(n(1398));t.ClineAdapter=class{clineExtension;constructor(){this.clineExtension=o.extensions.getExtension("saoudrizwan.claude-dev")}isClineAvailable(){return void 0!==this.clineExtension}async ensureClineActive(){if(this.clineExtension||(this.clineExtension=o.extensions.getExtension("saoudrizwan.claude-dev")),!this.clineExtension)return!1;if(!this.clineExtension.isActive)try{return await this.clineExtension.activate(),!0}catch(e){return console.error("Failed to activate Cline:",e),!1}return!0}async sendModificationRequest(e){if(!await this.ensureClineActive())return{success:!1,error:"Cline extension is not available or could not be activated"};try{const t=this.buildPrompt(e),n=this.clineExtension?.exports;if(n){if("function"==typeof n.startNewTask)return await n.startNewTask(t),{success:!0,explanation:"Request sent to Cline. Please review and approve the changes in Cline panel."};if("function"==typeof n.setTask)return await n.setTask(t),{success:!0,explanation:"Request sent to Cline. Please review and approve the changes in Cline panel."}}return await o.env.clipboard.writeText(t),await o.commands.executeCommand("cline.plusButtonClicked"),await new Promise(e=>setTimeout(e,800)),"Open Cline"===await o.window.showInformationMessage("Request copied to clipboard! Paste it in Cline (Ctrl+V) to start.","Open Cline","OK")&&await o.commands.executeCommand("cline.openInNewTab"),{success:!0,explanation:"Request copied to clipboard. Paste (Ctrl+V) in Cline to start the task."}}catch(e){return console.error("Error sending to Cline:",e),{success:!1,error:`Failed to communicate with Cline: ${e instanceof Error?e.message:"Unknown error"}`}}}buildPrompt(e){const t=[];return t.push("# Code Modification Request"),t.push(""),t.push(`**User Request**: ${e.query}`),t.push(""),t.push("## File Context"),t.push(`- **File**: ${e.filePath}`),t.push(`- **Lines**: ${e.startLine}-${e.endLine}`),t.push(`- **Type**: ${e.nodeType}`),t.push(`- **Name**: ${e.nodeName}`),t.push(""),t.push("## Current Implementation"),t.push("```"),t.push(e.sourceCode),t.push("```"),t.push(""),e.dependencies.length>0&&(t.push("## Dependencies"),t.push("This code depends on:"),e.dependencies.forEach(e=>{t.push(`- ${e}`)}),t.push("")),e.usedBy.length>0&&(t.push("## Used By"),t.push("This code is used by:"),e.usedBy.forEach(e=>{t.push(`- ${e}`)}),t.push("")),t.push("## Instructions"),t.push("Please modify the code according to the user request above."),t.push("Ensure that:"),t.push("1. The changes address the user's request completely"),t.push("2. The code remains functional and maintains existing behavior unless explicitly changed"),t.push("3. Any dependencies are properly handled"),t.push("4. Code style and conventions are maintained"),t.push("5. Add appropriate comments if the changes are complex"),t.join("\n")}async sendViaClineAPI(e){if(!this.clineExtension)return{success:!1,error:"Cline extension not found"};try{const t=this.clineExtension.exports;if(t&&"function"==typeof t.createTask){const n=await t.createTask({task:e.query,files:[e.filePath],context:this.buildPrompt(e)});return{success:!0,explanation:"Task created in Cline",modifiedCode:n?.modifiedCode}}return this.sendModificationRequest(e)}catch(e){return{success:!1,error:`Failed to use Cline API: ${e instanceof Error?e.message:"Unknown error"}`}}}async openInCline(e){const t=await o.workspace.openTextDocument(e.filePath);await o.window.showTextDocument(t,{selection:new o.Range(new o.Position(e.startLine,0),new o.Position(e.endLine,0))});const n=o.window.activeTextEditor;n&&n.revealRange(new o.Range(e.startLine,0,e.endLine,0),o.TextEditorRevealType.InCenter)}}},8943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(9793);const s=Symbol(),i=Symbol();function a(e,t,n){if(!e)return!1;const o=r.VISITOR_KEYS[e.type];if(!o)return!1;const c=t(e,n=n||{});if(void 0!==c)switch(c){case s:return!1;case i:return!0}for(const r of o){const s=e[r];if(s)if(Array.isArray(s)){for(const e of s)if(a(e,t,n))return!0}else if(a(s,t,n))return!0}return!1}a.skip=s,a.stop=i},8960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAccessor=function(e,t){return!!e&&("ClassAccessorProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isAnyTypeAnnotation=function(e,t){return!!e&&"AnyTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isArgumentPlaceholder=function(e,t){return!!e&&"ArgumentPlaceholder"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrayExpression=function(e,t){return!!e&&"ArrayExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrayPattern=function(e,t){return!!e&&"ArrayPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrayTypeAnnotation=function(e,t){return!!e&&"ArrayTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isArrowFunctionExpression=function(e,t){return!!e&&"ArrowFunctionExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isAssignmentExpression=function(e,t){return!!e&&"AssignmentExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isAssignmentPattern=function(e,t){return!!e&&"AssignmentPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isAwaitExpression=function(e,t){return!!e&&"AwaitExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isBigIntLiteral=function(e,t){return!!e&&"BigIntLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isBinary=function(e,t){if(!e)return!1;switch(e.type){case"BinaryExpression":case"LogicalExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBinaryExpression=function(e,t){return!!e&&"BinaryExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isBindExpression=function(e,t){return!!e&&"BindExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isBlock=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"Program":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBlockParent=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBlockStatement=function(e,t){return!!e&&"BlockStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isBooleanLiteral=function(e,t){return!!e&&"BooleanLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isBooleanLiteralTypeAnnotation=function(e,t){return!!e&&"BooleanLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isBooleanTypeAnnotation=function(e,t){return!!e&&"BooleanTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isBreakStatement=function(e,t){return!!e&&"BreakStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isCallExpression=function(e,t){return!!e&&"CallExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isCatchClause=function(e,t){return!!e&&"CatchClause"===e.type&&(null==t||(0,r.default)(e,t))},t.isClass=function(e,t){if(!e)return!1;switch(e.type){case"ClassExpression":case"ClassDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isClassAccessorProperty=function(e,t){return!!e&&"ClassAccessorProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassBody=function(e,t){return!!e&&"ClassBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassDeclaration=function(e,t){return!!e&&"ClassDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassExpression=function(e,t){return!!e&&"ClassExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassImplements=function(e,t){return!!e&&"ClassImplements"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassMethod=function(e,t){return!!e&&"ClassMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassPrivateMethod=function(e,t){return!!e&&"ClassPrivateMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassPrivateProperty=function(e,t){return!!e&&"ClassPrivateProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isClassProperty=function(e,t){return!!e&&"ClassProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isCompletionStatement=function(e,t){if(!e)return!1;switch(e.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isConditional=function(e,t){if(!e)return!1;switch(e.type){case"ConditionalExpression":case"IfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isConditionalExpression=function(e,t){return!!e&&"ConditionalExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isContinueStatement=function(e,t){return!!e&&"ContinueStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isDebuggerStatement=function(e,t){return!!e&&"DebuggerStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isDecimalLiteral=function(e,t){return!!e&&"DecimalLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"VariableDeclaration":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":break;case"Placeholder":if("Declaration"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isDeclareClass=function(e,t){return!!e&&"DeclareClass"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareExportAllDeclaration=function(e,t){return!!e&&"DeclareExportAllDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareExportDeclaration=function(e,t){return!!e&&"DeclareExportDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareFunction=function(e,t){return!!e&&"DeclareFunction"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareInterface=function(e,t){return!!e&&"DeclareInterface"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareModule=function(e,t){return!!e&&"DeclareModule"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareModuleExports=function(e,t){return!!e&&"DeclareModuleExports"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareOpaqueType=function(e,t){return!!e&&"DeclareOpaqueType"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareTypeAlias=function(e,t){return!!e&&"DeclareTypeAlias"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclareVariable=function(e,t){return!!e&&"DeclareVariable"===e.type&&(null==t||(0,r.default)(e,t))},t.isDeclaredPredicate=function(e,t){return!!e&&"DeclaredPredicate"===e.type&&(null==t||(0,r.default)(e,t))},t.isDecorator=function(e,t){return!!e&&"Decorator"===e.type&&(null==t||(0,r.default)(e,t))},t.isDirective=function(e,t){return!!e&&"Directive"===e.type&&(null==t||(0,r.default)(e,t))},t.isDirectiveLiteral=function(e,t){return!!e&&"DirectiveLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isDoExpression=function(e,t){return!!e&&"DoExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isDoWhileStatement=function(e,t){return!!e&&"DoWhileStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isEmptyStatement=function(e,t){return!!e&&"EmptyStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isEmptyTypeAnnotation=function(e,t){return!!e&&"EmptyTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumBody=function(e,t){if(!e)return!1;switch(e.type){case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isEnumBooleanBody=function(e,t){return!!e&&"EnumBooleanBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumBooleanMember=function(e,t){return!!e&&"EnumBooleanMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumDeclaration=function(e,t){return!!e&&"EnumDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumDefaultedMember=function(e,t){return!!e&&"EnumDefaultedMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumMember=function(e,t){if(!e)return!1;switch(e.type){case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isEnumNumberBody=function(e,t){return!!e&&"EnumNumberBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumNumberMember=function(e,t){return!!e&&"EnumNumberMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumStringBody=function(e,t){return!!e&&"EnumStringBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumStringMember=function(e,t){return!!e&&"EnumStringMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isEnumSymbolBody=function(e,t){return!!e&&"EnumSymbolBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isExistsTypeAnnotation=function(e,t){return!!e&&"ExistsTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportAllDeclaration=function(e,t){return!!e&&"ExportAllDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isExportDefaultDeclaration=function(e,t){return!!e&&"ExportDefaultDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportDefaultSpecifier=function(e,t){return!!e&&"ExportDefaultSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportNamedDeclaration=function(e,t){return!!e&&"ExportNamedDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportNamespaceSpecifier=function(e,t){return!!e&&"ExportNamespaceSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isExportSpecifier=function(e,t){return!!e&&"ExportSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isExpression=function(e,t){if(!e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ParenthesizedExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":case"ArrowFunctionExpression":case"ClassExpression":case"ImportExpression":case"MetaProperty":case"Super":case"TaggedTemplateExpression":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"OptionalMemberExpression":case"OptionalCallExpression":case"TypeCastExpression":case"JSXElement":case"JSXFragment":case"BindExpression":case"DoExpression":case"RecordExpression":case"TupleExpression":case"DecimalLiteral":case"ModuleExpression":case"TopicReference":case"PipelineTopicExpression":case"PipelineBareFunction":case"PipelinePrimaryTopicReference":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Expression":case"Identifier":case"StringLiteral":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isExpressionStatement=function(e,t){return!!e&&"ExpressionStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isExpressionWrapper=function(e,t){if(!e)return!1;switch(e.type){case"ExpressionStatement":case"ParenthesizedExpression":case"TypeCastExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFile=function(e,t){return!!e&&"File"===e.type&&(null==t||(0,r.default)(e,t))},t.isFlow=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ClassImplements":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"DeclaredPredicate":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"FunctionTypeParam":case"GenericTypeAnnotation":case"InferredPredicate":case"InterfaceExtends":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":case"OpaqueType":case"QualifiedTypeIdentifier":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"TypeAlias":case"TypeAnnotation":case"TypeCastExpression":case"TypeParameter":case"TypeParameterDeclaration":case"TypeParameterInstantiation":case"UnionTypeAnnotation":case"Variance":case"VoidTypeAnnotation":case"EnumDeclaration":case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowBaseAnnotation=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"BooleanTypeAnnotation":case"NullLiteralTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NumberTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"VoidTypeAnnotation":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowPredicate=function(e,t){if(!e)return!1;switch(e.type){case"DeclaredPredicate":case"InferredPredicate":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowType=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"GenericTypeAnnotation":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"UnionTypeAnnotation":case"VoidTypeAnnotation":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFor=function(e,t){if(!e)return!1;switch(e.type){case"ForInStatement":case"ForStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isForInStatement=function(e,t){return!!e&&"ForInStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isForOfStatement=function(e,t){return!!e&&"ForOfStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isForStatement=function(e,t){return!!e&&"ForStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isForXStatement=function(e,t){if(!e)return!1;switch(e.type){case"ForInStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunction=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionDeclaration=function(e,t){return!!e&&"FunctionDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isFunctionExpression=function(e,t){return!!e&&"FunctionExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isFunctionParameter=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if("Identifier"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionParent=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionTypeAnnotation=function(e,t){return!!e&&"FunctionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isFunctionTypeParam=function(e,t){return!!e&&"FunctionTypeParam"===e.type&&(null==t||(0,r.default)(e,t))},t.isGenericTypeAnnotation=function(e,t){return!!e&&"GenericTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isIdentifier=function(e,t){return!!e&&"Identifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isIfStatement=function(e,t){return!!e&&"IfStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isImmutable=function(e,t){if(!e)return!1;switch(e.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"BigIntLiteral":case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXOpeningElement":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isImport=function(e,t){return!!e&&"Import"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportAttribute=function(e,t){return!!e&&"ImportAttribute"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportDeclaration=function(e,t){return!!e&&"ImportDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportDefaultSpecifier=function(e,t){return!!e&&"ImportDefaultSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportExpression=function(e,t){return!!e&&"ImportExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportNamespaceSpecifier=function(e,t){return!!e&&"ImportNamespaceSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isImportOrExportDeclaration=i,t.isImportSpecifier=function(e,t){return!!e&&"ImportSpecifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isIndexedAccessType=function(e,t){return!!e&&"IndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t))},t.isInferredPredicate=function(e,t){return!!e&&"InferredPredicate"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterfaceDeclaration=function(e,t){return!!e&&"InterfaceDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterfaceExtends=function(e,t){return!!e&&"InterfaceExtends"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterfaceTypeAnnotation=function(e,t){return!!e&&"InterfaceTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isInterpreterDirective=function(e,t){return!!e&&"InterpreterDirective"===e.type&&(null==t||(0,r.default)(e,t))},t.isIntersectionTypeAnnotation=function(e,t){return!!e&&"IntersectionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSX=function(e,t){if(!e)return!1;switch(e.type){case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXEmptyExpression":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXIdentifier":case"JSXMemberExpression":case"JSXNamespacedName":case"JSXOpeningElement":case"JSXSpreadAttribute":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isJSXAttribute=function(e,t){return!!e&&"JSXAttribute"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXClosingElement=function(e,t){return!!e&&"JSXClosingElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXClosingFragment=function(e,t){return!!e&&"JSXClosingFragment"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXElement=function(e,t){return!!e&&"JSXElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXEmptyExpression=function(e,t){return!!e&&"JSXEmptyExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXExpressionContainer=function(e,t){return!!e&&"JSXExpressionContainer"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXFragment=function(e,t){return!!e&&"JSXFragment"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXIdentifier=function(e,t){return!!e&&"JSXIdentifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXMemberExpression=function(e,t){return!!e&&"JSXMemberExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXNamespacedName=function(e,t){return!!e&&"JSXNamespacedName"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXOpeningElement=function(e,t){return!!e&&"JSXOpeningElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXOpeningFragment=function(e,t){return!!e&&"JSXOpeningFragment"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXSpreadAttribute=function(e,t){return!!e&&"JSXSpreadAttribute"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXSpreadChild=function(e,t){return!!e&&"JSXSpreadChild"===e.type&&(null==t||(0,r.default)(e,t))},t.isJSXText=function(e,t){return!!e&&"JSXText"===e.type&&(null==t||(0,r.default)(e,t))},t.isLVal=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"TSParameterProperty":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isLabeledStatement=function(e,t){return!!e&&"LabeledStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isLiteral=function(e,t){if(!e)return!1;switch(e.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"TemplateLiteral":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isLogicalExpression=function(e,t){return!!e&&"LogicalExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isLoop=function(e,t){if(!e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMemberExpression=function(e,t){return!!e&&"MemberExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isMetaProperty=function(e,t){return!!e&&"MetaProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isMethod=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMiscellaneous=function(e,t){if(!e)return!1;switch(e.type){case"Noop":case"Placeholder":case"V8IntrinsicIdentifier":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMixedTypeAnnotation=function(e,t){return!!e&&"MixedTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isModuleDeclaration=function(e,t){return(0,s.default)("isModuleDeclaration","isImportOrExportDeclaration"),i(e,t)},t.isModuleExpression=function(e,t){return!!e&&"ModuleExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isModuleSpecifier=function(e,t){if(!e)return!1;switch(e.type){case"ExportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isNewExpression=function(e,t){return!!e&&"NewExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isNoop=function(e,t){return!!e&&"Noop"===e.type&&(null==t||(0,r.default)(e,t))},t.isNullLiteral=function(e,t){return!!e&&"NullLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isNullLiteralTypeAnnotation=function(e,t){return!!e&&"NullLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNullableTypeAnnotation=function(e,t){return!!e&&"NullableTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumberLiteral=function(e,t){return(0,s.default)("isNumberLiteral","isNumericLiteral"),!!e&&"NumberLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumberLiteralTypeAnnotation=function(e,t){return!!e&&"NumberLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumberTypeAnnotation=function(e,t){return!!e&&"NumberTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isNumericLiteral=function(e,t){return!!e&&"NumericLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectExpression=function(e,t){return!!e&&"ObjectExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectMember=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ObjectProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isObjectMethod=function(e,t){return!!e&&"ObjectMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectPattern=function(e,t){return!!e&&"ObjectPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectProperty=function(e,t){return!!e&&"ObjectProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeAnnotation=function(e,t){return!!e&&"ObjectTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeCallProperty=function(e,t){return!!e&&"ObjectTypeCallProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeIndexer=function(e,t){return!!e&&"ObjectTypeIndexer"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeInternalSlot=function(e,t){return!!e&&"ObjectTypeInternalSlot"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeProperty=function(e,t){return!!e&&"ObjectTypeProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isObjectTypeSpreadProperty=function(e,t){return!!e&&"ObjectTypeSpreadProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isOpaqueType=function(e,t){return!!e&&"OpaqueType"===e.type&&(null==t||(0,r.default)(e,t))},t.isOptionalCallExpression=function(e,t){return!!e&&"OptionalCallExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isOptionalIndexedAccessType=function(e,t){return!!e&&"OptionalIndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t))},t.isOptionalMemberExpression=function(e,t){return!!e&&"OptionalMemberExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isParenthesizedExpression=function(e,t){return!!e&&"ParenthesizedExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isPattern=function(e,t){if(!e)return!1;switch(e.type){case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if("Pattern"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPatternLike=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPipelineBareFunction=function(e,t){return!!e&&"PipelineBareFunction"===e.type&&(null==t||(0,r.default)(e,t))},t.isPipelinePrimaryTopicReference=function(e,t){return!!e&&"PipelinePrimaryTopicReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isPipelineTopicExpression=function(e,t){return!!e&&"PipelineTopicExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isPlaceholder=function(e,t){return!!e&&"Placeholder"===e.type&&(null==t||(0,r.default)(e,t))},t.isPrivate=function(e,t){if(!e)return!1;switch(e.type){case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPrivateName=function(e,t){return!!e&&"PrivateName"===e.type&&(null==t||(0,r.default)(e,t))},t.isProgram=function(e,t){return!!e&&"Program"===e.type&&(null==t||(0,r.default)(e,t))},t.isProperty=function(e,t){if(!e)return!1;switch(e.type){case"ObjectProperty":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPureish=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"ArrowFunctionExpression":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isQualifiedTypeIdentifier=function(e,t){return!!e&&"QualifiedTypeIdentifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isRecordExpression=function(e,t){return!!e&&"RecordExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isRegExpLiteral=function(e,t){return!!e&&"RegExpLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isRegexLiteral=function(e,t){return(0,s.default)("isRegexLiteral","isRegExpLiteral"),!!e&&"RegexLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isRestElement=function(e,t){return!!e&&"RestElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isRestProperty=function(e,t){return(0,s.default)("isRestProperty","isRestElement"),!!e&&"RestProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isReturnStatement=function(e,t){return!!e&&"ReturnStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isScopable=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ClassExpression":case"ClassDeclaration":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isSequenceExpression=function(e,t){return!!e&&"SequenceExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isSpreadElement=function(e,t){return!!e&&"SpreadElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isSpreadProperty=function(e,t){return(0,s.default)("isSpreadProperty","isSpreadElement"),!!e&&"SpreadProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isStandardized=function(e,t){if(!e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"InterpreterDirective":case"Directive":case"DirectiveLiteral":case"BlockStatement":case"BreakStatement":case"CallExpression":case"CatchClause":case"ConditionalExpression":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"File":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Identifier":case"IfStatement":case"LabeledStatement":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"Program":case"ObjectExpression":case"ObjectMethod":case"ObjectProperty":case"RestElement":case"ReturnStatement":case"SequenceExpression":case"ParenthesizedExpression":case"SwitchCase":case"SwitchStatement":case"ThisExpression":case"ThrowStatement":case"TryStatement":case"UnaryExpression":case"UpdateExpression":case"VariableDeclaration":case"VariableDeclarator":case"WhileStatement":case"WithStatement":case"AssignmentPattern":case"ArrayPattern":case"ArrowFunctionExpression":case"ClassBody":case"ClassExpression":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ExportSpecifier":case"ForOfStatement":case"ImportDeclaration":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportExpression":case"MetaProperty":case"ClassMethod":case"ObjectPattern":case"SpreadElement":case"Super":case"TaggedTemplateExpression":case"TemplateElement":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"ExportNamespaceSpecifier":case"OptionalMemberExpression":case"OptionalCallExpression":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":case"StaticBlock":case"ImportAttribute":break;case"Placeholder":switch(e.expectedNode){case"Identifier":case"StringLiteral":case"BlockStatement":case"ClassBody":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isStatement=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ForOfStatement":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":case"TSExportAssignment":case"TSNamespaceExportDeclaration":break;case"Placeholder":switch(e.expectedNode){case"Statement":case"Declaration":case"BlockStatement":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isStaticBlock=function(e,t){return!!e&&"StaticBlock"===e.type&&(null==t||(0,r.default)(e,t))},t.isStringLiteral=function(e,t){return!!e&&"StringLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isStringLiteralTypeAnnotation=function(e,t){return!!e&&"StringLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isStringTypeAnnotation=function(e,t){return!!e&&"StringTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isSuper=function(e,t){return!!e&&"Super"===e.type&&(null==t||(0,r.default)(e,t))},t.isSwitchCase=function(e,t){return!!e&&"SwitchCase"===e.type&&(null==t||(0,r.default)(e,t))},t.isSwitchStatement=function(e,t){return!!e&&"SwitchStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isSymbolTypeAnnotation=function(e,t){return!!e&&"SymbolTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSAnyKeyword=function(e,t){return!!e&&"TSAnyKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSArrayType=function(e,t){return!!e&&"TSArrayType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSAsExpression=function(e,t){return!!e&&"TSAsExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSBaseType=function(e,t){if(!e)return!1;switch(e.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSTemplateLiteralType":case"TSLiteralType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSBigIntKeyword=function(e,t){return!!e&&"TSBigIntKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSBooleanKeyword=function(e,t){return!!e&&"TSBooleanKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSCallSignatureDeclaration=function(e,t){return!!e&&"TSCallSignatureDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSConditionalType=function(e,t){return!!e&&"TSConditionalType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSConstructSignatureDeclaration=function(e,t){return!!e&&"TSConstructSignatureDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSConstructorType=function(e,t){return!!e&&"TSConstructorType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSDeclareFunction=function(e,t){return!!e&&"TSDeclareFunction"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSDeclareMethod=function(e,t){return!!e&&"TSDeclareMethod"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSEntityName=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"TSQualifiedName":break;case"Placeholder":if("Identifier"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSEnumBody=function(e,t){return!!e&&"TSEnumBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSEnumDeclaration=function(e,t){return!!e&&"TSEnumDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSEnumMember=function(e,t){return!!e&&"TSEnumMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSExportAssignment=function(e,t){return!!e&&"TSExportAssignment"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSExpressionWithTypeArguments=function(e,t){return!!e&&"TSExpressionWithTypeArguments"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSExternalModuleReference=function(e,t){return!!e&&"TSExternalModuleReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSFunctionType=function(e,t){return!!e&&"TSFunctionType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSImportEqualsDeclaration=function(e,t){return!!e&&"TSImportEqualsDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSImportType=function(e,t){return!!e&&"TSImportType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIndexSignature=function(e,t){return!!e&&"TSIndexSignature"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIndexedAccessType=function(e,t){return!!e&&"TSIndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInferType=function(e,t){return!!e&&"TSInferType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInstantiationExpression=function(e,t){return!!e&&"TSInstantiationExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInterfaceBody=function(e,t){return!!e&&"TSInterfaceBody"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSInterfaceDeclaration=function(e,t){return!!e&&"TSInterfaceDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIntersectionType=function(e,t){return!!e&&"TSIntersectionType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSIntrinsicKeyword=function(e,t){return!!e&&"TSIntrinsicKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSLiteralType=function(e,t){return!!e&&"TSLiteralType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSMappedType=function(e,t){return!!e&&"TSMappedType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSMethodSignature=function(e,t){return!!e&&"TSMethodSignature"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSModuleBlock=function(e,t){return!!e&&"TSModuleBlock"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSModuleDeclaration=function(e,t){return!!e&&"TSModuleDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNamedTupleMember=function(e,t){return!!e&&"TSNamedTupleMember"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNamespaceExportDeclaration=function(e,t){return!!e&&"TSNamespaceExportDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNeverKeyword=function(e,t){return!!e&&"TSNeverKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNonNullExpression=function(e,t){return!!e&&"TSNonNullExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNullKeyword=function(e,t){return!!e&&"TSNullKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSNumberKeyword=function(e,t){return!!e&&"TSNumberKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSObjectKeyword=function(e,t){return!!e&&"TSObjectKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSOptionalType=function(e,t){return!!e&&"TSOptionalType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSParameterProperty=function(e,t){return!!e&&"TSParameterProperty"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSParenthesizedType=function(e,t){return!!e&&"TSParenthesizedType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSPropertySignature=function(e,t){return!!e&&"TSPropertySignature"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSQualifiedName=function(e,t){return!!e&&"TSQualifiedName"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSRestType=function(e,t){return!!e&&"TSRestType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSSatisfiesExpression=function(e,t){return!!e&&"TSSatisfiesExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSStringKeyword=function(e,t){return!!e&&"TSStringKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSSymbolKeyword=function(e,t){return!!e&&"TSSymbolKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTemplateLiteralType=function(e,t){return!!e&&"TSTemplateLiteralType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSThisType=function(e,t){return!!e&&"TSThisType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTupleType=function(e,t){return!!e&&"TSTupleType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSType=function(e,t){if(!e)return!1;switch(e.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSImportType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSTypeAliasDeclaration=function(e,t){return!!e&&"TSTypeAliasDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeAnnotation=function(e,t){return!!e&&"TSTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeAssertion=function(e,t){return!!e&&"TSTypeAssertion"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeElement=function(e,t){if(!e)return!1;switch(e.type){case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSTypeLiteral=function(e,t){return!!e&&"TSTypeLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeOperator=function(e,t){return!!e&&"TSTypeOperator"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeParameter=function(e,t){return!!e&&"TSTypeParameter"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeParameterDeclaration=function(e,t){return!!e&&"TSTypeParameterDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeParameterInstantiation=function(e,t){return!!e&&"TSTypeParameterInstantiation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypePredicate=function(e,t){return!!e&&"TSTypePredicate"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeQuery=function(e,t){return!!e&&"TSTypeQuery"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSTypeReference=function(e,t){return!!e&&"TSTypeReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSUndefinedKeyword=function(e,t){return!!e&&"TSUndefinedKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSUnionType=function(e,t){return!!e&&"TSUnionType"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSUnknownKeyword=function(e,t){return!!e&&"TSUnknownKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTSVoidKeyword=function(e,t){return!!e&&"TSVoidKeyword"===e.type&&(null==t||(0,r.default)(e,t))},t.isTaggedTemplateExpression=function(e,t){return!!e&&"TaggedTemplateExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTemplateElement=function(e,t){return!!e&&"TemplateElement"===e.type&&(null==t||(0,r.default)(e,t))},t.isTemplateLiteral=function(e,t){return!!e&&"TemplateLiteral"===e.type&&(null==t||(0,r.default)(e,t))},t.isTerminatorless=function(e,t){if(!e)return!1;switch(e.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":case"YieldExpression":case"AwaitExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isThisExpression=function(e,t){return!!e&&"ThisExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isThisTypeAnnotation=function(e,t){return!!e&&"ThisTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isThrowStatement=function(e,t){return!!e&&"ThrowStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isTopicReference=function(e,t){return!!e&&"TopicReference"===e.type&&(null==t||(0,r.default)(e,t))},t.isTryStatement=function(e,t){return!!e&&"TryStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isTupleExpression=function(e,t){return!!e&&"TupleExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTupleTypeAnnotation=function(e,t){return!!e&&"TupleTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeAlias=function(e,t){return!!e&&"TypeAlias"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeAnnotation=function(e,t){return!!e&&"TypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeCastExpression=function(e,t){return!!e&&"TypeCastExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeParameter=function(e,t){return!!e&&"TypeParameter"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeParameterDeclaration=function(e,t){return!!e&&"TypeParameterDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeParameterInstantiation=function(e,t){return!!e&&"TypeParameterInstantiation"===e.type&&(null==t||(0,r.default)(e,t))},t.isTypeScript=function(e,t){if(!e)return!1;switch(e.type){case"TSParameterProperty":case"TSDeclareFunction":case"TSDeclareMethod":case"TSQualifiedName":case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSNamedTupleMember":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSInterfaceDeclaration":case"TSInterfaceBody":case"TSTypeAliasDeclaration":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSEnumBody":case"TSEnumDeclaration":case"TSEnumMember":case"TSModuleDeclaration":case"TSModuleBlock":case"TSImportType":case"TSImportEqualsDeclaration":case"TSExternalModuleReference":case"TSNonNullExpression":case"TSExportAssignment":case"TSNamespaceExportDeclaration":case"TSTypeAnnotation":case"TSTypeParameterInstantiation":case"TSTypeParameterDeclaration":case"TSTypeParameter":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTypeofTypeAnnotation=function(e,t){return!!e&&"TypeofTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isUnaryExpression=function(e,t){return!!e&&"UnaryExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isUnaryLike=function(e,t){if(!e)return!1;switch(e.type){case"UnaryExpression":case"SpreadElement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isUnionTypeAnnotation=function(e,t){return!!e&&"UnionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isUpdateExpression=function(e,t){return!!e&&"UpdateExpression"===e.type&&(null==t||(0,r.default)(e,t))},t.isUserWhitespacable=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ObjectProperty":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isV8IntrinsicIdentifier=function(e,t){return!!e&&"V8IntrinsicIdentifier"===e.type&&(null==t||(0,r.default)(e,t))},t.isVariableDeclaration=function(e,t){return!!e&&"VariableDeclaration"===e.type&&(null==t||(0,r.default)(e,t))},t.isVariableDeclarator=function(e,t){return!!e&&"VariableDeclarator"===e.type&&(null==t||(0,r.default)(e,t))},t.isVariance=function(e,t){return!!e&&"Variance"===e.type&&(null==t||(0,r.default)(e,t))},t.isVoidPattern=function(e,t){return!!e&&"VoidPattern"===e.type&&(null==t||(0,r.default)(e,t))},t.isVoidTypeAnnotation=function(e,t){return!!e&&"VoidTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t))},t.isWhile=function(e,t){if(!e)return!1;switch(e.type){case"DoWhileStatement":case"WhileStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isWhileStatement=function(e,t){return!!e&&"WhileStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isWithStatement=function(e,t){return!!e&&"WithStatement"===e.type&&(null==t||(0,r.default)(e,t))},t.isYieldExpression=function(e,t){return!!e&&"YieldExpression"===e.type&&(null==t||(0,r.default)(e,t))};var r=n(6616),s=n(3762);function i(e,t){if(!e)return!1;switch(e.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)}},8984:(e,t,n)=>{var r=n(5527),s=n(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8991:e=>{let t=process||{},n=t.argv||[],r=t.env||{},s=!(r.NO_COLOR||n.includes("--no-color"))&&(!!r.FORCE_COLOR||n.includes("--color")||"win32"===t.platform||(t.stdout||{}).isTTY&&"dumb"!==r.TERM||!!r.CI),i=(e,t,n=e)=>r=>{let s=""+r,i=s.indexOf(t,e.length);return~i?e+a(s,t,n,i)+t:e+s+t},a=(e,t,n,r)=>{let s="",i=0;do{s+=e.substring(i,r)+n,i=r+t.length,r=e.indexOf(t,i)}while(~r);return s+e.substring(i)},o=(e=s)=>{let t=e?i:()=>String;return{isColorSupported:e,reset:t("[0m","[0m"),bold:t("[1m","[22m","[22m[1m"),dim:t("[2m","[22m","[22m[2m"),italic:t("[3m","[23m"),underline:t("[4m","[24m"),inverse:t("[7m","[27m"),hidden:t("[8m","[28m"),strikethrough:t("[9m","[29m"),black:t("[30m","[39m"),red:t("[31m","[39m"),green:t("[32m","[39m"),yellow:t("[33m","[39m"),blue:t("[34m","[39m"),magenta:t("[35m","[39m"),cyan:t("[36m","[39m"),white:t("[37m","[39m"),gray:t("[90m","[39m"),bgBlack:t("[40m","[49m"),bgRed:t("[41m","[49m"),bgGreen:t("[42m","[49m"),bgYellow:t("[43m","[49m"),bgBlue:t("[44m","[49m"),bgMagenta:t("[45m","[49m"),bgCyan:t("[46m","[49m"),bgWhite:t("[47m","[49m"),blackBright:t("[90m","[39m"),redBright:t("[91m","[39m"),greenBright:t("[92m","[39m"),yellowBright:t("[93m","[39m"),blueBright:t("[94m","[39m"),magentaBright:t("[95m","[39m"),cyanBright:t("[96m","[39m"),whiteBright:t("[97m","[39m"),bgBlackBright:t("[100m","[49m"),bgRedBright:t("[101m","[49m"),bgGreenBright:t("[102m","[49m"),bgYellowBright:t("[103m","[49m"),bgBlueBright:t("[104m","[49m"),bgMagentaBright:t("[105m","[49m"),bgCyanBright:t("[106m","[49m"),bgWhiteBright:t("[107m","[49m")}};e.exports=o(),e.exports.createColors=o},8992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.generate=a;var r=n(4068),s=n(4255);function i(e,t,n){if(t.experimental_preserveFormat){if("string"!=typeof e)throw new Error("`experimental_preserveFormat` requires the original `code` to be passed to @babel/generator as a string");if(!t.retainLines)throw new Error("`experimental_preserveFormat` requires `retainLines` to be set to `true`");if(t.compact&&"auto"!==t.compact)throw new Error("`experimental_preserveFormat` is not compatible with the `compact` option");if(t.minified)throw new Error("`experimental_preserveFormat` is not compatible with the `minified` option");if(t.jsescOption)throw new Error("`experimental_preserveFormat` is not compatible with the `jsescOption` option");if(!Array.isArray(n.tokens))throw new Error("`experimental_preserveFormat` requires the AST to have attached the token of the input code. Make sure to enable the `tokens: true` parser option.")}const r={auxiliaryCommentBefore:t.auxiliaryCommentBefore,auxiliaryCommentAfter:t.auxiliaryCommentAfter,shouldPrintComment:t.shouldPrintComment,preserveFormat:t.experimental_preserveFormat,retainLines:t.retainLines,retainFunctionParens:t.retainFunctionParens,comments:null==t.comments||t.comments,compact:t.compact,minified:t.minified,concise:t.concise,indent:{adjustMultilineComment:!0,style:"  "},jsescOption:Object.assign({quotes:"double",wrap:!0,minimal:!1},t.jsescOption),topicToken:t.topicToken,importAttributesKeyword:t.importAttributesKeyword};var s;r.decoratorsBeforeExport=t.decoratorsBeforeExport,r.jsescOption.json=t.jsonCompatibleStrings,r.recordAndTupleSyntaxType=null!=(s=t.recordAndTupleSyntaxType)?s:"hash",r.minified?(r.compact=!0,r.shouldPrintComment=r.shouldPrintComment||(()=>r.comments)):r.shouldPrintComment=r.shouldPrintComment||(e=>r.comments||e.includes("@license")||e.includes("@preserve")),"auto"===r.compact&&(r.compact="string"==typeof e&&e.length>5e5,r.compact&&console.error(`[BABEL] Note: The code generator has deoptimised the styling of ${t.filename} as it exceeds the max of 500KB.`)),(r.compact||r.preserveFormat)&&(r.indent.adjustMultilineComment=!1);const{auxiliaryCommentBefore:i,auxiliaryCommentAfter:a,shouldPrintComment:o}=r;return i&&!o(i)&&(r.auxiliaryCommentBefore=void 0),a&&!o(a)&&(r.auxiliaryCommentAfter=void 0),r}function a(e,t={},n){const a=i(n,t,e),o=t.sourceMaps?new r.default(t,n):null;return new s.default(a,o,e.tokens,"string"==typeof n?n:null).generate(e)}t.CodeGenerator=class{constructor(e,t={},n){this._ast=void 0,this._format=void 0,this._map=void 0,this._ast=e,this._format=i(n,t,e),this._map=t.sourceMaps?new r.default(t,n):null}generate(){return new s.default(this._format,this._map).generate(this._ast)}},t.default=a},8997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Conversations=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(365)),a=n(365),o=n(4815);class c extends s.APIResource{constructor(){super(...arguments),this.items=new i.Items(this._client)}create(e={},t){return this._client.post("/conversations",{body:e,...t})}retrieve(e,t){return this._client.get(o.path`/conversations/${e}`,t)}update(e,t,n){return this._client.post(o.path`/conversations/${e}`,{body:t,...n})}delete(e,t){return this._client.delete(o.path`/conversations/${e}`,t)}}t.Conversations=c,c.Items=a.Items},9018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];for(let n=0;n<e.children.length;n++){let i=e.children[n];(0,r.isJSXText)(i)?(0,s.default)(i,t):((0,r.isJSXExpressionContainer)(i)&&(i=i.expression),(0,r.isJSXEmptyExpression)(i)||t.push(i))}return t};var r=n(8960),s=n(3043)},9023:e=>{"use strict";e.exports=require("util")},9045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=n(2040);class s extends r.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=s},9127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isFunctionDeclaration)(e)||(0,r.isClassDeclaration)(e)||(0,s.default)(e)};var r=n(8960),s=n(3847)},9147:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiteLLMService=void 0,t.getLiteLLMService=function(){return u||(u=new p),u};const c=a(n(1398)),l=o(n(2012));class p{client=null;model="gpt-4o-mini";isConfigured=!1;constructor(){this.initialize()}initialize(){const e=c.workspace.getConfiguration("codebaseVisualizer"),t=e.get("litellm.baseUrl")||process.env.LITELLM_API_BASE||process.env.OPENAI_API_BASE||"https://api.openai.com/v1",n=e.get("litellm.apiKey")||process.env.LITELLM_API_KEY||process.env.OPENAI_API_KEY||"";if(this.model=e.get("litellm.model")||process.env.LITELLM_MODEL||"gpt-4o-mini",n)try{this.client=new l.default({apiKey:n,baseURL:t}),this.isConfigured=!0,console.log(`LiteLLM initialized with model: ${this.model}, baseURL: ${t}`)}catch(e){console.error("Failed to initialize LiteLLM client:",e),this.isConfigured=!1}else console.log("LiteLLM not configured - API key not found. Using rule-based generation."),this.isConfigured=!1}isReady(){return this.isConfigured&&null!==this.client}reinitialize(){this.initialize()}async promptForConfiguration(){const e=await c.window.showInformationMessage("LiteLLM is not configured. Would you like to set up API key for AI-powered documentation?","Configure API Key","Use LiteLLM Proxy","Skip");if("Configure API Key"===e){const e=await c.window.showInputBox({prompt:"Enter your API key (OpenAI, Anthropic, or LiteLLM proxy key)",password:!0,placeHolder:"sk-..."});if(e){const t=c.workspace.getConfiguration("codebaseVisualizer");await t.update("litellm.apiKey",e,c.ConfigurationTarget.Global);const n=await c.window.showQuickPick(["gpt-4o-mini","gpt-4o","gpt-4-turbo","gpt-3.5-turbo","claude-3-sonnet-20240229","claude-3-haiku-20240307","gemini-pro"],{placeHolder:"Select the model to use"});return n&&await t.update("litellm.model",n,c.ConfigurationTarget.Global),this.initialize(),this.isConfigured}}else if("Use LiteLLM Proxy"===e){const e=await c.window.showInputBox({prompt:"Enter your LiteLLM proxy URL",placeHolder:"http://localhost:4000",value:"http://localhost:4000"});if(e){const t=c.workspace.getConfiguration("codebaseVisualizer");await t.update("litellm.baseUrl",e,c.ConfigurationTarget.Global);const n=await c.window.showInputBox({prompt:"Enter your LiteLLM proxy API key (or leave empty if not required)",password:!0,placeHolder:"sk-..."});return n?await t.update("litellm.apiKey",n,c.ConfigurationTarget.Global):await t.update("litellm.apiKey","sk-local",c.ConfigurationTarget.Global),this.initialize(),this.isConfigured}}return!1}async generateDocumentation(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=this.getSystemPrompt(t),r=this.buildDocumentationPrompt(e);try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:n},{role:"user",content:r}],temperature:.3,max_tokens:1e3});return e.choices[0]?.message?.content||"Failed to generate documentation"}catch(e){throw console.error("LiteLLM documentation generation failed:",e),e}}async generateSummary(e){if(!this.isReady())throw new Error("LiteLLM is not configured");const t=`Analyze this ${e.language} code and provide a concise 1-2 sentence summary of what it does:\n\n\`\`\`${e.language}\n${e.sourceCode.slice(0,2e3)}${e.sourceCode.length>2e3?"\n// ... (truncated)":""}\n\`\`\`\n\nName: ${e.label}\nType: ${e.type}\n\nProvide ONLY the summary, no code or additional formatting.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a code documentation expert. Provide concise, accurate summaries."},{role:"user",content:t}],temperature:.2,max_tokens:200});return e.choices[0]?.message?.content||""}catch(e){throw console.error("LiteLLM summary generation failed:",e),e}}async generatePersonaOverview(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n={developer:"You are a senior developer writing comprehensive technical documentation.\nFocus on: code structure, key functions, implementation patterns, dependencies, and how to work with the code.\nInclude: file organization, main entry points, important classes/functions, and technical details.",architect:"You are a software architect analyzing system design.\nFocus on: system architecture, component relationships, design patterns, scalability, and technical decisions.\nInclude: high-level structure, layer organization, data flow, and architectural considerations.","product-manager":"You are a product manager documenting features for stakeholders.\nFocus on: what the product does, key features, user value, and business capabilities.\nInclude: feature overview, user-facing functionality, and product capabilities.","business-analyst":"You are a business analyst documenting system capabilities.\nFocus on: business processes, data flows, integrations, and functional requirements.\nInclude: system capabilities, process flows, and business logic overview."},r=Object.entries(e?.nodeTypes||{}).map(([e,t])=>`${t} ${e}s`).join(", "),s=(e?.nodes||[]).map(e=>`- **${e.name}** (${e.type}): ${e.description||"No description"}`).join("\n"),i=`Generate comprehensive documentation for this codebase from a ${t.replace("-"," ")} perspective.\n\n## Codebase Summary\n- **Total Components**: ${e?.totalNodes||0}\n- **Component Types**: ${r||"Unknown"}\n${e?.architecture?`\n## Architecture\n- **Overview**: ${e.architecture.overview||"N/A"}\n- **Layers**: ${(e.architecture.layers||[]).join(", ")||"N/A"}\n- **Patterns**: ${(e.architecture.patterns||[]).join(", ")||"N/A"}\n`:""}\n\n## Key Components\n${s||"No component details available"}\n\n---\n\nWrite a detailed, well-structured documentation (800-1200 words) using Markdown formatting with:\n1. **Executive Summary** - Brief overview of the project\n2. **${"developer"===t?"Technical Architecture":"architect"===t?"System Design":"product-manager"===t?"Product Overview":"Business Capabilities"}**\n3. **Key Components** - Important modules and their roles\n4. **${"developer"===t?"Code Organization":"architect"===t?"Design Patterns":"product-manager"===t?"Features & Functionality":"Process Flows"}**\n5. **${"developer"===t?"Getting Started":"architect"===t?"Scalability Notes":"product-manager"===t?"User Value":"Integration Points"}**\n\nBe thorough, informative, and write in a professional tone.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:n[t]},{role:"user",content:i}],temperature:.4,max_tokens:2e3});return e.choices[0]?.message?.content||"Unable to generate documentation."}catch(e){throw console.error("LiteLLM persona overview generation failed:",e),e}}async generatePersonaDocumentation(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=this.getSystemPrompt(t),r=e.sourceCode.slice(0,2e3),s=`Document this ${e.language} ${e.type}:\n\n\`\`\`${e.language}\n${r}${e.sourceCode.length>2e3?"\n// ...":""}\n\`\`\`\n\n**${e.label}** (${e.type}) - ${e.filePath}\n${e.parameters?`Params: ${e.parameters.map(e=>`${e.name}: ${e.type}`).join(", ")}`:""}\n${e.returnType?`Returns: ${e.returnType}`:""}\n\nReturn JSON:\n{\n  "summary": "2-3 sentence overview",\n  "detailedDescription": "5-8 sentences explaining purpose, how it works, and key logic",\n  "keyPoints": ["3-5 important points"],\n  "sampleCode": "One brief usage example",\n  "complexity": "low|medium|high",\n  "personaInsights": "2-3 sentences of ${t}-specific advice"\n}\n\nBe concise and practical.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:n},{role:"user",content:s}],temperature:.3,max_tokens:1e3}),t=e.choices[0]?.message?.content||"{}",r=t.match(/\{[\s\S]*\}/);return r?JSON.parse(r[0]):JSON.parse(t)}catch(e){throw console.error("LiteLLM persona documentation generation failed:",e),e}}async generateTechnicalDetails(e){if(!this.isReady())throw new Error("LiteLLM is not configured");const t=`Analyze this ${e.language} code and provide technical details in JSON format:\n\n\`\`\`${e.language}\n${e.sourceCode.slice(0,3e3)}${e.sourceCode.length>3e3?"\n// ... (truncated)":""}\n\`\`\`\n\nName: ${e.label}\nType: ${e.type}\nFile: ${e.filePath}\n\nRespond with ONLY valid JSON in this exact format:\n{\n  "summary": "3-4 sentence comprehensive summary",\n  "purpose": "What problem this code solves (2-3 sentences)",\n  "keyFeatures": ["feature1 - with explanation", "feature2 - with explanation", "at least 5 features"],\n  "dependencies": ["external library or module names used"],\n  "complexity": "low" | "medium" | "high"\n}`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a code analysis expert. Respond with valid JSON only. Be thorough and detailed."},{role:"user",content:t}],temperature:.2,max_tokens:800}),n=e.choices[0]?.message?.content||"{}",r=n.match(/\{[\s\S]*\}/);return r?JSON.parse(r[0]):JSON.parse(n)}catch(e){throw console.error("LiteLLM technical details generation failed:",e),e}}async generateSearchKeywords(e){if(!this.isReady())throw new Error("LiteLLM is not configured");const t=`Generate search keywords for this code that would help developers find it:\n\nName: ${e.label}\nType: ${e.type}\nCode preview:\n\`\`\`${e.language}\n${e.sourceCode.slice(0,1500)}\n\`\`\`\n\nList 5-10 relevant search keywords/phrases, one per line. Include:\n- What it does\n- Patterns used\n- Domain concepts\n- Technical terms`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a code indexing expert. Generate relevant search keywords."},{role:"user",content:t}],temperature:.3,max_tokens:200});return(e.choices[0]?.message?.content||"").split("\n").filter(e=>e.trim()).map(e=>e.trim().replace(/^[-*]\s*/,""))}catch(e){throw console.error("LiteLLM keyword generation failed:",e),e}}async generateRAGAnswer(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=`Based on the following code context from this project, please answer this question comprehensively:\n\n## Question\n${e}\n\n---\n\n## Relevant Code Context\n\n${t}\n\n---\n\n## Your Task\nProvide a detailed, well-structured answer that fully addresses the question. Use markdown formatting to make your answer clear and easy to read.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are an expert code assistant helping developers understand a codebase. Your answers should be comprehensive, well-structured, and actionable.\n\n## Your Response Style:\n- **Be thorough**: Provide complete answers with all relevant details\n- **Use structure**: Organize with headers, bullet points, and numbered lists\n- **Include examples**: Show code snippets when they help explain concepts\n- **Reference specifics**: Mention file names, function names, and line numbers when available\n- **Explain why**: Don't just say what, explain the reasoning and design decisions\n\n## Formatting Guidelines:\n- Use **bold** for important terms and concepts\n- Use `code` formatting for variable names, functions, and file paths\n- Use code blocks with language hints for multi-line code\n- Use bullet points for lists of related items\n- Use numbered lists for sequential steps or processes\n\n## Answer Structure (use when appropriate):\n1. **Summary**: A brief 2-3 sentence answer\n2. **Details**: Expanded explanation with specifics\n3. **Code Examples**: Relevant snippets if helpful\n4. **Related Components**: Other parts of the codebase that connect to this\n5. **Recommendations**: Suggestions or best practices if applicable\n\nIf the provided context doesn't fully answer the question, clearly state what you can infer and what would require more information."},{role:"user",content:n}],temperature:.4,max_tokens:1500});return e.choices[0]?.message?.content||"Unable to generate an answer. Please try again."}catch(e){throw console.error("LiteLLM RAG answer generation failed:",e),e}}async explainRelationship(e,t,n){if(!this.isReady())throw new Error("LiteLLM is not configured");const r=`Explain the relationship between these two code components:\n\nSOURCE: ${e.label} (${e.type})\n\`\`\`${e.language}\n${e.sourceCode.slice(0,1e3)}\n\`\`\`\n\nTARGET: ${t.label} (${t.type})\n\`\`\`${t.language}\n${t.sourceCode.slice(0,1e3)}\n\`\`\`\n\nRelationship type: ${n}\n\nProvide a brief explanation of how these components interact and why this relationship exists.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a software architecture expert. Explain code relationships clearly."},{role:"user",content:r}],temperature:.3,max_tokens:300});return e.choices[0]?.message?.content||""}catch(e){throw console.error("LiteLLM relationship explanation failed:",e),e}}getSystemPrompt(e){return{developer:"You are a senior software developer creating clear, concise technical documentation.\n\nWrite practical documentation that covers:\n1. **Purpose**: What it does and why (2-3 sentences)\n2. **How it works**: Key implementation details (3-4 sentences)\n3. **Parameters & Returns**: Brief description of inputs/outputs\n4. **Usage**: A simple example\n5. **Notes**: Important edge cases or gotchas (2-3 points)\n\nBe direct and technical. Target: 200-300 words of actionable documentation.","product-manager":"You are a senior product manager with 10+ years of experience documenting features for stakeholders and executives.\n\nYour documentation MUST be COMPREHENSIVE and include ALL of the following:\n\n## Feature Summary (8-10 sentences)\n- What capability this provides to users\n- The core value proposition\n- How it fits into the product roadmap\n- Target user personas\n\n## User Value & Benefits (10-12 sentences)\n- Specific problems solved for end users\n- Measurable improvements (time saved, errors reduced, etc.)\n- User experience improvements\n- Competitive differentiation this provides\n\n## Business Impact (8-10 sentences)\n- Revenue implications (direct/indirect)\n- Cost savings or efficiency gains\n- Strategic alignment with company goals\n- Market positioning benefits\n\n## Use Cases & User Stories (5-6 detailed scenarios)\nEach with:\n- User persona\n- Goal/need\n- Step-by-step interaction\n- Expected outcome\n- Success criteria\n\n## Feature Dependencies\n- Other features this relies on\n- Integration requirements\n- Data dependencies\n- Technical prerequisites that affect rollout\n\n## Success Metrics & KPIs\n- Primary success metrics\n- Secondary indicators\n- How to measure feature adoption\n- A/B testing considerations\n\n## Risks & Considerations\n- Potential user confusion points\n- Adoption barriers\n- Competitive threats\n- Resource constraints\n\n## Roadmap Integration\n- MVP vs full feature scope\n- Phase 1, 2, 3 breakdown\n- Dependencies on other roadmap items\n- Suggested timeline\n\nAvoid technical jargon. Explain in business terms that executives and stakeholders understand.\nTarget: 600-900 words focused on business value and user impact.",architect:"You are a principal software architect with expertise in distributed systems, enterprise patterns, and scalable architecture.\n\nYour documentation MUST be COMPREHENSIVE and cover ALL of the following:\n\n## System Context (10-12 sentences)\n- How this component fits in the broader system\n- Its role in the layered architecture\n- Deployment topology considerations\n- Service boundaries and ownership\n\n## Design Patterns Analysis (8-10 sentences per pattern)\n- Each pattern identified with:\n  - Pattern name and category\n  - Why this pattern was chosen\n  - How it's implemented here\n  - Benefits and tradeoffs\n  - Alternative patterns considered\n\n## Component Interactions & Dependencies\n- Upstream dependencies (what this needs)\n- Downstream consumers (what uses this)\n- Event/message flows\n- Synchronous vs asynchronous interactions\n- Circuit breaker and resilience patterns\n\n## Data Architecture\n- Data models and schemas\n- State management approach\n- Caching strategies\n- Data consistency guarantees (eventual/strong)\n- Data flow diagrams (described in text)\n\n## Scalability & Performance\n- Time complexity analysis (Big O)\n- Space complexity analysis\n- Horizontal vs vertical scaling options\n- Identified bottlenecks\n- Capacity planning considerations\n- Load balancing implications\n\n## Security Architecture\n- Authentication/Authorization integration\n- Data protection measures\n- Input validation approach\n- Audit logging\n- Compliance considerations\n\n## Technical Debt & Recommendations\n- Current architectural issues\n- Refactoring opportunities\n- Migration path recommendations\n- 3-5 specific architectural improvements with priority\n\n## Quality Attributes\n- Reliability measures\n- Availability considerations\n- Maintainability score\n- Testability assessment\n\nWrite with architectural precision. Use technical terminology appropriately.\nTarget: 700-1000 words of in-depth architectural analysis.","business-analyst":"You are a senior business analyst with expertise in requirements engineering and stakeholder communication.\n\nYour documentation MUST be COMPREHENSIVE and include ALL of the following:\n\n## Business Function Overview (10-12 sentences)\n- What business process this supports\n- Business domain context\n- Stakeholder groups affected\n- Regulatory/compliance context if applicable\n\n## Data Entities & Business Objects (8-10 items)\nFor each entity:\n- Entity name and business definition\n- Key attributes and their business meaning\n- Relationships to other entities\n- Data quality requirements\n- Retention and lifecycle policies\n\n## Business Rules Implementation (6-8 detailed rules)\nEach with:\n- Rule ID and name\n- Business rationale\n- Trigger conditions\n- Expected behavior\n- Exception handling\n- Validation criteria\n\n## Process Flow & Workflow (detailed description)\n- Step-by-step business process\n- Decision points and branching logic\n- Actors/roles at each step\n- Time constraints and SLAs\n- Handoff points between systems/teams\n\n## Stakeholder Impact Analysis\n- Primary stakeholders and their interests\n- Secondary stakeholders\n- Change impact assessment\n- Training requirements\n- Communication needs\n\n## Compliance & Governance\n- Regulatory requirements addressed\n- Audit trail capabilities\n- Data privacy considerations (GDPR, CCPA, etc.)\n- Internal policy alignment\n\n## Reporting & Analytics\n- Business metrics this enables\n- Report types generated\n- Dashboard integration points\n- Historical data requirements\n\n## Requirements Traceability\n- Original business requirement reference\n- Acceptance criteria\n- Test scenario mapping\n- User acceptance test considerations\n\n## Change Impact & Dependencies\n- Systems affected by changes\n- Data migration considerations\n- Rollback procedures\n- Business continuity planning\n\nUse business terminology. Map all technical concepts to business outcomes.\nTarget: 700-1000 words focused on business process documentation and stakeholder value."}[e]}buildDocumentationPrompt(e){const t=[];return t.push(`Generate comprehensive documentation for this ${e.language} ${e.type}:`),t.push(""),t.push(`Name: ${e.label}`),t.push(`File: ${e.filePath}`),t.push(`Lines: ${e.startLine}-${e.endLine}`),t.push(""),e.parameters&&e.parameters.length>0&&(t.push("Parameters:"),e.parameters.forEach(e=>{t.push(`- ${e.name}: ${e.type}${e.optional?" (optional)":""}`)}),t.push("")),e.returnType&&(t.push(`Returns: ${e.returnType}`),t.push("")),t.push("Source code:"),t.push("```"+e.language),e.sourceCode.length>3e3?(t.push(e.sourceCode.slice(0,3e3)),t.push("// ... (code truncated for brevity)")):t.push(e.sourceCode),t.push("```"),t.push(""),t.push("Provide well-structured documentation with:"),t.push("1. A clear summary (1-2 sentences)"),t.push("2. Detailed description of functionality"),t.push("3. Usage examples if applicable"),t.push("4. Important notes or caveats"),t.join("\n")}async answerQuestion(e,t){if(!this.isReady())throw new Error("LiteLLM is not configured");const n=`Based on the following codebase context, answer this question:\n\nQuestion: ${e}\n\nCodebase Context:\n${t.nodes.slice(0,5).map(e=>`### ${e.label} (${e.type})\nFile: ${e.filePath}\n\`\`\`${e.language}\n${e.sourceCode.slice(0,500)}\n\`\`\``).join("\n\n")}\n\nProvide a helpful, accurate answer based on the code shown.`;try{const e=await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a helpful coding assistant with deep knowledge of the codebase. Answer questions accurately based on the provided context."},{role:"user",content:n}],temperature:.3,max_tokens:800});return e.choices[0]?.message?.content||"Unable to answer the question."}catch(e){throw console.error("LiteLLM question answering failed:",e),e}}}t.LiteLLMService=p;let u=null},9187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLACEHOLDERS_FLIPPED_ALIAS=t.PLACEHOLDERS_ALIAS=t.PLACEHOLDERS=void 0;var r=n(7596);const s=t.PLACEHOLDERS=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"],i=t.PLACEHOLDERS_ALIAS={Declaration:["Statement"],Pattern:["PatternLike","LVal"]};for(const e of s){const t=r.ALIAS_KEYS[e];null!=t&&t.length&&(i[e]=t)}const a=t.PLACEHOLDERS_FLIPPED_ALIAS={};Object.keys(i).forEach(e=>{i[e].forEach(t=>{hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(e)})})},9198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8960),s=n(8079);t.default=function(e,t){if((0,r.isStatement)(e))return e;let n,i=!1;if((0,r.isClass)(e))i=!0,n="ClassDeclaration";else if((0,r.isFunction)(e))i=!0,n="FunctionDeclaration";else if((0,r.isAssignmentExpression)(e))return(0,s.expressionStatement)(e);if(i&&!e.id&&(n=!1),!n){if(t)return!1;throw new Error(`cannot turn ${e.type} to a statement`)}return e.type=n,e}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(!(0,r.isBlockStatement)(e)||!(0,r.isFunction)(t)&&!(0,r.isCatchClause)(t))&&(!(!(0,r.isPattern)(e)||!(0,r.isFunction)(t)&&!(0,r.isCatchClause)(t))||(0,r.isScopable)(e))};var r=n(8960)},9276:(e,t)=>{"use strict";function n(e,t){e.tokenMap&&t.start&&t.end?e.tokenMap.endMatches(t,",")?e.token(","):e.tokenMap.endMatches(t,";")&&e.semicolon():e.semicolon()}function r(e,t,n){var r;let s=0;null!=(r=e.tokenMap)&&r.startMatches(t,n)&&(s=1,e.token(n)),e.printJoin(t.types,void 0,void 0,function(e){this.space(),this.token(n,void 0,e+s),this.space()})}function s(e,t){!0!==t&&e.token(t)}function i(e){a(this,e,()=>{var t;return this.printList(e.members,null==(t=this.shouldPrintTrailingComma("}"))||t,!0,!0)})}function a(e,t,n){e.token("{");const r=e.enterDelimited();n(),r(),e.rightBrace(t)}function o(e,t,n){var r;const s=new Set;for(const e of n)e&&s.add(e);null==(r=e.tokenMap)||r.find(t,t=>!!s.has(t.value)&&(e.token(t.value),e.space(),s.delete(t.value),0===s.size));for(const t of s)e.word(t),e.space()}Object.defineProperty(t,"__esModule",{value:!0}),t.TSAnyKeyword=function(){this.word("any")},t.TSArrayType=function(e){this.print(e.elementType,!0),this.tokenChar(91),this.tokenChar(93)},t.TSSatisfiesExpression=t.TSAsExpression=function(e){const{type:t,expression:n,typeAnnotation:r}=e;this.print(n,!0),this.space(),this.word("TSAsExpression"===t?"as":"satisfies"),this.space(),this.print(r)},t.TSBigIntKeyword=function(){this.word("bigint")},t.TSBooleanKeyword=function(){this.word("boolean")},t.TSCallSignatureDeclaration=function(e){this.tsPrintSignatureDeclarationBase(e),n(this,e)},t.TSInterfaceHeritage=t.TSClassImplements=function(e){this.print(e.expression),this.print(e.typeArguments)},t.TSConditionalType=function(e){this.print(e.checkType),this.space(),this.word("extends"),this.space(),this.print(e.extendsType),this.space(),this.tokenChar(63),this.space(),this.print(e.trueType),this.space(),this.tokenChar(58),this.space(),this.print(e.falseType)},t.TSConstructSignatureDeclaration=function(e){this.word("new"),this.space(),this.tsPrintSignatureDeclarationBase(e),n(this,e)},t.TSConstructorType=function(e){e.abstract&&(this.word("abstract"),this.space()),this.word("new"),this.space(),this.tsPrintFunctionOrConstructorType(e)},t.TSDeclareFunction=function(e,t){e.declare&&(this.word("declare"),this.space()),this._functionHead(e,t),this.semicolon()},t.TSDeclareMethod=function(e){this._classMethodHead(e),this.semicolon()},t.TSEnumBody=i,t.TSEnumDeclaration=function(e){const{declare:t,const:n,id:r}=e;t&&(this.word("declare"),this.space()),n&&(this.word("const"),this.space()),this.word("enum"),this.space(),this.print(r),this.space(),i.call(this,e)},t.TSEnumMember=function(e){const{id:t,initializer:n}=e;this.print(t),n&&(this.space(),this.tokenChar(61),this.space(),this.print(n))},t.TSExportAssignment=function(e){this.word("export"),this.space(),this.tokenChar(61),this.space(),this.print(e.expression),this.semicolon()},t.TSExternalModuleReference=function(e){this.token("require("),this.print(e.expression),this.tokenChar(41)},t.TSFunctionType=function(e){this.tsPrintFunctionOrConstructorType(e)},t.TSImportEqualsDeclaration=function(e){const{id:t,moduleReference:n}=e;e.isExport&&(this.word("export"),this.space()),this.word("import"),this.space(),this.print(t),this.space(),this.tokenChar(61),this.space(),this.print(n),this.semicolon()},t.TSImportType=function(e){const{argument:t,qualifier:n,options:r}=e;this.word("import"),this.tokenChar(40),this.print(t),r&&(this.tokenChar(44),this.print(r)),this.tokenChar(41),n&&(this.tokenChar(46),this.print(n));const s=e.typeParameters;s&&this.print(s)},t.TSIndexSignature=function(e){const{readonly:t,static:r}=e;r&&(this.word("static"),this.space()),t&&(this.word("readonly"),this.space()),this.tokenChar(91),this._parameters(e.parameters,"]"),this.print(e.typeAnnotation),n(this,e)},t.TSIndexedAccessType=function(e){this.print(e.objectType,!0),this.tokenChar(91),this.print(e.indexType),this.tokenChar(93)},t.TSInferType=function(e){this.word("infer"),this.print(e.typeParameter)},t.TSInstantiationExpression=function(e){this.print(e.expression),this.print(e.typeParameters)},t.TSInterfaceBody=function(e){a(this,e,()=>this.printJoin(e.body,!0,!0))},t.TSInterfaceDeclaration=function(e){const{declare:t,id:n,typeParameters:r,extends:s,body:i}=e;t&&(this.word("declare"),this.space()),this.word("interface"),this.space(),this.print(n),this.print(r),null!=s&&s.length&&(this.space(),this.word("extends"),this.space(),this.printList(s)),this.space(),this.print(i)},t.TSIntersectionType=function(e){r(this,e,"&")},t.TSIntrinsicKeyword=function(){this.word("intrinsic")},t.TSLiteralType=function(e){this.print(e.literal)},t.TSMappedType=function(e){const{nameType:t,optional:n,readonly:r,typeAnnotation:i}=e;this.tokenChar(123);const a=this.enterDelimited();this.space(),r&&(s(this,r),this.word("readonly"),this.space()),this.tokenChar(91),this.word(e.typeParameter.name),this.space(),this.word("in"),this.space(),this.print(e.typeParameter.constraint),t&&(this.space(),this.word("as"),this.space(),this.print(t)),this.tokenChar(93),n&&(s(this,n),this.tokenChar(63)),i&&(this.tokenChar(58),this.space(),this.print(i)),this.space(),a(),this.tokenChar(125)},t.TSMethodSignature=function(e){const{kind:t}=e;"set"!==t&&"get"!==t||(this.word(t),this.space()),this.tsPrintPropertyOrMethodName(e),this.tsPrintSignatureDeclarationBase(e),n(this,e)},t.TSModuleBlock=function(e){a(this,e,()=>this.printSequence(e.body,!0))},t.TSModuleDeclaration=function(e){const{declare:t,id:n,kind:r}=e;t&&(this.word("declare"),this.space());{if(e.global||(this.word(null!=r?r:"Identifier"===n.type?"namespace":"module"),this.space()),this.print(n),!e.body)return void this.semicolon();let t=e.body;for(;"TSModuleDeclaration"===t.type;)this.tokenChar(46),this.print(t.id),t=t.body;this.space(),this.print(t)}},t.TSNamedTupleMember=function(e){this.print(e.label),e.optional&&this.tokenChar(63),this.tokenChar(58),this.space(),this.print(e.elementType)},t.TSNamespaceExportDeclaration=function(e){this.word("export"),this.space(),this.word("as"),this.space(),this.word("namespace"),this.space(),this.print(e.id),this.semicolon()},t.TSNeverKeyword=function(){this.word("never")},t.TSNonNullExpression=function(e){this.print(e.expression),this.tokenChar(33)},t.TSNullKeyword=function(){this.word("null")},t.TSNumberKeyword=function(){this.word("number")},t.TSObjectKeyword=function(){this.word("object")},t.TSOptionalType=function(e){this.print(e.typeAnnotation),this.tokenChar(63)},t.TSParameterProperty=function(e){e.accessibility&&(this.word(e.accessibility),this.space()),e.readonly&&(this.word("readonly"),this.space()),this._param(e.parameter)},t.TSParenthesizedType=function(e){this.tokenChar(40),this.print(e.typeAnnotation),this.tokenChar(41)},t.TSPropertySignature=function(e){const{readonly:t}=e;t&&(this.word("readonly"),this.space()),this.tsPrintPropertyOrMethodName(e),this.print(e.typeAnnotation),n(this,e)},t.TSQualifiedName=function(e){this.print(e.left),this.tokenChar(46),this.print(e.right)},t.TSRestType=function(e){this.token("..."),this.print(e.typeAnnotation)},t.TSStringKeyword=function(){this.word("string")},t.TSSymbolKeyword=function(){this.word("symbol")},t.TSTemplateLiteralType=function(e){this._printTemplate(e,e.types)},t.TSThisType=function(){this.word("this")},t.TSTupleType=function(e){this.tokenChar(91),this.printList(e.elementTypes,this.shouldPrintTrailingComma("]")),this.tokenChar(93)},t.TSTypeAliasDeclaration=function(e){const{declare:t,id:n,typeParameters:r,typeAnnotation:s}=e;t&&(this.word("declare"),this.space()),this.word("type"),this.space(),this.print(n),this.print(r),this.space(),this.tokenChar(61),this.space(),this.print(s),this.semicolon()},t.TSTypeAnnotation=function(e,t){this.token("TSFunctionType"!==t.type&&"TSConstructorType"!==t.type||t.typeAnnotation!==e?":":"=>"),this.space(),e.optional&&this.tokenChar(63),this.print(e.typeAnnotation)},t.TSTypeAssertion=function(e){const{typeAnnotation:t,expression:n}=e;this.tokenChar(60),this.print(t),this.tokenChar(62),this.space(),this.print(n)},t.TSTypeLiteral=function(e){a(this,e,()=>this.printJoin(e.members,!0,!0))},t.TSTypeOperator=function(e){this.word(e.operator),this.space(),this.print(e.typeAnnotation)},t.TSTypeParameter=function(e){e.const&&(this.word("const"),this.space()),e.in&&(this.word("in"),this.space()),e.out&&(this.word("out"),this.space()),this.word(e.name),e.constraint&&(this.space(),this.word("extends"),this.space(),this.print(e.constraint)),e.default&&(this.space(),this.tokenChar(61),this.space(),this.print(e.default))},t.TSTypeParameterDeclaration=t.TSTypeParameterInstantiation=function(e,t){this.tokenChar(60);let n="ArrowFunctionExpression"===t.type&&1===e.params.length;this.tokenMap&&null!=e.start&&null!=e.end&&(n&&(n=!!this.tokenMap.find(e,e=>this.tokenMap.matchesOriginal(e,","))),n||(n=this.shouldPrintTrailingComma(">"))),this.printList(e.params,n),this.tokenChar(62)},t.TSTypePredicate=function(e){e.asserts&&(this.word("asserts"),this.space()),this.print(e.parameterName),e.typeAnnotation&&(this.space(),this.word("is"),this.space(),this.print(e.typeAnnotation.typeAnnotation))},t.TSTypeQuery=function(e){this.word("typeof"),this.space(),this.print(e.exprName);const t=e.typeParameters;t&&this.print(t)},t.TSTypeReference=function(e){const t=e.typeParameters;this.print(e.typeName,!!t),this.print(t)},t.TSUndefinedKeyword=function(){this.word("undefined")},t.TSUnionType=function(e){r(this,e,"|")},t.TSUnknownKeyword=function(){this.word("unknown")},t.TSVoidKeyword=function(){this.word("void")},t.tsPrintClassMemberModifiers=function(e){const t="ClassPrivateProperty"===e.type,n="ClassAccessorProperty"===e.type||"ClassProperty"===e.type;o(this,e,[n&&e.declare&&"declare",!t&&e.accessibility]),e.static&&(this.word("static"),this.space()),o(this,e,[!t&&e.abstract&&"abstract",!t&&e.override&&"override",(n||t)&&e.readonly&&"readonly"])},t.tsPrintFunctionOrConstructorType=function(e){const{typeParameters:t}=e,n=e.parameters;this.print(t),this.tokenChar(40),this._parameters(n,")"),this.space();const r=e.typeAnnotation;this.print(r)},t.tsPrintPropertyOrMethodName=function(e){e.computed&&this.tokenChar(91),this.print(e.key),e.computed&&this.tokenChar(93),e.optional&&this.tokenChar(63)},t.tsPrintSignatureDeclarationBase=function(e){const{typeParameters:t}=e,n=e.parameters;this.print(t),this.tokenChar(40),this._parameters(n,")");const r=e.typeAnnotation;this.print(r)}},9289:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.FileLogger=void 0;const o=a(n(9896)),c=a(n(6928));t.FileLogger=class{logFilePath;logStream=null;constructor(e){const t=e.globalStorageUri.fsPath;o.existsSync(t)||o.mkdirSync(t,{recursive:!0});const n=(new Date).toISOString().replace(/[:.]/g,"-");this.logFilePath=c.join(t,`codebase-visualizer-${n}.log`),this.logStream=o.createWriteStream(this.logFilePath,{flags:"a"}),this.log("=".repeat(80)),this.log("Codebase Visualizer Debug Log"),this.log(`Started: ${(new Date).toISOString()}`),this.log(`Log file: ${this.logFilePath}`),this.log("=".repeat(80))}log(e,t){const n=(new Date).toISOString(),r=t?`[${n}] ${e}\n${JSON.stringify(t,null,2)}\n`:`[${n}] ${e}\n`;this.logStream&&this.logStream.write(r),console.log(e,t||"")}error(e,t){const n=(new Date).toISOString(),r=t?`[${n}] ERROR: ${e}\n${t.stack||t.toString()}\n`:`[${n}] ERROR: ${e}\n`;this.logStream&&this.logStream.write(r),console.error(e,t||"")}getLogFilePath(){return this.logFilePath}dispose(){this.logStream&&(this.log("=".repeat(80)),this.log(`Log ended: ${(new Date).toISOString()}`),this.log("=".repeat(80)),this.logStream.end())}}},9320:function(e,t,n){var r;!function(e,t,n){"use strict";var r,s=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,p=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports},u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===n||i(e,s,{get:()=>t[s],enumerable:!(r=a(t,s))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),d=p({"umd:@jridgewell/sourcemap-codec"(e,n){n.exports=t}}),f=p({"umd:@jridgewell/trace-mapping"(e,t){t.exports=n}}),m={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(m,{GenMapping:()=>C,addMapping:()=>O,addSegment:()=>I,allMappings:()=>U,fromMap:()=>D,maybeAddMapping:()=>L,maybeAddSegment:()=>_,setIgnore:()=>k,setSourceContent:()=>N,toDecodedMap:()=>R,toEncodedMap:()=>M}),e.exports=(r=m,u(i({},"__esModule",{value:!0}),r));var y=class{constructor(){this._indexes={__proto__:null},this.array=[]}};function g(e,t){return e._indexes[t]}function T(e,t){const n=g(e,t);if(void 0!==n)return n;const{array:r,_indexes:s}=e,i=r.push(t);return s[t]=i-1}var S=h(d()),b=h(f()),E=0,x=1,v=2,P=3,A=4,w=-1,C=class{constructor({file:e,sourceRoot:t}={}){this._names=new y,this._sources=new y,this._sourcesContent=[],this._mappings=[],this.file=e,this.sourceRoot=t,this._ignoreList=new y}};function I(e,t,n,r,s,i,a,o){return F(!1,e,t,n,r,s,i,a,o)}function O(e,t){return $(!1,e,t)}var _=(e,t,n,r,s,i,a,o)=>F(!0,e,t,n,r,s,i,a,o),L=(e,t)=>$(!0,e,t);function N(e,t,n){const{_sources:r,_sourcesContent:s}=e;s[T(r,t)]=n}function k(e,t,n=!0){const{_sources:r,_sourcesContent:s,_ignoreList:i}=e,a=T(r,t);a===s.length&&(s[a]=null),n?T(i,a):function(e,t){const n=g(e,t);if(void 0===n)return;const{array:r,_indexes:s}=e;for(let e=n+1;e<r.length;e++){const t=r[e];r[e-1]=t,s[t]--}s[t]=void 0,r.pop()}(i,a)}function R(e){const{_mappings:t,_sources:n,_sourcesContent:r,_names:s,_ignoreList:i}=e;return function(e){const{length:t}=e;let n=t;for(let t=n-1;t>=0&&!(e[t].length>0);n=t,t--);n<t&&(e.length=n)}(t),{version:3,file:e.file||void 0,names:s.array,sourceRoot:e.sourceRoot||void 0,sources:n.array,sourcesContent:r,mappings:t,ignoreList:i.array}}function M(e){const t=R(e);return Object.assign({},t,{mappings:(0,S.encode)(t.mappings)})}function D(e){const t=new b.TraceMap(e),n=new C({file:t.file,sourceRoot:t.sourceRoot});return j(n._names,t.names),j(n._sources,t.sources),n._sourcesContent=t.sourcesContent||t.sources.map(()=>null),n._mappings=(0,b.decodedMappings)(t),t.ignoreList&&j(n._ignoreList,t.ignoreList),n}function U(e){const t=[],{_mappings:n,_sources:r,_names:s}=e;for(let e=0;e<n.length;e++){const i=n[e];for(let n=0;n<i.length;n++){const a=i[n],o={line:e+1,column:a[E]};let c,l,p;1!==a.length&&(c=r.array[a[x]],l={line:a[v]+1,column:a[P]},5===a.length&&(p=s.array[a[A]])),t.push({generated:o,source:c,original:l,name:p})}}return t}function F(e,t,n,r,s,i,a,o,c){const{_mappings:l,_sources:p,_sourcesContent:u,_names:h}=t,d=function(e,t){for(let n=e.length;n<=t;n++)e[n]=[];return e[t]}(l,n),f=function(e,t){let n=e.length;for(let r=n-1;r>=0&&!(t>=e[r][E]);n=r--);return n}(d,r);if(!s){if(e&&function(e,t){return 0===t||1===e[t-1].length}(d,f))return;return B(d,f,[r])}const m=T(p,s),y=o?T(h,o):w;if(m===u.length&&(u[m]=null!=c?c:null),!e||!function(e,t,n,r,s,i){if(0===t)return!1;const a=e[t-1];return 1!==a.length&&n===a[x]&&r===a[v]&&s===a[P]&&i===(5===a.length?a[A]:w)}(d,f,m,i,a,y))return B(d,f,o?[r,m,i,a,y]:[r,m,i,a])}function B(e,t,n){for(let n=e.length;n>t;n--)e[n]=e[n-1];e[t]=n}function j(e,t){for(let n=0;n<t.length;n++)T(e,t[n])}function $(e,t,n){const{generated:r,source:s,original:i,name:a,content:o}=n;return s?F(e,t,r.line-1,r.column,s,i.line-1,i.column,a,o):F(e,t,r.line-1,r.column,null,null,null,null,null)}}(e=n.nmd(e),n(4318),n(2802)),e.exports="default"in(r=e).exports?r.exports.default:r.exports},9325:(e,t,n)=>{var r=n(4840),s="object"==typeof self&&self&&self.Object===Object&&self,i=r||s||Function("return this")();e.exports=i},9326:(e,t,n)=>{var r=n(1769),s=n(2428),i=n(6449),a=n(361),o=n(294),c=n(7797);e.exports=function(e,t,n){for(var l=-1,p=(t=r(t,e)).length,u=!1;++l<p;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=p?u:!!(p=null==e?0:e.length)&&o(p)&&a(h,p)&&(i(e)||s(e))}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,n)=>{var r=n(4128),s=n(3805),i=n(4394),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},9420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(329);t.default=function(e,t){return(0,r.default)(e,t,!0)}},9458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{retrieve(e,t){return this._client.get(i.path`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",s.Page,e)}delete(e,t){return this._client.delete(i.path`/models/${e}`,t)}}t.Models=a},9479:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.GitHooksManager=void 0,t.getHooksManager=function(){return u||(u=new p),u};const o=a(n(1398)),c=a(n(6928)),l=a(n(9896));class p{workspaceRoot="";gitPath="";hooksPath="";isInitialized=!1;hookMarker="# Codebase-Visualizer-Hook";onHookTriggeredEmitter=new o.EventEmitter;onHookTriggered=this.onHookTriggeredEmitter.event;async initialize(e){if(this.workspaceRoot=e,this.gitPath=c.join(e,".git"),this.hooksPath=c.join(this.gitPath,"hooks"),!l.existsSync(this.gitPath))return console.log("Not a git repository, hooks manager disabled"),!1;if(!l.existsSync(this.hooksPath))try{l.mkdirSync(this.hooksPath,{recursive:!0})}catch(e){return console.error("Failed to create hooks directory:",e),!1}return this.isInitialized=!0,console.log("GitHooksManager initialized"),!0}async installHook(e){if(!this.isInitialized)return console.error("GitHooksManager not initialized"),!1;const t=c.join(this.hooksPath,e),n=this.generateHookScript(e);try{let r="";if(l.existsSync(t)){if(r=l.readFileSync(t,"utf8"),r.includes(this.hookMarker))return console.log(`Hook ${e} already installed`),!0;const s=r.trim()+"\n\n"+n;l.writeFileSync(t,s,{mode:493})}else l.writeFileSync(t,n,{mode:493});return console.log(`Installed ${e} hook`),!0}catch(t){return console.error(`Failed to install ${e} hook:`,t),!1}}async uninstallHook(e){if(!this.isInitialized)return!1;const t=c.join(this.hooksPath,e);try{if(!l.existsSync(t))return!0;let n=l.readFileSync(t,"utf8");const r=this.hookMarker,s=`${this.hookMarker}-end`,i=n.indexOf(r);if(-1===i)return!0;const a=n.indexOf(s);return n=-1!==a?n.slice(0,i)+n.slice(a+s.length):n.slice(0,i),n=n.trim(),"#!/bin/sh"!==n&&"#!/bin/bash"!==n&&n?l.writeFileSync(t,n,{mode:493}):l.unlinkSync(t),console.log(`Uninstalled ${e} hook`),!0}catch(t){return console.error(`Failed to uninstall ${e} hook:`,t),!1}}async installAllHooks(){const e=["post-commit","post-checkout","post-merge"],t=[],n=[];for(const r of e)await this.installHook(r)?t.push(r):n.push(r);return{success:t,failed:n}}async uninstallAllHooks(){const e=["post-commit","post-checkout","post-merge","pre-commit","pre-push"];for(const t of e)await this.uninstallHook(t)}getInstalledHooks(){if(!this.isInitialized)return[];const e=[],t=["pre-commit","post-commit","post-checkout","post-merge","pre-push"];for(const n of t){const t=c.join(this.hooksPath,n);l.existsSync(t)&&l.readFileSync(t,"utf8").includes(this.hookMarker)&&e.push(n)}return e}generateHookScript(e){const t=(new Date).toISOString();let n="";switch(e){case"post-commit":n='\n# Notify extension about the commit\nif [ -n "${VSCODE_GIT_HOOK_NOTIFIER:-}" ]; then\n  echo "codebase-visualizer:post-commit:$(git rev-parse HEAD)" > "$VSCODE_GIT_HOOK_NOTIFIER"\nfi\n';break;case"post-checkout":n='\n# Notify extension about branch/file checkout\n# $1 = previous HEAD, $2 = new HEAD, $3 = flag (1 if branch checkout)\nif [ "$3" = "1" ]; then\n  current_branch=$(git branch --show-current)\n  echo "Branch checkout detected: $current_branch"\n  if [ -n "${VSCODE_GIT_HOOK_NOTIFIER:-}" ]; then\n    echo "codebase-visualizer:post-checkout:$current_branch" > "$VSCODE_GIT_HOOK_NOTIFIER"\n  fi\nfi\n';break;case"post-merge":n='\n# Notify extension about merge\nmerge_head=$(cat .git/MERGE_HEAD 2>/dev/null || echo "none")\nif [ -n "${VSCODE_GIT_HOOK_NOTIFIER:-}" ]; then\n  echo "codebase-visualizer:post-merge:$merge_head" > "$VSCODE_GIT_HOOK_NOTIFIER"\nfi\n';break;case"pre-commit":n='\n# Run before commit - extension can validate files\necho "Codebase Visualizer: Pre-commit hook running..."\n';break;case"pre-push":n='\n# Run before push - extension can perform final checks\necho "Codebase Visualizer: Pre-push hook running..."\n'}return`#!/bin/sh\n${this.hookMarker}\n# Installed by Codebase Visualizer extension on ${t}\n# This hook notifies the extension about git operations\n${n}\n${this.hookMarker}-end\n`}startWatchingHookTriggers(){const e=c.join(this.gitPath,".codebase-visualizer-trigger");process.env.VSCODE_GIT_HOOK_NOTIFIER=e;const t=o.workspace.createFileSystemWatcher(new o.RelativePattern(this.gitPath,".codebase-visualizer-trigger"));return t.onDidChange(async()=>{await this.processTriggerFile(e)}),t.onDidCreate(async()=>{await this.processTriggerFile(e)}),t}async processTriggerFile(e){try{if(!l.existsSync(e))return;const t=l.readFileSync(e,"utf8").trim().match(/^codebase-visualizer:([\w-]+):(.*)$/);if(t){const e=t[1],n=t[2];console.log(`Hook triggered: ${e} with data: ${n}`),this.onHookTriggeredEmitter.fire({type:e})}l.unlinkSync(e)}catch(e){}}dispose(){this.onHookTriggeredEmitter.dispose()}}let u;t.GitHooksManager=p},9491:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid4=void 0,t.uuid4=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return t.uuid4=e.randomUUID.bind(e),e.randomUUID();const n=new Uint8Array(1),r=e?()=>e.getRandomValues(n)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^r()&15>>+e/4).toString(16))}},9501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(2040),s=n(5552),i=n(4815);class a extends r.APIResource{list(e,t={},n){return this._client.getAPIList(i.path`/chat/completions/${e}/messages`,s.CursorPage,{query:t,...n})}}t.Messages=a},9526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(9632).__exportStar(n(4172),t)},9531:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.PythonAstParser=void 0;const o=a(n(1398));class c{fileUri=null;filePath="";content="";lines=[];static FRAMEWORK_PATTERNS={django_view:{decorators:["api_view","permission_classes","authentication_classes"],bases:["View","TemplateView","ListView","DetailView","CreateView","UpdateView","DeleteView","FormView","RedirectView"],layer:"view"},django_viewset:{decorators:["action"],bases:["ViewSet","ModelViewSet","GenericViewSet","ReadOnlyModelViewSet"],layer:"viewset"},django_model:{decorators:[],bases:["Model","models.Model","AbstractUser","AbstractBaseUser"],layer:"model"},django_serializer:{decorators:[],bases:["Serializer","ModelSerializer","HyperlinkedModelSerializer"],layer:"serializer"},django_form:{decorators:[],bases:["Form","ModelForm","forms.Form","forms.ModelForm"],layer:"form"},django_admin:{decorators:["admin.register","register"],bases:["ModelAdmin","admin.ModelAdmin","TabularInline","StackedInline"],layer:"admin"},django_middleware:{decorators:[],bases:["MiddlewareMixin"],layer:"middleware"},django_command:{decorators:[],bases:["BaseCommand"],layer:"command"},fastapi_router:{decorators:["router.get","router.post","router.put","router.delete","router.patch","app.get","app.post","app.put","app.delete"],bases:[],layer:"endpoint"},fastapi_depends:{decorators:["Depends"],bases:[],layer:"dependency"},flask_route:{decorators:["route","app.route","blueprint.route","bp.route"],bases:[],layer:"route"},flask_view:{decorators:[],bases:["MethodView","View"],layer:"view"},sqlalchemy_model:{decorators:[],bases:["Base","DeclarativeBase","db.Model"],layer:"model"},pydantic_model:{decorators:["validator","root_validator"],bases:["BaseModel","BaseSettings"],layer:"schema"},celery_task:{decorators:["task","shared_task","app.task","celery.task"],bases:["Task"],layer:"task"},test:{decorators:["pytest.fixture","fixture","pytest.mark","mock.patch","patch"],bases:["TestCase","unittest.TestCase","APITestCase","TransactionTestCase"],layer:"test"}};async parse(e,t=!1){const n=await o.workspace.openTextDocument(e);this.content=n.getText(),this.lines=this.content.split("\n"),this.fileUri=e,this.filePath=e.fsPath;const r=[],s=[];try{const t=this.parseElementsTree(),n=this.flattenElements(t),i=(e.fsPath.split(/[\\/]/).pop()||"module").replace(/\.py$/,""),a=this.createModuleNode(i);r.push(a);const o=new Map;for(const e of n){const t=this.createNode(e);if(r.push(t),"class"===e.type&&o.set(e.name,t.id),e.parentId?s.push({from:e.parentId,to:t.id,type:"contains",label:"contains"}):s.push({from:a.id,to:t.id,type:"contains",label:"contains"}),e.bases)for(const n of e.bases){const e=o.get(n);s.push({from:t.id,to:e||`external:${n}`,type:"extends",label:`extends ${n}`})}}return this.extractImports(s),this.extractFrameworkDependencies(n,s),{nodes:r,edges:s}}catch(t){return console.error(`Failed to parse Python file ${e.fsPath}:`,t),{nodes:[],edges:[]}}}parseElementsTree(){const e=[],t=[];let n=[],r=0;for(;r<this.lines.length;){const s=this.lines[r],i=s.trimStart(),a=s.length-i.length;if(""===i||i.startsWith("#")){r++;continue}for(;t.length>0&&a<=t[t.length-1].indent;)t.pop();if(i.startsWith("@")){const e=i.match(/^@([\w.]+(?:\([^)]*\))?)/);e&&n.push(e[1]),r++;continue}const o=i.match(/^class\s+(\w+)(?:\s*\((.*?)\))?\s*:/);if(o){const s=this.parseClassDeclaration(o,r,a,n,t);if(t.length>0){const e=t[t.length-1];s.parentId=e.id,e.children.push(s)}else e.push(s);t.push(s),n=[],r++;continue}const c=i.match(/^(async\s+)?def\s+(\w+)\s*\(([\s\S]*?)\)(?:\s*->\s*(.+?))?\s*:/);if(c){const s=this.parseFunctionDeclaration(c,r,a,n,t);if(t.length>0){const e=t[t.length-1];s.parentId=e.id,e.children.push(s)}else e.push(s);t.push(s),n=[],r++;continue}n.length>0&&!i.startsWith("@")&&(n=[]),r++}return e}parseClassDeclaration(e,t,n,r,s){const i=e[1],a=e[2]||"",o=this.parseBaseClasses(a),c=this.findBlockEnd(t,n),l=s.length>0?s[s.length-1].id:void 0,p=l?`${l}$${i}`:`${this.filePath}:class:${i}`,u=this.detectFrameworkLayer(r,o),h=this.extractDocstring(t+1,n);return{id:p,name:i,type:"class",startLine:t+1,endLine:c+1,indent:n,parentId:l,decorators:[...r],bases:o,docstring:h,layer:u,children:[]}}parseFunctionDeclaration(e,t,n,r,s){const i=!!e[1],a=e[2],o=e[3],c=e[4]?.trim()||"",l=this.parseParameters(o),p=this.findBlockEnd(t,n),u=s.length>0?s[s.length-1].id:void 0,h=u&&u.includes(":class:"),d=r.includes("staticmethod"),f=r.includes("classmethod"),m=r.some(e=>e.startsWith("property")||"cached_property"===e||e.endsWith(".setter")||e.endsWith(".getter")||e.endsWith(".deleter")),y=a.startsWith("__")&&!a.endsWith("__"),g=a.startsWith("_")&&!a.startsWith("__");let T;T=h?`${u}:method:${a}:${t+1}`:u?`${u}:function:${a}:${t+1}`:`${this.filePath}:function:${a}:${t+1}`;const S=this.detectFrameworkLayer(r,[]),b=this.extractDocstring(t+1,n);return{id:T,name:a,type:h?"method":"function",startLine:t+1,endLine:p+1,indent:n,parentId:u,decorators:[...r],parameters:l,returnType:c,isAsync:i,isStatic:d,isClassMethod:f,isProperty:m,isPrivate:y,isProtected:g,docstring:b,layer:S,children:[]}}parseBaseClasses(e){if(!e.trim())return[];const t=[];let n=0,r="";for(const s of e)if("["===s||"("===s||"{"===s)n++,r+=s;else if("]"===s||")"===s||"}"===s)n--,r+=s;else if(","===s&&0===n){const e=r.trim(),n=this.extractBaseClassName(e);n&&t.push(n),r=""}else r+=s;if(r.trim()){const e=this.extractBaseClassName(r.trim());e&&t.push(e)}return t}extractBaseClassName(e){if(e.includes("metaclass="))return null;if(e.includes("="))return null;const t=e.match(/^([\w.]+)(?:\[.*\])?$/);if(t){const e=t[1];return"object"===e?null:e}return null}findBlockEnd(e,t){let n=e,r=!1;for(let s=e+1;s<this.lines.length;s++){const e=this.lines[s],i=e.trimStart();if(""!==i&&!i.startsWith("#")){if(e.length-i.length<=t)break;r=!0,n=s}}return n}parseParameters(e){const t=[];if(!e.trim())return t;let n=0,r="";const s=[];for(const t of e)"["===t||"("===t||"{"===t?(n++,r+=t):"]"===t||")"===t||"}"===t?(n--,r+=t):","===t&&0===n?(s.push(r.trim()),r=""):r+=t;r.trim()&&s.push(r.trim());for(const e of s){const n=this.parseParameter(e.trim());n&&t.push(n)}return t}parseParameter(e){const t=e.trim();if("self"===t||"cls"===t)return null;if(t.startsWith("*"))return null;const n=t.match(/^(\w+)(?:\s*:\s*([^=]+?))?(?:\s*=\s*(.+))?$/);if(n){const e=n[1],t=n[2]?.trim()||"Any",r=!!n[3],s=n[3]?.trim();return{name:e,type:t,optional:r,description:r?`default: ${s}`:void 0}}return null}extractDocstring(e,t){if(e>=this.lines.length)return;const n=this.lines[e],r=n.trimStart();if(n.length-r.length<=t)return;const s=r.match(/^("""|''')/);if(!s)return;const i=s[1];if(r.match(new RegExp(`^${i}.*${i}$`)))return r.slice(3,-3).trim();let a=r.slice(3);for(let t=e+1;t<this.lines.length;t++){const e=this.lines[t];if(e.includes(i)){a+="\n"+e.slice(0,e.indexOf(i));break}a+="\n"+e}return a.trim()}detectFrameworkLayer(e,t){for(const[n,r]of Object.entries(c.FRAMEWORK_PATTERNS)){for(const t of e){const e=t.split("(")[0];if(r.decorators.some(t=>e===t||e.includes(t)))return r.layer}for(const e of t)if(r.bases.some(t=>e===t||e.endsWith(t)))return r.layer}const n=this.filePath.split(/[\\/]/).pop()||"";return n.startsWith("test_")||n.endsWith("_test.py")?"test":"models.py"===n?"model":"views.py"===n?"view":"serializers.py"===n?"serializer":"admin.py"===n?"admin":"forms.py"===n?"form":"urls.py"===n?"routing":"tasks.py"===n?"task":"signals.py"===n?"signal":"middleware.py"===n?"middleware":void 0}flattenElements(e){const t=[],n=e=>{for(const r of e)t.push(r),r.children&&r.children.length>0&&n(r.children)};return n(e),t}getClassName(e){const t=e.match(/:class:(\w+)(?:\$|:|$)/);return t?t[1]:"Unknown"}extractImports(e){const t=/^(?:from\s+(\S+)\s+)?import\s+(.+)$/gm;let n;for(;null!==(n=t.exec(this.content));){const t=n[1],r=n[2];if(t)e.push({from:this.filePath,to:t,type:"imports",label:`from ${t}`});else{const t=r.split(",").map(e=>e.trim().split(/\s+as\s+/)[0].trim());for(const n of t)n&&e.push({from:this.filePath,to:n,type:"imports",label:`import ${n}`})}}}extractFrameworkDependencies(e,t){for(const n of e){if("method"===n.type&&"__init__"===n.name)for(const e of n.parameters||[])e.type.match(/(Service|Repository|Manager|Client|Handler|Provider)$/)&&t.push({from:n.parentId||"",to:`dependency:${e.type}`,type:"uses",label:`injects ${e.type}`});if(n.decorators)for(const e of n.decorators)if(e.includes("Depends(")){const r=e.match(/Depends\((\w+)/);r&&t.push({from:n.id,to:`dependency:${r[1]}`,type:"uses",label:`depends on ${r[1]}`})}}}createNode(e){const t=this.lines.slice(Math.max(0,e.startLine-1),Math.min(this.lines.length,e.endLine)).join("\n");let n="";if(e.decorators.length>0&&(n=`@${e.decorators.join(", @")}`),e.layer&&(n+=n?` [${e.layer}]`:`[${e.layer}]`),e.docstring){const t=e.docstring.split("\n")[0].trim();n+=n?` - ${t}`:t}let r="public";return e.isPrivate?r="private":e.isProtected&&(r="protected"),{id:e.id,label:e.name,type:e.type,language:"python",filePath:this.filePath,startLine:e.startLine,endLine:e.endLine,parentId:e.parentId,isAsync:e.isAsync,isStatic:e.isStatic,visibility:r,parameters:e.parameters,returnType:e.returnType,sourceCode:t,documentation:{summary:this.generateSummary(e),description:n,persona:{}}}}generateSummary(e){const t=e.layer?`[${e.layer}] `:"",n=e.decorators.slice(0,2).join(", @"),r=n?`@${n} `:"";if("class"===e.type){let n=`${t}${r}class ${e.name}`;return e.bases&&e.bases.length>0&&(n+=`(${e.bases.join(", ")})`),n}if("function"===e.type||"method"===e.type){const n=e.isAsync?"async ":"",r=e.isStatic?"@staticmethod ":"",s=e.isClassMethod?"@classmethod ":"",i=e.isProperty?"@property ":"",a=e.parameters?.map(e=>{let t=e.name;return e.type&&"Any"!==e.type&&(t+=`: ${e.type}`),e.optional&&(t+=" = ..."),t}).join(", ")||"";let o=`${t}${r}${s}${i}${n}def ${e.name}(${a})`;return e.returnType&&(o+=` -> ${e.returnType}`),o}return e.name}createModuleNode(e){let t="";if(this.lines.length>0){const e=this.lines[0].trim();(e.startsWith('"""')||e.startsWith("'''"))&&(t=this.extractDocstring(-1,-1)||"")}return{id:`${this.filePath}:module:${e}`,label:e,type:"module",language:"python",filePath:this.filePath,startLine:1,endLine:this.lines.length,sourceCode:this.content,isEntryPoint:!0,documentation:{summary:`Python module ${e}`,description:t||"Python module",persona:{}}}}}t.PythonAstParser=c},9564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e||!t)return e;for(const n of r.INHERIT_KEYS.optional)null==e[n]&&(e[n]=t[n]);for(const n of Object.keys(t))"_"===n[0]&&"__clone"!==n&&(e[n]=t[n]);for(const n of r.INHERIT_KEYS.force)e[n]=t[n];return(0,s.default)(e,t),e};var r=n(3422),s=n(8125)},9578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._call=c,t._getQueueContexts=function(){let e=this,t=this.contexts;for(;!t.length&&(e=e.parentPath,e);)t=e.contexts;return t},t._resyncKey=d,t._resyncList=f,t._resyncParent=h,t._resyncRemoved=function(){null!=this.key&&this.container&&this.container[this.key]===this.node||i._markRemoved.call(this)},t.call=o,t.isDenylisted=l,t.popContext=function(){this.contexts.pop(),this.contexts.length>0?this.setContext(this.contexts[this.contexts.length-1]):this.setContext(void 0)},t.pushContext=function(e){this.contexts.push(e),this.setContext(e)},t.requeue=function(e=this){if(e.removed)return;const t=this.contexts;for(const n of t)n.maybeQueue(e)},t.requeueComputedKeyAndDecorators=function(){const{context:e,node:t}=this;if(!a.isPrivate(t)&&t.computed&&e.maybeQueue(this.get("key")),t.decorators)for(const t of this.get("decorators"))e.maybeQueue(t)},t.resync=function(){this.removed||(h.call(this),f.call(this),d.call(this))},t.setContext=function(e){return null!=this.skipKeys&&(this.skipKeys={}),this._traverseFlags=0,e&&(this.context=e,this.state=e.state,this.opts=e.opts),u.call(this),this},t.setKey=m,t.setScope=u,t.setup=function(e,t,n,r){this.listKey=n,this.container=t,this.parentPath=e||this.parentPath,m.call(this,r)},t.skip=function(){this.shouldSkip=!0},t.skipKey=function(e){null==this.skipKeys&&(this.skipKeys={}),this.skipKeys[e]=!0},t.stop=function(){this._traverseFlags|=s.SHOULD_SKIP|s.SHOULD_STOP},t.visit=function(){var e,t;if(!this.node)return!1;if(this.isDenylisted())return!1;if(null!=(e=(t=this.opts).shouldSkip)&&e.call(t,this))return!1;const n=this.context;return this.shouldSkip||o.call(this,"enter")?(this.debug("Skip..."),this.shouldStop):(p(this,n),this.debug("Recursing into..."),this.shouldStop=(0,r.traverseNode)(this.node,this.opts,this.scope,this.state,this,this.skipKeys),p(this,n),o.call(this,"exit"),this.shouldStop)};var r=n(2264),s=n(9709),i=n(3097),a=n(2352);function o(e){const t=this.opts;return this.debug(e),!(!this.node||!c.call(this,t[e]))||!!this.node&&c.call(this,null==(n=t[this.node.type])?void 0:n[e]);var n}function c(e){if(!e)return!1;for(const t of e){if(!t)continue;const e=this.node;if(!e)return!0;const n=t.call(this.state,this,this.state);if(n&&"object"==typeof n&&"function"==typeof n.then)throw new Error("You appear to be using a plugin with an async traversal visitor, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");if(n)throw new Error(`Unexpected return value from visitor method ${t}`);if(this.node!==e)return!0;if(this._traverseFlags>0)return!0}return!1}function l(){var e;const t=null!=(e=this.opts.denylist)?e:this.opts.blacklist;return null==t?void 0:t.includes(this.node.type)}function p(e,t){e.context!==t&&(e.context=t,e.state=t.state,e.opts=t.opts)}function u(){var e,t;if(null!=(e=this.opts)&&e.noScope)return;let n,r=this.parentPath;for((("key"===this.key||"decorators"===this.listKey)&&r.isMethod()||"discriminant"===this.key&&r.isSwitchStatement())&&(r=r.parentPath);r&&!n;){var s;if(null!=(s=r.opts)&&s.noScope)return;n=r.scope,r=r.parentPath}this.scope=this.getScope(n),null==(t=this.scope)||t.init()}function h(){this.parentPath&&(this.parent=this.parentPath.node)}function d(){if(this.container&&this.node!==this.container[this.key]){if(Array.isArray(this.container)){for(let e=0;e<this.container.length;e++)if(this.container[e]===this.node)return void m.call(this,e)}else for(const e of Object.keys(this.container))if(this.container[e]===this.node)return void m.call(this,e);this.key=null}}function f(){if(!this.parent||!this.inList)return;const e=this.parent[this.listKey];this.container!==e&&(this.container=e||null)}function m(e){var t;this.key=e,this.node=this.container[this.key],this.type=null==(t=this.node)?void 0:t.type}t.isBlacklisted=l},9594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenMap=void 0;var r=n(2352);const{traverseFast:s,VISITOR_KEYS:i}=r;t.TokenMap=class{constructor(e,t,n){this._tokens=void 0,this._source=void 0,this._nodesToTokenIndexes=new Map,this._nodesOccurrencesCountCache=new Map,this._tokensCache=new Map,this._tokens=t,this._source=n,s(e,e=>{const t=this._getTokensIndexesOfNode(e);t.length>0&&this._nodesToTokenIndexes.set(e,t)}),this._tokensCache.clear()}has(e){return this._nodesToTokenIndexes.has(e)}getIndexes(e){return this._nodesToTokenIndexes.get(e)}find(e,t){const n=this._nodesToTokenIndexes.get(e);if(n)for(let e=0;e<n.length;e++){const r=n[e],s=this._tokens[r];if(t(s,r))return s}return null}findLastIndex(e,t){const n=this._nodesToTokenIndexes.get(e);if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t(this._tokens[r],r))return r}return-1}findMatching(e,t,n=0){const r=this._nodesToTokenIndexes.get(e);if(r){let s=0;const i=n;if(i>1){const r=this._nodesOccurrencesCountCache.get(e);r&&r.test===t&&r.count<i&&(s=r.i+1,n-=r.count+1)}for(;s<r.length;s++){const a=this._tokens[r[s]];if(this.matchesOriginal(a,t)){if(0===n)return i>0&&this._nodesOccurrencesCountCache.set(e,{test:t,count:i,i:s}),a;n--}}}return null}matchesOriginal(e,t){return e.end-e.start===t.length&&(null!=e.value?e.value===t:this._source.startsWith(t,e.start))}startMatches(e,t){const n=this._nodesToTokenIndexes.get(e);if(!n)return!1;const r=this._tokens[n[0]];return r.start===e.start&&this.matchesOriginal(r,t)}endMatches(e,t){const n=this._nodesToTokenIndexes.get(e);if(!n)return!1;const r=this._tokens[n[n.length-1]];return r.end===e.end&&this.matchesOriginal(r,t)}_getTokensIndexesOfNode(e){if(null==e.start||null==e.end)return[];const{first:t,last:n}=this._findTokensOfNode(e,0,this._tokens.length-1);let r=t;const s=function*(e){if("TemplateLiteral"===e.type){yield e.quasis[0];for(let t=1;t<e.quasis.length;t++)yield e.expressions[t-1],yield e.quasis[t];return}const t=i[e.type];for(const n of t){const t=e[n];t&&(Array.isArray(t)?yield*t:yield t)}}(e);"ExportNamedDeclaration"!==e.type&&"ExportDefaultDeclaration"!==e.type||!e.declaration||"ClassDeclaration"!==e.declaration.type||s.next();const a=[];for(const e of s){if(null==e)continue;if(null==e.start||null==e.end)continue;const t=this._findTokensOfNode(e,r,n),s=t.first;for(let e=r;e<s;e++)a.push(e);r=t.last+1}for(let e=r;e<=n;e++)a.push(e);return a}_findTokensOfNode(e,t,n){const r=this._tokensCache.get(e);if(r)return r;const s=this._findFirstTokenOfNode(e.start,t,n),i=this._findLastTokenOfNode(e.end,s,n);return this._tokensCache.set(e,{first:s,last:i}),{first:s,last:i}}_findFirstTokenOfNode(e,t,n){for(;t<=n;){const r=n+t>>1;if(e<this._tokens[r].start)n=r-1;else{if(!(e>this._tokens[r].start))return r;t=r+1}}return t}_findLastTokenOfNode(e,t,n){for(;t<=n;){const r=n+t>>1;if(e<this._tokens[r].end)n=r-1;else{if(!(e>this._tokens[r].end))return r;t=r+1}}return n}}},9617:function(e,t,n){"use strict";var r,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&s(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.BranchAwareGraphManager=void 0,t.getBranchManager=function(){return d||(d=new h),d};const o=a(n(1398)),c=a(n(6928)),l=a(n(9896)),p=n(5296),u=n(563);class h{workspaceRoot="";cacheDir="";branchStatesPath="";branchStates=new Map;currentBranch="";previousBranch="";currentGraph=null;hashCache;incrementalUpdater;gitExtension;gitApi;headWatcher;branchWatcher;callbacks=[];isInitialized=!1;debounceTimer;static DEBOUNCE_MS=500;static CACHE_VERSION="1.0.0";constructor(){this.hashCache=(0,p.getFileHashCache)(),this.incrementalUpdater=(0,u.getIncrementalUpdater)()}async initialize(e){this.workspaceRoot=e,this.cacheDir=c.join(e,".doc_sync","branch_cache"),this.branchStatesPath=c.join(this.cacheDir,"branch_states.json");const t=c.join(e,".git");return l.existsSync(t)?(l.existsSync(this.cacheDir)||l.mkdirSync(this.cacheDir,{recursive:!0}),await this.hashCache.initialize(e),await this.incrementalUpdater.initialize(e),await this.loadBranchStates(),this.gitExtension=o.extensions.getExtension("vscode.git"),this.gitExtension?.isActive&&(this.gitApi=this.gitExtension.exports.getAPI(1)),this.currentBranch=await this.getCurrentBranchName(),this.setupWatchers(),this.isInitialized=!0,console.log(`BranchAwareGraphManager initialized on branch: ${this.currentBranch}`),!0):(console.log("Not a git repository"),!1)}setupWatchers(){const e=c.join(this.workspaceRoot,".git"),t=new o.RelativePattern(e,"HEAD");this.headWatcher=o.workspace.createFileSystemWatcher(t),this.headWatcher.onDidChange(()=>this.handleHeadChange());const n=new o.RelativePattern(e,"refs/heads/**");this.branchWatcher=o.workspace.createFileSystemWatcher(n),this.branchWatcher.onDidChange(()=>this.handleRefChange()),this.branchWatcher.onDidCreate(()=>this.handleRefChange()),this.branchWatcher.onDidDelete(()=>this.handleRefChange())}async handleHeadChange(){const e=await this.getCurrentBranchName();if(e!==this.currentBranch)this.previousBranch=this.currentBranch,this.currentBranch=e,console.log(`Branch switch: ${this.previousBranch} -> ${this.currentBranch}`),await this.handleBranchSwitch();else{const e=await this.getCurrentCommitHash(),t=this.branchStates.get(this.currentBranch);t&&e!==t.lastCommitHash&&(console.log(`New commit on ${this.currentBranch}: ${e}`),await this.handleNewCommit(e))}}handleRefChange(){this.debouncedCheck()}debouncedCheck(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(async()=>{await this.checkForChanges()},h.DEBOUNCE_MS)}async handleBranchSwitch(){this.previousBranch&&this.currentGraph&&await this.saveBranchState(this.previousBranch);const e=this.branchStates.get(this.currentBranch);let t;e&&e.graphSnapshot?(t={type:"branch-switch",files:[],fromBranch:this.previousBranch,toBranch:this.currentBranch,timestamp:new Date,requiresFullRefresh:!1},await this.restoreBranchCache(e)):t={type:"branch-switch",files:[],fromBranch:this.previousBranch,toBranch:this.currentBranch,timestamp:new Date,requiresFullRefresh:!0},this.notifyCallbacks(t)}async handleNewCommit(e){const t={type:"commit",files:await this.getCommitChangedFiles(e),commitHash:e,timestamp:new Date,requiresFullRefresh:!1},n=this.branchStates.get(this.currentBranch);n&&(n.lastCommitHash=e,n.lastUpdateTime=(new Date).toISOString()),await this.saveBranchStates(),this.notifyCallbacks(t)}async checkForChanges(){const e=await this.hashCache.detectChanges(await this.getAllSourceFiles());if(0===e.changedCount)return null;const t=[...e.added,...e.modified,...e.deleted];return{type:e.added.length>0?"file-created":e.deleted.length>0?"file-deleted":"file-modified",files:t,timestamp:new Date,requiresFullRefresh:!1}}determineUpdateStrategy(e){switch(e.type){case"branch-switch":const t=this.branchStates.get(e.toBranch||"");return t?.graphSnapshot?"branch-cache":"full-refresh";case"merge":case"rebase":case"cherry-pick":return"full-refresh";case"commit":case"file-modified":case"file-created":case"file-deleted":return e.files.length>50?"full-refresh":"incremental";case"stash-apply":return e.files.length>20?"full-refresh":"incremental";default:return"incremental"}}async saveBranchState(e){if(!this.currentGraph)return;const t=await this.getCurrentCommitHash(),n=c.join(this.cacheDir,`graph_${this.sanitizeBranchName(e)}.json`);l.writeFileSync(n,JSON.stringify(this.currentGraph,null,2));const r=new Map,s=await this.getAllSourceFiles();for(const e of s){const t=await this.hashCache.getFileHash(e);t&&r.set(e,t)}const i={branchName:e,lastCommitHash:t,lastUpdateTime:(new Date).toISOString(),fileHashes:r,graphSnapshot:n,nodeCount:this.currentGraph.nodes.length,edgeCount:this.currentGraph.edges.length};this.branchStates.set(e,i),await this.saveBranchStates(),console.log(`Saved branch state for ${e}: ${i.nodeCount} nodes, ${i.edgeCount} edges`)}async restoreBranchCache(e){if(e.graphSnapshot&&l.existsSync(e.graphSnapshot))try{const t=l.readFileSync(e.graphSnapshot,"utf-8");this.currentGraph=JSON.parse(t);for(const[t,n]of e.fileHashes)await this.hashCache.setFileHash(t,n);console.log(`Restored cache for ${e.branchName}: ${e.nodeCount} nodes`);const n=await this.hashCache.detectChanges(await this.getAllSourceFiles());n.changedCount>0&&console.log(`${n.changedCount} files changed since cache, incremental update needed`)}catch(e){console.error(`Failed to restore branch cache: ${e}`)}else console.log(`No valid cache for branch ${e.branchName}`)}async loadBranchStates(){if(l.existsSync(this.branchStatesPath))try{const e=l.readFileSync(this.branchStatesPath,"utf-8"),t=JSON.parse(e);for(const[e,n]of Object.entries(t.states||{})){const t=n;this.branchStates.set(e,{...t,fileHashes:new Map(Object.entries(t.fileHashes||{}))})}console.log(`Loaded ${this.branchStates.size} branch states`)}catch(e){console.error("Failed to load branch states:",e)}}async saveBranchStates(){const e={};for(const[t,n]of this.branchStates)e[t]={...n,fileHashes:Object.fromEntries(n.fileHashes)};const t={version:h.CACHE_VERSION,lastUpdated:(new Date).toISOString(),states:e};l.writeFileSync(this.branchStatesPath,JSON.stringify(t,null,2))}async getCurrentBranchName(){try{if(this.gitApi?.repositories?.[0]){const e=this.gitApi.repositories[0];return e.state.HEAD?.name||"unknown"}const e=c.join(this.workspaceRoot,".git","HEAD");if(l.existsSync(e)){const t=l.readFileSync(e,"utf-8").trim(),n=t.match(/ref: refs\/heads\/(.+)/);return n?n[1]:t.substring(0,8)}}catch(e){console.error("Failed to get branch name:",e)}return"unknown"}async getCurrentCommitHash(){try{if(this.gitApi?.repositories?.[0]){const e=this.gitApi.repositories[0];return e.state.HEAD?.commit||""}const e=c.join(this.workspaceRoot,".git","HEAD");if(l.existsSync(e)){let t=l.readFileSync(e,"utf-8").trim();if(t.startsWith("ref:")){const e=c.join(this.workspaceRoot,".git",t.replace("ref: ",""));l.existsSync(e)&&(t=l.readFileSync(e,"utf-8").trim())}return t}}catch(e){console.error("Failed to get commit hash:",e)}return""}async getCommitChangedFiles(e){return[]}async getAllSourceFiles(){const e=["**/*.ts","**/*.tsx","**/*.js","**/*.jsx","**/*.java","**/*.py"],t=["**/node_modules/**","**/dist/**","**/build/**","**/.git/**","**/.doc_sync/**"],n=[];for(const r of e){const e=await o.workspace.findFiles(r,`{${t.join(",")}}`);n.push(...e.map(e=>e.fsPath))}return n}sanitizeBranchName(e){return e.replace(/[/\\:*?"<>|]/g,"_")}onChangeEvent(e){return this.callbacks.push(e),new o.Disposable(()=>{const t=this.callbacks.indexOf(e);t>=0&&this.callbacks.splice(t,1)})}notifyCallbacks(e){for(const t of this.callbacks)try{t(e)}catch(e){console.error("Callback error:",e)}}setCurrentGraph(e){this.currentGraph=e}getBranch(){return this.currentBranch}getCachedBranches(){return Array.from(this.branchStates.keys())}async clearBranchCache(e){const t=this.branchStates.get(e);t?.graphSnapshot&&l.existsSync(t.graphSnapshot)&&l.unlinkSync(t.graphSnapshot),this.branchStates.delete(e),await this.saveBranchStates()}async clearAllCaches(){for(const e of this.branchStates.values())e.graphSnapshot&&l.existsSync(e.graphSnapshot)&&l.unlinkSync(e.graphSnapshot);this.branchStates.clear(),await this.saveBranchStates()}dispose(){this.headWatcher?.dispose(),this.branchWatcher?.dispose(),this.debounceTimer&&clearTimeout(this.debounceTimer)}}t.BranchAwareGraphManager=h;let d=null},9618:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__setModuleDefault=t.__createBinding=void 0,t.__classPrivateFieldSet=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},t.__classPrivateFieldGet=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},t.__exportStar=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=s(e),a=0;a<i.length;a++)"default"!==i[a]&&n(t,e,i[a]);return r(t,e),t};var n=Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};t.__createBinding=n;var r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};t.__setModuleDefault=r;var s=function(e){return(s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)}},9637:e=>{"use strict";e.exports=require("tty")},9638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportAllDeclaration=function(e){var t,n;this.word("export"),this.space(),"type"===e.exportKind&&(this.word("type"),this.space()),this.tokenChar(42),this.space(),this.word("from"),this.space(),null!=(t=e.attributes)&&t.length||null!=(n=e.assertions)&&n.length?(this.print(e.source,!0),this.space(),this._printAttributes(e,!1)):this.print(e.source),this.semicolon()},t.ExportDefaultDeclaration=function(e){h(this,e),this.word("export"),this.noIndentInnerCommentsHere(),this.space(),this.word("default"),this.space(),this.tokenContext|=s.TokenContext.exportDefault;const t=e.declaration;this.print(t),p(t)||this.semicolon()},t.ExportDefaultSpecifier=function(e){this.print(e.exported)},t.ExportNamedDeclaration=function(e){if(h(this,e),this.word("export"),this.space(),e.declaration){const t=e.declaration;this.print(t),p(t)||this.semicolon()}else{"type"===e.exportKind&&(this.word("type"),this.space());const r=e.specifiers.slice(0);let s=!1;for(;;){const e=r[0];if(!a(e)&&!o(e))break;s=!0,this.print(r.shift()),r.length&&(this.tokenChar(44),this.space())}let i=!1;var t,n;(r.length||!r.length&&!s)&&(i=!0,this.tokenChar(123),r.length&&(this.space(),this.printList(r,this.shouldPrintTrailingComma("}")),this.space()),this.tokenChar(125)),e.source&&(this.space(),this.word("from"),this.space(),null!=(t=e.attributes)&&t.length||null!=(n=e.assertions)&&n.length?(this.print(e.source,!0),this.space(),this._printAttributes(e,i)):this.print(e.source)),this.semicolon()}},t.ExportNamespaceSpecifier=function(e){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(e.exported)},t.ExportSpecifier=function(e){"type"===e.exportKind&&(this.word("type"),this.space()),this.print(e.local),e.exported&&e.local.name!==e.exported.name&&(this.space(),this.word("as"),this.space(),this.print(e.exported))},t.ImportAttribute=function(e){this.print(e.key),this.tokenChar(58),this.space(),this.print(e.value)},t.ImportDeclaration=function(e){var t,n;this.word("import"),this.space();const r="type"===e.importKind||"typeof"===e.importKind;r?(this.noIndentInnerCommentsHere(),this.word(e.importKind),this.space()):e.module?(this.noIndentInnerCommentsHere(),this.word("module"),this.space()):e.phase&&(this.noIndentInnerCommentsHere(),this.word(e.phase),this.space());const s=e.specifiers.slice(0),i=!!s.length;for(;i;){const e=s[0];if(!c(e)&&!l(e))break;this.print(s.shift()),s.length&&(this.tokenChar(44),this.space())}let a=!1;s.length?(a=!0,this.tokenChar(123),this.space(),this.printList(s,this.shouldPrintTrailingComma("}")),this.space(),this.tokenChar(125)):r&&!i&&(a=!0,this.tokenChar(123),this.tokenChar(125)),(i||r)&&(this.space(),this.word("from"),this.space()),null!=(t=e.attributes)&&t.length||null!=(n=e.assertions)&&n.length?(this.print(e.source,!0),this.space(),this._printAttributes(e,a)):this.print(e.source),this.semicolon()},t.ImportDefaultSpecifier=function(e){this.print(e.local)},t.ImportExpression=function(e){this.word("import"),e.phase&&(this.tokenChar(46),this.word(e.phase)),this.tokenChar(40);const t=this.shouldPrintTrailingComma(")");this.print(e.source),null!=e.options&&(this.tokenChar(44),this.space(),this.print(e.options)),t&&this.tokenChar(44),this.rightParens(e)},t.ImportNamespaceSpecifier=function(e){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(e.local)},t.ImportSpecifier=function(e){"type"!==e.importKind&&"typeof"!==e.importKind||(this.word(e.importKind),this.space()),this.print(e.imported),e.local&&e.local.name!==e.imported.name&&(this.space(),this.word("as"),this.space(),this.print(e.local))},t._printAttributes=function(e,t){var n;const{importAttributesKeyword:r}=this.format,{attributes:s,assertions:i}=e;s&&!r&&e.extra&&(e.extra.deprecatedAssertSyntax||e.extra.deprecatedWithLegacySyntax)&&!u&&(u=!0,console.warn('You are using import attributes, without specifying the desired output syntax.\nPlease specify the "importAttributesKeyword" generator option, whose value can be one of:\n - "with"        : `import { a } from "b" with { type: "json" };`\n - "assert"      : `import { a } from "b" assert { type: "json" };`\n - "with-legacy" : `import { a } from "b" with type: "json";`\n'));const a="assert"===r||!r&&i;if(this.word(a?"assert":"with"),this.space(),!a&&("with-legacy"===r||!r&&null!=(n=e.extra)&&n.deprecatedWithLegacySyntax))return void this.printList(s||i);const o=t?1:0;this.token("{",void 0,o),this.space(),this.printList(s||i,this.shouldPrintTrailingComma("}")),this.space(),this.token("}",void 0,o)};var r=n(2352),s=n(1373);const{isClassDeclaration:i,isExportDefaultSpecifier:a,isExportNamespaceSpecifier:o,isImportDefaultSpecifier:c,isImportNamespaceSpecifier:l,isStatement:p}=r;let u=!1;function h(e,t){i(t.declaration)&&e._shouldPrintDecoratorsBeforeExport(t)&&e.printJoin(t.declaration.decorators)}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},9709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHOULD_STOP=t.SHOULD_SKIP=t.REMOVED=void 0;var r=n(5562),s=n(5753),i=n(5781),a=n(6814),o=n(2352),c=o,l=n(7411),p=n(8992),u=n(940),h=n(7317),d=n(2037),f=n(299),m=n(2257),y=n(854),g=n(9578),T=g,S=n(3097),b=n(8345),E=n(6109),x=n(3383),v=n(7973);const{validate:P}=o,A=s("babel"),w=(t.REMOVED=1,t.SHOULD_STOP=2,t.SHOULD_SKIP=4,t.default=class e{constructor(e,t){this.contexts=[],this.state=null,this._traverseFlags=0,this.skipKeys=null,this.parentPath=null,this.container=null,this.listKey=null,this.key=null,this.node=null,this.type=null,this._store=null,this.parent=t,this.hub=e,this.data=null,this.context=null,this.scope=null}get removed(){return(1&this._traverseFlags)>0}set removed(e){e?this._traverseFlags|=1:this._traverseFlags&=-2}get shouldStop(){return(2&this._traverseFlags)>0}set shouldStop(e){e?this._traverseFlags|=2:this._traverseFlags&=-3}get shouldSkip(){return(4&this._traverseFlags)>0}set shouldSkip(e){e?this._traverseFlags|=4:this._traverseFlags&=-5}static get({hub:t,parentPath:n,parent:r,container:s,listKey:i,key:a}){if(!t&&n&&(t=n.hub),!r)throw new Error("To get a node path the parent needs to exist");const o=s[a],c=l.getOrCreateCachedPaths(r,n);let p=c.get(o);return p||(p=new e(t,r),o&&c.set(o,p)),g.setup.call(p,n,s,i,a),p}getScope(e){return this.isScope()?new a.default(this):e}setData(e,t){return null==this.data&&(this.data=Object.create(null)),this.data[e]=t}getData(e,t){null==this.data&&(this.data=Object.create(null));let n=this.data[e];return void 0===n&&void 0!==t&&(n=this.data[e]=t),n}hasNode(){return null!=this.node}buildCodeFrameError(e,t=SyntaxError){return this.hub.buildError(this.node,e,t)}traverse(e,t){(0,i.default)(this.node,e,this.scope,t,this)}set(e,t){P(this.node,e,t),this.node[e]=t}getPathLocation(){const e=[];let t=this;do{let n=t.key;t.inList&&(n=`${t.listKey}[${n}]`),e.unshift(n)}while(t=t.parentPath);return e.join(".")}debug(e){A.enabled&&A(`${this.getPathLocation()} ${this.type}: ${e}`)}toString(){return(0,p.default)(this.node).code}get inList(){return!!this.listKey}set inList(e){e||(this.listKey=null)}get parentKey(){return this.listKey||this.key}}),C={findParent:u.findParent,find:u.find,getFunctionParent:u.getFunctionParent,getStatementParent:u.getStatementParent,getEarliestCommonAncestorFrom:u.getEarliestCommonAncestorFrom,getDeepestCommonAncestorFrom:u.getDeepestCommonAncestorFrom,getAncestry:u.getAncestry,isAncestor:u.isAncestor,isDescendant:u.isDescendant,inType:u.inType,getTypeAnnotation:h.getTypeAnnotation,isBaseType:h.isBaseType,couldBeBaseType:h.couldBeBaseType,baseTypeStrictlyMatches:h.baseTypeStrictlyMatches,isGenericType:h.isGenericType,replaceWithMultiple:d.replaceWithMultiple,replaceWithSourceString:d.replaceWithSourceString,replaceWith:d.replaceWith,replaceExpressionWithStatements:d.replaceExpressionWithStatements,replaceInline:d.replaceInline,evaluateTruthy:f.evaluateTruthy,evaluate:f.evaluate,toComputedKey:m.toComputedKey,ensureBlock:m.ensureBlock,unwrapFunctionEnvironment:m.unwrapFunctionEnvironment,arrowFunctionToExpression:m.arrowFunctionToExpression,splitExportDeclaration:m.splitExportDeclaration,ensureFunctionName:m.ensureFunctionName,matchesPattern:y.matchesPattern,isStatic:y.isStatic,isNodeType:y.isNodeType,canHaveVariableDeclarationOrExpression:y.canHaveVariableDeclarationOrExpression,canSwapBetweenExpressionAndStatement:y.canSwapBetweenExpressionAndStatement,isCompletionRecord:y.isCompletionRecord,isStatementOrBlock:y.isStatementOrBlock,referencesImport:y.referencesImport,getSource:y.getSource,willIMaybeExecuteBefore:y.willIMaybeExecuteBefore,_guessExecutionStatusRelativeTo:y._guessExecutionStatusRelativeTo,resolve:y.resolve,isConstantExpression:y.isConstantExpression,isInStrictMode:y.isInStrictMode,isDenylisted:T.isDenylisted,visit:T.visit,skip:T.skip,skipKey:T.skipKey,stop:T.stop,setContext:T.setContext,requeue:T.requeue,requeueComputedKeyAndDecorators:T.requeueComputedKeyAndDecorators,remove:S.remove,insertBefore:b.insertBefore,insertAfter:b.insertAfter,unshiftContainer:b.unshiftContainer,pushContainer:b.pushContainer,getOpposite:E.getOpposite,getCompletionRecords:E.getCompletionRecords,getSibling:E.getSibling,getPrevSibling:E.getPrevSibling,getNextSibling:E.getNextSibling,getAllNextSiblings:E.getAllNextSiblings,getAllPrevSiblings:E.getAllPrevSiblings,get:E.get,getAssignmentIdentifiers:E.getAssignmentIdentifiers,getBindingIdentifiers:E.getBindingIdentifiers,getOuterBindingIdentifiers:E.getOuterBindingIdentifiers,getBindingIdentifierPaths:E.getBindingIdentifierPaths,getOuterBindingIdentifierPaths:E.getOuterBindingIdentifierPaths,shareCommentsWithSiblings:x.shareCommentsWithSiblings,addComment:x.addComment,addComments:x.addComments};Object.assign(w.prototype,C),w.prototype.arrowFunctionToShadowed=m[String("arrowFunctionToShadowed")],Object.assign(w.prototype,{has:y[String("has")],is:y[String("is")],isnt:y[String("isnt")],equals:y[String("equals")],hoist:b[String("hoist")],updateSiblingKeys:b.updateSiblingKeys,call:T.call,isBlacklisted:T[String("isBlacklisted")],setScope:T.setScope,resync:T.resync,popContext:T.popContext,pushContext:T.pushContext,setup:T.setup,setKey:T.setKey}),w.prototype._guessExecutionStatusRelativeToDifferentFunctions=y._guessExecutionStatusRelativeTo,w.prototype._guessExecutionStatusRelativeToDifferentFunctions=y._guessExecutionStatusRelativeTo,Object.assign(w.prototype,{_getTypeAnnotation:h._getTypeAnnotation,_replaceWith:d._replaceWith,_resolve:y._resolve,_call:T._call,_resyncParent:T._resyncParent,_resyncKey:T._resyncKey,_resyncList:T._resyncList,_resyncRemoved:T._resyncRemoved,_getQueueContexts:T._getQueueContexts,_removeFromScope:S._removeFromScope,_callRemovalHooks:S._callRemovalHooks,_remove:S._remove,_markRemoved:S._markRemoved,_assertUnremoved:S._assertUnremoved,_containerInsert:b._containerInsert,_containerInsertBefore:b._containerInsertBefore,_containerInsertAfter:b._containerInsertAfter,_verifyNodeList:b._verifyNodeList,_getKey:E._getKey,_getPattern:E._getPattern});for(const e of c.TYPES){const t=`is${e}`,n=c[t];w.prototype[t]=function(e){return n(this.node,e)},w.prototype[`assert${e}`]=function(t){if(!n(this.node,t))throw new TypeError(`Expected node path of type ${e}`)}}Object.assign(w.prototype,v);for(const e of Object.keys(r))"_"!==e[0]&&(c.TYPES.includes(e)||c.TYPES.push(e))},9722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!(0,r.default)(e.type,"Immutable")||!!(0,s.isIdentifier)(e)&&"undefined"===e.name};var r=n(2079),s=n(8960)},9724:(e,t,n)=>{"use strict";var r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0,t.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1};const i=n(9632),a=n(773);class o{constructor(){r.set(this,void 0),s.set(this,void 0),i.__classPrivateFieldSet(this,r,new Uint8Array,"f"),i.__classPrivateFieldSet(this,s,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(0,a.encodeUTF8)(e):e;i.__classPrivateFieldSet(this,r,(0,a.concatBytes)([i.__classPrivateFieldGet(this,r,"f"),t]),"f");const n=[];let o;for(;null!=(o=c(i.__classPrivateFieldGet(this,r,"f"),i.__classPrivateFieldGet(this,s,"f")));){if(o.carriage&&null==i.__classPrivateFieldGet(this,s,"f")){i.__classPrivateFieldSet(this,s,o.index,"f");continue}if(null!=i.__classPrivateFieldGet(this,s,"f")&&(o.index!==i.__classPrivateFieldGet(this,s,"f")+1||o.carriage)){n.push((0,a.decodeUTF8)(i.__classPrivateFieldGet(this,r,"f").subarray(0,i.__classPrivateFieldGet(this,s,"f")-1))),i.__classPrivateFieldSet(this,r,i.__classPrivateFieldGet(this,r,"f").subarray(i.__classPrivateFieldGet(this,s,"f")),"f"),i.__classPrivateFieldSet(this,s,null,"f");continue}const e=null!==i.__classPrivateFieldGet(this,s,"f")?o.preceding-1:o.preceding,t=(0,a.decodeUTF8)(i.__classPrivateFieldGet(this,r,"f").subarray(0,e));n.push(t),i.__classPrivateFieldSet(this,r,i.__classPrivateFieldGet(this,r,"f").subarray(o.index),"f"),i.__classPrivateFieldSet(this,s,null,"f")}return n}flush(){return i.__classPrivateFieldGet(this,r,"f").length?this.decode("\n"):[]}}function c(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}t.LineDecoder=o,r=new WeakMap,s=new WeakMap,o.NEWLINE_CHARS=new Set(["\n","\r"]),o.NEWLINE_REGEXP=/\r\n|[\n\r]/g},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[s++]=a)}return i}},9777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const r=n(9632),s=n(2040),i=r.__importStar(n(5137)),a=n(5137);class o extends s.APIResource{constructor(){super(...arguments),this.graderModels=new i.GraderModels(this._client)}}t.Graders=o,o.GraderModels=a.GraderModels},9793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ALIAS_KEYS",{enumerable:!0,get:function(){return r.ALIAS_KEYS}}),Object.defineProperty(t,"BUILDER_KEYS",{enumerable:!0,get:function(){return r.BUILDER_KEYS}}),Object.defineProperty(t,"DEPRECATED_ALIASES",{enumerable:!0,get:function(){return i.DEPRECATED_ALIASES}}),Object.defineProperty(t,"DEPRECATED_KEYS",{enumerable:!0,get:function(){return r.DEPRECATED_KEYS}}),Object.defineProperty(t,"FLIPPED_ALIAS_KEYS",{enumerable:!0,get:function(){return r.FLIPPED_ALIAS_KEYS}}),Object.defineProperty(t,"NODE_FIELDS",{enumerable:!0,get:function(){return r.NODE_FIELDS}}),Object.defineProperty(t,"NODE_PARENT_VALIDATIONS",{enumerable:!0,get:function(){return r.NODE_PARENT_VALIDATIONS}}),Object.defineProperty(t,"NODE_UNION_SHAPES__PRIVATE",{enumerable:!0,get:function(){return r.NODE_UNION_SHAPES__PRIVATE}}),Object.defineProperty(t,"PLACEHOLDERS",{enumerable:!0,get:function(){return s.PLACEHOLDERS}}),Object.defineProperty(t,"PLACEHOLDERS_ALIAS",{enumerable:!0,get:function(){return s.PLACEHOLDERS_ALIAS}}),Object.defineProperty(t,"PLACEHOLDERS_FLIPPED_ALIAS",{enumerable:!0,get:function(){return s.PLACEHOLDERS_FLIPPED_ALIAS}}),t.TYPES=void 0,Object.defineProperty(t,"VISITOR_KEYS",{enumerable:!0,get:function(){return r.VISITOR_KEYS}}),n(5158),n(9897),n(6184),n(5589),n(7095),n(6106);var r=n(7596),s=n(9187),i=n(5689);Object.keys(i.DEPRECATED_ALIASES).forEach(e=>{r.FLIPPED_ALIAS_KEYS[e]=r.FLIPPED_ALIAS_KEYS[i.DEPRECATED_ALIASES[e]]});for(const{types:e,set:t}of r.allExpandedTypes)for(const n of e){const e=r.FLIPPED_ALIAS_KEYS[n];e?e.forEach(t.add,t):t.add(n)}t.TYPES=[].concat(Object.keys(r.VISITOR_KEYS),Object.keys(r.FLIPPED_ALIAS_KEYS),Object.keys(r.DEPRECATED_KEYS))},9815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function(e,t){const{placeholderWhitelist:n=e.placeholderWhitelist,placeholderPattern:r=e.placeholderPattern,preserveComments:s=e.preserveComments,syntacticPlaceholders:i=e.syntacticPlaceholders}=t;return{parser:Object.assign({},e.parser,t.parser),placeholderWhitelist:n,placeholderPattern:r,preserveComments:s,syntacticPlaceholders:i}},t.normalizeReplacements=function(e){if(Array.isArray(e))return e.reduce((e,t,n)=>(e["$"+n]=t,e),{});if("object"==typeof e||null==e)return e||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")},t.validate=function(e){if(null!=e&&"object"!=typeof e)throw new Error("Unknown template options.");const t=e||{},{placeholderWhitelist:r,placeholderPattern:s,preserveComments:i,syntacticPlaceholders:a}=t,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(t,n);if(null!=r&&!(r instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(null!=s&&!(s instanceof RegExp)&&!1!==s)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(null!=i&&"boolean"!=typeof i)throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(null!=a&&"boolean"!=typeof a)throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(!0===a&&(null!=r||null!=s))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:o,placeholderWhitelist:r||void 0,placeholderPattern:null==s?void 0:s,preserveComments:null==i?void 0:i,syntacticPlaceholders:null==a?void 0:a}};const n=["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"]},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9896:e=>{"use strict";e.exports=require("fs")},9897:(e,t,n)=>{"use strict";var r=n(5158),s=n(7596);const i=(0,s.defineAliasedType)("Flow"),a=e=>{const t="DeclareClass"===e;i(e,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends",...t?["mixins","implements"]:[],"body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({id:(0,s.validateType)("Identifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterDeclaration"),extends:(0,s.validateOptional)((0,s.arrayOfType)("InterfaceExtends"))},t?{mixins:(0,s.validateOptional)((0,s.arrayOfType)("InterfaceExtends")),implements:(0,s.validateOptional)((0,s.arrayOfType)("ClassImplements"))}:{},{body:(0,s.validateType)("ObjectTypeAnnotation")})})};i("AnyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["FlowType"],fields:{elementType:(0,s.validateType)("FlowType")}}),i("BooleanTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("NullLiteralTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("ClassImplements",{visitor:["id","typeParameters"],fields:{id:(0,s.validateType)("Identifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterInstantiation")}}),a("DeclareClass"),i("DeclareFunction",{builder:["id"],visitor:["id","predicate"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier"),predicate:(0,s.validateOptionalType)("DeclaredPredicate")}}),a("DeclareInterface"),i("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier","StringLiteral"),body:(0,s.validateType)("BlockStatement"),kind:(0,s.validateOptional)((0,s.assertOneOf)("CommonJS","ES"))}}),i("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:(0,s.validateType)("TypeAnnotation")}}),i("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterDeclaration"),right:(0,s.validateType)("FlowType")}}),i("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,s.validateOptionalType)("FlowType"),impltype:(0,s.validateOptionalType)("FlowType")}}),i("DeclareVariable",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier")}}),i("DeclareExportDeclaration",{visitor:["declaration","specifiers","source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({declaration:(0,s.validateOptionalType)("Flow"),specifiers:(0,s.validateOptional)((0,s.arrayOfType)("ExportSpecifier","ExportNamespaceSpecifier")),source:(0,s.validateOptionalType)("StringLiteral"),default:(0,s.validateOptional)((0,s.assertValueType)("boolean"))},r.importAttributes)}),i("DeclareExportAllDeclaration",{visitor:["source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({source:(0,s.validateType)("StringLiteral"),exportKind:(0,s.validateOptional)((0,s.assertOneOf)("type","value"))},r.importAttributes)}),i("DeclaredPredicate",{visitor:["value"],aliases:["FlowPredicate"],fields:{value:(0,s.validateType)("Flow")}}),i("ExistsTypeAnnotation",{aliases:["FlowType"]}),i("FunctionTypeAnnotation",{builder:["typeParameters","params","rest","returnType"],visitor:["typeParameters","this","params","rest","returnType"],aliases:["FlowType"],fields:{typeParameters:(0,s.validateOptionalType)("TypeParameterDeclaration"),params:(0,s.validateArrayOfType)("FunctionTypeParam"),rest:(0,s.validateOptionalType)("FunctionTypeParam"),this:(0,s.validateOptionalType)("FunctionTypeParam"),returnType:(0,s.validateType)("FlowType")}}),i("FunctionTypeParam",{visitor:["name","typeAnnotation"],fields:{name:(0,s.validateOptionalType)("Identifier"),typeAnnotation:(0,s.validateType)("FlowType"),optional:(0,s.validateOptional)((0,s.assertValueType)("boolean"))}}),i("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["FlowType"],fields:{id:(0,s.validateType)("Identifier","QualifiedTypeIdentifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterInstantiation")}}),i("InferredPredicate",{aliases:["FlowPredicate"]}),i("InterfaceExtends",{visitor:["id","typeParameters"],fields:{id:(0,s.validateType)("Identifier","QualifiedTypeIdentifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterInstantiation")}}),a("InterfaceDeclaration"),i("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["FlowType"],fields:{extends:(0,s.validateOptional)((0,s.arrayOfType)("InterfaceExtends")),body:(0,s.validateType)("ObjectTypeAnnotation")}}),i("IntersectionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,s.validate)((0,s.arrayOfType)("FlowType"))}}),i("MixedTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("EmptyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["FlowType"],fields:{typeAnnotation:(0,s.validateType)("FlowType")}}),i("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,s.validate)((0,s.assertValueType)("number"))}}),i("NumberTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:(0,s.validate)((0,s.arrayOfType)("ObjectTypeProperty","ObjectTypeSpreadProperty")),indexers:{validate:(0,s.arrayOfType)("ObjectTypeIndexer"),optional:!0,default:[]},callProperties:{validate:(0,s.arrayOfType)("ObjectTypeCallProperty"),optional:!0,default:[]},internalSlots:{validate:(0,s.arrayOfType)("ObjectTypeInternalSlot"),optional:!0,default:[]},exact:{validate:(0,s.assertValueType)("boolean"),default:!1},inexact:(0,s.validateOptional)((0,s.assertValueType)("boolean"))}}),i("ObjectTypeInternalSlot",{visitor:["id","value"],builder:["id","value","optional","static","method"],aliases:["UserWhitespacable"],fields:{id:(0,s.validateType)("Identifier"),value:(0,s.validateType)("FlowType"),optional:(0,s.validate)((0,s.assertValueType)("boolean")),static:(0,s.validate)((0,s.assertValueType)("boolean")),method:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("ObjectTypeCallProperty",{visitor:["value"],aliases:["UserWhitespacable"],fields:{value:(0,s.validateType)("FlowType"),static:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("ObjectTypeIndexer",{visitor:["variance","id","key","value"],builder:["id","key","value","variance"],aliases:["UserWhitespacable"],fields:{id:(0,s.validateOptionalType)("Identifier"),key:(0,s.validateType)("FlowType"),value:(0,s.validateType)("FlowType"),static:(0,s.validate)((0,s.assertValueType)("boolean")),variance:(0,s.validateOptionalType)("Variance")}}),i("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["UserWhitespacable"],fields:{key:(0,s.validateType)("Identifier","StringLiteral"),value:(0,s.validateType)("FlowType"),kind:(0,s.validate)((0,s.assertOneOf)("init","get","set")),static:(0,s.validate)((0,s.assertValueType)("boolean")),proto:(0,s.validate)((0,s.assertValueType)("boolean")),optional:(0,s.validate)((0,s.assertValueType)("boolean")),variance:(0,s.validateOptionalType)("Variance"),method:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["UserWhitespacable"],fields:{argument:(0,s.validateType)("FlowType")}}),i("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,s.validateOptionalType)("FlowType"),impltype:(0,s.validateType)("FlowType")}}),i("QualifiedTypeIdentifier",{visitor:["qualification","id"],builder:["id","qualification"],fields:{id:(0,s.validateType)("Identifier"),qualification:(0,s.validateType)("Identifier","QualifiedTypeIdentifier")}}),i("StringLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,s.validate)((0,s.assertValueType)("string"))}}),i("StringTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("SymbolTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("ThisTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("TupleTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,s.validate)((0,s.arrayOfType)("FlowType"))}}),i("TypeofTypeAnnotation",{visitor:["argument"],aliases:["FlowType"],fields:{argument:(0,s.validateType)("FlowType")}}),i("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,s.validateType)("Identifier"),typeParameters:(0,s.validateOptionalType)("TypeParameterDeclaration"),right:(0,s.validateType)("FlowType")}}),i("TypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:(0,s.validateType)("FlowType")}}),i("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["ExpressionWrapper","Expression"],fields:{expression:(0,s.validateType)("Expression"),typeAnnotation:(0,s.validateType)("TypeAnnotation")}}),i("TypeParameter",{visitor:["bound","default","variance"],fields:{name:(0,s.validate)((0,s.assertValueType)("string")),bound:(0,s.validateOptionalType)("TypeAnnotation"),default:(0,s.validateOptionalType)("FlowType"),variance:(0,s.validateOptionalType)("Variance")}}),i("TypeParameterDeclaration",{visitor:["params"],fields:{params:(0,s.validate)((0,s.arrayOfType)("TypeParameter"))}}),i("TypeParameterInstantiation",{visitor:["params"],fields:{params:(0,s.validate)((0,s.arrayOfType)("FlowType"))}}),i("UnionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,s.validate)((0,s.arrayOfType)("FlowType"))}}),i("Variance",{builder:["kind"],fields:{kind:(0,s.validate)((0,s.assertOneOf)("minus","plus"))}}),i("VoidTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),i("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:(0,s.validateType)("Identifier"),body:(0,s.validateType)("EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody")}}),i("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,s.validate)((0,s.assertValueType)("boolean")),members:(0,s.validateArrayOfType)("EnumBooleanMember"),hasUnknownMembers:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,s.validate)((0,s.assertValueType)("boolean")),members:(0,s.validateArrayOfType)("EnumNumberMember"),hasUnknownMembers:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,s.validate)((0,s.assertValueType)("boolean")),members:(0,s.validateArrayOfType)("EnumStringMember","EnumDefaultedMember"),hasUnknownMembers:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:(0,s.validateArrayOfType)("EnumDefaultedMember"),hasUnknownMembers:(0,s.validate)((0,s.assertValueType)("boolean"))}}),i("EnumBooleanMember",{aliases:["EnumMember"],builder:["id"],visitor:["id","init"],fields:{id:(0,s.validateType)("Identifier"),init:(0,s.validateType)("BooleanLiteral")}}),i("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,s.validateType)("Identifier"),init:(0,s.validateType)("NumericLiteral")}}),i("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,s.validateType)("Identifier"),init:(0,s.validateType)("StringLiteral")}}),i("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,s.validateType)("Identifier")}}),i("IndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,s.validateType)("FlowType"),indexType:(0,s.validateType)("FlowType")}}),i("OptionalIndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,s.validateType)("FlowType"),indexType:(0,s.validateType)("FlowType"),optional:(0,s.validate)((0,s.assertValueType)("boolean"))}})},9935:e=>{e.exports=function(){return!1}},9937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayExpression=w,t.AssignmentExpression=function(){return this.get("right").getTypeAnnotation()},t.BinaryExpression=function(e){const t=e.operator;if(c.includes(t))return T();if(a.includes(t))return d();if("+"===t){const e=this.get("right"),t=this.get("left");return t.isBaseType("number")&&e.isBaseType("number")?T():t.isBaseType("string")||e.isBaseType("string")?S():E([S(),T()])}},t.BooleanLiteral=function(){return d()},t.CallExpression=function(){const{callee:e}=this.node;return O(e)?h(S()):I(e)||_(e)||v(e,{name:"Array"})?h(u()):L(e)?h(b([S(),u()])):N(this.get("callee"))},t.ConditionalExpression=function(){const e=[this.get("consequent").getTypeAnnotation(),this.get("alternate").getTypeAnnotation()];return(0,i.createUnionType)(e)},t.ClassDeclaration=t.ClassExpression=t.FunctionDeclaration=t.ArrowFunctionExpression=t.FunctionExpression=function(){return m(y("Function"))},Object.defineProperty(t,"Identifier",{enumerable:!0,get:function(){return s.default}}),t.LogicalExpression=function(){const e=[this.get("left").getTypeAnnotation(),this.get("right").getTypeAnnotation()];return(0,i.createUnionType)(e)},t.NewExpression=function(e){if("Identifier"===e.callee.type)return m(e.callee)},t.NullLiteral=function(){return g()},t.NumericLiteral=function(){return T()},t.ObjectExpression=function(){return m(y("Object"))},t.ParenthesizedExpression=function(){return this.get("expression").getTypeAnnotation()},t.RegExpLiteral=function(){return m(y("RegExp"))},t.RestElement=C,t.SequenceExpression=function(){return this.get("expressions").pop().getTypeAnnotation()},t.StringLiteral=function(){return S()},t.TSAsExpression=A,t.TSNonNullExpression=function(){return this.get("expression").getTypeAnnotation()},t.TaggedTemplateExpression=function(){return N(this.get("tag"))},t.TemplateLiteral=function(){return S()},t.TypeCastExpression=P,t.UnaryExpression=function(e){const t=e.operator;return"void"===t?x():l.includes(t)?T():p.includes(t)?S():o.includes(t)?d():void 0},t.UpdateExpression=function(e){const t=e.operator;if("++"===t||"--"===t)return T()},t.VariableDeclarator=function(){if(this.get("id").isIdentifier())return this.get("init").getTypeAnnotation()};var r=n(2352),s=n(354),i=n(3141);const{BOOLEAN_BINARY_OPERATORS:a,BOOLEAN_UNARY_OPERATORS:o,NUMBER_BINARY_OPERATORS:c,NUMBER_UNARY_OPERATORS:l,STRING_UNARY_OPERATORS:p,anyTypeAnnotation:u,arrayTypeAnnotation:h,booleanTypeAnnotation:d,buildMatchMemberExpression:f,genericTypeAnnotation:m,identifier:y,nullLiteralTypeAnnotation:g,numberTypeAnnotation:T,stringTypeAnnotation:S,tupleTypeAnnotation:b,unionTypeAnnotation:E,voidTypeAnnotation:x,isIdentifier:v}=r;function P(e){return e.typeAnnotation}function A(e){return e.typeAnnotation}function w(){return m(y("Array"))}function C(){return w()}P.validParent=!0,A.validParent=!0,C.validParent=!0;const I=f("Array.from"),O=f("Object.keys"),_=f("Object.values"),L=f("Object.entries");function N(e){if((e=e.resolve()).isFunction()){const{node:t}=e;if(t.async)return t.generator?m(y("AsyncIterator")):m(y("Promise"));if(t.generator)return m(y("Iterator"));if(e.node.returnType)return e.node.returnType}}},9961:e=>{"use strict";e.exports=JSON.parse('["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float16Array","Float32Array","Float64Array","Function","Infinity","Int16Array","Int32Array","Int8Array","Intl","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakRef","WeakSet"]')}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r=n(2144);module.exports=r})();